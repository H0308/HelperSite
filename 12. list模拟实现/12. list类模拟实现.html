
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../index.html">
      
      
        <link rel="next" href="../1.%20%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%92%8C%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/1.%20%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E4%B8%8E%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6.html">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.31">
    
    
      
        <title>list类模拟实现 - 日常学习帮助网站</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.3cba04c6.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#12-list" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../index.html" title="日常学习帮助网站" class="md-header__button md-logo" aria-label="日常学习帮助网站" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            日常学习帮助网站
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              list类模拟实现
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../index.html" title="日常学习帮助网站" class="md-nav__button md-logo" aria-label="日常学习帮助网站" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    日常学习帮助网站
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    主页
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    C++教程
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            C++教程
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
      <a href="12.%20list%E7%B1%BB%E6%A8%A1%E6%8B%9F%E5%AE%9E%E7%8E%B0.html" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    list类模拟实现
  </span>
  

      </a>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../1.%20%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%92%8C%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/1.%20%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E4%B8%8E%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    数据结构
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="12-list">12. list类模拟实现<a class="headerlink" href="#12-list" title="Permanent link">&para;</a></h1>
<h1 id="list">list类模拟实现<a class="headerlink" href="#list" title="Permanent link">&para;</a></h1>
<h2 id="list_1">list类节点结构设计<a class="headerlink" href="#list_1" title="Permanent link">&para;</a></h2>
<p>因为list类为本质是带头双向循环链表，所以在设计list类时，需要先设计节点的结构，并且因为每一个节点是一个整体，所以可以考虑将每一个节点的初始化构造放在结构体中，如下代码所示：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="c1">//节点结构</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="k">template</span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">T</span><span class="o">&gt;</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="k">struct</span><span class="w"> </span><span class="nc">_list_node</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="p">{</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="w">    </span><span class="n">T</span><span class="w"> </span><span class="n">data</span><span class="p">;</span><span class="c1">// 数据类型</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="w">    </span><span class="n">_list_node</span><span class="o">*</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span><span class="c1">// 前驱指针</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="w">    </span><span class="n">_list_node</span><span class="o">*</span><span class="w"> </span><span class="n">next</span><span class="p">;</span><span class="c1">// 后继指针</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="w">    </span><span class="c1">//节点构造函数</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="w">    </span><span class="n">_list_node</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">T</span><span class="o">&amp;</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">T</span><span class="p">())</span>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a><span class="w">        </span><span class="o">:</span><span class="n">data</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a><span class="w">        </span><span class="p">,</span><span class="n">prev</span><span class="p">(</span><span class="k">nullptr</span><span class="p">)</span>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a><span class="w">        </span><span class="p">,</span><span class="n">next</span><span class="p">(</span><span class="k">nullptr</span><span class="p">)</span>
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a><span class="w">    </span><span class="p">{}</span>
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a><span class="p">};</span>
</code></pre></div>
<h2 id="listconst">list类非<code>const</code>迭代器结构设计<a class="headerlink" href="#listconst" title="Permanent link">&para;</a></h2>
<p>因为list类是带头双向循环链表，所以迭代器不能单单使用普通指针来代替，因为普通指针可以指针的<code>++</code>/<code>--</code>等操作可以作用到连续空间，链表两个节点空间不一定连续，所以额外重载<code>++</code>/<code>--</code>等运算符</p>
<h3 id="_1">迭代器基本结构设计<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="c1">//迭代器结构</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="k">template</span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">T</span><span class="o">&gt;</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="k">struct</span><span class="w"> </span><span class="nc">_list_iterator</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="p">{</span>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="w">    </span><span class="k">typedef</span><span class="w"> </span><span class="n">_list_node</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">Node</span><span class="p">;</span>
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="w">    </span><span class="k">typedef</span><span class="w"> </span><span class="n">_list_iterator</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">self</span><span class="p">;</span>
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a><span class="w">    </span><span class="n">Node</span><span class="o">*</span><span class="w"> </span><span class="n">_node</span><span class="p">;</span><span class="c1">//迭代器节点</span>
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a><span class="p">};</span>
</code></pre></div>
<h3 id="_2">迭代器构造函数<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h3>
<p>为了可以将普通指针看作迭代器，需要构造函数使用普通指针进行构造</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="c1">//迭代器构造函数</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="n">_list_iterator</span><span class="p">(</span><span class="n">Node</span><span class="o">*</span><span class="w"> </span><span class="n">node</span><span class="p">)</span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="w">    </span><span class="o">:</span><span class="n">_node</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="p">{}</span>
</code></pre></div>
<p>考虑下面的代码</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="kt">void</span><span class="w"> </span><span class="nf">test</span><span class="p">()</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="p">{</span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="w">    </span><span class="n">sim_list</span><span class="o">::</span><span class="n">list</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;::</span><span class="n">iterator</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ls</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">it</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">ls</span><span class="p">.</span><span class="n">end</span><span class="p">())</span>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="w">        </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="o">*</span><span class="n">it</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="p">;</span>
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="w">        </span><span class="o">++</span><span class="n">it</span><span class="p">;</span>
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a><span class="p">}</span>
</code></pre></div>
<p>在上面的测试代码中，当使用迭代器遍历时，需要使用到3个运算符</p>
<ol>
<li><code>!=</code>：不等于运算符</li>
<li><code>*</code>：解引用运算符</li>
<li><code>++</code>：前置自增运算符</li>
</ol>
<p>但是由于<code>it</code>不是原生指针（内置类型的指针），所以需要额外重载这三个运算符</p>
<h3 id="operator"><code>operator++()</code>函数<a class="headerlink" href="#operator" title="Permanent link">&para;</a></h3>
<p>重载前置<code>++</code>运算符的本意是让迭代器可以从当前节点移动到下一个节点，所以只需要移动节点类型的指针指向下一个节点即可</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="c1">//迭代器前置++运算符重载</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="n">self</span><span class="o">&amp;</span><span class="w"> </span><span class="k">operator</span><span class="o">++</span><span class="p">()</span>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="p">{</span>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="w">    </span><span class="n">_node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_node</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="o">*</span><span class="k">this</span><span class="p">;</span>
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="p">}</span>
</code></pre></div>
<h3 id="operator_1"><code>operator*()</code>函数<a class="headerlink" href="#operator_1" title="Permanent link">&para;</a></h3>
<p>重载<code>*</code>运算符本意是为了获取当前有效数据节点数据域中的值，所以返回当前节点数据域的值即可</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="c1">//迭代器*运算符重载</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="n">T</span><span class="o">&amp;</span><span class="w"> </span><span class="k">operator</span><span class="o">*</span><span class="p">()</span>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="p">{</span>
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">_node</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">;</span>
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="p">}</span>
</code></pre></div>
<h3 id="operator_2"><code>operator!=()</code>函数<a class="headerlink" href="#operator_2" title="Permanent link">&para;</a></h3>
<p>重载!=运算符本意是为了判断迭代器指向的当前节点是end()迭代器的位置（即是否已经遍历完链表）</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="c1">//迭代器!=运算符重载</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="c1">//注意end()返回值是个临时对象，具有常性，不能忘记const</span>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="kt">bool</span><span class="w"> </span><span class="k">operator</span><span class="o">!=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">self</span><span class="o">&amp;</span><span class="w"> </span><span class="n">cur</span><span class="p">)</span>
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="p">{</span>
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">_node</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">cur</span><span class="p">.</span><span class="n">_node</span><span class="p">;</span>
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a><span class="p">}</span>
</code></pre></div>
<h3 id="operatorint"><code>operator++(int)</code>函数<a class="headerlink" href="#operatorint" title="Permanent link">&para;</a></h3>
<p>后置<code>++</code>运算符重载需要满足先使用再自增，所以需要提前记录当前节点再改变当前节点指向为下一个节点</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="c1">//迭代器后置++运算符重载</span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="n">self</span><span class="w"> </span><span class="k">operator</span><span class="o">++</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span>
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="p">{</span>
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="w">    </span><span class="n">Node</span><span class="o">*</span><span class="w"> </span><span class="n">cur</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_node</span><span class="p">;</span>
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="w">    </span><span class="n">_node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_node</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>
<a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">cur</span><span class="p">;</span>
<a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a><span class="p">}</span>
</code></pre></div>
<h3 id="operator-"><code>operator--()</code>函数<a class="headerlink" href="#operator-" title="Permanent link">&para;</a></h3>
<p>前置<code>--</code>运算符重载直接返回上一个节点的位置即可</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="c1">//迭代器前置--运算符重载</span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="n">self</span><span class="o">&amp;</span><span class="w"> </span><span class="k">operator</span><span class="o">--</span><span class="p">()</span>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="p">{</span>
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="w">    </span><span class="n">node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">node</span><span class="o">-&gt;</span><span class="n">prev</span><span class="p">;</span>
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="o">*</span><span class="k">this</span><span class="p">;</span>
<a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a><span class="p">}</span>
</code></pre></div>
<h3 id="operator-int"><code>operator--(int)</code>函数<a class="headerlink" href="#operator-int" title="Permanent link">&para;</a></h3>
<p>后置<code>--</code>运算符重载需要满足先使用再自增，所以需要提前记录当前节点再改变当前节点指向为下一个节点</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="c1">//迭代器后置--运算符重载</span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="n">self</span><span class="w"> </span><span class="k">operator</span><span class="o">--</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span>
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="p">{</span>
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="w">    </span><span class="n">Node</span><span class="o">*</span><span class="w"> </span><span class="n">cur</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">node</span><span class="p">;</span>
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="w">    </span><span class="n">node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">node</span><span class="o">-&gt;</span><span class="n">prev</span><span class="p">;</span>
<a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">cur</span><span class="p">;</span>
<a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a><span class="p">}</span>
</code></pre></div>
<h3 id="operator_3"><code>operator==()</code>函数<a class="headerlink" href="#operator_3" title="Permanent link">&para;</a></h3>
<p>重载<code>==</code>运算符为了判断当前节点是否等于指定节点</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="c1">//迭代器==运算符重载</span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="kt">bool</span><span class="w"> </span><span class="k">operator</span><span class="o">==</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">self</span><span class="o">&amp;</span><span class="w"> </span><span class="n">cur</span><span class="p">)</span>
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="p">{</span>
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">node</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">cur</span><span class="p">.</span><span class="n">node</span><span class="p">;</span>
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a><span class="p">}</span>
</code></pre></div>
<h3 id="operator-_1"><code>operator-&gt;()</code>函数<a class="headerlink" href="#operator-_1" title="Permanent link">&para;</a></h3>
<p>如果模板参数为自定义类型时，访问自定义类型的成员变量时除了可以解引用之后通过<code>.成员变量</code>的方式以外，还有<code>-&gt;成员变量</code>的方式，但是对于list类来说不存在原生指针，只有迭代器，所以迭代器需要重载<code>-&gt;</code>运算符，考虑下面的代码</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="k">struct</span><span class="w"> </span><span class="nc">test</span>
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="p">{</span>
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">num1</span><span class="p">;</span>
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">num2</span><span class="p">;</span>
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a><span class="p">};</span>
<a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a>
<a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a><span class="kt">void</span><span class="w"> </span><span class="nf">test_operatorTo</span><span class="p">()</span>
<a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a><span class="p">{</span>
<a id="__codelineno-11-9" name="__codelineno-11-9" href="#__codelineno-11-9"></a><span class="w">    </span><span class="n">sim_list</span><span class="o">::</span><span class="n">list</span><span class="o">&lt;</span><span class="k">struct</span><span class="w"> </span><span class="nc">test</span><span class="o">&gt;</span><span class="w"> </span><span class="n">ls</span><span class="p">;</span>
<a id="__codelineno-11-10" name="__codelineno-11-10" href="#__codelineno-11-10"></a><span class="w">    </span><span class="n">sim_list</span><span class="o">::</span><span class="n">list</span><span class="o">&lt;</span><span class="k">struct</span><span class="w"> </span><span class="nc">test</span><span class="o">&gt;::</span><span class="n">iterator</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ls</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span>
<a id="__codelineno-11-11" name="__codelineno-11-11" href="#__codelineno-11-11"></a><span class="w">    </span><span class="c1">//使用直接访问</span>
<a id="__codelineno-11-12" name="__codelineno-11-12" href="#__codelineno-11-12"></a><span class="w">    </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">it</span><span class="p">).</span><span class="n">num1</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">it</span><span class="p">).</span><span class="n">num2</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>
<a id="__codelineno-11-13" name="__codelineno-11-13" href="#__codelineno-11-13"></a>
<a id="__codelineno-11-14" name="__codelineno-11-14" href="#__codelineno-11-14"></a><span class="w">    </span><span class="c1">//使用间接访问</span>
<a id="__codelineno-11-15" name="__codelineno-11-15" href="#__codelineno-11-15"></a><span class="w">    </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">it</span><span class="o">-&gt;</span><span class="n">num1</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">it</span><span class="o">-&gt;</span><span class="n">num2</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>
<a id="__codelineno-11-16" name="__codelineno-11-16" href="#__codelineno-11-16"></a><span class="p">}</span>
</code></pre></div>
<p>为了可以使用<code>-&gt;</code>运算符，需要重载<code>-&gt;</code>运算符</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="c1">//迭代器-&gt;运算符重载</span>
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="n">T</span><span class="o">*</span><span class="w"> </span><span class="k">operator</span><span class="o">-&gt;</span><span class="p">()</span><span class="c1">//返回对应类型的指针</span>
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="p">{</span>
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="o">&amp;</span><span class="p">(</span><span class="n">node</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">);</span><span class="c1">//获取当前数据域的地址</span>
<a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a><span class="p">}</span>
</code></pre></div>
<p><img src="image\image.png"></p>
<p>所以上面的代码可以转化为</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">it</span><span class="p">.</span><span class="k">operator</span><span class="o">-&gt;</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">num1</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">it</span><span class="p">.</span><span class="k">operator</span><span class="o">-&gt;</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">num2</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="c1">//其中it.operator-&gt;()返回自定义类型变量的地址</span>
</code></pre></div>
<h2 id="listconst_1">list类<code>const</code>迭代器结构设计<a class="headerlink" href="#listconst_1" title="Permanent link">&para;</a></h2>
<p>设计<code>const</code>迭代器的思路和非<code>const</code>迭代器思路基本一致，但是设计<code>const</code>迭代器不可以单单是在已有的<code>iterator</code>前面加上<code>const</code>改为<code>const iterator</code>，这种写法会使编译器认为是<code>T* const</code>，此时实现的效果是，迭代器指向的内容可以修改，但是指向不可以修改，而需要的<code>const</code>迭代器实现的效果是迭代器指向的内容不可以修改，但是指向可以修改，即<code>const T*</code>，所以需要单独设计一个<code>const_iterator</code>类来解决这个问题</p>
<h3 id="_3">迭代器基本结构设计<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="k">template</span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">T</span><span class="o">&gt;</span>
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a><span class="k">struct</span><span class="w"> </span><span class="nc">_list_iterator_const</span><span class="w"> </span>
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a><span class="p">{</span>
<a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a><span class="w">    </span><span class="k">typedef</span><span class="w"> </span><span class="n">_list_node</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">Node</span><span class="p">;</span>
<a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a><span class="w">    </span><span class="k">typedef</span><span class="w"> </span><span class="n">_list_iterator_const</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">self</span><span class="p">;</span>
<a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a>
<a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a><span class="w">    </span><span class="n">Node</span><span class="o">*</span><span class="w"> </span><span class="n">node</span><span class="p">;</span>
<a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a><span class="p">};</span>
</code></pre></div>
<h3 id="_4">迭代器构造函数<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="c1">//构造函数</span>
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span class="c1">//同非const版本一样，使用指针构造迭代器</span>
<a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a><span class="n">_list_iterator_const</span><span class="p">(</span><span class="n">Node</span><span class="o">*</span><span class="w"> </span><span class="n">node</span><span class="p">)</span>
<a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a><span class="w">    </span><span class="o">:</span><span class="n">_node</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
<a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a><span class="p">{}</span>
</code></pre></div>
<h3 id="operator_4"><code>operator++()</code>函数<a class="headerlink" href="#operator_4" title="Permanent link">&para;</a></h3>
<p>因为是改变迭代器指针的指向，所以设计<code>operator++()</code>函数和非<code>const</code>版本的方式相同</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="c1">//operator++()函数</span>
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a><span class="n">self</span><span class="o">&amp;</span><span class="w"> </span><span class="k">operator</span><span class="o">++</span><span class="p">()</span>
<a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a><span class="p">{</span>
<a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a><span class="w">    </span><span class="n">_node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_node</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>
<a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="o">*</span><span class="k">this</span><span class="p">;</span>
<a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a><span class="p">}</span>
</code></pre></div>
<h3 id="operator_5"><code>operator*()</code>函数<a class="headerlink" href="#operator_5" title="Permanent link">&para;</a></h3>
<p>因为<code>const</code>版本迭代器不可以通过解引用修改指针指向的内容，所以需要使用<code>const</code>修饰返回值</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="c1">//operator*()函数</span>
<a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a><span class="k">const</span><span class="w"> </span><span class="n">T</span><span class="o">&amp;</span><span class="w"> </span><span class="k">operator</span><span class="o">*</span><span class="p">()</span><span class="w"> </span><span class="k">const</span>
<a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a><span class="p">{</span>
<a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">_node</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">;</span>
<a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a><span class="p">}</span>
</code></pre></div>
<h3 id="operator_6"><code>operator!=()</code>函数<a class="headerlink" href="#operator_6" title="Permanent link">&para;</a></h3>
<p>对于<code>!=</code>运算符来说，和非<code>const</code>版本思路相同</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="c1">//operator!=()函数</span>
<a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a><span class="kt">bool</span><span class="w"> </span><span class="k">operator</span><span class="o">!=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">self</span><span class="o">&amp;</span><span class="w"> </span><span class="n">cur</span><span class="p">)</span>
<a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a><span class="p">{</span>
<a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">_node</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">cur</span><span class="p">.</span><span class="n">_node</span><span class="p">;</span>
<a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a><span class="p">}</span>
</code></pre></div>
<h3 id="operatorint_1"><code>operator++(int)</code>函数<a class="headerlink" href="#operatorint_1" title="Permanent link">&para;</a></h3>
<p>对于后置<code>++</code>来说与<code>const</code>版本同理</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="c1">//operator++(int)函数</span>
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a><span class="n">self</span><span class="o">&amp;</span><span class="w"> </span><span class="k">operator</span><span class="o">++</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span>
<a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a><span class="p">{</span>
<a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a><span class="w">    </span><span class="n">Node</span><span class="o">*</span><span class="w"> </span><span class="n">cur</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_node</span><span class="p">;</span>
<a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a><span class="w">    </span><span class="n">_node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_node</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>
<a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">cur</span><span class="p">;</span>
<a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a><span class="p">}</span>
</code></pre></div>
<h3 id="operator-_2"><code>operator--()</code>函数<a class="headerlink" href="#operator-_2" title="Permanent link">&para;</a></h3>
<p>因为<code>--</code>改变的是迭代器指向的内容，所以与非<code>const</code>版本迭代器思路相同</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="n">self</span><span class="o">&amp;</span><span class="w"> </span><span class="k">operator</span><span class="o">--</span><span class="p">()</span>
<a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a><span class="p">{</span>
<a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a><span class="w">    </span><span class="n">_node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_node</span><span class="o">-&gt;</span><span class="n">prev</span><span class="p">;</span>
<a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="o">*</span><span class="k">this</span><span class="p">;</span>
<a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a><span class="p">}</span>
</code></pre></div>
<h3 id="operator-int_1"><code>operator--(int)</code>函数<a class="headerlink" href="#operator-int_1" title="Permanent link">&para;</a></h3>
<p>设计后置<code>--</code>的思路与非<code>const</code>版本相同</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="c1">//operator--(int)函数</span>
<a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a><span class="n">self</span><span class="o">&amp;</span><span class="w"> </span><span class="k">operator</span><span class="o">--</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span>
<a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a><span class="p">{</span>
<a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a><span class="w">    </span><span class="n">Node</span><span class="o">*</span><span class="w"> </span><span class="n">cur</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_node</span><span class="p">;</span>
<a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a><span class="w">    </span><span class="n">_node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_node</span><span class="o">-&gt;</span><span class="n">prev</span><span class="p">;</span>
<a id="__codelineno-21-6" name="__codelineno-21-6" href="#__codelineno-21-6"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">cur</span><span class="p">;</span>
<a id="__codelineno-21-7" name="__codelineno-21-7" href="#__codelineno-21-7"></a><span class="p">}</span>
</code></pre></div>
<h3 id="operator_7"><code>operator==()</code>函数<a class="headerlink" href="#operator_7" title="Permanent link">&para;</a></h3>
<p>设计<code>==</code>运算符重载函数思路和非<code>const</code>版本相同</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="c1">//operator==()函数</span>
<a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a><span class="kt">bool</span><span class="w"> </span><span class="k">operator</span><span class="o">==</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">self</span><span class="o">&amp;</span><span class="w"> </span><span class="n">cur</span><span class="p">)</span>
<a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a><span class="p">{</span>
<a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">_node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cur</span><span class="p">.</span><span class="n">_node</span><span class="p">;</span>
<a id="__codelineno-22-5" name="__codelineno-22-5" href="#__codelineno-22-5"></a><span class="p">}</span>
</code></pre></div>
<h3 id="operator-_3"><code>operator-&gt;()</code>函数<a class="headerlink" href="#operator-_3" title="Permanent link">&para;</a></h3>
<p>需要满足返回值为<code>const</code>类型即可</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="k">const</span><span class="w"> </span><span class="n">T</span><span class="o">*</span><span class="w"> </span><span class="k">operator</span><span class="o">-&gt;</span><span class="p">()</span>
<a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a><span class="p">{</span>
<a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="o">&amp;</span><span class="n">_node</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">;</span>
<a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a><span class="p">}</span>
</code></pre></div>
<h2 id="const"><code>const</code>版本的迭代器使用问题<a class="headerlink" href="#const" title="Permanent link">&para;</a></h2>
<p>上面的<code>const</code>版本迭代器实现方式可以应用于对象为<code>const</code>类型时，例如下面的测试代码</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="kt">void</span><span class="w"> </span><span class="nf">test_const_iterator</span><span class="p">()</span>
<a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a><span class="p">{</span>
<a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a><span class="w">    </span><span class="n">sim_list</span><span class="o">::</span><span class="n">list</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="w"> </span><span class="n">ls</span><span class="p">;</span>
<a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a><span class="w">    </span><span class="n">ls</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<a id="__codelineno-24-5" name="__codelineno-24-5" href="#__codelineno-24-5"></a><span class="w">    </span><span class="n">ls</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
<a id="__codelineno-24-6" name="__codelineno-24-6" href="#__codelineno-24-6"></a><span class="w">    </span><span class="n">ls</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
<a id="__codelineno-24-7" name="__codelineno-24-7" href="#__codelineno-24-7"></a><span class="w">    </span><span class="n">ls</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span>
<a id="__codelineno-24-8" name="__codelineno-24-8" href="#__codelineno-24-8"></a><span class="w">    </span><span class="n">ls</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>
<a id="__codelineno-24-9" name="__codelineno-24-9" href="#__codelineno-24-9"></a><span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">sim_list</span><span class="o">::</span><span class="n">list</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="w"> </span><span class="n">ls1</span><span class="p">(</span><span class="n">ls</span><span class="p">);</span><span class="c1">// const对象</span>
<a id="__codelineno-24-10" name="__codelineno-24-10" href="#__codelineno-24-10"></a>
<a id="__codelineno-24-11" name="__codelineno-24-11" href="#__codelineno-24-11"></a><span class="w">    </span><span class="n">sim_list</span><span class="o">::</span><span class="n">list</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;::</span><span class="n">const_iterator</span><span class="w"> </span><span class="n">cit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ls1</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span><span class="c1">// 编译器自动识别const类型的迭代器</span>
<a id="__codelineno-24-12" name="__codelineno-24-12" href="#__codelineno-24-12"></a>
<a id="__codelineno-24-13" name="__codelineno-24-13" href="#__codelineno-24-13"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">cit</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">ls1</span><span class="p">.</span><span class="n">end</span><span class="p">())</span>
<a id="__codelineno-24-14" name="__codelineno-24-14" href="#__codelineno-24-14"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-24-15" name="__codelineno-24-15" href="#__codelineno-24-15"></a><span class="w">        </span><span class="c1">//*cit = 2;</span>
<a id="__codelineno-24-16" name="__codelineno-24-16" href="#__codelineno-24-16"></a><span class="w">        </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="o">*</span><span class="n">cit</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="p">;</span>
<a id="__codelineno-24-17" name="__codelineno-24-17" href="#__codelineno-24-17"></a><span class="w">        </span><span class="n">cit</span><span class="o">++</span><span class="p">;</span>
<a id="__codelineno-24-18" name="__codelineno-24-18" href="#__codelineno-24-18"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-24-19" name="__codelineno-24-19" href="#__codelineno-24-19"></a><span class="w">    </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>
<a id="__codelineno-24-20" name="__codelineno-24-20" href="#__codelineno-24-20"></a><span class="p">}</span>
</code></pre></div>
<p>但是如果对象不是<code>const</code>类型，此时上面的代码就会出现错误，例如下面的测试代码</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a><span class="kt">void</span><span class="w"> </span><span class="nf">test_const_iterator</span><span class="p">()</span>
<a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a><span class="p">{</span>
<a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a><span class="w">    </span><span class="n">sim_list</span><span class="o">::</span><span class="n">list</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="w"> </span><span class="n">ls</span><span class="p">;</span>
<a id="__codelineno-25-4" name="__codelineno-25-4" href="#__codelineno-25-4"></a><span class="w">    </span><span class="n">ls</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<a id="__codelineno-25-5" name="__codelineno-25-5" href="#__codelineno-25-5"></a><span class="w">    </span><span class="n">ls</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
<a id="__codelineno-25-6" name="__codelineno-25-6" href="#__codelineno-25-6"></a><span class="w">    </span><span class="n">ls</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
<a id="__codelineno-25-7" name="__codelineno-25-7" href="#__codelineno-25-7"></a><span class="w">    </span><span class="n">ls</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span>
<a id="__codelineno-25-8" name="__codelineno-25-8" href="#__codelineno-25-8"></a><span class="w">    </span><span class="n">ls</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>
<a id="__codelineno-25-9" name="__codelineno-25-9" href="#__codelineno-25-9"></a>
<a id="__codelineno-25-10" name="__codelineno-25-10" href="#__codelineno-25-10"></a><span class="w">    </span><span class="n">sim_list</span><span class="o">::</span><span class="n">list</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;::</span><span class="n">const_iterator</span><span class="w"> </span><span class="n">cit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ls</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span><span class="c1">// 编译器无法自动识别const类型的迭代器</span>
<a id="__codelineno-25-11" name="__codelineno-25-11" href="#__codelineno-25-11"></a>
<a id="__codelineno-25-12" name="__codelineno-25-12" href="#__codelineno-25-12"></a>
<a id="__codelineno-25-13" name="__codelineno-25-13" href="#__codelineno-25-13"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">cit</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">ls</span><span class="p">.</span><span class="n">end</span><span class="p">())</span>
<a id="__codelineno-25-14" name="__codelineno-25-14" href="#__codelineno-25-14"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-25-15" name="__codelineno-25-15" href="#__codelineno-25-15"></a><span class="w">        </span><span class="c1">//*cit = 2;</span>
<a id="__codelineno-25-16" name="__codelineno-25-16" href="#__codelineno-25-16"></a><span class="w">        </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="o">*</span><span class="n">cit</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="p">;</span>
<a id="__codelineno-25-17" name="__codelineno-25-17" href="#__codelineno-25-17"></a><span class="w">        </span><span class="n">cit</span><span class="o">++</span><span class="p">;</span>
<a id="__codelineno-25-18" name="__codelineno-25-18" href="#__codelineno-25-18"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-25-19" name="__codelineno-25-19" href="#__codelineno-25-19"></a><span class="w">    </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>
<a id="__codelineno-25-20" name="__codelineno-25-20" href="#__codelineno-25-20"></a><span class="p">}</span>
</code></pre></div>
<p>在第二个测试代码中，因为<code>cit</code>为<code>const</code>类型的迭代器，所以不可以使用非<code>const</code>版本的迭代器，但是此时的<code>begin()</code>和<code>end()</code>均为非<code>const</code>版本迭代器，因为对象<code>ls</code>为非<code>const</code>对象</p>
<p>这里提出两种解决方案：</p>
<ol>
<li>将<code>const</code>版本的<code>begin()</code>和<code>end()</code>改为<code>cbegin()</code>和<code>cend()</code>，此时显式使ls调用const版本的<code>cbegin()</code>和<code>cend()</code></li>
</ol>
<blockquote>
<p>[!NOTE]</p>
<p>缺点：没有使用到函数重载的优势</p>
</blockquote>
<div class="highlight"><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span class="c1">//修改const版本的迭代器</span>
<a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a><span class="c1">//begin()函数——const版本</span>
<a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a><span class="n">const_iterator</span><span class="w"> </span><span class="nf">cbegin</span><span class="p">()</span><span class="w"> </span><span class="k">const</span>
<a id="__codelineno-26-4" name="__codelineno-26-4" href="#__codelineno-26-4"></a><span class="p">{</span>
<a id="__codelineno-26-5" name="__codelineno-26-5" href="#__codelineno-26-5"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">_head</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>
<a id="__codelineno-26-6" name="__codelineno-26-6" href="#__codelineno-26-6"></a><span class="p">}</span>
<a id="__codelineno-26-7" name="__codelineno-26-7" href="#__codelineno-26-7"></a>
<a id="__codelineno-26-8" name="__codelineno-26-8" href="#__codelineno-26-8"></a><span class="c1">//begin()函数——const版本</span>
<a id="__codelineno-26-9" name="__codelineno-26-9" href="#__codelineno-26-9"></a><span class="n">const_iterator</span><span class="w"> </span><span class="nf">cbegin</span><span class="p">()</span><span class="w"> </span><span class="k">const</span>
<a id="__codelineno-26-10" name="__codelineno-26-10" href="#__codelineno-26-10"></a><span class="p">{</span>
<a id="__codelineno-26-11" name="__codelineno-26-11" href="#__codelineno-26-11"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">_head</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>
<a id="__codelineno-26-12" name="__codelineno-26-12" href="#__codelineno-26-12"></a><span class="p">}</span>
<a id="__codelineno-26-13" name="__codelineno-26-13" href="#__codelineno-26-13"></a>
<a id="__codelineno-26-14" name="__codelineno-26-14" href="#__codelineno-26-14"></a><span class="c1">//测试代码修改为</span>
<a id="__codelineno-26-15" name="__codelineno-26-15" href="#__codelineno-26-15"></a><span class="kt">void</span><span class="w"> </span><span class="nf">test_const_iterator</span><span class="p">()</span>
<a id="__codelineno-26-16" name="__codelineno-26-16" href="#__codelineno-26-16"></a><span class="p">{</span>
<a id="__codelineno-26-17" name="__codelineno-26-17" href="#__codelineno-26-17"></a><span class="w">    </span><span class="n">sim_list</span><span class="o">::</span><span class="n">list</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="w"> </span><span class="n">ls</span><span class="p">;</span>
<a id="__codelineno-26-18" name="__codelineno-26-18" href="#__codelineno-26-18"></a><span class="w">    </span><span class="n">ls</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<a id="__codelineno-26-19" name="__codelineno-26-19" href="#__codelineno-26-19"></a><span class="w">    </span><span class="n">ls</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
<a id="__codelineno-26-20" name="__codelineno-26-20" href="#__codelineno-26-20"></a><span class="w">    </span><span class="n">ls</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
<a id="__codelineno-26-21" name="__codelineno-26-21" href="#__codelineno-26-21"></a><span class="w">    </span><span class="n">ls</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span>
<a id="__codelineno-26-22" name="__codelineno-26-22" href="#__codelineno-26-22"></a><span class="w">    </span><span class="n">ls</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>
<a id="__codelineno-26-23" name="__codelineno-26-23" href="#__codelineno-26-23"></a>
<a id="__codelineno-26-24" name="__codelineno-26-24" href="#__codelineno-26-24"></a><span class="w">    </span><span class="n">sim_list</span><span class="o">::</span><span class="n">list</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;::</span><span class="n">const_iterator</span><span class="w"> </span><span class="n">cit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ls</span><span class="p">.</span><span class="n">cbegin</span><span class="p">();</span><span class="c1">// 显式指定const版本迭代器</span>
<a id="__codelineno-26-25" name="__codelineno-26-25" href="#__codelineno-26-25"></a>
<a id="__codelineno-26-26" name="__codelineno-26-26" href="#__codelineno-26-26"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">cit</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">ls</span><span class="p">.</span><span class="n">cend</span><span class="p">())</span>
<a id="__codelineno-26-27" name="__codelineno-26-27" href="#__codelineno-26-27"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-26-28" name="__codelineno-26-28" href="#__codelineno-26-28"></a><span class="w">        </span><span class="c1">//*cit = 2;</span>
<a id="__codelineno-26-29" name="__codelineno-26-29" href="#__codelineno-26-29"></a><span class="w">        </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="o">*</span><span class="n">cit</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="p">;</span>
<a id="__codelineno-26-30" name="__codelineno-26-30" href="#__codelineno-26-30"></a><span class="w">        </span><span class="n">cit</span><span class="o">++</span><span class="p">;</span>
<a id="__codelineno-26-31" name="__codelineno-26-31" href="#__codelineno-26-31"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-26-32" name="__codelineno-26-32" href="#__codelineno-26-32"></a><span class="w">    </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>
<a id="__codelineno-26-33" name="__codelineno-26-33" href="#__codelineno-26-33"></a><span class="p">}</span>
</code></pre></div>
<ol>
<li>在<code>const</code>版本的迭代器结构中添加非<code>const</code>对象向<code>const</code>对象转换的构造函数</li>
</ol>
<blockquote>
<p>[!NOTE]</p>
<p>缺点：没有调用<code>const</code>版本的迭代器</p>
</blockquote>
<div class="highlight"><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a><span class="c1">// 非const对象向const对象转换的构造函数</span>
<a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a><span class="c1">//传入非const对象，为了确保安全，使用const修饰形参</span>
<a id="__codelineno-27-3" name="__codelineno-27-3" href="#__codelineno-27-3"></a><span class="n">_list_iterator_const</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">_list_iterator</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">nonConst</span><span class="p">)</span>
<a id="__codelineno-27-4" name="__codelineno-27-4" href="#__codelineno-27-4"></a><span class="w">    </span><span class="o">:</span><span class="n">_node</span><span class="p">(</span><span class="n">nonConst</span><span class="p">.</span><span class="n">_node</span><span class="p">)</span><span class="c1">//使用非const对象中的_node值构造const版本的对象中的_node</span>
<a id="__codelineno-27-5" name="__codelineno-27-5" href="#__codelineno-27-5"></a><span class="p">{}</span>
</code></pre></div>
<h2 id="constconst"><code>const</code>版本迭代器和非<code>const</code>版本迭代器合并优化<a class="headerlink" href="#constconst" title="Permanent link">&para;</a></h2>
<p>在实现非<code>const</code>版本的迭代器时，可以很明显感觉到除了<code>operator*()</code>函数和<code>operator-&gt;()</code>函数两个有不同以外，其余均没有不同，而这两个版本中的这两个函数只是返回值类型不同，那么可以考虑通过模板单独控制这两个返回值类型，现在将类型引用<code>T&amp;</code>用模板参数<code>Ref</code>指代，将类型指针<code>T*</code>用模板参数<code>Ptr</code>指代，则<code>const</code>版本迭代器和非<code>const</code>版本迭代器可以合并为下面的代码：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a><span class="c1">//迭代器结构——复合版本</span>
<a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a><span class="k">template</span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">T</span><span class="p">,</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">Ref</span><span class="p">,</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">Ptr</span><span class="o">&gt;</span>
<a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a><span class="k">struct</span><span class="w"> </span><span class="nc">_list_iterator</span>
<a id="__codelineno-28-4" name="__codelineno-28-4" href="#__codelineno-28-4"></a><span class="p">{</span>
<a id="__codelineno-28-5" name="__codelineno-28-5" href="#__codelineno-28-5"></a><span class="w">    </span><span class="k">typedef</span><span class="w"> </span><span class="n">_list_node</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">Node</span><span class="p">;</span>
<a id="__codelineno-28-6" name="__codelineno-28-6" href="#__codelineno-28-6"></a><span class="w">    </span><span class="k">typedef</span><span class="w"> </span><span class="n">_list_iterator</span><span class="o">&lt;</span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="n">Ref</span><span class="p">,</span><span class="w"> </span><span class="n">Ptr</span><span class="o">&gt;</span><span class="w"> </span><span class="n">self</span><span class="p">;</span>
<a id="__codelineno-28-7" name="__codelineno-28-7" href="#__codelineno-28-7"></a>
<a id="__codelineno-28-8" name="__codelineno-28-8" href="#__codelineno-28-8"></a><span class="w">    </span><span class="n">Node</span><span class="o">*</span><span class="w"> </span><span class="n">_node</span><span class="p">;</span><span class="c1">//迭代器节点</span>
<a id="__codelineno-28-9" name="__codelineno-28-9" href="#__codelineno-28-9"></a>
<a id="__codelineno-28-10" name="__codelineno-28-10" href="#__codelineno-28-10"></a><span class="w">    </span><span class="c1">//迭代器构造函数</span>
<a id="__codelineno-28-11" name="__codelineno-28-11" href="#__codelineno-28-11"></a><span class="w">    </span><span class="n">_list_iterator</span><span class="p">(</span><span class="n">Node</span><span class="o">*</span><span class="w"> </span><span class="n">node</span><span class="p">)</span>
<a id="__codelineno-28-12" name="__codelineno-28-12" href="#__codelineno-28-12"></a><span class="w">        </span><span class="o">:</span><span class="n">_node</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
<a id="__codelineno-28-13" name="__codelineno-28-13" href="#__codelineno-28-13"></a><span class="w">    </span><span class="p">{}</span>
<a id="__codelineno-28-14" name="__codelineno-28-14" href="#__codelineno-28-14"></a>
<a id="__codelineno-28-15" name="__codelineno-28-15" href="#__codelineno-28-15"></a><span class="w">    </span><span class="c1">//迭代器前置++运算符重载</span>
<a id="__codelineno-28-16" name="__codelineno-28-16" href="#__codelineno-28-16"></a><span class="w">    </span><span class="n">self</span><span class="o">&amp;</span><span class="w"> </span><span class="k">operator</span><span class="o">++</span><span class="p">()</span>
<a id="__codelineno-28-17" name="__codelineno-28-17" href="#__codelineno-28-17"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-28-18" name="__codelineno-28-18" href="#__codelineno-28-18"></a><span class="w">        </span><span class="n">_node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_node</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>
<a id="__codelineno-28-19" name="__codelineno-28-19" href="#__codelineno-28-19"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="o">*</span><span class="k">this</span><span class="p">;</span>
<a id="__codelineno-28-20" name="__codelineno-28-20" href="#__codelineno-28-20"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-28-21" name="__codelineno-28-21" href="#__codelineno-28-21"></a>
<a id="__codelineno-28-22" name="__codelineno-28-22" href="#__codelineno-28-22"></a><span class="w">    </span><span class="c1">//迭代器前置--运算符重载</span>
<a id="__codelineno-28-23" name="__codelineno-28-23" href="#__codelineno-28-23"></a><span class="w">    </span><span class="n">self</span><span class="o">&amp;</span><span class="w"> </span><span class="k">operator</span><span class="o">--</span><span class="p">()</span>
<a id="__codelineno-28-24" name="__codelineno-28-24" href="#__codelineno-28-24"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-28-25" name="__codelineno-28-25" href="#__codelineno-28-25"></a><span class="w">        </span><span class="n">_node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_node</span><span class="o">-&gt;</span><span class="n">prev</span><span class="p">;</span>
<a id="__codelineno-28-26" name="__codelineno-28-26" href="#__codelineno-28-26"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="o">*</span><span class="k">this</span><span class="p">;</span>
<a id="__codelineno-28-27" name="__codelineno-28-27" href="#__codelineno-28-27"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-28-28" name="__codelineno-28-28" href="#__codelineno-28-28"></a>
<a id="__codelineno-28-29" name="__codelineno-28-29" href="#__codelineno-28-29"></a><span class="w">    </span><span class="c1">//迭代器后置++运算符重载</span>
<a id="__codelineno-28-30" name="__codelineno-28-30" href="#__codelineno-28-30"></a><span class="w">    </span><span class="n">self</span><span class="w"> </span><span class="k">operator</span><span class="o">++</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span>
<a id="__codelineno-28-31" name="__codelineno-28-31" href="#__codelineno-28-31"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-28-32" name="__codelineno-28-32" href="#__codelineno-28-32"></a><span class="w">        </span><span class="n">Node</span><span class="o">*</span><span class="w"> </span><span class="n">cur</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_node</span><span class="p">;</span>
<a id="__codelineno-28-33" name="__codelineno-28-33" href="#__codelineno-28-33"></a><span class="w">        </span><span class="n">_node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_node</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>
<a id="__codelineno-28-34" name="__codelineno-28-34" href="#__codelineno-28-34"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">cur</span><span class="p">;</span>
<a id="__codelineno-28-35" name="__codelineno-28-35" href="#__codelineno-28-35"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-28-36" name="__codelineno-28-36" href="#__codelineno-28-36"></a>
<a id="__codelineno-28-37" name="__codelineno-28-37" href="#__codelineno-28-37"></a><span class="w">    </span><span class="c1">//迭代器后置--运算符重载</span>
<a id="__codelineno-28-38" name="__codelineno-28-38" href="#__codelineno-28-38"></a><span class="w">    </span><span class="n">self</span><span class="w"> </span><span class="k">operator</span><span class="o">--</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span>
<a id="__codelineno-28-39" name="__codelineno-28-39" href="#__codelineno-28-39"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-28-40" name="__codelineno-28-40" href="#__codelineno-28-40"></a><span class="w">        </span><span class="n">Node</span><span class="o">*</span><span class="w"> </span><span class="n">cur</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_node</span><span class="p">;</span>
<a id="__codelineno-28-41" name="__codelineno-28-41" href="#__codelineno-28-41"></a><span class="w">        </span><span class="n">_node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_node</span><span class="o">-&gt;</span><span class="n">prev</span><span class="p">;</span>
<a id="__codelineno-28-42" name="__codelineno-28-42" href="#__codelineno-28-42"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">cur</span><span class="p">;</span>
<a id="__codelineno-28-43" name="__codelineno-28-43" href="#__codelineno-28-43"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-28-44" name="__codelineno-28-44" href="#__codelineno-28-44"></a>
<a id="__codelineno-28-45" name="__codelineno-28-45" href="#__codelineno-28-45"></a><span class="w">    </span><span class="c1">//迭代器*运算符重载</span>
<a id="__codelineno-28-46" name="__codelineno-28-46" href="#__codelineno-28-46"></a><span class="w">    </span><span class="n">Ref</span><span class="w"> </span><span class="k">operator</span><span class="o">*</span><span class="p">()</span>
<a id="__codelineno-28-47" name="__codelineno-28-47" href="#__codelineno-28-47"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-28-48" name="__codelineno-28-48" href="#__codelineno-28-48"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">_node</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">;</span>
<a id="__codelineno-28-49" name="__codelineno-28-49" href="#__codelineno-28-49"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-28-50" name="__codelineno-28-50" href="#__codelineno-28-50"></a>
<a id="__codelineno-28-51" name="__codelineno-28-51" href="#__codelineno-28-51"></a><span class="w">    </span><span class="c1">//迭代器-&gt;运算符重载</span>
<a id="__codelineno-28-52" name="__codelineno-28-52" href="#__codelineno-28-52"></a><span class="w">    </span><span class="n">Ptr</span><span class="w"> </span><span class="k">operator</span><span class="o">-&gt;</span><span class="p">()</span>
<a id="__codelineno-28-53" name="__codelineno-28-53" href="#__codelineno-28-53"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-28-54" name="__codelineno-28-54" href="#__codelineno-28-54"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="o">&amp;</span><span class="p">(</span><span class="n">_node</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">);</span>
<a id="__codelineno-28-55" name="__codelineno-28-55" href="#__codelineno-28-55"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-28-56" name="__codelineno-28-56" href="#__codelineno-28-56"></a>
<a id="__codelineno-28-57" name="__codelineno-28-57" href="#__codelineno-28-57"></a><span class="w">    </span><span class="c1">//迭代器!=运算符重载</span>
<a id="__codelineno-28-58" name="__codelineno-28-58" href="#__codelineno-28-58"></a><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="k">operator</span><span class="o">!=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">self</span><span class="o">&amp;</span><span class="w"> </span><span class="n">cur</span><span class="p">)</span>
<a id="__codelineno-28-59" name="__codelineno-28-59" href="#__codelineno-28-59"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-28-60" name="__codelineno-28-60" href="#__codelineno-28-60"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">_node</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">cur</span><span class="p">.</span><span class="n">_node</span><span class="p">;</span>
<a id="__codelineno-28-61" name="__codelineno-28-61" href="#__codelineno-28-61"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-28-62" name="__codelineno-28-62" href="#__codelineno-28-62"></a>
<a id="__codelineno-28-63" name="__codelineno-28-63" href="#__codelineno-28-63"></a><span class="w">    </span><span class="c1">//迭代器==运算符重载</span>
<a id="__codelineno-28-64" name="__codelineno-28-64" href="#__codelineno-28-64"></a><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="k">operator</span><span class="o">==</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">self</span><span class="o">&amp;</span><span class="w"> </span><span class="n">cur</span><span class="p">)</span>
<a id="__codelineno-28-65" name="__codelineno-28-65" href="#__codelineno-28-65"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-28-66" name="__codelineno-28-66" href="#__codelineno-28-66"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">_node</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">cur</span><span class="p">.</span><span class="n">_node</span><span class="p">;</span>
<a id="__codelineno-28-67" name="__codelineno-28-67" href="#__codelineno-28-67"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-28-68" name="__codelineno-28-68" href="#__codelineno-28-68"></a><span class="p">};</span>
</code></pre></div>
<blockquote>
<p>[!NOTE]</p>
<p>注意，此处也需要考虑到非<code>const</code>对象向<code>const</code>对象的转换问题，为了更方便解决，采取上面的第一种解决方案，如果直接是<code>const</code>对象调用则不需要考虑这个问题</p>
</blockquote>
<h2 id="list_2">list类无参构造函数<a class="headerlink" href="#list_2" title="Permanent link">&para;</a></h2>
<p>对于list类来说，因为只有一个头指针作为成员变量，所以无参构造时只需要考虑创建头结点即可</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a><span class="c1">//头节点处理</span>
<a id="__codelineno-29-2" name="__codelineno-29-2" href="#__codelineno-29-2"></a><span class="kt">void</span><span class="w"> </span><span class="nf">empty_init</span><span class="p">()</span>
<a id="__codelineno-29-3" name="__codelineno-29-3" href="#__codelineno-29-3"></a><span class="p">{</span>
<a id="__codelineno-29-4" name="__codelineno-29-4" href="#__codelineno-29-4"></a><span class="w">    </span><span class="n">_head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Node</span><span class="p">;</span>
<a id="__codelineno-29-5" name="__codelineno-29-5" href="#__codelineno-29-5"></a><span class="w">    </span><span class="n">_head</span><span class="o">-&gt;</span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_head</span><span class="p">;</span>
<a id="__codelineno-29-6" name="__codelineno-29-6" href="#__codelineno-29-6"></a><span class="w">    </span><span class="n">_head</span><span class="o">-&gt;</span><span class="n">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_head</span><span class="p">;</span>
<a id="__codelineno-29-7" name="__codelineno-29-7" href="#__codelineno-29-7"></a>
<a id="__codelineno-29-8" name="__codelineno-29-8" href="#__codelineno-29-8"></a><span class="w">    </span><span class="n">_size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-29-9" name="__codelineno-29-9" href="#__codelineno-29-9"></a><span class="p">}</span>
<a id="__codelineno-29-10" name="__codelineno-29-10" href="#__codelineno-29-10"></a>
<a id="__codelineno-29-11" name="__codelineno-29-11" href="#__codelineno-29-11"></a><span class="c1">//构造函数</span>
<a id="__codelineno-29-12" name="__codelineno-29-12" href="#__codelineno-29-12"></a><span class="n">list</span><span class="p">()</span>
<a id="__codelineno-29-13" name="__codelineno-29-13" href="#__codelineno-29-13"></a><span class="p">{</span>
<a id="__codelineno-29-14" name="__codelineno-29-14" href="#__codelineno-29-14"></a><span class="w">    </span><span class="n">empty_init</span><span class="p">();</span>
<a id="__codelineno-29-15" name="__codelineno-29-15" href="#__codelineno-29-15"></a><span class="p">}</span>
</code></pre></div>
<h2 id="list_3">list类析构函数<a class="headerlink" href="#list_3" title="Permanent link">&para;</a></h2>
<p>调用<code>clear()</code>函数后将头节点资源清理并置为空即可</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a><span class="c1">//析构函数</span>
<a id="__codelineno-30-2" name="__codelineno-30-2" href="#__codelineno-30-2"></a><span class="o">~</span><span class="n">list</span><span class="p">()</span>
<a id="__codelineno-30-3" name="__codelineno-30-3" href="#__codelineno-30-3"></a><span class="p">{</span>
<a id="__codelineno-30-4" name="__codelineno-30-4" href="#__codelineno-30-4"></a><span class="w">    </span><span class="n">clear</span><span class="p">();</span>
<a id="__codelineno-30-5" name="__codelineno-30-5" href="#__codelineno-30-5"></a>
<a id="__codelineno-30-6" name="__codelineno-30-6" href="#__codelineno-30-6"></a><span class="w">    </span><span class="k">delete</span><span class="w"> </span><span class="n">_head</span><span class="p">;</span>
<a id="__codelineno-30-7" name="__codelineno-30-7" href="#__codelineno-30-7"></a><span class="w">    </span><span class="n">_head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">nullptr</span><span class="p">;</span>
<a id="__codelineno-30-8" name="__codelineno-30-8" href="#__codelineno-30-8"></a><span class="p">}</span>
</code></pre></div>
<h2 id="list_4">list类拷贝构造函数<a class="headerlink" href="#list_4" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a><span class="c1">//拷贝构造函数</span>
<a id="__codelineno-31-2" name="__codelineno-31-2" href="#__codelineno-31-2"></a><span class="n">list</span><span class="p">(</span><span class="n">list</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">ls</span><span class="p">)</span>
<a id="__codelineno-31-3" name="__codelineno-31-3" href="#__codelineno-31-3"></a><span class="p">{</span>
<a id="__codelineno-31-4" name="__codelineno-31-4" href="#__codelineno-31-4"></a><span class="w">    </span><span class="n">empty_init</span><span class="p">();</span>
<a id="__codelineno-31-5" name="__codelineno-31-5" href="#__codelineno-31-5"></a>
<a id="__codelineno-31-6" name="__codelineno-31-6" href="#__codelineno-31-6"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">ls</span><span class="p">)</span>
<a id="__codelineno-31-7" name="__codelineno-31-7" href="#__codelineno-31-7"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-31-8" name="__codelineno-31-8" href="#__codelineno-31-8"></a><span class="w">        </span><span class="n">push_back</span><span class="p">(</span><span class="n">num</span><span class="p">);</span>
<a id="__codelineno-31-9" name="__codelineno-31-9" href="#__codelineno-31-9"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-31-10" name="__codelineno-31-10" href="#__codelineno-31-10"></a><span class="p">}</span>
</code></pre></div>
<h2 id="list_5">list类赋值运算符重载函数<a class="headerlink" href="#list_5" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a><span class="c1">//赋值运算符重载函数</span>
<a id="__codelineno-32-2" name="__codelineno-32-2" href="#__codelineno-32-2"></a><span class="n">list</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="k">operator</span><span class="o">=</span><span class="p">(</span><span class="n">list</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">ls</span><span class="p">)</span>
<a id="__codelineno-32-3" name="__codelineno-32-3" href="#__codelineno-32-3"></a><span class="p">{</span>
<a id="__codelineno-32-4" name="__codelineno-32-4" href="#__codelineno-32-4"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="k">this</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">ls</span><span class="p">)</span>
<a id="__codelineno-32-5" name="__codelineno-32-5" href="#__codelineno-32-5"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-32-6" name="__codelineno-32-6" href="#__codelineno-32-6"></a><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">ls</span><span class="p">)</span>
<a id="__codelineno-32-7" name="__codelineno-32-7" href="#__codelineno-32-7"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-32-8" name="__codelineno-32-8" href="#__codelineno-32-8"></a><span class="w">            </span><span class="n">push_back</span><span class="p">(</span><span class="n">num</span><span class="p">);</span>
<a id="__codelineno-32-9" name="__codelineno-32-9" href="#__codelineno-32-9"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-32-10" name="__codelineno-32-10" href="#__codelineno-32-10"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-32-11" name="__codelineno-32-11" href="#__codelineno-32-11"></a>
<a id="__codelineno-32-12" name="__codelineno-32-12" href="#__codelineno-32-12"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="o">*</span><span class="k">this</span><span class="p">;</span>
<a id="__codelineno-32-13" name="__codelineno-32-13" href="#__codelineno-32-13"></a><span class="p">}</span>
</code></pre></div>
<h2 id="begin"><code>begin()</code>函数<a class="headerlink" href="#begin" title="Permanent link">&para;</a></h2>
<p>返回第一个有效数据节点的位置即可</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a><span class="c1">//begin()函数——非const版本</span>
<a id="__codelineno-33-2" name="__codelineno-33-2" href="#__codelineno-33-2"></a><span class="n">iterator</span><span class="w"> </span><span class="nf">begin</span><span class="p">()</span>
<a id="__codelineno-33-3" name="__codelineno-33-3" href="#__codelineno-33-3"></a><span class="p">{</span>
<a id="__codelineno-33-4" name="__codelineno-33-4" href="#__codelineno-33-4"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">_head</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span><span class="c1">//隐式类型转换</span>
<a id="__codelineno-33-5" name="__codelineno-33-5" href="#__codelineno-33-5"></a><span class="p">}</span>
<a id="__codelineno-33-6" name="__codelineno-33-6" href="#__codelineno-33-6"></a>
<a id="__codelineno-33-7" name="__codelineno-33-7" href="#__codelineno-33-7"></a><span class="c1">//begin()函数——const版本</span>
<a id="__codelineno-33-8" name="__codelineno-33-8" href="#__codelineno-33-8"></a><span class="n">const_iterator</span><span class="w"> </span><span class="nf">begin</span><span class="p">()</span><span class="w"> </span><span class="k">const</span>
<a id="__codelineno-33-9" name="__codelineno-33-9" href="#__codelineno-33-9"></a><span class="p">{</span>
<a id="__codelineno-33-10" name="__codelineno-33-10" href="#__codelineno-33-10"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">_head</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>
<a id="__codelineno-33-11" name="__codelineno-33-11" href="#__codelineno-33-11"></a><span class="p">}</span>
</code></pre></div>
<h2 id="end"><code>end()</code>函数<a class="headerlink" href="#end" title="Permanent link">&para;</a></h2>
<p>返回最后一个头节点的位置即可</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a><span class="c1">//end()函数——非const版本</span>
<a id="__codelineno-34-2" name="__codelineno-34-2" href="#__codelineno-34-2"></a><span class="n">iterator</span><span class="w"> </span><span class="nf">end</span><span class="p">()</span>
<a id="__codelineno-34-3" name="__codelineno-34-3" href="#__codelineno-34-3"></a><span class="p">{</span>
<a id="__codelineno-34-4" name="__codelineno-34-4" href="#__codelineno-34-4"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">_head</span><span class="p">;</span>
<a id="__codelineno-34-5" name="__codelineno-34-5" href="#__codelineno-34-5"></a><span class="p">}</span>
<a id="__codelineno-34-6" name="__codelineno-34-6" href="#__codelineno-34-6"></a>
<a id="__codelineno-34-7" name="__codelineno-34-7" href="#__codelineno-34-7"></a><span class="c1">//end()函数——const版本</span>
<a id="__codelineno-34-8" name="__codelineno-34-8" href="#__codelineno-34-8"></a><span class="n">const_iterator</span><span class="w"> </span><span class="nf">end</span><span class="p">()</span><span class="w"> </span><span class="k">const</span>
<a id="__codelineno-34-9" name="__codelineno-34-9" href="#__codelineno-34-9"></a><span class="p">{</span>
<a id="__codelineno-34-10" name="__codelineno-34-10" href="#__codelineno-34-10"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">_head</span><span class="p">;</span>
<a id="__codelineno-34-11" name="__codelineno-34-11" href="#__codelineno-34-11"></a><span class="p">}</span>
</code></pre></div>
<h2 id="insert"><code>insert()</code>函数<a class="headerlink" href="#insert" title="Permanent link">&para;</a></h2>
<p>插入节点思路参考带头双向循环链表</p>
<blockquote>
<p>[!NOTE]</p>
<p>可以考虑返回当前节点位置防止迭代器失效问题</p>
</blockquote>
<div class="highlight"><pre><span></span><code><a id="__codelineno-35-1" name="__codelineno-35-1" href="#__codelineno-35-1"></a><span class="c1">//insert()函数</span>
<a id="__codelineno-35-2" name="__codelineno-35-2" href="#__codelineno-35-2"></a><span class="n">iterator</span><span class="w"> </span><span class="nf">insert</span><span class="p">(</span><span class="n">iterator</span><span class="w"> </span><span class="n">position</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">T</span><span class="o">&amp;</span><span class="w"> </span><span class="n">val</span><span class="p">)</span>
<a id="__codelineno-35-3" name="__codelineno-35-3" href="#__codelineno-35-3"></a><span class="p">{</span>
<a id="__codelineno-35-4" name="__codelineno-35-4" href="#__codelineno-35-4"></a><span class="w">    </span><span class="c1">//创建新的节点</span>
<a id="__codelineno-35-5" name="__codelineno-35-5" href="#__codelineno-35-5"></a><span class="w">    </span><span class="n">Node</span><span class="o">*</span><span class="w"> </span><span class="n">node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Node</span><span class="p">(</span><span class="n">val</span><span class="p">);</span>
<a id="__codelineno-35-6" name="__codelineno-35-6" href="#__codelineno-35-6"></a><span class="w">    </span><span class="c1">//改变节点指针指向</span>
<a id="__codelineno-35-7" name="__codelineno-35-7" href="#__codelineno-35-7"></a><span class="w">    </span><span class="c1">//记录当前position位置的节点</span>
<a id="__codelineno-35-8" name="__codelineno-35-8" href="#__codelineno-35-8"></a><span class="w">    </span><span class="n">Node</span><span class="o">*</span><span class="w"> </span><span class="n">cur</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">position</span><span class="p">.</span><span class="n">_node</span><span class="p">;</span>
<a id="__codelineno-35-9" name="__codelineno-35-9" href="#__codelineno-35-9"></a><span class="w">    </span><span class="c1">//改变新节点的指向</span>
<a id="__codelineno-35-10" name="__codelineno-35-10" href="#__codelineno-35-10"></a><span class="w">    </span><span class="n">node</span><span class="o">-&gt;</span><span class="n">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cur</span><span class="p">;</span>
<a id="__codelineno-35-11" name="__codelineno-35-11" href="#__codelineno-35-11"></a><span class="w">    </span><span class="n">node</span><span class="o">-&gt;</span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cur</span><span class="o">-&gt;</span><span class="n">prev</span><span class="p">;</span>
<a id="__codelineno-35-12" name="__codelineno-35-12" href="#__codelineno-35-12"></a><span class="w">    </span><span class="c1">//改变当前位置节点的前一个节点的后继指针指向</span>
<a id="__codelineno-35-13" name="__codelineno-35-13" href="#__codelineno-35-13"></a><span class="w">    </span><span class="n">cur</span><span class="o">-&gt;</span><span class="n">prev</span><span class="o">-&gt;</span><span class="n">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">node</span><span class="p">;</span>
<a id="__codelineno-35-14" name="__codelineno-35-14" href="#__codelineno-35-14"></a><span class="w">    </span><span class="c1">//改变当前位置节点的前驱指针指向</span>
<a id="__codelineno-35-15" name="__codelineno-35-15" href="#__codelineno-35-15"></a><span class="w">    </span><span class="n">cur</span><span class="o">-&gt;</span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">node</span><span class="p">;</span>
<a id="__codelineno-35-16" name="__codelineno-35-16" href="#__codelineno-35-16"></a>
<a id="__codelineno-35-17" name="__codelineno-35-17" href="#__codelineno-35-17"></a><span class="w">    </span><span class="o">++</span><span class="n">_size</span><span class="p">;</span>
<a id="__codelineno-35-18" name="__codelineno-35-18" href="#__codelineno-35-18"></a>
<a id="__codelineno-35-19" name="__codelineno-35-19" href="#__codelineno-35-19"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">position</span><span class="p">;</span>
<a id="__codelineno-35-20" name="__codelineno-35-20" href="#__codelineno-35-20"></a><span class="p">}</span>
</code></pre></div>
<h2 id="push_back"><code>push_back()</code>函数<a class="headerlink" href="#push_back" title="Permanent link">&para;</a></h2>
<p>设计思路参考带头双向循环链表的思路</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-36-1" name="__codelineno-36-1" href="#__codelineno-36-1"></a><span class="c1">//push_back()函数</span>
<a id="__codelineno-36-2" name="__codelineno-36-2" href="#__codelineno-36-2"></a><span class="kt">void</span><span class="w"> </span><span class="nf">push_back</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">T</span><span class="o">&amp;</span><span class="w"> </span><span class="n">val</span><span class="p">)</span>
<a id="__codelineno-36-3" name="__codelineno-36-3" href="#__codelineno-36-3"></a><span class="p">{</span>
<a id="__codelineno-36-4" name="__codelineno-36-4" href="#__codelineno-36-4"></a><span class="w">    </span><span class="c1">//创建新的节点</span>
<a id="__codelineno-36-5" name="__codelineno-36-5" href="#__codelineno-36-5"></a><span class="w">    </span><span class="n">Node</span><span class="o">*</span><span class="w"> </span><span class="n">node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Node</span><span class="p">(</span><span class="n">val</span><span class="p">);</span><span class="c1">//调用节点结构构造函数</span>
<a id="__codelineno-36-6" name="__codelineno-36-6" href="#__codelineno-36-6"></a><span class="w">    </span><span class="c1">//改变节点指针</span>
<a id="__codelineno-36-7" name="__codelineno-36-7" href="#__codelineno-36-7"></a><span class="w">    </span><span class="c1">//先记录当前最后一个节点</span>
<a id="__codelineno-36-8" name="__codelineno-36-8" href="#__codelineno-36-8"></a><span class="w">    </span><span class="n">Node</span><span class="o">*</span><span class="w"> </span><span class="n">tail</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_head</span><span class="o">-&gt;</span><span class="n">prev</span><span class="p">;</span>
<a id="__codelineno-36-9" name="__codelineno-36-9" href="#__codelineno-36-9"></a><span class="w">    </span><span class="c1">//改变头节点前驱指针为新节点</span>
<a id="__codelineno-36-10" name="__codelineno-36-10" href="#__codelineno-36-10"></a><span class="w">    </span><span class="n">_head</span><span class="o">-&gt;</span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">node</span><span class="p">;</span>
<a id="__codelineno-36-11" name="__codelineno-36-11" href="#__codelineno-36-11"></a><span class="w">    </span><span class="c1">//改变最后一个节点的后继指针指向新节点</span>
<a id="__codelineno-36-12" name="__codelineno-36-12" href="#__codelineno-36-12"></a><span class="w">    </span><span class="n">tail</span><span class="o">-&gt;</span><span class="n">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">node</span><span class="p">;</span>
<a id="__codelineno-36-13" name="__codelineno-36-13" href="#__codelineno-36-13"></a><span class="w">    </span><span class="c1">//改变新节点的指针</span>
<a id="__codelineno-36-14" name="__codelineno-36-14" href="#__codelineno-36-14"></a><span class="w">    </span><span class="n">node</span><span class="o">-&gt;</span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tail</span><span class="p">;</span>
<a id="__codelineno-36-15" name="__codelineno-36-15" href="#__codelineno-36-15"></a><span class="w">    </span><span class="n">node</span><span class="o">-&gt;</span><span class="n">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_head</span><span class="p">;</span>
<a id="__codelineno-36-16" name="__codelineno-36-16" href="#__codelineno-36-16"></a>
<a id="__codelineno-36-17" name="__codelineno-36-17" href="#__codelineno-36-17"></a><span class="w">    </span><span class="o">++</span><span class="n">_size</span><span class="p">;</span>
<a id="__codelineno-36-18" name="__codelineno-36-18" href="#__codelineno-36-18"></a><span class="p">}</span>
</code></pre></div>
<h2 id="push_front"><code>push_front()</code>函数<a class="headerlink" href="#push_front" title="Permanent link">&para;</a></h2>
<p>设计思路参考带头双向循环链表的思路</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-37-1" name="__codelineno-37-1" href="#__codelineno-37-1"></a><span class="c1">//push_front()函数</span>
<a id="__codelineno-37-2" name="__codelineno-37-2" href="#__codelineno-37-2"></a><span class="kt">void</span><span class="w"> </span><span class="nf">push_front</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">T</span><span class="o">&amp;</span><span class="w"> </span><span class="n">val</span><span class="p">)</span>
<a id="__codelineno-37-3" name="__codelineno-37-3" href="#__codelineno-37-3"></a><span class="p">{</span>
<a id="__codelineno-37-4" name="__codelineno-37-4" href="#__codelineno-37-4"></a><span class="w">    </span><span class="c1">//创建新节点</span>
<a id="__codelineno-37-5" name="__codelineno-37-5" href="#__codelineno-37-5"></a><span class="w">    </span><span class="n">Node</span><span class="o">*</span><span class="w"> </span><span class="n">node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Node</span><span class="p">(</span><span class="n">val</span><span class="p">);</span>
<a id="__codelineno-37-6" name="__codelineno-37-6" href="#__codelineno-37-6"></a><span class="w">    </span><span class="c1">//改变指针指向</span>
<a id="__codelineno-37-7" name="__codelineno-37-7" href="#__codelineno-37-7"></a><span class="w">    </span><span class="c1">//先记录当前第一个节点</span>
<a id="__codelineno-37-8" name="__codelineno-37-8" href="#__codelineno-37-8"></a><span class="w">    </span><span class="n">Node</span><span class="o">*</span><span class="w"> </span><span class="n">first</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_head</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>
<a id="__codelineno-37-9" name="__codelineno-37-9" href="#__codelineno-37-9"></a><span class="w">    </span><span class="c1">//改变新节点的指针指向</span>
<a id="__codelineno-37-10" name="__codelineno-37-10" href="#__codelineno-37-10"></a><span class="w">    </span><span class="n">node</span><span class="o">-&gt;</span><span class="n">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">first</span><span class="p">;</span>
<a id="__codelineno-37-11" name="__codelineno-37-11" href="#__codelineno-37-11"></a><span class="w">    </span><span class="n">node</span><span class="o">-&gt;</span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_head</span><span class="p">;</span>
<a id="__codelineno-37-12" name="__codelineno-37-12" href="#__codelineno-37-12"></a><span class="w">    </span><span class="c1">//改变头指针后继指针指向</span>
<a id="__codelineno-37-13" name="__codelineno-37-13" href="#__codelineno-37-13"></a><span class="w">    </span><span class="n">_head</span><span class="o">-&gt;</span><span class="n">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">node</span><span class="p">;</span>
<a id="__codelineno-37-14" name="__codelineno-37-14" href="#__codelineno-37-14"></a><span class="w">    </span><span class="c1">//改变原始第一个节点的前驱指针指向</span>
<a id="__codelineno-37-15" name="__codelineno-37-15" href="#__codelineno-37-15"></a><span class="w">    </span><span class="n">first</span><span class="o">-&gt;</span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">node</span><span class="p">;</span>
<a id="__codelineno-37-16" name="__codelineno-37-16" href="#__codelineno-37-16"></a>
<a id="__codelineno-37-17" name="__codelineno-37-17" href="#__codelineno-37-17"></a><span class="w">    </span><span class="o">++</span><span class="n">_size</span><span class="p">;</span>
<a id="__codelineno-37-18" name="__codelineno-37-18" href="#__codelineno-37-18"></a><span class="p">}</span>
</code></pre></div>
<h2 id="erase"><code>erase()</code>函数<a class="headerlink" href="#erase" title="Permanent link">&para;</a></h2>
<p>删除节点的思路类似于带头双向链表的删除思路</p>
<blockquote>
<p>[!NOTE]</p>
<p>注意返回删除节点位置的下一个节点的位置防止出现迭代器失效问题</p>
</blockquote>
<div class="highlight"><pre><span></span><code><a id="__codelineno-38-1" name="__codelineno-38-1" href="#__codelineno-38-1"></a><span class="c1">//erase()函数</span>
<a id="__codelineno-38-2" name="__codelineno-38-2" href="#__codelineno-38-2"></a><span class="n">iterator</span><span class="w"> </span><span class="nf">erase</span><span class="p">(</span><span class="n">iterator</span><span class="w"> </span><span class="n">position</span><span class="p">)</span>
<a id="__codelineno-38-3" name="__codelineno-38-3" href="#__codelineno-38-3"></a><span class="p">{</span>
<a id="__codelineno-38-4" name="__codelineno-38-4" href="#__codelineno-38-4"></a><span class="w">    </span><span class="c1">//不可以删除头结点</span>
<a id="__codelineno-38-5" name="__codelineno-38-5" href="#__codelineno-38-5"></a><span class="w">    </span><span class="n">assert</span><span class="p">(</span><span class="n">position</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">iterator</span><span class="p">(</span><span class="n">_head</span><span class="p">));</span>
<a id="__codelineno-38-6" name="__codelineno-38-6" href="#__codelineno-38-6"></a>
<a id="__codelineno-38-7" name="__codelineno-38-7" href="#__codelineno-38-7"></a><span class="w">    </span><span class="c1">//记录要删除的节点的后一个节点</span>
<a id="__codelineno-38-8" name="__codelineno-38-8" href="#__codelineno-38-8"></a><span class="w">    </span><span class="n">Node</span><span class="o">*</span><span class="w"> </span><span class="n">cur</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">position</span><span class="p">.</span><span class="n">_node</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>
<a id="__codelineno-38-9" name="__codelineno-38-9" href="#__codelineno-38-9"></a><span class="w">    </span><span class="c1">//改变要删除的节点的前一个节点的后继指针</span>
<a id="__codelineno-38-10" name="__codelineno-38-10" href="#__codelineno-38-10"></a><span class="w">    </span><span class="n">position</span><span class="p">.</span><span class="n">_node</span><span class="o">-&gt;</span><span class="n">prev</span><span class="o">-&gt;</span><span class="n">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cur</span><span class="p">;</span>
<a id="__codelineno-38-11" name="__codelineno-38-11" href="#__codelineno-38-11"></a><span class="w">    </span><span class="c1">//改变要删除的节点的后一个节点的前驱指针</span>
<a id="__codelineno-38-12" name="__codelineno-38-12" href="#__codelineno-38-12"></a><span class="w">    </span><span class="n">cur</span><span class="o">-&gt;</span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">position</span><span class="p">.</span><span class="n">_node</span><span class="o">-&gt;</span><span class="n">prev</span><span class="p">;</span>
<a id="__codelineno-38-13" name="__codelineno-38-13" href="#__codelineno-38-13"></a>
<a id="__codelineno-38-14" name="__codelineno-38-14" href="#__codelineno-38-14"></a><span class="w">    </span><span class="c1">//删除当前位置的指针</span>
<a id="__codelineno-38-15" name="__codelineno-38-15" href="#__codelineno-38-15"></a><span class="w">    </span><span class="k">delete</span><span class="w"> </span><span class="n">position</span><span class="p">.</span><span class="n">_node</span><span class="p">;</span>
<a id="__codelineno-38-16" name="__codelineno-38-16" href="#__codelineno-38-16"></a>
<a id="__codelineno-38-17" name="__codelineno-38-17" href="#__codelineno-38-17"></a><span class="w">    </span><span class="o">--</span><span class="n">_size</span><span class="p">;</span>
<a id="__codelineno-38-18" name="__codelineno-38-18" href="#__codelineno-38-18"></a>
<a id="__codelineno-38-19" name="__codelineno-38-19" href="#__codelineno-38-19"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">cur</span><span class="p">;</span>
<a id="__codelineno-38-20" name="__codelineno-38-20" href="#__codelineno-38-20"></a><span class="p">}</span>
</code></pre></div>
<h2 id="pop_back"><code>pop_back()</code>函数<a class="headerlink" href="#pop_back" title="Permanent link">&para;</a></h2>
<p>直接复用<code>erase()</code>函数即可，但是需要注意删除的位置不是<code>end</code>的位置，而是<code>end</code>前一个位置</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-39-1" name="__codelineno-39-1" href="#__codelineno-39-1"></a><span class="c1">//pop_back()函数</span>
<a id="__codelineno-39-2" name="__codelineno-39-2" href="#__codelineno-39-2"></a><span class="kt">void</span><span class="w"> </span><span class="nf">pop_back</span><span class="p">()</span>
<a id="__codelineno-39-3" name="__codelineno-39-3" href="#__codelineno-39-3"></a><span class="p">{</span>
<a id="__codelineno-39-4" name="__codelineno-39-4" href="#__codelineno-39-4"></a><span class="w">    </span><span class="n">erase</span><span class="p">(</span><span class="o">--</span><span class="n">end</span><span class="p">());</span>
<a id="__codelineno-39-5" name="__codelineno-39-5" href="#__codelineno-39-5"></a><span class="p">}</span>
</code></pre></div>
<h2 id="pop_front"><code>pop_front()</code>函数<a class="headerlink" href="#pop_front" title="Permanent link">&para;</a></h2>
<p>直接复用<code>erase()</code>函数即可</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-40-1" name="__codelineno-40-1" href="#__codelineno-40-1"></a><span class="c1">//pop_front()函数</span>
<a id="__codelineno-40-2" name="__codelineno-40-2" href="#__codelineno-40-2"></a><span class="kt">void</span><span class="w"> </span><span class="nf">pop_front</span><span class="p">()</span>
<a id="__codelineno-40-3" name="__codelineno-40-3" href="#__codelineno-40-3"></a><span class="p">{</span>
<a id="__codelineno-40-4" name="__codelineno-40-4" href="#__codelineno-40-4"></a><span class="w">    </span><span class="c1">//复用erase()函数</span>
<a id="__codelineno-40-5" name="__codelineno-40-5" href="#__codelineno-40-5"></a><span class="w">    </span><span class="n">erase</span><span class="p">(</span><span class="n">begin</span><span class="p">());</span>
<a id="__codelineno-40-6" name="__codelineno-40-6" href="#__codelineno-40-6"></a><span class="p">}</span>
</code></pre></div>
<h2 id="clear"><code>clear()</code>函数<a class="headerlink" href="#clear" title="Permanent link">&para;</a></h2>
<p>调用<code>erase()</code>函数循环从头删除即可，但是不可以删除头结点</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-41-1" name="__codelineno-41-1" href="#__codelineno-41-1"></a><span class="c1">//clear()函数</span>
<a id="__codelineno-41-2" name="__codelineno-41-2" href="#__codelineno-41-2"></a><span class="kt">void</span><span class="w"> </span><span class="nf">clear</span><span class="p">()</span>
<a id="__codelineno-41-3" name="__codelineno-41-3" href="#__codelineno-41-3"></a><span class="p">{</span>
<a id="__codelineno-41-4" name="__codelineno-41-4" href="#__codelineno-41-4"></a><span class="w">    </span><span class="n">iterator</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">begin</span><span class="p">();</span>
<a id="__codelineno-41-5" name="__codelineno-41-5" href="#__codelineno-41-5"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">it</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">end</span><span class="p">())</span>
<a id="__codelineno-41-6" name="__codelineno-41-6" href="#__codelineno-41-6"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-41-7" name="__codelineno-41-7" href="#__codelineno-41-7"></a><span class="w">        </span><span class="n">it</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">erase</span><span class="p">(</span><span class="n">it</span><span class="p">);</span>
<a id="__codelineno-41-8" name="__codelineno-41-8" href="#__codelineno-41-8"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-41-9" name="__codelineno-41-9" href="#__codelineno-41-9"></a><span class="p">}</span>
</code></pre></div>
<h1 id="_5">额外补充<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h1>
<p>打印函数</p>
<p>当链表中的类型为<code>int</code>时，打印函数中的list模板参数直接设置为<code>int</code>即可，例如下面的代码：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-42-1" name="__codelineno-42-1" href="#__codelineno-42-1"></a><span class="c1">//额外补充的函数——标准库中没有</span>
<a id="__codelineno-42-2" name="__codelineno-42-2" href="#__codelineno-42-2"></a><span class="c1">//打印函数</span>
<a id="__codelineno-42-3" name="__codelineno-42-3" href="#__codelineno-42-3"></a><span class="kt">void</span><span class="w"> </span><span class="nf">print_list</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">list</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">ls</span><span class="p">)</span>
<a id="__codelineno-42-4" name="__codelineno-42-4" href="#__codelineno-42-4"></a><span class="p">{</span>
<a id="__codelineno-42-5" name="__codelineno-42-5" href="#__codelineno-42-5"></a><span class="w">    </span><span class="n">sim_list</span><span class="o">::</span><span class="n">list</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;::</span><span class="n">const_iterator</span><span class="w"> </span><span class="n">cit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ls</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span>
<a id="__codelineno-42-6" name="__codelineno-42-6" href="#__codelineno-42-6"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">cit</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">ls</span><span class="p">.</span><span class="n">end</span><span class="p">())</span>
<a id="__codelineno-42-7" name="__codelineno-42-7" href="#__codelineno-42-7"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-42-8" name="__codelineno-42-8" href="#__codelineno-42-8"></a><span class="w">        </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="o">*</span><span class="n">cit</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="p">;</span>
<a id="__codelineno-42-9" name="__codelineno-42-9" href="#__codelineno-42-9"></a><span class="w">        </span><span class="n">cit</span><span class="o">++</span><span class="p">;</span>
<a id="__codelineno-42-10" name="__codelineno-42-10" href="#__codelineno-42-10"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-42-11" name="__codelineno-42-11" href="#__codelineno-42-11"></a><span class="p">}</span>
</code></pre></div>
<p>但是，上面的代码在模板参数处写定为<code>int</code>，如果更换类型，此时就需要在打印函数处同时更改类型。</p>
<p>假设现在的链表为如下：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-43-1" name="__codelineno-43-1" href="#__codelineno-43-1"></a><span class="n">sim_list</span><span class="o">::</span><span class="n">list</span><span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span><span class="w"> </span><span class="n">ls</span><span class="p">;</span>
<a id="__codelineno-43-2" name="__codelineno-43-2" href="#__codelineno-43-2"></a><span class="n">ls</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="s">&quot;111111&quot;</span><span class="p">);</span>
<a id="__codelineno-43-3" name="__codelineno-43-3" href="#__codelineno-43-3"></a><span class="n">ls</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="s">&quot;111111&quot;</span><span class="p">);</span>
<a id="__codelineno-43-4" name="__codelineno-43-4" href="#__codelineno-43-4"></a><span class="n">ls</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="s">&quot;111111&quot;</span><span class="p">);</span>
<a id="__codelineno-43-5" name="__codelineno-43-5" href="#__codelineno-43-5"></a><span class="n">ls</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="s">&quot;111111&quot;</span><span class="p">);</span>
</code></pre></div>
<p>此时必需更改打印函数中的类型为<code>string</code>类型，但是每一次更换类型就要改变函数步骤相对繁琐，如果一个函数中涉及到多个类型的list，此时就无法实现调用打印函数打印链表内容，此时可以考虑使用模板，将list的模板参数设置为模板参数，如下面的代码：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-44-1" name="__codelineno-44-1" href="#__codelineno-44-1"></a><span class="c1">//额外补充的函数——标准库中没有</span>
<a id="__codelineno-44-2" name="__codelineno-44-2" href="#__codelineno-44-2"></a><span class="c1">//打印函数</span>
<a id="__codelineno-44-3" name="__codelineno-44-3" href="#__codelineno-44-3"></a><span class="k">template</span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">T</span><span class="o">&gt;</span>
<a id="__codelineno-44-4" name="__codelineno-44-4" href="#__codelineno-44-4"></a><span class="kt">void</span><span class="w"> </span><span class="n">print_list</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">list</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">ls</span><span class="p">)</span>
<a id="__codelineno-44-5" name="__codelineno-44-5" href="#__codelineno-44-5"></a><span class="p">{</span>
<a id="__codelineno-44-6" name="__codelineno-44-6" href="#__codelineno-44-6"></a><span class="w">    </span><span class="n">sim_list</span><span class="o">::</span><span class="n">list</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;::</span><span class="n">const_iterator</span><span class="w"> </span><span class="n">cit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ls</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span>
<a id="__codelineno-44-7" name="__codelineno-44-7" href="#__codelineno-44-7"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">cit</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">ls</span><span class="p">.</span><span class="n">end</span><span class="p">())</span>
<a id="__codelineno-44-8" name="__codelineno-44-8" href="#__codelineno-44-8"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-44-9" name="__codelineno-44-9" href="#__codelineno-44-9"></a><span class="w">        </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="o">*</span><span class="n">cit</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="p">;</span>
<a id="__codelineno-44-10" name="__codelineno-44-10" href="#__codelineno-44-10"></a><span class="w">        </span><span class="n">cit</span><span class="o">++</span><span class="p">;</span>
<a id="__codelineno-44-11" name="__codelineno-44-11" href="#__codelineno-44-11"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-44-12" name="__codelineno-44-12" href="#__codelineno-44-12"></a><span class="p">}</span>
</code></pre></div>
<p>但是上面的代码没有通过编译，原因在于模板参数，当模板参数在函数模板或者类模板中，编译器开始编译时，可以实现替换，从而生成对应的函数或者类。但是在上面的代码中，<code>const_iterator</code>是一个被<code>typedef</code>的变量，但是编译器并不知道是重命名的变量，反之编译器可能会认为是静态变量，所以此时到底是<code>const_iterator</code>是静态变量还是重命名的变量编译器并不知道，编译器需要在类<code>sim_list</code>中确定<code>const_iterator</code>的类型，从而实现链接，最后再替换模板参数，因为在模板参数还未被替换时，编译器不能进类<code>sim_list</code>中寻找，因为此时类中可能存在未知的内容没有被处理，所以为了确保正常编译通过，此时不可以使用<code>class T</code>作为模板参数，而应该使用<code>typename T</code>，所以上面的代码修改为：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-45-1" name="__codelineno-45-1" href="#__codelineno-45-1"></a><span class="c1">//额外补充的函数——标准库中没有</span>
<a id="__codelineno-45-2" name="__codelineno-45-2" href="#__codelineno-45-2"></a><span class="c1">//打印函数</span>
<a id="__codelineno-45-3" name="__codelineno-45-3" href="#__codelineno-45-3"></a><span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">T</span><span class="o">&gt;</span>
<a id="__codelineno-45-4" name="__codelineno-45-4" href="#__codelineno-45-4"></a><span class="kt">void</span><span class="w"> </span><span class="n">print_list</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">list</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">ls</span><span class="p">)</span>
<a id="__codelineno-45-5" name="__codelineno-45-5" href="#__codelineno-45-5"></a><span class="p">{</span>
<a id="__codelineno-45-6" name="__codelineno-45-6" href="#__codelineno-45-6"></a><span class="w">    </span><span class="c1">//此处的typename不可以省略，此处的typename是为了告诉编译器这个需要等到模板参数被替换之后再去类中找的变量</span>
<a id="__codelineno-45-7" name="__codelineno-45-7" href="#__codelineno-45-7"></a><span class="w">    </span><span class="k">typename</span><span class="w"> </span><span class="nc">sim_list</span><span class="o">::</span><span class="n">list</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;::</span><span class="n">const_iterator</span><span class="w"> </span><span class="n">cit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ls</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span>
<a id="__codelineno-45-8" name="__codelineno-45-8" href="#__codelineno-45-8"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">cit</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">ls</span><span class="p">.</span><span class="n">end</span><span class="p">())</span>
<a id="__codelineno-45-9" name="__codelineno-45-9" href="#__codelineno-45-9"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-45-10" name="__codelineno-45-10" href="#__codelineno-45-10"></a><span class="w">        </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="o">*</span><span class="n">cit</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="p">;</span>
<a id="__codelineno-45-11" name="__codelineno-45-11" href="#__codelineno-45-11"></a><span class="w">        </span><span class="n">cit</span><span class="o">++</span><span class="p">;</span>
<a id="__codelineno-45-12" name="__codelineno-45-12" href="#__codelineno-45-12"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-45-13" name="__codelineno-45-13" href="#__codelineno-45-13"></a><span class="p">}</span>
</code></pre></div>
<p>另外还有一个问题，上面的打印代码仅仅实现的是list类的内容打印，但是如果此时需要为其他类打印，则需要另外再写一个打印，方式过于繁琐，所以可以考虑为各种类的内容打印写一个通用的函数，此时设计该函数时需要改变函数参数为各种容器，可以考虑使用函数模板，模板参数即为作为函数参数的容器，如下面的代码：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-46-1" name="__codelineno-46-1" href="#__codelineno-46-1"></a><span class="c1">//各种容器内容打印</span>
<a id="__codelineno-46-2" name="__codelineno-46-2" href="#__codelineno-46-2"></a><span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">container</span><span class="o">&gt;</span>
<a id="__codelineno-46-3" name="__codelineno-46-3" href="#__codelineno-46-3"></a><span class="kt">void</span><span class="w"> </span><span class="n">print_container</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">container</span><span class="o">&amp;</span><span class="w"> </span><span class="n">con</span><span class="p">)</span>
<a id="__codelineno-46-4" name="__codelineno-46-4" href="#__codelineno-46-4"></a><span class="p">{</span>
<a id="__codelineno-46-5" name="__codelineno-46-5" href="#__codelineno-46-5"></a><span class="w">    </span><span class="k">typename</span><span class="w"> </span><span class="nc">container</span><span class="o">::</span><span class="n">const_iterator</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">con</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span>
<a id="__codelineno-46-6" name="__codelineno-46-6" href="#__codelineno-46-6"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">it</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">con</span><span class="p">.</span><span class="n">end</span><span class="p">())</span>
<a id="__codelineno-46-7" name="__codelineno-46-7" href="#__codelineno-46-7"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-46-8" name="__codelineno-46-8" href="#__codelineno-46-8"></a><span class="w">        </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="o">*</span><span class="n">it</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="p">;</span>
<a id="__codelineno-46-9" name="__codelineno-46-9" href="#__codelineno-46-9"></a><span class="w">        </span><span class="n">it</span><span class="o">++</span><span class="p">;</span>
<a id="__codelineno-46-10" name="__codelineno-46-10" href="#__codelineno-46-10"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-46-11" name="__codelineno-46-11" href="#__codelineno-46-11"></a><span class="w">    </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>
<a id="__codelineno-46-12" name="__codelineno-46-12" href="#__codelineno-46-12"></a><span class="p">}</span>
</code></pre></div>
<h1 id="_6">项目代码<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h1>
<h2 id="list_6">list类实现文件<a class="headerlink" href="#list_6" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-47-1" name="__codelineno-47-1" href="#__codelineno-47-1"></a><span class="cp">#pragma once</span>
<a id="__codelineno-47-2" name="__codelineno-47-2" href="#__codelineno-47-2"></a>
<a id="__codelineno-47-3" name="__codelineno-47-3" href="#__codelineno-47-3"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span>
<a id="__codelineno-47-4" name="__codelineno-47-4" href="#__codelineno-47-4"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;cassert&gt;</span>
<a id="__codelineno-47-5" name="__codelineno-47-5" href="#__codelineno-47-5"></a><span class="k">using</span><span class="w"> </span><span class="k">namespace</span><span class="w"> </span><span class="nn">std</span><span class="p">;</span>
<a id="__codelineno-47-6" name="__codelineno-47-6" href="#__codelineno-47-6"></a>
<a id="__codelineno-47-7" name="__codelineno-47-7" href="#__codelineno-47-7"></a><span class="k">namespace</span><span class="w"> </span><span class="nn">sim_list</span>
<a id="__codelineno-47-8" name="__codelineno-47-8" href="#__codelineno-47-8"></a><span class="p">{</span>
<a id="__codelineno-47-9" name="__codelineno-47-9" href="#__codelineno-47-9"></a><span class="w">    </span><span class="c1">//节点结构</span>
<a id="__codelineno-47-10" name="__codelineno-47-10" href="#__codelineno-47-10"></a><span class="w">    </span><span class="k">template</span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">T</span><span class="o">&gt;</span>
<a id="__codelineno-47-11" name="__codelineno-47-11" href="#__codelineno-47-11"></a><span class="w">    </span><span class="k">struct</span><span class="w"> </span><span class="nc">_list_node</span>
<a id="__codelineno-47-12" name="__codelineno-47-12" href="#__codelineno-47-12"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-47-13" name="__codelineno-47-13" href="#__codelineno-47-13"></a><span class="w">        </span><span class="n">T</span><span class="w"> </span><span class="n">data</span><span class="p">;</span><span class="c1">// 数据类型</span>
<a id="__codelineno-47-14" name="__codelineno-47-14" href="#__codelineno-47-14"></a><span class="w">        </span><span class="n">_list_node</span><span class="o">*</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span><span class="c1">// 前驱指针</span>
<a id="__codelineno-47-15" name="__codelineno-47-15" href="#__codelineno-47-15"></a><span class="w">        </span><span class="n">_list_node</span><span class="o">*</span><span class="w"> </span><span class="n">next</span><span class="p">;</span><span class="c1">// 后继指针</span>
<a id="__codelineno-47-16" name="__codelineno-47-16" href="#__codelineno-47-16"></a>
<a id="__codelineno-47-17" name="__codelineno-47-17" href="#__codelineno-47-17"></a><span class="w">        </span><span class="c1">//节点构造函数</span>
<a id="__codelineno-47-18" name="__codelineno-47-18" href="#__codelineno-47-18"></a><span class="w">        </span><span class="n">_list_node</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">T</span><span class="o">&amp;</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">T</span><span class="p">())</span>
<a id="__codelineno-47-19" name="__codelineno-47-19" href="#__codelineno-47-19"></a><span class="w">            </span><span class="o">:</span><span class="n">data</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<a id="__codelineno-47-20" name="__codelineno-47-20" href="#__codelineno-47-20"></a><span class="w">            </span><span class="p">,</span><span class="n">prev</span><span class="p">(</span><span class="k">nullptr</span><span class="p">)</span>
<a id="__codelineno-47-21" name="__codelineno-47-21" href="#__codelineno-47-21"></a><span class="w">            </span><span class="p">,</span><span class="n">next</span><span class="p">(</span><span class="k">nullptr</span><span class="p">)</span>
<a id="__codelineno-47-22" name="__codelineno-47-22" href="#__codelineno-47-22"></a><span class="w">        </span><span class="p">{}</span>
<a id="__codelineno-47-23" name="__codelineno-47-23" href="#__codelineno-47-23"></a><span class="w">    </span><span class="p">};</span>
<a id="__codelineno-47-24" name="__codelineno-47-24" href="#__codelineno-47-24"></a>
<a id="__codelineno-47-25" name="__codelineno-47-25" href="#__codelineno-47-25"></a><span class="w">    </span><span class="c1">//迭代器结构——非const版本</span>
<a id="__codelineno-47-26" name="__codelineno-47-26" href="#__codelineno-47-26"></a><span class="w">    </span><span class="c1">//迭代器结构——复合版本</span>
<a id="__codelineno-47-27" name="__codelineno-47-27" href="#__codelineno-47-27"></a><span class="w">    </span><span class="k">template</span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">T</span><span class="p">,</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">Ref</span><span class="p">,</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">Ptr</span><span class="o">&gt;</span>
<a id="__codelineno-47-28" name="__codelineno-47-28" href="#__codelineno-47-28"></a><span class="w">    </span><span class="k">struct</span><span class="w"> </span><span class="nc">_list_iterator</span>
<a id="__codelineno-47-29" name="__codelineno-47-29" href="#__codelineno-47-29"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-47-30" name="__codelineno-47-30" href="#__codelineno-47-30"></a><span class="w">        </span><span class="k">typedef</span><span class="w"> </span><span class="n">_list_node</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">Node</span><span class="p">;</span>
<a id="__codelineno-47-31" name="__codelineno-47-31" href="#__codelineno-47-31"></a><span class="w">        </span><span class="k">typedef</span><span class="w"> </span><span class="n">_list_iterator</span><span class="o">&lt;</span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="n">Ref</span><span class="p">,</span><span class="w"> </span><span class="n">Ptr</span><span class="o">&gt;</span><span class="w"> </span><span class="n">self</span><span class="p">;</span>
<a id="__codelineno-47-32" name="__codelineno-47-32" href="#__codelineno-47-32"></a>
<a id="__codelineno-47-33" name="__codelineno-47-33" href="#__codelineno-47-33"></a><span class="w">        </span><span class="n">Node</span><span class="o">*</span><span class="w"> </span><span class="n">_node</span><span class="p">;</span><span class="c1">//迭代器节点</span>
<a id="__codelineno-47-34" name="__codelineno-47-34" href="#__codelineno-47-34"></a>
<a id="__codelineno-47-35" name="__codelineno-47-35" href="#__codelineno-47-35"></a><span class="w">        </span><span class="c1">//迭代器构造函数</span>
<a id="__codelineno-47-36" name="__codelineno-47-36" href="#__codelineno-47-36"></a><span class="w">        </span><span class="n">_list_iterator</span><span class="p">(</span><span class="n">Node</span><span class="o">*</span><span class="w"> </span><span class="n">node</span><span class="p">)</span>
<a id="__codelineno-47-37" name="__codelineno-47-37" href="#__codelineno-47-37"></a><span class="w">            </span><span class="o">:</span><span class="n">_node</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
<a id="__codelineno-47-38" name="__codelineno-47-38" href="#__codelineno-47-38"></a><span class="w">        </span><span class="p">{}</span>
<a id="__codelineno-47-39" name="__codelineno-47-39" href="#__codelineno-47-39"></a>
<a id="__codelineno-47-40" name="__codelineno-47-40" href="#__codelineno-47-40"></a><span class="w">        </span><span class="c1">//迭代器前置++运算符重载</span>
<a id="__codelineno-47-41" name="__codelineno-47-41" href="#__codelineno-47-41"></a><span class="w">        </span><span class="n">self</span><span class="o">&amp;</span><span class="w"> </span><span class="k">operator</span><span class="o">++</span><span class="p">()</span>
<a id="__codelineno-47-42" name="__codelineno-47-42" href="#__codelineno-47-42"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-47-43" name="__codelineno-47-43" href="#__codelineno-47-43"></a><span class="w">            </span><span class="n">_node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_node</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>
<a id="__codelineno-47-44" name="__codelineno-47-44" href="#__codelineno-47-44"></a><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="o">*</span><span class="k">this</span><span class="p">;</span>
<a id="__codelineno-47-45" name="__codelineno-47-45" href="#__codelineno-47-45"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-47-46" name="__codelineno-47-46" href="#__codelineno-47-46"></a>
<a id="__codelineno-47-47" name="__codelineno-47-47" href="#__codelineno-47-47"></a><span class="w">        </span><span class="c1">//迭代器前置--运算符重载</span>
<a id="__codelineno-47-48" name="__codelineno-47-48" href="#__codelineno-47-48"></a><span class="w">        </span><span class="n">self</span><span class="o">&amp;</span><span class="w"> </span><span class="k">operator</span><span class="o">--</span><span class="p">()</span>
<a id="__codelineno-47-49" name="__codelineno-47-49" href="#__codelineno-47-49"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-47-50" name="__codelineno-47-50" href="#__codelineno-47-50"></a><span class="w">            </span><span class="n">_node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_node</span><span class="o">-&gt;</span><span class="n">prev</span><span class="p">;</span>
<a id="__codelineno-47-51" name="__codelineno-47-51" href="#__codelineno-47-51"></a><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="o">*</span><span class="k">this</span><span class="p">;</span>
<a id="__codelineno-47-52" name="__codelineno-47-52" href="#__codelineno-47-52"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-47-53" name="__codelineno-47-53" href="#__codelineno-47-53"></a>
<a id="__codelineno-47-54" name="__codelineno-47-54" href="#__codelineno-47-54"></a><span class="w">        </span><span class="c1">//迭代器后置++运算符重载</span>
<a id="__codelineno-47-55" name="__codelineno-47-55" href="#__codelineno-47-55"></a><span class="w">        </span><span class="n">self</span><span class="w"> </span><span class="k">operator</span><span class="o">++</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span>
<a id="__codelineno-47-56" name="__codelineno-47-56" href="#__codelineno-47-56"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-47-57" name="__codelineno-47-57" href="#__codelineno-47-57"></a><span class="w">            </span><span class="n">Node</span><span class="o">*</span><span class="w"> </span><span class="n">cur</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_node</span><span class="p">;</span>
<a id="__codelineno-47-58" name="__codelineno-47-58" href="#__codelineno-47-58"></a><span class="w">            </span><span class="n">_node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_node</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>
<a id="__codelineno-47-59" name="__codelineno-47-59" href="#__codelineno-47-59"></a><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">cur</span><span class="p">;</span>
<a id="__codelineno-47-60" name="__codelineno-47-60" href="#__codelineno-47-60"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-47-61" name="__codelineno-47-61" href="#__codelineno-47-61"></a>
<a id="__codelineno-47-62" name="__codelineno-47-62" href="#__codelineno-47-62"></a><span class="w">        </span><span class="c1">//迭代器后置--运算符重载</span>
<a id="__codelineno-47-63" name="__codelineno-47-63" href="#__codelineno-47-63"></a><span class="w">        </span><span class="n">self</span><span class="w"> </span><span class="k">operator</span><span class="o">--</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span>
<a id="__codelineno-47-64" name="__codelineno-47-64" href="#__codelineno-47-64"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-47-65" name="__codelineno-47-65" href="#__codelineno-47-65"></a><span class="w">            </span><span class="n">Node</span><span class="o">*</span><span class="w"> </span><span class="n">cur</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_node</span><span class="p">;</span>
<a id="__codelineno-47-66" name="__codelineno-47-66" href="#__codelineno-47-66"></a><span class="w">            </span><span class="n">_node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_node</span><span class="o">-&gt;</span><span class="n">prev</span><span class="p">;</span>
<a id="__codelineno-47-67" name="__codelineno-47-67" href="#__codelineno-47-67"></a><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">cur</span><span class="p">;</span>
<a id="__codelineno-47-68" name="__codelineno-47-68" href="#__codelineno-47-68"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-47-69" name="__codelineno-47-69" href="#__codelineno-47-69"></a>
<a id="__codelineno-47-70" name="__codelineno-47-70" href="#__codelineno-47-70"></a><span class="w">        </span><span class="c1">//迭代器*运算符重载</span>
<a id="__codelineno-47-71" name="__codelineno-47-71" href="#__codelineno-47-71"></a><span class="w">        </span><span class="n">Ref</span><span class="w"> </span><span class="k">operator</span><span class="o">*</span><span class="p">()</span>
<a id="__codelineno-47-72" name="__codelineno-47-72" href="#__codelineno-47-72"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-47-73" name="__codelineno-47-73" href="#__codelineno-47-73"></a><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">_node</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">;</span>
<a id="__codelineno-47-74" name="__codelineno-47-74" href="#__codelineno-47-74"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-47-75" name="__codelineno-47-75" href="#__codelineno-47-75"></a>
<a id="__codelineno-47-76" name="__codelineno-47-76" href="#__codelineno-47-76"></a><span class="w">        </span><span class="c1">//迭代器-&gt;运算符重载</span>
<a id="__codelineno-47-77" name="__codelineno-47-77" href="#__codelineno-47-77"></a><span class="w">        </span><span class="n">Ptr</span><span class="w"> </span><span class="k">operator</span><span class="o">-&gt;</span><span class="p">()</span>
<a id="__codelineno-47-78" name="__codelineno-47-78" href="#__codelineno-47-78"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-47-79" name="__codelineno-47-79" href="#__codelineno-47-79"></a><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="o">&amp;</span><span class="p">(</span><span class="n">_node</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">);</span>
<a id="__codelineno-47-80" name="__codelineno-47-80" href="#__codelineno-47-80"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-47-81" name="__codelineno-47-81" href="#__codelineno-47-81"></a>
<a id="__codelineno-47-82" name="__codelineno-47-82" href="#__codelineno-47-82"></a><span class="w">        </span><span class="c1">//迭代器!=运算符重载</span>
<a id="__codelineno-47-83" name="__codelineno-47-83" href="#__codelineno-47-83"></a><span class="w">        </span><span class="kt">bool</span><span class="w"> </span><span class="k">operator</span><span class="o">!=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">self</span><span class="o">&amp;</span><span class="w"> </span><span class="n">cur</span><span class="p">)</span>
<a id="__codelineno-47-84" name="__codelineno-47-84" href="#__codelineno-47-84"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-47-85" name="__codelineno-47-85" href="#__codelineno-47-85"></a><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">_node</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">cur</span><span class="p">.</span><span class="n">_node</span><span class="p">;</span>
<a id="__codelineno-47-86" name="__codelineno-47-86" href="#__codelineno-47-86"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-47-87" name="__codelineno-47-87" href="#__codelineno-47-87"></a>
<a id="__codelineno-47-88" name="__codelineno-47-88" href="#__codelineno-47-88"></a><span class="w">        </span><span class="c1">//迭代器==运算符重载</span>
<a id="__codelineno-47-89" name="__codelineno-47-89" href="#__codelineno-47-89"></a><span class="w">        </span><span class="kt">bool</span><span class="w"> </span><span class="k">operator</span><span class="o">==</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">self</span><span class="o">&amp;</span><span class="w"> </span><span class="n">cur</span><span class="p">)</span>
<a id="__codelineno-47-90" name="__codelineno-47-90" href="#__codelineno-47-90"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-47-91" name="__codelineno-47-91" href="#__codelineno-47-91"></a><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">_node</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">cur</span><span class="p">.</span><span class="n">_node</span><span class="p">;</span>
<a id="__codelineno-47-92" name="__codelineno-47-92" href="#__codelineno-47-92"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-47-93" name="__codelineno-47-93" href="#__codelineno-47-93"></a><span class="w">    </span><span class="p">};</span>
<a id="__codelineno-47-94" name="__codelineno-47-94" href="#__codelineno-47-94"></a>
<a id="__codelineno-47-95" name="__codelineno-47-95" href="#__codelineno-47-95"></a><span class="cp">#if 0</span>
<a id="__codelineno-47-96" name="__codelineno-47-96" href="#__codelineno-47-96"></a><span class="c">    // 迭代器——const版本</span>
<a id="__codelineno-47-97" name="__codelineno-47-97" href="#__codelineno-47-97"></a><span class="c">    template&lt;class T&gt;</span>
<a id="__codelineno-47-98" name="__codelineno-47-98" href="#__codelineno-47-98"></a><span class="c">    struct _list_iterator_const </span>
<a id="__codelineno-47-99" name="__codelineno-47-99" href="#__codelineno-47-99"></a><span class="c">    {</span>
<a id="__codelineno-47-100" name="__codelineno-47-100" href="#__codelineno-47-100"></a><span class="c">        typedef _list_node&lt;T&gt; Node;</span>
<a id="__codelineno-47-101" name="__codelineno-47-101" href="#__codelineno-47-101"></a><span class="c">        typedef _list_iterator_const&lt;T&gt; self;</span>
<a id="__codelineno-47-102" name="__codelineno-47-102" href="#__codelineno-47-102"></a>
<a id="__codelineno-47-103" name="__codelineno-47-103" href="#__codelineno-47-103"></a><span class="c">        Node* _node;</span>
<a id="__codelineno-47-104" name="__codelineno-47-104" href="#__codelineno-47-104"></a>
<a id="__codelineno-47-105" name="__codelineno-47-105" href="#__codelineno-47-105"></a><span class="c">        //构造函数</span>
<a id="__codelineno-47-106" name="__codelineno-47-106" href="#__codelineno-47-106"></a><span class="c">        //使用指针构造迭代器</span>
<a id="__codelineno-47-107" name="__codelineno-47-107" href="#__codelineno-47-107"></a><span class="c">        _list_iterator_const(Node* node)</span>
<a id="__codelineno-47-108" name="__codelineno-47-108" href="#__codelineno-47-108"></a><span class="c">            :_node(node)</span>
<a id="__codelineno-47-109" name="__codelineno-47-109" href="#__codelineno-47-109"></a><span class="c">        {}</span>
<a id="__codelineno-47-110" name="__codelineno-47-110" href="#__codelineno-47-110"></a>
<a id="__codelineno-47-111" name="__codelineno-47-111" href="#__codelineno-47-111"></a><span class="c">        //非const对象向const对象转换的构造函数</span>
<a id="__codelineno-47-112" name="__codelineno-47-112" href="#__codelineno-47-112"></a><span class="c">        //传入非const对象，为了确保安全，使用const修饰形参</span>
<a id="__codelineno-47-113" name="__codelineno-47-113" href="#__codelineno-47-113"></a><span class="c">        _list_iterator_const(const _list_iterator&lt;T&gt; nonConst)</span>
<a id="__codelineno-47-114" name="__codelineno-47-114" href="#__codelineno-47-114"></a><span class="c">            :_node(nonConst._node)//使用非const对象中的_node值构造const版本的对象中的_node</span>
<a id="__codelineno-47-115" name="__codelineno-47-115" href="#__codelineno-47-115"></a><span class="c">        {}</span>
<a id="__codelineno-47-116" name="__codelineno-47-116" href="#__codelineno-47-116"></a>
<a id="__codelineno-47-117" name="__codelineno-47-117" href="#__codelineno-47-117"></a><span class="c">        //operator++()函数</span>
<a id="__codelineno-47-118" name="__codelineno-47-118" href="#__codelineno-47-118"></a><span class="c">        self&amp; operator++()</span>
<a id="__codelineno-47-119" name="__codelineno-47-119" href="#__codelineno-47-119"></a><span class="c">        {</span>
<a id="__codelineno-47-120" name="__codelineno-47-120" href="#__codelineno-47-120"></a><span class="c">            _node = _node-&gt;next;</span>
<a id="__codelineno-47-121" name="__codelineno-47-121" href="#__codelineno-47-121"></a><span class="c">            return *this;</span>
<a id="__codelineno-47-122" name="__codelineno-47-122" href="#__codelineno-47-122"></a><span class="c">        }</span>
<a id="__codelineno-47-123" name="__codelineno-47-123" href="#__codelineno-47-123"></a>
<a id="__codelineno-47-124" name="__codelineno-47-124" href="#__codelineno-47-124"></a><span class="c">        //operator*()函数</span>
<a id="__codelineno-47-125" name="__codelineno-47-125" href="#__codelineno-47-125"></a><span class="c">        const T&amp; operator*() const</span>
<a id="__codelineno-47-126" name="__codelineno-47-126" href="#__codelineno-47-126"></a><span class="c">        {</span>
<a id="__codelineno-47-127" name="__codelineno-47-127" href="#__codelineno-47-127"></a><span class="c">            return _node-&gt;data;</span>
<a id="__codelineno-47-128" name="__codelineno-47-128" href="#__codelineno-47-128"></a><span class="c">        }</span>
<a id="__codelineno-47-129" name="__codelineno-47-129" href="#__codelineno-47-129"></a>
<a id="__codelineno-47-130" name="__codelineno-47-130" href="#__codelineno-47-130"></a><span class="c">        //operator!=()函数</span>
<a id="__codelineno-47-131" name="__codelineno-47-131" href="#__codelineno-47-131"></a><span class="c">        bool operator!=(const self&amp; cur)</span>
<a id="__codelineno-47-132" name="__codelineno-47-132" href="#__codelineno-47-132"></a><span class="c">        {</span>
<a id="__codelineno-47-133" name="__codelineno-47-133" href="#__codelineno-47-133"></a><span class="c">            return _node != cur._node;</span>
<a id="__codelineno-47-134" name="__codelineno-47-134" href="#__codelineno-47-134"></a><span class="c">        }</span>
<a id="__codelineno-47-135" name="__codelineno-47-135" href="#__codelineno-47-135"></a>
<a id="__codelineno-47-136" name="__codelineno-47-136" href="#__codelineno-47-136"></a><span class="c">        //operator--()函数</span>
<a id="__codelineno-47-137" name="__codelineno-47-137" href="#__codelineno-47-137"></a><span class="c">        self&amp; operator--()</span>
<a id="__codelineno-47-138" name="__codelineno-47-138" href="#__codelineno-47-138"></a><span class="c">        {</span>
<a id="__codelineno-47-139" name="__codelineno-47-139" href="#__codelineno-47-139"></a><span class="c">            _node = _node-&gt;prev;</span>
<a id="__codelineno-47-140" name="__codelineno-47-140" href="#__codelineno-47-140"></a><span class="c">            return *this;</span>
<a id="__codelineno-47-141" name="__codelineno-47-141" href="#__codelineno-47-141"></a><span class="c">        }</span>
<a id="__codelineno-47-142" name="__codelineno-47-142" href="#__codelineno-47-142"></a>
<a id="__codelineno-47-143" name="__codelineno-47-143" href="#__codelineno-47-143"></a><span class="c">        //operator--(int)函数</span>
<a id="__codelineno-47-144" name="__codelineno-47-144" href="#__codelineno-47-144"></a><span class="c">        self operator--(int)</span>
<a id="__codelineno-47-145" name="__codelineno-47-145" href="#__codelineno-47-145"></a><span class="c">        {</span>
<a id="__codelineno-47-146" name="__codelineno-47-146" href="#__codelineno-47-146"></a><span class="c">            Node* cur = _node;</span>
<a id="__codelineno-47-147" name="__codelineno-47-147" href="#__codelineno-47-147"></a><span class="c">            _node = _node-&gt;prev;</span>
<a id="__codelineno-47-148" name="__codelineno-47-148" href="#__codelineno-47-148"></a><span class="c">            return cur;</span>
<a id="__codelineno-47-149" name="__codelineno-47-149" href="#__codelineno-47-149"></a><span class="c">        }</span>
<a id="__codelineno-47-150" name="__codelineno-47-150" href="#__codelineno-47-150"></a>
<a id="__codelineno-47-151" name="__codelineno-47-151" href="#__codelineno-47-151"></a><span class="c">        //operator++(int)函数</span>
<a id="__codelineno-47-152" name="__codelineno-47-152" href="#__codelineno-47-152"></a><span class="c">        self operator++(int)</span>
<a id="__codelineno-47-153" name="__codelineno-47-153" href="#__codelineno-47-153"></a><span class="c">        {</span>
<a id="__codelineno-47-154" name="__codelineno-47-154" href="#__codelineno-47-154"></a><span class="c">            Node* cur = _node;</span>
<a id="__codelineno-47-155" name="__codelineno-47-155" href="#__codelineno-47-155"></a><span class="c">            _node = _node-&gt;next;</span>
<a id="__codelineno-47-156" name="__codelineno-47-156" href="#__codelineno-47-156"></a><span class="c">            return cur;</span>
<a id="__codelineno-47-157" name="__codelineno-47-157" href="#__codelineno-47-157"></a><span class="c">        }</span>
<a id="__codelineno-47-158" name="__codelineno-47-158" href="#__codelineno-47-158"></a>
<a id="__codelineno-47-159" name="__codelineno-47-159" href="#__codelineno-47-159"></a><span class="c">        //operator==()函数</span>
<a id="__codelineno-47-160" name="__codelineno-47-160" href="#__codelineno-47-160"></a><span class="c">        bool operator==(const self&amp; cur)</span>
<a id="__codelineno-47-161" name="__codelineno-47-161" href="#__codelineno-47-161"></a><span class="c">        {</span>
<a id="__codelineno-47-162" name="__codelineno-47-162" href="#__codelineno-47-162"></a><span class="c">            return _node == cur._node;</span>
<a id="__codelineno-47-163" name="__codelineno-47-163" href="#__codelineno-47-163"></a><span class="c">        }</span>
<a id="__codelineno-47-164" name="__codelineno-47-164" href="#__codelineno-47-164"></a>
<a id="__codelineno-47-165" name="__codelineno-47-165" href="#__codelineno-47-165"></a><span class="c">        //operator-&gt;()函数</span>
<a id="__codelineno-47-166" name="__codelineno-47-166" href="#__codelineno-47-166"></a><span class="c">        const T* operator-&gt;()</span>
<a id="__codelineno-47-167" name="__codelineno-47-167" href="#__codelineno-47-167"></a><span class="c">        {</span>
<a id="__codelineno-47-168" name="__codelineno-47-168" href="#__codelineno-47-168"></a><span class="c">            return &amp;_node-&gt;data;</span>
<a id="__codelineno-47-169" name="__codelineno-47-169" href="#__codelineno-47-169"></a><span class="c">        }</span>
<a id="__codelineno-47-170" name="__codelineno-47-170" href="#__codelineno-47-170"></a><span class="c">    };</span>
<a id="__codelineno-47-171" name="__codelineno-47-171" href="#__codelineno-47-171"></a><span class="cp">#endif</span>
<a id="__codelineno-47-172" name="__codelineno-47-172" href="#__codelineno-47-172"></a><span class="w">    </span><span class="k">template</span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">T</span><span class="o">&gt;</span><span class="w"> </span>
<a id="__codelineno-47-173" name="__codelineno-47-173" href="#__codelineno-47-173"></a><span class="w">    </span><span class="k">class</span><span class="w"> </span><span class="nc">list</span>
<a id="__codelineno-47-174" name="__codelineno-47-174" href="#__codelineno-47-174"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-47-175" name="__codelineno-47-175" href="#__codelineno-47-175"></a><span class="w">        </span><span class="k">typedef</span><span class="w"> </span><span class="n">_list_node</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">Node</span><span class="p">;</span>
<a id="__codelineno-47-176" name="__codelineno-47-176" href="#__codelineno-47-176"></a><span class="w">    </span><span class="k">public</span><span class="o">:</span>
<a id="__codelineno-47-177" name="__codelineno-47-177" href="#__codelineno-47-177"></a><span class="w">        </span><span class="k">typedef</span><span class="w"> </span><span class="n">_list_iterator</span><span class="o">&lt;</span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="n">T</span><span class="o">&amp;</span><span class="p">,</span><span class="w"> </span><span class="n">T</span><span class="o">*&gt;</span><span class="w"> </span><span class="n">iterator</span><span class="p">;</span><span class="w"> </span><span class="c1">// 迭代器——非const版本</span>
<a id="__codelineno-47-178" name="__codelineno-47-178" href="#__codelineno-47-178"></a><span class="w">        </span><span class="k">typedef</span><span class="w"> </span><span class="n">_list_iterator</span><span class="o">&lt;</span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">T</span><span class="o">&amp;</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">T</span><span class="o">*&gt;</span><span class="w"> </span><span class="n">const_iterator</span><span class="p">;</span><span class="w"> </span><span class="c1">// 迭代器——const版本</span>
<a id="__codelineno-47-179" name="__codelineno-47-179" href="#__codelineno-47-179"></a><span class="w">        </span><span class="c1">//头节点处理</span>
<a id="__codelineno-47-180" name="__codelineno-47-180" href="#__codelineno-47-180"></a><span class="w">        </span><span class="kt">void</span><span class="w"> </span><span class="nf">empty_init</span><span class="p">()</span>
<a id="__codelineno-47-181" name="__codelineno-47-181" href="#__codelineno-47-181"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-47-182" name="__codelineno-47-182" href="#__codelineno-47-182"></a><span class="w">            </span><span class="n">_head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Node</span><span class="p">;</span>
<a id="__codelineno-47-183" name="__codelineno-47-183" href="#__codelineno-47-183"></a><span class="w">            </span><span class="n">_head</span><span class="o">-&gt;</span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_head</span><span class="p">;</span>
<a id="__codelineno-47-184" name="__codelineno-47-184" href="#__codelineno-47-184"></a><span class="w">            </span><span class="n">_head</span><span class="o">-&gt;</span><span class="n">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_head</span><span class="p">;</span>
<a id="__codelineno-47-185" name="__codelineno-47-185" href="#__codelineno-47-185"></a>
<a id="__codelineno-47-186" name="__codelineno-47-186" href="#__codelineno-47-186"></a><span class="w">            </span><span class="n">_size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-47-187" name="__codelineno-47-187" href="#__codelineno-47-187"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-47-188" name="__codelineno-47-188" href="#__codelineno-47-188"></a>
<a id="__codelineno-47-189" name="__codelineno-47-189" href="#__codelineno-47-189"></a><span class="w">        </span><span class="c1">//构造函数</span>
<a id="__codelineno-47-190" name="__codelineno-47-190" href="#__codelineno-47-190"></a><span class="w">        </span><span class="n">list</span><span class="p">()</span>
<a id="__codelineno-47-191" name="__codelineno-47-191" href="#__codelineno-47-191"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-47-192" name="__codelineno-47-192" href="#__codelineno-47-192"></a><span class="w">            </span><span class="n">empty_init</span><span class="p">();</span>
<a id="__codelineno-47-193" name="__codelineno-47-193" href="#__codelineno-47-193"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-47-194" name="__codelineno-47-194" href="#__codelineno-47-194"></a>
<a id="__codelineno-47-195" name="__codelineno-47-195" href="#__codelineno-47-195"></a><span class="w">        </span><span class="c1">//析构函数</span>
<a id="__codelineno-47-196" name="__codelineno-47-196" href="#__codelineno-47-196"></a><span class="w">        </span><span class="o">~</span><span class="n">list</span><span class="p">()</span>
<a id="__codelineno-47-197" name="__codelineno-47-197" href="#__codelineno-47-197"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-47-198" name="__codelineno-47-198" href="#__codelineno-47-198"></a><span class="w">            </span><span class="n">clear</span><span class="p">();</span>
<a id="__codelineno-47-199" name="__codelineno-47-199" href="#__codelineno-47-199"></a>
<a id="__codelineno-47-200" name="__codelineno-47-200" href="#__codelineno-47-200"></a><span class="w">            </span><span class="k">delete</span><span class="w"> </span><span class="n">_head</span><span class="p">;</span>
<a id="__codelineno-47-201" name="__codelineno-47-201" href="#__codelineno-47-201"></a><span class="w">            </span><span class="n">_head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">nullptr</span><span class="p">;</span>
<a id="__codelineno-47-202" name="__codelineno-47-202" href="#__codelineno-47-202"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-47-203" name="__codelineno-47-203" href="#__codelineno-47-203"></a>
<a id="__codelineno-47-204" name="__codelineno-47-204" href="#__codelineno-47-204"></a><span class="w">        </span><span class="c1">//拷贝构造函数</span>
<a id="__codelineno-47-205" name="__codelineno-47-205" href="#__codelineno-47-205"></a><span class="w">        </span><span class="n">list</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">list</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">ls</span><span class="p">)</span>
<a id="__codelineno-47-206" name="__codelineno-47-206" href="#__codelineno-47-206"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-47-207" name="__codelineno-47-207" href="#__codelineno-47-207"></a><span class="w">            </span><span class="n">empty_init</span><span class="p">();</span>
<a id="__codelineno-47-208" name="__codelineno-47-208" href="#__codelineno-47-208"></a>
<a id="__codelineno-47-209" name="__codelineno-47-209" href="#__codelineno-47-209"></a><span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">ls</span><span class="p">)</span>
<a id="__codelineno-47-210" name="__codelineno-47-210" href="#__codelineno-47-210"></a><span class="w">            </span><span class="p">{</span>
<a id="__codelineno-47-211" name="__codelineno-47-211" href="#__codelineno-47-211"></a><span class="w">                </span><span class="n">push_back</span><span class="p">(</span><span class="n">num</span><span class="p">);</span>
<a id="__codelineno-47-212" name="__codelineno-47-212" href="#__codelineno-47-212"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-47-213" name="__codelineno-47-213" href="#__codelineno-47-213"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-47-214" name="__codelineno-47-214" href="#__codelineno-47-214"></a>
<a id="__codelineno-47-215" name="__codelineno-47-215" href="#__codelineno-47-215"></a><span class="w">        </span><span class="c1">//赋值运算符重载函数</span>
<a id="__codelineno-47-216" name="__codelineno-47-216" href="#__codelineno-47-216"></a><span class="w">        </span><span class="n">list</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="k">operator</span><span class="o">=</span><span class="p">(</span><span class="n">list</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">ls</span><span class="p">)</span>
<a id="__codelineno-47-217" name="__codelineno-47-217" href="#__codelineno-47-217"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-47-218" name="__codelineno-47-218" href="#__codelineno-47-218"></a><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="k">this</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">ls</span><span class="p">)</span>
<a id="__codelineno-47-219" name="__codelineno-47-219" href="#__codelineno-47-219"></a><span class="w">            </span><span class="p">{</span>
<a id="__codelineno-47-220" name="__codelineno-47-220" href="#__codelineno-47-220"></a><span class="w">                </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">ls</span><span class="p">)</span>
<a id="__codelineno-47-221" name="__codelineno-47-221" href="#__codelineno-47-221"></a><span class="w">                </span><span class="p">{</span>
<a id="__codelineno-47-222" name="__codelineno-47-222" href="#__codelineno-47-222"></a><span class="w">                    </span><span class="n">push_back</span><span class="p">(</span><span class="n">num</span><span class="p">);</span>
<a id="__codelineno-47-223" name="__codelineno-47-223" href="#__codelineno-47-223"></a><span class="w">                </span><span class="p">}</span>
<a id="__codelineno-47-224" name="__codelineno-47-224" href="#__codelineno-47-224"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-47-225" name="__codelineno-47-225" href="#__codelineno-47-225"></a>
<a id="__codelineno-47-226" name="__codelineno-47-226" href="#__codelineno-47-226"></a><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="o">*</span><span class="k">this</span><span class="p">;</span>
<a id="__codelineno-47-227" name="__codelineno-47-227" href="#__codelineno-47-227"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-47-228" name="__codelineno-47-228" href="#__codelineno-47-228"></a>
<a id="__codelineno-47-229" name="__codelineno-47-229" href="#__codelineno-47-229"></a><span class="w">        </span><span class="c1">//begin()函数——非const版本</span>
<a id="__codelineno-47-230" name="__codelineno-47-230" href="#__codelineno-47-230"></a><span class="w">        </span><span class="n">iterator</span><span class="w"> </span><span class="n">begin</span><span class="p">()</span>
<a id="__codelineno-47-231" name="__codelineno-47-231" href="#__codelineno-47-231"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-47-232" name="__codelineno-47-232" href="#__codelineno-47-232"></a><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">_head</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span><span class="c1">//通过构造函数进行隐式类型转换</span>
<a id="__codelineno-47-233" name="__codelineno-47-233" href="#__codelineno-47-233"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-47-234" name="__codelineno-47-234" href="#__codelineno-47-234"></a>
<a id="__codelineno-47-235" name="__codelineno-47-235" href="#__codelineno-47-235"></a><span class="w">        </span><span class="c1">//begin()函数——const版本</span>
<a id="__codelineno-47-236" name="__codelineno-47-236" href="#__codelineno-47-236"></a><span class="w">        </span><span class="n">const_iterator</span><span class="w"> </span><span class="n">begin</span><span class="p">()</span><span class="w"> </span><span class="k">const</span>
<a id="__codelineno-47-237" name="__codelineno-47-237" href="#__codelineno-47-237"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-47-238" name="__codelineno-47-238" href="#__codelineno-47-238"></a><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">_head</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>
<a id="__codelineno-47-239" name="__codelineno-47-239" href="#__codelineno-47-239"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-47-240" name="__codelineno-47-240" href="#__codelineno-47-240"></a>
<a id="__codelineno-47-241" name="__codelineno-47-241" href="#__codelineno-47-241"></a><span class="w">        </span><span class="c1">//end()函数——非const版本</span>
<a id="__codelineno-47-242" name="__codelineno-47-242" href="#__codelineno-47-242"></a><span class="w">        </span><span class="n">iterator</span><span class="w"> </span><span class="n">end</span><span class="p">()</span>
<a id="__codelineno-47-243" name="__codelineno-47-243" href="#__codelineno-47-243"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-47-244" name="__codelineno-47-244" href="#__codelineno-47-244"></a><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">_head</span><span class="p">;</span>
<a id="__codelineno-47-245" name="__codelineno-47-245" href="#__codelineno-47-245"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-47-246" name="__codelineno-47-246" href="#__codelineno-47-246"></a>
<a id="__codelineno-47-247" name="__codelineno-47-247" href="#__codelineno-47-247"></a><span class="w">        </span><span class="c1">//end()函数——const版本</span>
<a id="__codelineno-47-248" name="__codelineno-47-248" href="#__codelineno-47-248"></a><span class="w">        </span><span class="n">const_iterator</span><span class="w"> </span><span class="n">end</span><span class="p">()</span><span class="w"> </span><span class="k">const</span>
<a id="__codelineno-47-249" name="__codelineno-47-249" href="#__codelineno-47-249"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-47-250" name="__codelineno-47-250" href="#__codelineno-47-250"></a><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">_head</span><span class="p">;</span>
<a id="__codelineno-47-251" name="__codelineno-47-251" href="#__codelineno-47-251"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-47-252" name="__codelineno-47-252" href="#__codelineno-47-252"></a>
<a id="__codelineno-47-253" name="__codelineno-47-253" href="#__codelineno-47-253"></a><span class="w">        </span><span class="c1">//push_back()函数</span>
<a id="__codelineno-47-254" name="__codelineno-47-254" href="#__codelineno-47-254"></a><span class="w">        </span><span class="kt">void</span><span class="w"> </span><span class="n">push_back</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">T</span><span class="o">&amp;</span><span class="w"> </span><span class="n">val</span><span class="p">)</span>
<a id="__codelineno-47-255" name="__codelineno-47-255" href="#__codelineno-47-255"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-47-256" name="__codelineno-47-256" href="#__codelineno-47-256"></a><span class="w">            </span><span class="c1">//创建新的节点</span>
<a id="__codelineno-47-257" name="__codelineno-47-257" href="#__codelineno-47-257"></a><span class="w">            </span><span class="n">Node</span><span class="o">*</span><span class="w"> </span><span class="n">node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Node</span><span class="p">(</span><span class="n">val</span><span class="p">);</span>
<a id="__codelineno-47-258" name="__codelineno-47-258" href="#__codelineno-47-258"></a><span class="w">            </span><span class="c1">//改变节点指针</span>
<a id="__codelineno-47-259" name="__codelineno-47-259" href="#__codelineno-47-259"></a><span class="w">            </span><span class="c1">//先记录当前最后一个节点</span>
<a id="__codelineno-47-260" name="__codelineno-47-260" href="#__codelineno-47-260"></a><span class="w">            </span><span class="n">Node</span><span class="o">*</span><span class="w"> </span><span class="n">tail</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_head</span><span class="o">-&gt;</span><span class="n">prev</span><span class="p">;</span>
<a id="__codelineno-47-261" name="__codelineno-47-261" href="#__codelineno-47-261"></a><span class="w">            </span><span class="c1">//改变头节点前驱指针为新节点</span>
<a id="__codelineno-47-262" name="__codelineno-47-262" href="#__codelineno-47-262"></a><span class="w">            </span><span class="n">_head</span><span class="o">-&gt;</span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">node</span><span class="p">;</span>
<a id="__codelineno-47-263" name="__codelineno-47-263" href="#__codelineno-47-263"></a><span class="w">            </span><span class="c1">//改变最后一个节点的后继指针指向新节点</span>
<a id="__codelineno-47-264" name="__codelineno-47-264" href="#__codelineno-47-264"></a><span class="w">            </span><span class="n">tail</span><span class="o">-&gt;</span><span class="n">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">node</span><span class="p">;</span>
<a id="__codelineno-47-265" name="__codelineno-47-265" href="#__codelineno-47-265"></a><span class="w">            </span><span class="c1">//改变新节点的指针</span>
<a id="__codelineno-47-266" name="__codelineno-47-266" href="#__codelineno-47-266"></a><span class="w">            </span><span class="n">node</span><span class="o">-&gt;</span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tail</span><span class="p">;</span>
<a id="__codelineno-47-267" name="__codelineno-47-267" href="#__codelineno-47-267"></a><span class="w">            </span><span class="n">node</span><span class="o">-&gt;</span><span class="n">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_head</span><span class="p">;</span>
<a id="__codelineno-47-268" name="__codelineno-47-268" href="#__codelineno-47-268"></a><span class="w">            </span><span class="o">++</span><span class="n">_size</span><span class="p">;</span>
<a id="__codelineno-47-269" name="__codelineno-47-269" href="#__codelineno-47-269"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-47-270" name="__codelineno-47-270" href="#__codelineno-47-270"></a>
<a id="__codelineno-47-271" name="__codelineno-47-271" href="#__codelineno-47-271"></a><span class="w">        </span><span class="c1">//push_front()函数</span>
<a id="__codelineno-47-272" name="__codelineno-47-272" href="#__codelineno-47-272"></a><span class="w">        </span><span class="kt">void</span><span class="w"> </span><span class="n">push_front</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">T</span><span class="o">&amp;</span><span class="w"> </span><span class="n">val</span><span class="p">)</span>
<a id="__codelineno-47-273" name="__codelineno-47-273" href="#__codelineno-47-273"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-47-274" name="__codelineno-47-274" href="#__codelineno-47-274"></a><span class="w">            </span><span class="c1">//创建新节点</span>
<a id="__codelineno-47-275" name="__codelineno-47-275" href="#__codelineno-47-275"></a><span class="w">            </span><span class="n">Node</span><span class="o">*</span><span class="w"> </span><span class="n">node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Node</span><span class="p">(</span><span class="n">val</span><span class="p">);</span>
<a id="__codelineno-47-276" name="__codelineno-47-276" href="#__codelineno-47-276"></a><span class="w">            </span><span class="c1">//改变指针指向</span>
<a id="__codelineno-47-277" name="__codelineno-47-277" href="#__codelineno-47-277"></a><span class="w">            </span><span class="c1">//先记录当前第一个节点</span>
<a id="__codelineno-47-278" name="__codelineno-47-278" href="#__codelineno-47-278"></a><span class="w">            </span><span class="n">Node</span><span class="o">*</span><span class="w"> </span><span class="n">first</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_head</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>
<a id="__codelineno-47-279" name="__codelineno-47-279" href="#__codelineno-47-279"></a><span class="w">            </span><span class="c1">//改变新节点的指针指向</span>
<a id="__codelineno-47-280" name="__codelineno-47-280" href="#__codelineno-47-280"></a><span class="w">            </span><span class="n">node</span><span class="o">-&gt;</span><span class="n">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">first</span><span class="p">;</span>
<a id="__codelineno-47-281" name="__codelineno-47-281" href="#__codelineno-47-281"></a><span class="w">            </span><span class="n">node</span><span class="o">-&gt;</span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_head</span><span class="p">;</span>
<a id="__codelineno-47-282" name="__codelineno-47-282" href="#__codelineno-47-282"></a><span class="w">            </span><span class="c1">//改变头指针后继指针指向</span>
<a id="__codelineno-47-283" name="__codelineno-47-283" href="#__codelineno-47-283"></a><span class="w">            </span><span class="n">_head</span><span class="o">-&gt;</span><span class="n">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">node</span><span class="p">;</span>
<a id="__codelineno-47-284" name="__codelineno-47-284" href="#__codelineno-47-284"></a><span class="w">            </span><span class="c1">//改变原始第一个节点的前驱指针指向</span>
<a id="__codelineno-47-285" name="__codelineno-47-285" href="#__codelineno-47-285"></a><span class="w">            </span><span class="n">first</span><span class="o">-&gt;</span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">node</span><span class="p">;</span>
<a id="__codelineno-47-286" name="__codelineno-47-286" href="#__codelineno-47-286"></a>
<a id="__codelineno-47-287" name="__codelineno-47-287" href="#__codelineno-47-287"></a><span class="w">            </span><span class="o">++</span><span class="n">_size</span><span class="p">;</span>
<a id="__codelineno-47-288" name="__codelineno-47-288" href="#__codelineno-47-288"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-47-289" name="__codelineno-47-289" href="#__codelineno-47-289"></a>
<a id="__codelineno-47-290" name="__codelineno-47-290" href="#__codelineno-47-290"></a><span class="w">        </span><span class="c1">//insert()函数</span>
<a id="__codelineno-47-291" name="__codelineno-47-291" href="#__codelineno-47-291"></a><span class="w">        </span><span class="n">iterator</span><span class="w"> </span><span class="n">insert</span><span class="p">(</span><span class="n">iterator</span><span class="w"> </span><span class="n">position</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">T</span><span class="o">&amp;</span><span class="w"> </span><span class="n">val</span><span class="p">)</span><span class="w">    </span>
<a id="__codelineno-47-292" name="__codelineno-47-292" href="#__codelineno-47-292"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-47-293" name="__codelineno-47-293" href="#__codelineno-47-293"></a><span class="w">            </span><span class="c1">//创建新的节点</span>
<a id="__codelineno-47-294" name="__codelineno-47-294" href="#__codelineno-47-294"></a><span class="w">            </span><span class="n">Node</span><span class="o">*</span><span class="w"> </span><span class="n">node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Node</span><span class="p">(</span><span class="n">val</span><span class="p">);</span>
<a id="__codelineno-47-295" name="__codelineno-47-295" href="#__codelineno-47-295"></a><span class="w">            </span><span class="c1">//改变节点指针指向</span>
<a id="__codelineno-47-296" name="__codelineno-47-296" href="#__codelineno-47-296"></a><span class="w">            </span><span class="c1">//记录当前position位置的节点</span>
<a id="__codelineno-47-297" name="__codelineno-47-297" href="#__codelineno-47-297"></a><span class="w">            </span><span class="n">Node</span><span class="o">*</span><span class="w"> </span><span class="n">cur</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">position</span><span class="p">.</span><span class="n">_node</span><span class="p">;</span>
<a id="__codelineno-47-298" name="__codelineno-47-298" href="#__codelineno-47-298"></a><span class="w">            </span><span class="c1">//改变新节点的指向</span>
<a id="__codelineno-47-299" name="__codelineno-47-299" href="#__codelineno-47-299"></a><span class="w">            </span><span class="n">node</span><span class="o">-&gt;</span><span class="n">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cur</span><span class="p">;</span>
<a id="__codelineno-47-300" name="__codelineno-47-300" href="#__codelineno-47-300"></a><span class="w">            </span><span class="n">node</span><span class="o">-&gt;</span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cur</span><span class="o">-&gt;</span><span class="n">prev</span><span class="p">;</span>
<a id="__codelineno-47-301" name="__codelineno-47-301" href="#__codelineno-47-301"></a><span class="w">            </span><span class="c1">//改变当前位置节点的前一个节点的后继指针指向</span>
<a id="__codelineno-47-302" name="__codelineno-47-302" href="#__codelineno-47-302"></a><span class="w">            </span><span class="n">cur</span><span class="o">-&gt;</span><span class="n">prev</span><span class="o">-&gt;</span><span class="n">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">node</span><span class="p">;</span>
<a id="__codelineno-47-303" name="__codelineno-47-303" href="#__codelineno-47-303"></a><span class="w">            </span><span class="c1">//改变当前位置节点的前驱指针指向</span>
<a id="__codelineno-47-304" name="__codelineno-47-304" href="#__codelineno-47-304"></a><span class="w">            </span><span class="n">cur</span><span class="o">-&gt;</span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">node</span><span class="p">;</span>
<a id="__codelineno-47-305" name="__codelineno-47-305" href="#__codelineno-47-305"></a>
<a id="__codelineno-47-306" name="__codelineno-47-306" href="#__codelineno-47-306"></a><span class="w">            </span><span class="o">++</span><span class="n">_size</span><span class="p">;</span>
<a id="__codelineno-47-307" name="__codelineno-47-307" href="#__codelineno-47-307"></a>
<a id="__codelineno-47-308" name="__codelineno-47-308" href="#__codelineno-47-308"></a><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">position</span><span class="p">;</span>
<a id="__codelineno-47-309" name="__codelineno-47-309" href="#__codelineno-47-309"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-47-310" name="__codelineno-47-310" href="#__codelineno-47-310"></a>
<a id="__codelineno-47-311" name="__codelineno-47-311" href="#__codelineno-47-311"></a><span class="w">        </span><span class="c1">//erase()函数</span>
<a id="__codelineno-47-312" name="__codelineno-47-312" href="#__codelineno-47-312"></a><span class="w">        </span><span class="n">iterator</span><span class="w"> </span><span class="n">erase</span><span class="p">(</span><span class="n">iterator</span><span class="w"> </span><span class="n">position</span><span class="p">)</span>
<a id="__codelineno-47-313" name="__codelineno-47-313" href="#__codelineno-47-313"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-47-314" name="__codelineno-47-314" href="#__codelineno-47-314"></a><span class="w">            </span><span class="c1">//不可以删除头结点</span>
<a id="__codelineno-47-315" name="__codelineno-47-315" href="#__codelineno-47-315"></a><span class="w">            </span><span class="n">assert</span><span class="p">(</span><span class="n">position</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">iterator</span><span class="p">(</span><span class="n">_head</span><span class="p">));</span>
<a id="__codelineno-47-316" name="__codelineno-47-316" href="#__codelineno-47-316"></a>
<a id="__codelineno-47-317" name="__codelineno-47-317" href="#__codelineno-47-317"></a><span class="w">            </span><span class="c1">//记录要删除的节点的后一个节点</span>
<a id="__codelineno-47-318" name="__codelineno-47-318" href="#__codelineno-47-318"></a><span class="w">            </span><span class="n">Node</span><span class="o">*</span><span class="w"> </span><span class="n">cur</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">position</span><span class="p">.</span><span class="n">_node</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>
<a id="__codelineno-47-319" name="__codelineno-47-319" href="#__codelineno-47-319"></a><span class="w">            </span><span class="c1">//改变要删除的节点的前一个节点的后继指针</span>
<a id="__codelineno-47-320" name="__codelineno-47-320" href="#__codelineno-47-320"></a><span class="w">            </span><span class="n">position</span><span class="p">.</span><span class="n">_node</span><span class="o">-&gt;</span><span class="n">prev</span><span class="o">-&gt;</span><span class="n">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cur</span><span class="p">;</span>
<a id="__codelineno-47-321" name="__codelineno-47-321" href="#__codelineno-47-321"></a><span class="w">            </span><span class="c1">//改变要删除的节点的后一个节点的前驱指针</span>
<a id="__codelineno-47-322" name="__codelineno-47-322" href="#__codelineno-47-322"></a><span class="w">            </span><span class="n">cur</span><span class="o">-&gt;</span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">position</span><span class="p">.</span><span class="n">_node</span><span class="o">-&gt;</span><span class="n">prev</span><span class="p">;</span>
<a id="__codelineno-47-323" name="__codelineno-47-323" href="#__codelineno-47-323"></a>
<a id="__codelineno-47-324" name="__codelineno-47-324" href="#__codelineno-47-324"></a><span class="w">            </span><span class="c1">//删除当前位置的指针</span>
<a id="__codelineno-47-325" name="__codelineno-47-325" href="#__codelineno-47-325"></a><span class="w">            </span><span class="k">delete</span><span class="w"> </span><span class="n">position</span><span class="p">.</span><span class="n">_node</span><span class="p">;</span>
<a id="__codelineno-47-326" name="__codelineno-47-326" href="#__codelineno-47-326"></a>
<a id="__codelineno-47-327" name="__codelineno-47-327" href="#__codelineno-47-327"></a><span class="w">            </span><span class="o">--</span><span class="n">_size</span><span class="p">;</span>
<a id="__codelineno-47-328" name="__codelineno-47-328" href="#__codelineno-47-328"></a>
<a id="__codelineno-47-329" name="__codelineno-47-329" href="#__codelineno-47-329"></a><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">cur</span><span class="p">;</span>
<a id="__codelineno-47-330" name="__codelineno-47-330" href="#__codelineno-47-330"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-47-331" name="__codelineno-47-331" href="#__codelineno-47-331"></a>
<a id="__codelineno-47-332" name="__codelineno-47-332" href="#__codelineno-47-332"></a><span class="w">        </span><span class="c1">//pop_front()函数</span>
<a id="__codelineno-47-333" name="__codelineno-47-333" href="#__codelineno-47-333"></a><span class="w">        </span><span class="kt">void</span><span class="w"> </span><span class="n">pop_front</span><span class="p">()</span>
<a id="__codelineno-47-334" name="__codelineno-47-334" href="#__codelineno-47-334"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-47-335" name="__codelineno-47-335" href="#__codelineno-47-335"></a><span class="w">            </span><span class="c1">//复用erase()函数</span>
<a id="__codelineno-47-336" name="__codelineno-47-336" href="#__codelineno-47-336"></a><span class="w">            </span><span class="n">erase</span><span class="p">(</span><span class="n">begin</span><span class="p">());</span>
<a id="__codelineno-47-337" name="__codelineno-47-337" href="#__codelineno-47-337"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-47-338" name="__codelineno-47-338" href="#__codelineno-47-338"></a>
<a id="__codelineno-47-339" name="__codelineno-47-339" href="#__codelineno-47-339"></a><span class="w">        </span><span class="c1">//pop_back()函数</span>
<a id="__codelineno-47-340" name="__codelineno-47-340" href="#__codelineno-47-340"></a><span class="w">        </span><span class="kt">void</span><span class="w"> </span><span class="n">pop_back</span><span class="p">()</span>
<a id="__codelineno-47-341" name="__codelineno-47-341" href="#__codelineno-47-341"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-47-342" name="__codelineno-47-342" href="#__codelineno-47-342"></a><span class="w">            </span><span class="n">erase</span><span class="p">(</span><span class="o">--</span><span class="n">end</span><span class="p">());</span>
<a id="__codelineno-47-343" name="__codelineno-47-343" href="#__codelineno-47-343"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-47-344" name="__codelineno-47-344" href="#__codelineno-47-344"></a>
<a id="__codelineno-47-345" name="__codelineno-47-345" href="#__codelineno-47-345"></a><span class="w">        </span><span class="c1">//clear()函数</span>
<a id="__codelineno-47-346" name="__codelineno-47-346" href="#__codelineno-47-346"></a><span class="w">        </span><span class="kt">void</span><span class="w"> </span><span class="n">clear</span><span class="p">()</span>
<a id="__codelineno-47-347" name="__codelineno-47-347" href="#__codelineno-47-347"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-47-348" name="__codelineno-47-348" href="#__codelineno-47-348"></a><span class="w">            </span><span class="n">iterator</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">begin</span><span class="p">();</span>
<a id="__codelineno-47-349" name="__codelineno-47-349" href="#__codelineno-47-349"></a><span class="w">            </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">it</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">end</span><span class="p">())</span>
<a id="__codelineno-47-350" name="__codelineno-47-350" href="#__codelineno-47-350"></a><span class="w">            </span><span class="p">{</span>
<a id="__codelineno-47-351" name="__codelineno-47-351" href="#__codelineno-47-351"></a><span class="w">                </span><span class="n">it</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">erase</span><span class="p">(</span><span class="n">it</span><span class="p">);</span>
<a id="__codelineno-47-352" name="__codelineno-47-352" href="#__codelineno-47-352"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-47-353" name="__codelineno-47-353" href="#__codelineno-47-353"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-47-354" name="__codelineno-47-354" href="#__codelineno-47-354"></a>
<a id="__codelineno-47-355" name="__codelineno-47-355" href="#__codelineno-47-355"></a><span class="w">        </span><span class="c1">//swap()函数</span>
<a id="__codelineno-47-356" name="__codelineno-47-356" href="#__codelineno-47-356"></a><span class="w">        </span><span class="kt">void</span><span class="w"> </span><span class="n">swap</span><span class="p">(</span><span class="n">list</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">ls</span><span class="p">)</span>
<a id="__codelineno-47-357" name="__codelineno-47-357" href="#__codelineno-47-357"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-47-358" name="__codelineno-47-358" href="#__codelineno-47-358"></a><span class="w">            </span><span class="n">std</span><span class="o">::</span><span class="n">swap</span><span class="p">(</span><span class="n">_head</span><span class="p">,</span><span class="w"> </span><span class="n">ls</span><span class="p">.</span><span class="n">_head</span><span class="p">);</span>
<a id="__codelineno-47-359" name="__codelineno-47-359" href="#__codelineno-47-359"></a><span class="w">            </span><span class="n">std</span><span class="o">::</span><span class="n">swap</span><span class="p">(</span><span class="n">_size</span><span class="p">,</span><span class="w"> </span><span class="n">ls</span><span class="p">.</span><span class="n">_size</span><span class="p">);</span>
<a id="__codelineno-47-360" name="__codelineno-47-360" href="#__codelineno-47-360"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-47-361" name="__codelineno-47-361" href="#__codelineno-47-361"></a>
<a id="__codelineno-47-362" name="__codelineno-47-362" href="#__codelineno-47-362"></a><span class="w">    </span><span class="k">private</span><span class="o">:</span>
<a id="__codelineno-47-363" name="__codelineno-47-363" href="#__codelineno-47-363"></a><span class="w">        </span><span class="n">Node</span><span class="o">*</span><span class="w"> </span><span class="n">_head</span><span class="p">;</span>
<a id="__codelineno-47-364" name="__codelineno-47-364" href="#__codelineno-47-364"></a><span class="w">        </span><span class="c1">//有效数据节点个数</span>
<a id="__codelineno-47-365" name="__codelineno-47-365" href="#__codelineno-47-365"></a><span class="w">        </span><span class="kt">size_t</span><span class="w"> </span><span class="n">_size</span><span class="p">;</span>
<a id="__codelineno-47-366" name="__codelineno-47-366" href="#__codelineno-47-366"></a><span class="w">    </span><span class="p">};</span>
<a id="__codelineno-47-367" name="__codelineno-47-367" href="#__codelineno-47-367"></a>
<a id="__codelineno-47-368" name="__codelineno-47-368" href="#__codelineno-47-368"></a><span class="w">    </span><span class="c1">//额外补充的函数——标准库中没有</span>
<a id="__codelineno-47-369" name="__codelineno-47-369" href="#__codelineno-47-369"></a><span class="w">    </span><span class="c1">//打印函数</span>
<a id="__codelineno-47-370" name="__codelineno-47-370" href="#__codelineno-47-370"></a><span class="w">    </span><span class="c1">//template&lt;typename T&gt;</span>
<a id="__codelineno-47-371" name="__codelineno-47-371" href="#__codelineno-47-371"></a><span class="w">    </span><span class="c1">//void print_list(const list&lt;T&gt;&amp; ls)</span>
<a id="__codelineno-47-372" name="__codelineno-47-372" href="#__codelineno-47-372"></a><span class="w">    </span><span class="c1">//{</span>
<a id="__codelineno-47-373" name="__codelineno-47-373" href="#__codelineno-47-373"></a><span class="w">    </span><span class="c1">//    //此处的typename不可以省略，此处的typename是为了告诉编译器这个需要等到模板参数被替换之后再去类中找的变量</span>
<a id="__codelineno-47-374" name="__codelineno-47-374" href="#__codelineno-47-374"></a><span class="w">    </span><span class="c1">//    typename sim_list::list&lt;T&gt;::const_iterator cit = ls.begin();</span>
<a id="__codelineno-47-375" name="__codelineno-47-375" href="#__codelineno-47-375"></a><span class="w">    </span><span class="c1">//    while (cit != ls.end())</span>
<a id="__codelineno-47-376" name="__codelineno-47-376" href="#__codelineno-47-376"></a><span class="w">    </span><span class="c1">//    {</span>
<a id="__codelineno-47-377" name="__codelineno-47-377" href="#__codelineno-47-377"></a><span class="w">    </span><span class="c1">//        cout &lt;&lt; *cit &lt;&lt; &quot; &quot;;</span>
<a id="__codelineno-47-378" name="__codelineno-47-378" href="#__codelineno-47-378"></a><span class="w">    </span><span class="c1">//        cit++;</span>
<a id="__codelineno-47-379" name="__codelineno-47-379" href="#__codelineno-47-379"></a><span class="w">    </span><span class="c1">//    }</span>
<a id="__codelineno-47-380" name="__codelineno-47-380" href="#__codelineno-47-380"></a><span class="w">    </span><span class="c1">//}</span>
<a id="__codelineno-47-381" name="__codelineno-47-381" href="#__codelineno-47-381"></a>
<a id="__codelineno-47-382" name="__codelineno-47-382" href="#__codelineno-47-382"></a><span class="w">    </span><span class="c1">//各种容器内容打印</span>
<a id="__codelineno-47-383" name="__codelineno-47-383" href="#__codelineno-47-383"></a><span class="w">    </span><span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">container</span><span class="o">&gt;</span>
<a id="__codelineno-47-384" name="__codelineno-47-384" href="#__codelineno-47-384"></a><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="n">print_container</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">container</span><span class="o">&amp;</span><span class="w"> </span><span class="n">con</span><span class="p">)</span>
<a id="__codelineno-47-385" name="__codelineno-47-385" href="#__codelineno-47-385"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-47-386" name="__codelineno-47-386" href="#__codelineno-47-386"></a><span class="w">        </span><span class="k">typename</span><span class="w"> </span><span class="nc">container</span><span class="o">::</span><span class="n">const_iterator</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">con</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span>
<a id="__codelineno-47-387" name="__codelineno-47-387" href="#__codelineno-47-387"></a><span class="w">        </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">it</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">con</span><span class="p">.</span><span class="n">end</span><span class="p">())</span>
<a id="__codelineno-47-388" name="__codelineno-47-388" href="#__codelineno-47-388"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-47-389" name="__codelineno-47-389" href="#__codelineno-47-389"></a><span class="w">            </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="o">*</span><span class="n">it</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="p">;</span>
<a id="__codelineno-47-390" name="__codelineno-47-390" href="#__codelineno-47-390"></a><span class="w">            </span><span class="n">it</span><span class="o">++</span><span class="p">;</span>
<a id="__codelineno-47-391" name="__codelineno-47-391" href="#__codelineno-47-391"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-47-392" name="__codelineno-47-392" href="#__codelineno-47-392"></a><span class="w">        </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>
<a id="__codelineno-47-393" name="__codelineno-47-393" href="#__codelineno-47-393"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-47-394" name="__codelineno-47-394" href="#__codelineno-47-394"></a><span class="p">}</span>
</code></pre></div>
<h2 id="_7">测试文件<a class="headerlink" href="#_7" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-48-1" name="__codelineno-48-1" href="#__codelineno-48-1"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;list.h&quot;</span>
<a id="__codelineno-48-2" name="__codelineno-48-2" href="#__codelineno-48-2"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;vector&gt;</span>
<a id="__codelineno-48-3" name="__codelineno-48-3" href="#__codelineno-48-3"></a>
<a id="__codelineno-48-4" name="__codelineno-48-4" href="#__codelineno-48-4"></a><span class="kt">void</span><span class="w"> </span><span class="nf">test_pushback</span><span class="p">()</span>
<a id="__codelineno-48-5" name="__codelineno-48-5" href="#__codelineno-48-5"></a><span class="p">{</span>
<a id="__codelineno-48-6" name="__codelineno-48-6" href="#__codelineno-48-6"></a><span class="w">    </span><span class="n">sim_list</span><span class="o">::</span><span class="n">list</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="w"> </span><span class="n">ls</span><span class="p">;</span>
<a id="__codelineno-48-7" name="__codelineno-48-7" href="#__codelineno-48-7"></a><span class="w">    </span><span class="n">ls</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<a id="__codelineno-48-8" name="__codelineno-48-8" href="#__codelineno-48-8"></a><span class="w">    </span><span class="n">ls</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
<a id="__codelineno-48-9" name="__codelineno-48-9" href="#__codelineno-48-9"></a><span class="w">    </span><span class="n">ls</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
<a id="__codelineno-48-10" name="__codelineno-48-10" href="#__codelineno-48-10"></a><span class="w">    </span><span class="n">ls</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span>
<a id="__codelineno-48-11" name="__codelineno-48-11" href="#__codelineno-48-11"></a><span class="w">    </span><span class="n">ls</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>
<a id="__codelineno-48-12" name="__codelineno-48-12" href="#__codelineno-48-12"></a>
<a id="__codelineno-48-13" name="__codelineno-48-13" href="#__codelineno-48-13"></a><span class="w">    </span><span class="n">sim_list</span><span class="o">::</span><span class="n">list</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;::</span><span class="n">iterator</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ls</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span>
<a id="__codelineno-48-14" name="__codelineno-48-14" href="#__codelineno-48-14"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">it</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">ls</span><span class="p">.</span><span class="n">end</span><span class="p">())</span>
<a id="__codelineno-48-15" name="__codelineno-48-15" href="#__codelineno-48-15"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-48-16" name="__codelineno-48-16" href="#__codelineno-48-16"></a><span class="w">        </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="o">*</span><span class="n">it</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="p">;</span>
<a id="__codelineno-48-17" name="__codelineno-48-17" href="#__codelineno-48-17"></a><span class="w">        </span><span class="n">it</span><span class="o">++</span><span class="p">;</span>
<a id="__codelineno-48-18" name="__codelineno-48-18" href="#__codelineno-48-18"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-48-19" name="__codelineno-48-19" href="#__codelineno-48-19"></a><span class="p">}</span>
<a id="__codelineno-48-20" name="__codelineno-48-20" href="#__codelineno-48-20"></a>
<a id="__codelineno-48-21" name="__codelineno-48-21" href="#__codelineno-48-21"></a><span class="kt">void</span><span class="w"> </span><span class="nf">test_pushfront</span><span class="p">()</span>
<a id="__codelineno-48-22" name="__codelineno-48-22" href="#__codelineno-48-22"></a><span class="p">{</span>
<a id="__codelineno-48-23" name="__codelineno-48-23" href="#__codelineno-48-23"></a><span class="w">    </span><span class="n">sim_list</span><span class="o">::</span><span class="n">list</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="w"> </span><span class="n">ls</span><span class="p">;</span>
<a id="__codelineno-48-24" name="__codelineno-48-24" href="#__codelineno-48-24"></a><span class="w">    </span><span class="n">ls</span><span class="p">.</span><span class="n">push_front</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<a id="__codelineno-48-25" name="__codelineno-48-25" href="#__codelineno-48-25"></a><span class="w">    </span><span class="n">ls</span><span class="p">.</span><span class="n">push_front</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
<a id="__codelineno-48-26" name="__codelineno-48-26" href="#__codelineno-48-26"></a><span class="w">    </span><span class="n">ls</span><span class="p">.</span><span class="n">push_front</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
<a id="__codelineno-48-27" name="__codelineno-48-27" href="#__codelineno-48-27"></a><span class="w">    </span><span class="n">ls</span><span class="p">.</span><span class="n">push_front</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span>
<a id="__codelineno-48-28" name="__codelineno-48-28" href="#__codelineno-48-28"></a><span class="w">    </span><span class="n">ls</span><span class="p">.</span><span class="n">push_front</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>
<a id="__codelineno-48-29" name="__codelineno-48-29" href="#__codelineno-48-29"></a>
<a id="__codelineno-48-30" name="__codelineno-48-30" href="#__codelineno-48-30"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">ls</span><span class="p">)</span>
<a id="__codelineno-48-31" name="__codelineno-48-31" href="#__codelineno-48-31"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-48-32" name="__codelineno-48-32" href="#__codelineno-48-32"></a><span class="w">        </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="p">;</span>
<a id="__codelineno-48-33" name="__codelineno-48-33" href="#__codelineno-48-33"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-48-34" name="__codelineno-48-34" href="#__codelineno-48-34"></a><span class="p">}</span>
<a id="__codelineno-48-35" name="__codelineno-48-35" href="#__codelineno-48-35"></a>
<a id="__codelineno-48-36" name="__codelineno-48-36" href="#__codelineno-48-36"></a><span class="kt">void</span><span class="w"> </span><span class="nf">test_insert</span><span class="p">()</span>
<a id="__codelineno-48-37" name="__codelineno-48-37" href="#__codelineno-48-37"></a><span class="p">{</span>
<a id="__codelineno-48-38" name="__codelineno-48-38" href="#__codelineno-48-38"></a><span class="w">    </span><span class="n">sim_list</span><span class="o">::</span><span class="n">list</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="w"> </span><span class="n">ls</span><span class="p">;</span>
<a id="__codelineno-48-39" name="__codelineno-48-39" href="#__codelineno-48-39"></a><span class="w">    </span><span class="n">ls</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<a id="__codelineno-48-40" name="__codelineno-48-40" href="#__codelineno-48-40"></a><span class="w">    </span><span class="n">ls</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
<a id="__codelineno-48-41" name="__codelineno-48-41" href="#__codelineno-48-41"></a><span class="w">    </span><span class="n">ls</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
<a id="__codelineno-48-42" name="__codelineno-48-42" href="#__codelineno-48-42"></a><span class="w">    </span><span class="n">ls</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span>
<a id="__codelineno-48-43" name="__codelineno-48-43" href="#__codelineno-48-43"></a><span class="w">    </span><span class="n">ls</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>
<a id="__codelineno-48-44" name="__codelineno-48-44" href="#__codelineno-48-44"></a>
<a id="__codelineno-48-45" name="__codelineno-48-45" href="#__codelineno-48-45"></a><span class="w">    </span><span class="n">sim_list</span><span class="o">::</span><span class="n">list</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;::</span><span class="n">iterator</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">++</span><span class="n">ls</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span>
<a id="__codelineno-48-46" name="__codelineno-48-46" href="#__codelineno-48-46"></a><span class="w">    </span><span class="c1">//sim_list::list&lt;int&gt;::iterator it = find(ls.begin(), ls.end(), 2);</span>
<a id="__codelineno-48-47" name="__codelineno-48-47" href="#__codelineno-48-47"></a><span class="w">    </span><span class="n">ls</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">it</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">);</span>
<a id="__codelineno-48-48" name="__codelineno-48-48" href="#__codelineno-48-48"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">ls</span><span class="p">)</span>
<a id="__codelineno-48-49" name="__codelineno-48-49" href="#__codelineno-48-49"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-48-50" name="__codelineno-48-50" href="#__codelineno-48-50"></a><span class="w">        </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="p">;</span>
<a id="__codelineno-48-51" name="__codelineno-48-51" href="#__codelineno-48-51"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-48-52" name="__codelineno-48-52" href="#__codelineno-48-52"></a><span class="p">}</span>
<a id="__codelineno-48-53" name="__codelineno-48-53" href="#__codelineno-48-53"></a>
<a id="__codelineno-48-54" name="__codelineno-48-54" href="#__codelineno-48-54"></a><span class="kt">void</span><span class="w"> </span><span class="nf">test_erase</span><span class="p">()</span>
<a id="__codelineno-48-55" name="__codelineno-48-55" href="#__codelineno-48-55"></a><span class="p">{</span>
<a id="__codelineno-48-56" name="__codelineno-48-56" href="#__codelineno-48-56"></a><span class="w">    </span><span class="n">sim_list</span><span class="o">::</span><span class="n">list</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="w"> </span><span class="n">ls</span><span class="p">;</span>
<a id="__codelineno-48-57" name="__codelineno-48-57" href="#__codelineno-48-57"></a><span class="w">    </span><span class="n">ls</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<a id="__codelineno-48-58" name="__codelineno-48-58" href="#__codelineno-48-58"></a><span class="w">    </span><span class="n">ls</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
<a id="__codelineno-48-59" name="__codelineno-48-59" href="#__codelineno-48-59"></a><span class="w">    </span><span class="n">ls</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
<a id="__codelineno-48-60" name="__codelineno-48-60" href="#__codelineno-48-60"></a><span class="w">    </span><span class="n">ls</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span>
<a id="__codelineno-48-61" name="__codelineno-48-61" href="#__codelineno-48-61"></a><span class="w">    </span><span class="n">ls</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>
<a id="__codelineno-48-62" name="__codelineno-48-62" href="#__codelineno-48-62"></a>
<a id="__codelineno-48-63" name="__codelineno-48-63" href="#__codelineno-48-63"></a><span class="w">    </span><span class="n">sim_list</span><span class="o">::</span><span class="n">list</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;::</span><span class="n">iterator</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">--</span><span class="n">ls</span><span class="p">.</span><span class="n">end</span><span class="p">();</span>
<a id="__codelineno-48-64" name="__codelineno-48-64" href="#__codelineno-48-64"></a>
<a id="__codelineno-48-65" name="__codelineno-48-65" href="#__codelineno-48-65"></a><span class="w">    </span><span class="n">it</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ls</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="n">it</span><span class="p">);</span>
<a id="__codelineno-48-66" name="__codelineno-48-66" href="#__codelineno-48-66"></a><span class="w">    </span><span class="n">it</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ls</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="o">--</span><span class="n">it</span><span class="p">);</span>
<a id="__codelineno-48-67" name="__codelineno-48-67" href="#__codelineno-48-67"></a><span class="w">    </span><span class="n">it</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ls</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="o">--</span><span class="n">it</span><span class="p">);</span>
<a id="__codelineno-48-68" name="__codelineno-48-68" href="#__codelineno-48-68"></a><span class="w">    </span><span class="n">it</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ls</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="o">--</span><span class="n">it</span><span class="p">);</span>
<a id="__codelineno-48-69" name="__codelineno-48-69" href="#__codelineno-48-69"></a>
<a id="__codelineno-48-70" name="__codelineno-48-70" href="#__codelineno-48-70"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">ls</span><span class="p">)</span>
<a id="__codelineno-48-71" name="__codelineno-48-71" href="#__codelineno-48-71"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-48-72" name="__codelineno-48-72" href="#__codelineno-48-72"></a><span class="w">        </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="p">;</span>
<a id="__codelineno-48-73" name="__codelineno-48-73" href="#__codelineno-48-73"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-48-74" name="__codelineno-48-74" href="#__codelineno-48-74"></a><span class="p">}</span>
<a id="__codelineno-48-75" name="__codelineno-48-75" href="#__codelineno-48-75"></a>
<a id="__codelineno-48-76" name="__codelineno-48-76" href="#__codelineno-48-76"></a><span class="kt">void</span><span class="w"> </span><span class="nf">test_popback</span><span class="p">()</span>
<a id="__codelineno-48-77" name="__codelineno-48-77" href="#__codelineno-48-77"></a><span class="p">{</span>
<a id="__codelineno-48-78" name="__codelineno-48-78" href="#__codelineno-48-78"></a><span class="w">    </span><span class="n">sim_list</span><span class="o">::</span><span class="n">list</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="w"> </span><span class="n">ls</span><span class="p">;</span>
<a id="__codelineno-48-79" name="__codelineno-48-79" href="#__codelineno-48-79"></a><span class="w">    </span><span class="n">ls</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<a id="__codelineno-48-80" name="__codelineno-48-80" href="#__codelineno-48-80"></a><span class="w">    </span><span class="n">ls</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
<a id="__codelineno-48-81" name="__codelineno-48-81" href="#__codelineno-48-81"></a><span class="w">    </span><span class="n">ls</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
<a id="__codelineno-48-82" name="__codelineno-48-82" href="#__codelineno-48-82"></a><span class="w">    </span><span class="n">ls</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span>
<a id="__codelineno-48-83" name="__codelineno-48-83" href="#__codelineno-48-83"></a><span class="w">    </span><span class="n">ls</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>
<a id="__codelineno-48-84" name="__codelineno-48-84" href="#__codelineno-48-84"></a>
<a id="__codelineno-48-85" name="__codelineno-48-85" href="#__codelineno-48-85"></a><span class="w">    </span><span class="n">ls</span><span class="p">.</span><span class="n">pop_back</span><span class="p">();</span>
<a id="__codelineno-48-86" name="__codelineno-48-86" href="#__codelineno-48-86"></a><span class="w">    </span><span class="n">ls</span><span class="p">.</span><span class="n">pop_back</span><span class="p">();</span>
<a id="__codelineno-48-87" name="__codelineno-48-87" href="#__codelineno-48-87"></a><span class="w">    </span><span class="n">ls</span><span class="p">.</span><span class="n">pop_back</span><span class="p">();</span>
<a id="__codelineno-48-88" name="__codelineno-48-88" href="#__codelineno-48-88"></a><span class="w">    </span><span class="n">ls</span><span class="p">.</span><span class="n">pop_back</span><span class="p">();</span>
<a id="__codelineno-48-89" name="__codelineno-48-89" href="#__codelineno-48-89"></a><span class="w">    </span><span class="n">ls</span><span class="p">.</span><span class="n">pop_back</span><span class="p">();</span>
<a id="__codelineno-48-90" name="__codelineno-48-90" href="#__codelineno-48-90"></a>
<a id="__codelineno-48-91" name="__codelineno-48-91" href="#__codelineno-48-91"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">ls</span><span class="p">)</span>
<a id="__codelineno-48-92" name="__codelineno-48-92" href="#__codelineno-48-92"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-48-93" name="__codelineno-48-93" href="#__codelineno-48-93"></a><span class="w">        </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="p">;</span>
<a id="__codelineno-48-94" name="__codelineno-48-94" href="#__codelineno-48-94"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-48-95" name="__codelineno-48-95" href="#__codelineno-48-95"></a><span class="p">}</span>
<a id="__codelineno-48-96" name="__codelineno-48-96" href="#__codelineno-48-96"></a>
<a id="__codelineno-48-97" name="__codelineno-48-97" href="#__codelineno-48-97"></a><span class="kt">void</span><span class="w"> </span><span class="nf">test_popfront</span><span class="p">()</span>
<a id="__codelineno-48-98" name="__codelineno-48-98" href="#__codelineno-48-98"></a><span class="p">{</span>
<a id="__codelineno-48-99" name="__codelineno-48-99" href="#__codelineno-48-99"></a><span class="w">    </span><span class="n">sim_list</span><span class="o">::</span><span class="n">list</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="w"> </span><span class="n">ls</span><span class="p">;</span>
<a id="__codelineno-48-100" name="__codelineno-48-100" href="#__codelineno-48-100"></a><span class="w">    </span><span class="n">ls</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<a id="__codelineno-48-101" name="__codelineno-48-101" href="#__codelineno-48-101"></a><span class="w">    </span><span class="n">ls</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
<a id="__codelineno-48-102" name="__codelineno-48-102" href="#__codelineno-48-102"></a><span class="w">    </span><span class="n">ls</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
<a id="__codelineno-48-103" name="__codelineno-48-103" href="#__codelineno-48-103"></a><span class="w">    </span><span class="n">ls</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span>
<a id="__codelineno-48-104" name="__codelineno-48-104" href="#__codelineno-48-104"></a><span class="w">    </span><span class="n">ls</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>
<a id="__codelineno-48-105" name="__codelineno-48-105" href="#__codelineno-48-105"></a>
<a id="__codelineno-48-106" name="__codelineno-48-106" href="#__codelineno-48-106"></a><span class="w">    </span><span class="n">ls</span><span class="p">.</span><span class="n">pop_front</span><span class="p">();</span>
<a id="__codelineno-48-107" name="__codelineno-48-107" href="#__codelineno-48-107"></a><span class="w">    </span><span class="n">ls</span><span class="p">.</span><span class="n">pop_front</span><span class="p">();</span>
<a id="__codelineno-48-108" name="__codelineno-48-108" href="#__codelineno-48-108"></a><span class="w">    </span><span class="n">ls</span><span class="p">.</span><span class="n">pop_front</span><span class="p">();</span>
<a id="__codelineno-48-109" name="__codelineno-48-109" href="#__codelineno-48-109"></a><span class="w">    </span><span class="n">ls</span><span class="p">.</span><span class="n">pop_front</span><span class="p">();</span>
<a id="__codelineno-48-110" name="__codelineno-48-110" href="#__codelineno-48-110"></a><span class="w">    </span><span class="n">ls</span><span class="p">.</span><span class="n">pop_front</span><span class="p">();</span>
<a id="__codelineno-48-111" name="__codelineno-48-111" href="#__codelineno-48-111"></a>
<a id="__codelineno-48-112" name="__codelineno-48-112" href="#__codelineno-48-112"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">ls</span><span class="p">)</span>
<a id="__codelineno-48-113" name="__codelineno-48-113" href="#__codelineno-48-113"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-48-114" name="__codelineno-48-114" href="#__codelineno-48-114"></a><span class="w">        </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="p">;</span>
<a id="__codelineno-48-115" name="__codelineno-48-115" href="#__codelineno-48-115"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-48-116" name="__codelineno-48-116" href="#__codelineno-48-116"></a><span class="p">}</span>
<a id="__codelineno-48-117" name="__codelineno-48-117" href="#__codelineno-48-117"></a>
<a id="__codelineno-48-118" name="__codelineno-48-118" href="#__codelineno-48-118"></a><span class="kt">void</span><span class="w"> </span><span class="nf">test_clear</span><span class="p">()</span>
<a id="__codelineno-48-119" name="__codelineno-48-119" href="#__codelineno-48-119"></a><span class="p">{</span>
<a id="__codelineno-48-120" name="__codelineno-48-120" href="#__codelineno-48-120"></a><span class="w">    </span><span class="n">sim_list</span><span class="o">::</span><span class="n">list</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="w"> </span><span class="n">ls</span><span class="p">;</span>
<a id="__codelineno-48-121" name="__codelineno-48-121" href="#__codelineno-48-121"></a><span class="w">    </span><span class="n">ls</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<a id="__codelineno-48-122" name="__codelineno-48-122" href="#__codelineno-48-122"></a><span class="w">    </span><span class="n">ls</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
<a id="__codelineno-48-123" name="__codelineno-48-123" href="#__codelineno-48-123"></a><span class="w">    </span><span class="n">ls</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
<a id="__codelineno-48-124" name="__codelineno-48-124" href="#__codelineno-48-124"></a><span class="w">    </span><span class="n">ls</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span>
<a id="__codelineno-48-125" name="__codelineno-48-125" href="#__codelineno-48-125"></a><span class="w">    </span><span class="n">ls</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>
<a id="__codelineno-48-126" name="__codelineno-48-126" href="#__codelineno-48-126"></a>
<a id="__codelineno-48-127" name="__codelineno-48-127" href="#__codelineno-48-127"></a><span class="w">    </span><span class="n">ls</span><span class="p">.</span><span class="n">clear</span><span class="p">();</span>
<a id="__codelineno-48-128" name="__codelineno-48-128" href="#__codelineno-48-128"></a><span class="w">    </span><span class="c1">//ls.pop_back();</span>
<a id="__codelineno-48-129" name="__codelineno-48-129" href="#__codelineno-48-129"></a>
<a id="__codelineno-48-130" name="__codelineno-48-130" href="#__codelineno-48-130"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">ls</span><span class="p">)</span>
<a id="__codelineno-48-131" name="__codelineno-48-131" href="#__codelineno-48-131"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-48-132" name="__codelineno-48-132" href="#__codelineno-48-132"></a><span class="w">        </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="p">;</span>
<a id="__codelineno-48-133" name="__codelineno-48-133" href="#__codelineno-48-133"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-48-134" name="__codelineno-48-134" href="#__codelineno-48-134"></a><span class="p">}</span>
<a id="__codelineno-48-135" name="__codelineno-48-135" href="#__codelineno-48-135"></a>
<a id="__codelineno-48-136" name="__codelineno-48-136" href="#__codelineno-48-136"></a><span class="kt">void</span><span class="w"> </span><span class="nf">test_operatorGive</span><span class="p">()</span>
<a id="__codelineno-48-137" name="__codelineno-48-137" href="#__codelineno-48-137"></a><span class="p">{</span>
<a id="__codelineno-48-138" name="__codelineno-48-138" href="#__codelineno-48-138"></a><span class="w">    </span><span class="n">sim_list</span><span class="o">::</span><span class="n">list</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="w"> </span><span class="n">ls</span><span class="p">;</span>
<a id="__codelineno-48-139" name="__codelineno-48-139" href="#__codelineno-48-139"></a><span class="w">    </span><span class="n">ls</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<a id="__codelineno-48-140" name="__codelineno-48-140" href="#__codelineno-48-140"></a><span class="w">    </span><span class="n">ls</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
<a id="__codelineno-48-141" name="__codelineno-48-141" href="#__codelineno-48-141"></a><span class="w">    </span><span class="n">ls</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
<a id="__codelineno-48-142" name="__codelineno-48-142" href="#__codelineno-48-142"></a><span class="w">    </span><span class="n">ls</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span>
<a id="__codelineno-48-143" name="__codelineno-48-143" href="#__codelineno-48-143"></a><span class="w">    </span><span class="n">ls</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>
<a id="__codelineno-48-144" name="__codelineno-48-144" href="#__codelineno-48-144"></a>
<a id="__codelineno-48-145" name="__codelineno-48-145" href="#__codelineno-48-145"></a><span class="w">    </span><span class="n">sim_list</span><span class="o">::</span><span class="n">list</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="w"> </span><span class="n">ls1</span><span class="p">;</span>
<a id="__codelineno-48-146" name="__codelineno-48-146" href="#__codelineno-48-146"></a><span class="w">    </span><span class="n">ls1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ls</span><span class="p">;</span>
<a id="__codelineno-48-147" name="__codelineno-48-147" href="#__codelineno-48-147"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">ls1</span><span class="p">)</span>
<a id="__codelineno-48-148" name="__codelineno-48-148" href="#__codelineno-48-148"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-48-149" name="__codelineno-48-149" href="#__codelineno-48-149"></a><span class="w">        </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="p">;</span>
<a id="__codelineno-48-150" name="__codelineno-48-150" href="#__codelineno-48-150"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-48-151" name="__codelineno-48-151" href="#__codelineno-48-151"></a><span class="p">}</span>
<a id="__codelineno-48-152" name="__codelineno-48-152" href="#__codelineno-48-152"></a>
<a id="__codelineno-48-153" name="__codelineno-48-153" href="#__codelineno-48-153"></a><span class="k">struct</span><span class="w"> </span><span class="nc">test</span>
<a id="__codelineno-48-154" name="__codelineno-48-154" href="#__codelineno-48-154"></a><span class="p">{</span>
<a id="__codelineno-48-155" name="__codelineno-48-155" href="#__codelineno-48-155"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">num1</span><span class="p">;</span>
<a id="__codelineno-48-156" name="__codelineno-48-156" href="#__codelineno-48-156"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">num2</span><span class="p">;</span>
<a id="__codelineno-48-157" name="__codelineno-48-157" href="#__codelineno-48-157"></a><span class="p">};</span>
<a id="__codelineno-48-158" name="__codelineno-48-158" href="#__codelineno-48-158"></a>
<a id="__codelineno-48-159" name="__codelineno-48-159" href="#__codelineno-48-159"></a><span class="kt">void</span><span class="w"> </span><span class="nf">test_operatorTo</span><span class="p">()</span>
<a id="__codelineno-48-160" name="__codelineno-48-160" href="#__codelineno-48-160"></a><span class="p">{</span>
<a id="__codelineno-48-161" name="__codelineno-48-161" href="#__codelineno-48-161"></a><span class="w">    </span><span class="n">sim_list</span><span class="o">::</span><span class="n">list</span><span class="o">&lt;</span><span class="k">struct</span><span class="w"> </span><span class="nc">test</span><span class="o">&gt;</span><span class="w"> </span><span class="n">ls</span><span class="p">;</span>
<a id="__codelineno-48-162" name="__codelineno-48-162" href="#__codelineno-48-162"></a><span class="w">    </span><span class="n">sim_list</span><span class="o">::</span><span class="n">list</span><span class="o">&lt;</span><span class="k">struct</span><span class="w"> </span><span class="nc">test</span><span class="o">&gt;::</span><span class="n">iterator</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ls</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span>
<a id="__codelineno-48-163" name="__codelineno-48-163" href="#__codelineno-48-163"></a><span class="w">    </span><span class="c1">//使用直接访问</span>
<a id="__codelineno-48-164" name="__codelineno-48-164" href="#__codelineno-48-164"></a><span class="w">    </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">it</span><span class="p">).</span><span class="n">num1</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">it</span><span class="p">).</span><span class="n">num2</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>
<a id="__codelineno-48-165" name="__codelineno-48-165" href="#__codelineno-48-165"></a>
<a id="__codelineno-48-166" name="__codelineno-48-166" href="#__codelineno-48-166"></a><span class="w">    </span><span class="c1">//使用间接访问</span>
<a id="__codelineno-48-167" name="__codelineno-48-167" href="#__codelineno-48-167"></a><span class="w">    </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">it</span><span class="o">-&gt;</span><span class="n">num1</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">it</span><span class="o">-&gt;</span><span class="n">num2</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>
<a id="__codelineno-48-168" name="__codelineno-48-168" href="#__codelineno-48-168"></a><span class="w">    </span><span class="c1">//等价于</span>
<a id="__codelineno-48-169" name="__codelineno-48-169" href="#__codelineno-48-169"></a><span class="w">    </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">it</span><span class="p">.</span><span class="k">operator</span><span class="o">-&gt;</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">num1</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">it</span><span class="p">.</span><span class="k">operator</span><span class="o">-&gt;</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">num2</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>
<a id="__codelineno-48-170" name="__codelineno-48-170" href="#__codelineno-48-170"></a><span class="p">}</span>
<a id="__codelineno-48-171" name="__codelineno-48-171" href="#__codelineno-48-171"></a>
<a id="__codelineno-48-172" name="__codelineno-48-172" href="#__codelineno-48-172"></a><span class="c1">//void test_const_iterator()</span>
<a id="__codelineno-48-173" name="__codelineno-48-173" href="#__codelineno-48-173"></a><span class="c1">//{</span>
<a id="__codelineno-48-174" name="__codelineno-48-174" href="#__codelineno-48-174"></a><span class="c1">//    sim_list::list&lt;int&gt; ls;</span>
<a id="__codelineno-48-175" name="__codelineno-48-175" href="#__codelineno-48-175"></a><span class="c1">//    ls.push_back(1);</span>
<a id="__codelineno-48-176" name="__codelineno-48-176" href="#__codelineno-48-176"></a><span class="c1">//    ls.push_back(2);</span>
<a id="__codelineno-48-177" name="__codelineno-48-177" href="#__codelineno-48-177"></a><span class="c1">//    ls.push_back(3);</span>
<a id="__codelineno-48-178" name="__codelineno-48-178" href="#__codelineno-48-178"></a><span class="c1">//    ls.push_back(4);</span>
<a id="__codelineno-48-179" name="__codelineno-48-179" href="#__codelineno-48-179"></a><span class="c1">//    ls.push_back(5);</span>
<a id="__codelineno-48-180" name="__codelineno-48-180" href="#__codelineno-48-180"></a><span class="c1">//    //const sim_list::list&lt;int&gt; ls1(ls);// const对象</span>
<a id="__codelineno-48-181" name="__codelineno-48-181" href="#__codelineno-48-181"></a><span class="c1">//</span>
<a id="__codelineno-48-182" name="__codelineno-48-182" href="#__codelineno-48-182"></a><span class="c1">//    //sim_list::list&lt;int&gt;::const_iterator cit = ls.begin();// 编译器自动识别const类型的迭代器</span>
<a id="__codelineno-48-183" name="__codelineno-48-183" href="#__codelineno-48-183"></a><span class="c1">//    sim_list::list&lt;int&gt;::const_iterator cit = ls.cbegin();// 编译器无法自动识别const类型的迭代器</span>
<a id="__codelineno-48-184" name="__codelineno-48-184" href="#__codelineno-48-184"></a><span class="c1">//</span>
<a id="__codelineno-48-185" name="__codelineno-48-185" href="#__codelineno-48-185"></a><span class="c1">//    while (cit != ls.cend())</span>
<a id="__codelineno-48-186" name="__codelineno-48-186" href="#__codelineno-48-186"></a><span class="c1">//    {</span>
<a id="__codelineno-48-187" name="__codelineno-48-187" href="#__codelineno-48-187"></a><span class="c1">//        //*cit = 2;</span>
<a id="__codelineno-48-188" name="__codelineno-48-188" href="#__codelineno-48-188"></a><span class="c1">//        cout &lt;&lt; *cit &lt;&lt; &quot; &quot;;</span>
<a id="__codelineno-48-189" name="__codelineno-48-189" href="#__codelineno-48-189"></a><span class="c1">//        cit++;</span>
<a id="__codelineno-48-190" name="__codelineno-48-190" href="#__codelineno-48-190"></a><span class="c1">//    }</span>
<a id="__codelineno-48-191" name="__codelineno-48-191" href="#__codelineno-48-191"></a><span class="c1">//    cout &lt;&lt; endl;</span>
<a id="__codelineno-48-192" name="__codelineno-48-192" href="#__codelineno-48-192"></a><span class="c1">//}</span>
<a id="__codelineno-48-193" name="__codelineno-48-193" href="#__codelineno-48-193"></a>
<a id="__codelineno-48-194" name="__codelineno-48-194" href="#__codelineno-48-194"></a><span class="kt">void</span><span class="w"> </span><span class="nf">test_print</span><span class="p">()</span>
<a id="__codelineno-48-195" name="__codelineno-48-195" href="#__codelineno-48-195"></a><span class="p">{</span>
<a id="__codelineno-48-196" name="__codelineno-48-196" href="#__codelineno-48-196"></a><span class="w">    </span><span class="n">sim_list</span><span class="o">::</span><span class="n">list</span><span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span><span class="w"> </span><span class="n">ls</span><span class="p">;</span>
<a id="__codelineno-48-197" name="__codelineno-48-197" href="#__codelineno-48-197"></a><span class="w">    </span><span class="n">ls</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="s">&quot;111111&quot;</span><span class="p">);</span>
<a id="__codelineno-48-198" name="__codelineno-48-198" href="#__codelineno-48-198"></a><span class="w">    </span><span class="n">ls</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="s">&quot;111111&quot;</span><span class="p">);</span>
<a id="__codelineno-48-199" name="__codelineno-48-199" href="#__codelineno-48-199"></a><span class="w">    </span><span class="n">ls</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="s">&quot;111111&quot;</span><span class="p">);</span>
<a id="__codelineno-48-200" name="__codelineno-48-200" href="#__codelineno-48-200"></a><span class="w">    </span><span class="n">ls</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="s">&quot;111111&quot;</span><span class="p">);</span>
<a id="__codelineno-48-201" name="__codelineno-48-201" href="#__codelineno-48-201"></a><span class="w">    </span><span class="n">sim_list</span><span class="o">::</span><span class="n">print_container</span><span class="p">(</span><span class="n">ls</span><span class="p">);</span>
<a id="__codelineno-48-202" name="__codelineno-48-202" href="#__codelineno-48-202"></a>
<a id="__codelineno-48-203" name="__codelineno-48-203" href="#__codelineno-48-203"></a><span class="w">    </span><span class="n">vector</span><span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span><span class="w"> </span><span class="n">v</span><span class="p">;</span>
<a id="__codelineno-48-204" name="__codelineno-48-204" href="#__codelineno-48-204"></a><span class="w">    </span><span class="n">v</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="s">&quot;1111&quot;</span><span class="p">);</span>
<a id="__codelineno-48-205" name="__codelineno-48-205" href="#__codelineno-48-205"></a><span class="w">    </span><span class="n">v</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="s">&quot;1111&quot;</span><span class="p">);</span>
<a id="__codelineno-48-206" name="__codelineno-48-206" href="#__codelineno-48-206"></a><span class="w">    </span><span class="n">v</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="s">&quot;1111&quot;</span><span class="p">);</span>
<a id="__codelineno-48-207" name="__codelineno-48-207" href="#__codelineno-48-207"></a><span class="w">    </span><span class="n">v</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="s">&quot;1111&quot;</span><span class="p">);</span>
<a id="__codelineno-48-208" name="__codelineno-48-208" href="#__codelineno-48-208"></a>
<a id="__codelineno-48-209" name="__codelineno-48-209" href="#__codelineno-48-209"></a><span class="w">    </span><span class="n">sim_list</span><span class="o">::</span><span class="n">print_container</span><span class="p">(</span><span class="n">v</span><span class="p">);</span>
<a id="__codelineno-48-210" name="__codelineno-48-210" href="#__codelineno-48-210"></a><span class="p">}</span>
<a id="__codelineno-48-211" name="__codelineno-48-211" href="#__codelineno-48-211"></a>
<a id="__codelineno-48-212" name="__codelineno-48-212" href="#__codelineno-48-212"></a><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span>
<a id="__codelineno-48-213" name="__codelineno-48-213" href="#__codelineno-48-213"></a><span class="p">{</span>
<a id="__codelineno-48-214" name="__codelineno-48-214" href="#__codelineno-48-214"></a><span class="w">    </span><span class="c1">//test_pushback();</span>
<a id="__codelineno-48-215" name="__codelineno-48-215" href="#__codelineno-48-215"></a><span class="w">    </span><span class="c1">//test_pushfront();</span>
<a id="__codelineno-48-216" name="__codelineno-48-216" href="#__codelineno-48-216"></a><span class="w">    </span><span class="c1">//test_insert();</span>
<a id="__codelineno-48-217" name="__codelineno-48-217" href="#__codelineno-48-217"></a><span class="w">    </span><span class="c1">//test_erase();</span>
<a id="__codelineno-48-218" name="__codelineno-48-218" href="#__codelineno-48-218"></a><span class="w">    </span><span class="c1">//test_popback();</span>
<a id="__codelineno-48-219" name="__codelineno-48-219" href="#__codelineno-48-219"></a><span class="w">    </span><span class="c1">//test_popfront();</span>
<a id="__codelineno-48-220" name="__codelineno-48-220" href="#__codelineno-48-220"></a><span class="w">    </span><span class="c1">//test_clear();</span>
<a id="__codelineno-48-221" name="__codelineno-48-221" href="#__codelineno-48-221"></a><span class="w">    </span><span class="c1">//test_operatorGive();</span>
<a id="__codelineno-48-222" name="__codelineno-48-222" href="#__codelineno-48-222"></a><span class="w">    </span><span class="c1">//test_operatorTo();</span>
<a id="__codelineno-48-223" name="__codelineno-48-223" href="#__codelineno-48-223"></a><span class="w">    </span><span class="c1">//test_const_iterator();</span>
<a id="__codelineno-48-224" name="__codelineno-48-224" href="#__codelineno-48-224"></a><span class="w">    </span><span class="n">test_print</span><span class="p">();</span>
<a id="__codelineno-48-225" name="__codelineno-48-225" href="#__codelineno-48-225"></a>
<a id="__codelineno-48-226" name="__codelineno-48-226" href="#__codelineno-48-226"></a>
<a id="__codelineno-48-227" name="__codelineno-48-227" href="#__codelineno-48-227"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-48-228" name="__codelineno-48-228" href="#__codelineno-48-228"></a><span class="p">}</span>
</code></pre></div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["header.autohide"], "search": "../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.fe8b6f2b.min.js"></script>
      
        <script src="../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>