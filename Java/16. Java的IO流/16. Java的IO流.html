<!doctype html><html lang=zh class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=canonical href=https://www.help-doc.top/Java/16.%20Java%E7%9A%84IO%E6%B5%81/16.%20Java%E7%9A%84IO%E6%B5%81.html><link rel=prev href=../13.%20Java%E5%A4%9A%E7%BA%BF%E7%A8%8B/13.%20Java%E5%A4%9A%E7%BA%BF%E7%A8%8B.html><link rel=next href=../17.%20Java%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E3%80%81%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E3%80%81%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B8%8ELombok/17.%20Java%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E3%80%81%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E3%80%81%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B8%8ELombok.html><link rel=icon href=../../images/favicon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.12"><title>Java的IO流 - 柯懒的知识库</title><link rel=stylesheet href=../../assets/stylesheets/main.2afb09e1.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.06af60db.min.css><link rel=stylesheet href=../../css/timeline.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/katex.min.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-9XWRGNRRSY"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-9XWRGNRRSY",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-9XWRGNRRSY",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script><link rel=stylesheet href=../../stylesheets/colors.min.css><link rel=stylesheet href=../../stylesheets/theme2.min.css media="screen and (max-width: 767px)"><link rel=stylesheet href=../../stylesheets/theme2.min.css media="screen and (min-width: 768px) and (max-width: 1199px)"><link rel=stylesheet href=../../stylesheets/theme1.min.css media="screen and (min-width: 1200px)"><link rel=stylesheet href=../../stylesheets/print.min.css><!-- 字体样式表 --><link rel=stylesheet href=../../stylesheets/font-dongguanti.min.css id=font-dongguanti><link rel=stylesheet href=../../stylesheets/font-oppoti.min.css id=font-oppoti disabled><link rel=stylesheet href=../../stylesheets/font-jiangchengti.min.css id=font-jiangchengti disabled><link rel=stylesheet href=../../stylesheets/font-lxgw.min.css id=font-lxgw disabled><script src=https://cdn.jsdelivr.net/npm/mermaid@11.5.0/dist/mermaid.min.js></script><style>
    @import url("https://static.zeoseven.com/zsft/2/main/result.css");
    /* 江城黑体备用 */
    @import url("https://fontsapi.zeoseven.com/194/main/result.css");
    /* OPPO Sans主字体 */
    @import url("https://fonts.cdnfonts.com/css/opposans");
    /* Dejavu Sans Mono */
    @import url('https://fonts.cdnfonts.com/css/dejavu-sans-mono');
    /* 寒蝉团圆体 Sans */
    @import url("https://fontsapi.zeoseven.com/70/main/result.css");
    /* 上图东观体 */
    @import url("https://fontsapi.zeoseven.com/488/main/result.css");

    @font-face {
        font-family: "OPPOSans";
    }

    @font-face {
        font-family: "JiangChengHeiTi 400W";
    }

    @font-face {
        font-family: "LXGW ZhenKai";
    }

    @font-face {
        font-family: 'DejaVu Sans Mono';
    }

    /* JetBrains Mono字体 */
    @font-face {
        font-family: "ZSFT-hk";
        src: url("https://static.zeoseven.com/zsft/hk/main.woff2") format("woff2"),
            url("https://static-host.zeoseven.com/zsft/hk/main.woff2") format("woff2");
    }

    @font-face {
        font-family: "寒蝉团圆体 Sans";
    }

    @font-face {
        font-family: "STDongGuanTi";
    }

    .md-header__topic .md-ellipsis {
        font-family: "寒蝉团圆体 Sans" !important;
    }

    :root {
        --md-text-font: "STDongGuanTi", "OPPOSans", "JiangChengHeiTi 400W", sans-serif;
        --md-header-font: "LXGW ZhenKai", sans-serif;
        --md-code-font: "DejaVu Sans Mono", "ZSFT-hk";
        --code-font-color: var(--text-code);
    }

    h1+div>p {
        font-family: var(--md-header-font);
    }

    @media screen and (max-width: 1199px) {

        
        /* 隐藏功能区的主题切换按钮 */
        .theme-switcher {
            display: none !important;
        }
    }

    /* 右侧固定功能条样式 */
    .floating-toolbar {
        position: fixed;
        top: 50%;
        right: 0;
        transform: translateY(-50%);
        z-index: 99999;
        font-family: var(--md-text-font);
        background: var(--bg-white);
        border: 1px solid #eee;
        border-right: none;
        border-radius: 12px 0 0 12px;
        box-shadow: -4px 0 20px rgba(0, 0, 0, 0.1);
        padding: 8px 0;
        min-width: 60px;
        transition: all 0.3s ease;
        display: block;
        visibility: visible;
        opacity: 1;
        width: auto;
        height: auto;
        max-width: none;
        max-height: none;
        overflow: visible;
    }


    .floating-toolbar:hover {
        box-shadow: -6px 0 30px var(--shadow-strong);
        transform: translateY(-50%) translateX(-2px);
    }

    /* 功能条项目 */
    .toolbar-item {
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 12px 8px;
        cursor: pointer;
        transition: all 0.3s ease;
        position: relative;
        border-bottom: 1px solid #eee;
        background: transparent;
        color: #333;
        width: auto;
        height: auto;
        visibility: visible;
        opacity: 1;
    }

    .toolbar-item:last-child {
        border-bottom: none;
    }

    .toolbar-item:hover {
        background: var(--primary-blue-light);
        transform: translateX(-2px);
    }

    .toolbar-item.active {
        background: var(--primary-blue-medium);
        color: var(--primary-blue);
    }

    /* 功能条图标 */
    .toolbar-icon {
        font-size: 20px;
        line-height: 1;
        margin-bottom: 4px;
        transition: all 0.3s ease;
        display: block;
        visibility: visible;
        opacity: 1;
        color: #333;
    }

    .toolbar-item:hover .toolbar-icon {
        transform: scale(1.1) !important;
    }

    /* SVG图标样式 */
    .theme-icon {
        width: 20px !important;
        height: 20px !important;
        fill: currentColor !important;
        transition: all 0.3s ease !important;
    }

    .toolbar-item:hover .theme-icon {
        fill: var(--primary-blue) !important;
    }

    /* 返回顶部SVG图标样式 */
    .back-to-top-icon {
        width: 20px !important;
        height: 20px !important;
        fill: currentColor !important;
        transition: all 0.3s ease !important;
    }

    .toolbar-item:hover .back-to-top-icon {
        fill: var(--primary-blue) !important;
    }

    /* 字体切换SVG图标样式 */
    .font-icon {
        width: 20px;
        height: 20px;
        fill: currentColor;
        transition: all 0.3s ease;
    }

    .toolbar-item:hover {
        fill: var(--primary-blue);
    }

    /* 功能条标签 */
    .toolbar-label {
        font-size: 11px !important;
        font-weight: 500 !important;
        color: #666 !important;
        text-align: center !important;
        line-height: 1.2 !important;
        transition: all 0.3s ease !important;
        display: block !important;
        visibility: visible !important;
        opacity: 1 !important;
    }

    .toolbar-item:hover .toolbar-label {
        color: var(--text-primary);
    }

    /* 字体切换功能特殊样式 */
    .font-switcher {
        position: relative;
    }

    .font-dropdown-toolbar {
        position: absolute;
        right: 100%;
        top: 0;
        margin-right: 8px;
        min-width: 120px;
        opacity: 0;
        visibility: hidden;
        transform: translateX(10px);
        transition: all 0.3s ease;
        z-index: 1001;
    }

    .font-switcher:hover .font-dropdown-toolbar,
    .font-dropdown-toolbar.active {
        opacity: 1;
        visibility: visible;
        transform: translateX(0);
    }

    .font-current-toolbar {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 8px 12px;
        background: var(--bg-white);
        border: 1px solid var(--border-light);
        border-radius: 8px;
        cursor: pointer;
        font-size: 13px;
        color: var(--text-primary);
        transition: all 0.2s ease;
        box-shadow: 0 2px 8px var(--shadow-light);
        white-space: nowrap;
    }

    .font-current-toolbar:hover {
        border-color: var(--primary-blue);
        background: var(--primary-blue-light);
        box-shadow: 0 4px 12px var(--shadow-primary-medium);
    }

    .current-font-name-toolbar {
        font-weight: 500;
        margin-right: 8px;
    }

    .dropdown-arrow-icon {
        width: 12px !important;
        height: 12px !important;
        fill: currentColor !important;
        color: var(--text-secondary) !important;
        transition: transform 0.3s ease !important;
    }

    .font-dropdown-toolbar.active .dropdown-arrow-icon {
        transform: rotate(180deg) !important;
    }

    .font-options-toolbar {
        position: absolute;
        top: 100%;
        left: 0;
        right: 0;
        background: var(--bg-white);
        border: 1px solid var(--border-light);
        border-radius: 8px;
        box-shadow: 0 4px 12px var(--shadow-strong);
        z-index: 1002;
        opacity: 0;
        visibility: hidden;
        transform: translateY(-10px);
        transition: all 0.3s ease;
        margin-top: 4px;
        max-height: 150px;
        overflow-y: auto;
    }

    .font-dropdown-toolbar.active .font-options-toolbar {
        opacity: 1;
        visibility: visible;
        transform: translateY(0);
    }

    .font-option-toolbar {
        padding: 8px 12px;
        cursor: pointer;
        font-size: 13px;
        color: var(--text-primary);
        transition: all 0.2s ease;
        border-bottom: 1px solid var(--border-light);
        white-space: nowrap;
    }

    .font-option-toolbar:last-child {
        border-bottom: none;
        border-radius: 0 0 8px 8px;
    }

    .font-option-toolbar:first-child {
        border-radius: 8px 8px 0 0;
    }

    .font-option-toolbar:hover {
        background: var(--primary-blue-light);
        color: var(--text-primary-blue);
    }

    .font-option-toolbar.selected {
        background: var(--primary-blue-medium);
        color: var(--primary-blue);
        font-weight: 500;
    }

    /* 独立的切换按钮样式 */
    .toolbar-toggle-btn {
        position: fixed;
        top: 50%;
        right: 60px;
        transform: translateY(-50%);
        width: 30px;
        height: 60px;
        background: #ffffff;
        border: 1px solid #eee;
        border-right: none;
        border-radius: 8px 0 0 8px;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: all 0.3s ease;
        box-shadow: -2px 0 10px rgba(0, 0, 0, 0.1);
        z-index: 99999;
    }

    .toolbar-toggle-btn:hover {
        background: var(--primary-blue-light) !important;
        transform: translateY(-50%) translateX(-2px) !important;
        box-shadow: -4px 0 15px rgba(0, 0, 0, 0.15) !important;
    }

    .toggle-icon {
        font-size: 16px;
        color: #666;
        transition: all 0.3s ease;
        line-height: 1;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .toggle-arrow-icon {
        width: 16px !important;
        height: 16px !important;
        fill: currentColor !important;
        transition: all 0.3s ease !important;
    }

    .toolbar-toggle-btn:hover .toggle-icon {
        color: var(--primary-blue) !important;
        transform: scale(1.1) !important;
    }

    .toolbar-toggle-btn:hover .toggle-arrow-icon {
        fill: var(--primary-blue) !important;
    }

    /* 功能条隐藏状态 */
    .floating-toolbar.hidden {
        transform: translateY(-50%) translateX(100%) !important;
        opacity: 0 !important;
        visibility: hidden !important;
    }

    /* 切换按钮在功能条隐藏时的状态 */
    .toolbar-toggle-btn.toolbar-hidden {
        right: 0px !important;
        background: var(--border-white) !important;
        border-color: var(--border-white) !important;
        border-radius: 8px 0 0 8px !important;
    }

    .toolbar-toggle-btn.toolbar-hidden .toggle-icon {
        color: black !important;
        transform: rotate(180deg) !important;
    }

    .toolbar-toggle-btn.toolbar-hidden .toggle-arrow-icon {
        fill: black !important;
    }

    .toolbar-toggle-btn.toolbar-hidden:hover {
        background: var(--primary-blue-dark) !important;
        transform: translateY(-50%) translateX(-2px) !important;
    }

    /* 响应式设计 */
    @media screen and (max-width: 768px) {
        .floating-toolbar {
            min-width: 50px;
            padding: 6px 0;
        }
        
        .toolbar-item {
            padding: 10px 6px;
        }
        
        .toolbar-icon {
            font-size: 18px;
        }
        
        .theme-icon {
            width: 18px !important;
            height: 18px !important;
        }
        
        .back-to-top-icon {
            width: 18px !important;
            height: 18px !important;
        }
        
        .font-icon {
            width: 18px !important;
            height: 18px !important;
        }
        
        .toggle-arrow-icon {
            width: 14px !important;
            height: 14px !important;
        }
        
        .toolbar-label {
            font-size: 10px;
        }
        
        .font-dropdown-toolbar {
            min-width: 100px;
            margin-right: 6px;
        }
        
        .dropdown-arrow-icon {
            width: 10px !important;
            height: 10px !important;
        }
        
        .font-current-toolbar {
            padding: 6px 10px;
            font-size: 12px;
        }
    }

    @media screen and (max-width: 480px) {
        .floating-toolbar {
            right: -5px;
        }
        
        .toolbar-label {
            display: none;
        }
        
        .toolbar-item {
            padding: 8px 4px;
        }
        
        .theme-icon {
            width: 16px !important;
            height: 16px !important;
        }
        
        .back-to-top-icon {
            width: 16px !important;
            height: 16px !important;
        }
        
        .font-icon {
            width: 16px !important;
            height: 16px !important;
        }
        
        .toggle-arrow-icon {
            width: 12px !important;
            height: 12px !important;
        }
        
        .font-dropdown-toolbar {
            min-width: 90px;
            margin-right: 4px;
        }
        
        .dropdown-arrow-icon {
            width: 8px !important;
            height: 8px !important;
        }
    }

    .md-content article>*:not(.md-top):not(.md-nav) {
        animation: flyIn 0.6s ease-out forwards;
        opacity: 0;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(1) {
        animation-delay: 0.1s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(2) {
        animation-delay: 0.15s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(3) {
        animation-delay: 0.2s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(4) {
        animation-delay: 0.25s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(5) {
        animation-delay: 0.3s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(6) {
        animation-delay: 0.35s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(7) {
        animation-delay: 0.4s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(8) {
        animation-delay: 0.45s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(9) {
        animation-delay: 0.5s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(10) {
        animation-delay: 0.55s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(11) {
        animation-delay: 0.6s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(12) {
        animation-delay: 0.65s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(13) {
        animation-delay: 0.7s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(14) {
        animation-delay: 0.75s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(15) {
        animation-delay: 0.8s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(16) {
        animation-delay: 0.85s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(17) {
        animation-delay: 0.9s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(18) {
        animation-delay: 0.95s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(19) {
        animation-delay: 1s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(20) {
        animation-delay: 1.05s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(n + 21) {
        animation-delay: 1.1s;
    }

    @keyframes flyIn {
        0% {
            opacity: 0;
            transform: translateY(-20px);
        }

        100% {
            opacity: 1;
            transform: translateY(0);
        }
    }

    @media (prefers-reduced-motion: reduce) {
        .md-content article>*:not(.md-top):not(.md-nav) {
            animation: none !important;
            opacity: 1 !important;
            transform: none !important;
        }
    }

    /* 添加超时后强制显示内容 */
    .md-content article>*:not(.md-top):not(.md-nav) {
        animation: flyIn 0.6s ease-out forwards;
        opacity: 0;
        /* 添加延迟后的备用显示 */
        animation-fill-mode: both;
    }

    /* 确保在3秒后强制显示所有内容 */
    .md-content {
        animation: ensureVisible 0.1s ease-out 3s forwards;
    }

    @keyframes ensureVisible {
        to {
            --force-visible: 1;
        }
    }

    .md-content[style*="--force-visible"] article>*:not(.md-top):not(.md-nav) {
        opacity: 1 !important;
        transform: translateY(0) !important;
    }

    li::marker {
        color: var(--primary-blue-semi);
    }

    [data-md-toggle=search]:checked~.md-header .md-search__form {
        border-radius: 8px 8px 0px 0px;
    }

    .md-search__form {
        background: var(--primary-blue-strong);
        border-radius: 20px;
        padding: 2px;
        transition: all 0.3s ease;
    }

    .md-search__input {
        border: none;
        border-radius: 18px;
        padding: 8px 16px;
        font-size: 14px;
        transition: all 0.3s ease;
    }


    .md-search__input:hover,
    .md-search__input:focus {
        outline: none;
        box-shadow: var(--table-shadow);
        border-radius: 18px !important;
    }

    .md-search__output {
        border-radius: 0px 0px 8px 8px !important;
    }

    .md-tooltip {
        background-color: var(--overlay-dark);
        color: var(--text-white);
        border: none;
        border-radius: 6px;
        padding: 8px 12px;
        font-size: 12px;
        box-shadow: var(--shadow-dark);
        position: relative;
    }

    .md-tooltip:after {
        content: '';
        position: absolute;
        top: 100%;
        left: 50%;
        margin-left: -5px;
        width: 0;
        height: 0;
        border-left: 5px solid transparent;
        border-right: 5px solid transparent;
        border-top: 5px solid var(--overlay-dark);
    }

    :not(pre)>code {
        color: var(--text-orange) !important;
        font-weight: normal;
    }

    .highlight .c1,
    .highlight .cm {
        color: var(--text-gray);
    }

    .md-typeset .admonition,
    .md-typeset details {
        border-width: 0;
        border-left-width: 4px;
    }

    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
        font-family: var(--md-header-font);
        color: var(--primary-blue) !important;
    }

    body {
        font-family: var(--md-text-font);
    }

    pre code {
        color: var(--md-code-fg-color) !important;
    }

    .highlight pre {
        background-color: var(--md-code-bg-color) !important;
    }

    .md-typeset code {
        font-family: var(--md-code-font), var(--md-text-font);
    }

    .md-tabs__item.md-tabs__item--active {
        border-bottom: 2px solid var(--primary-blue-semi);
    }

    .md-tabs__list>.md-tabs__item--active>.md-tabs__link {
        color: var(--primary-blue-semi) !important;
    }

    .timeline-content::before {
        background-color: var(--bg-gray-light);
    }

    .timeline-card {
        background-color: var(--bg-gray-light) !important;
    }

    .changelog-content a {
        color: var(--text-blue) !important;
        word-break: break-word;
    }

    .changelog-content a:focus,
    .changelog-content a:hover {
        color: var(--text-teal) !important;
    }

    .changelog-type-pageupdate {
        background-color: var(--primary-blue-semi) !important;
    }

    .md-footer-runtime {
        position: relative;
        z-index: 3;
        margin: 0.5rem 0;
        padding: 0.4rem 0;
        font-size: 0.7rem;
        line-height: 1.6;
        color: var(--md-footer-fg-color--light);
        display: flex;
        align-items: center;
    }

    ::selection {
        background: var(--primary-blue-strong);
    }

    html {
        scroll-behavior: smooth !important;
        /* 强制启用平滑滚动 */
        scroll-padding-top: 53px;
        /* 设置滚动偏移量,避免标题被导航栏遮挡 */
    }

    strong {
        color: var(--text-purple);
    }

    a[href^="#"],
    a[href*="/#"] {
        scroll-behavior: smooth !important;
    }

    .custom-tooltip {
        position: relative;
        display: inline-block;
        cursor: help;
        color: var(--primary-blue-semi);
        border-bottom: 1px dashed var(--primary-blue-semi);
        text-decoration: none !important;
    }

    .custom-tooltip::before {
        content: attr(data-title);
        position: absolute;
        width: 300px;
        background-color: var(--overlay-dark);
        color: var(--text-white);
        text-align: left;
        padding: 10px;
        border-radius: 6px;
        bottom: 125%;
        /* 定位在链接上方 */
        left: 50%;
        transform: translateX(-50%);
        z-index: 99999;
        /* 确保显示在最上层 */
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.3s;
        font-weight: normal;
        font-size: 14px;
        line-height: 1.5;
        pointer-events: none;
        box-shadow: var(--shadow-dark);
        word-wrap: break-word;
        white-space: normal;
    }

    .custom-tooltip::after {
        content: "";
        position: absolute;
        bottom: 100%;
        left: 50%;
        margin-left: -5px;
        border-width: 5px;
        border-style: solid;
        border-color: var(--overlay-dark) transparent transparent transparent;
        z-index: 99999;
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.3s;
        pointer-events: none;
    }

    .custom-tooltip:hover::before {
        opacity: 1;
        visibility: visible;
    }

    .custom-tooltip:hover::after {
        opacity: 1;
        visibility: visible;
    }

    /* 修改移动设备上的 tooltip 样式，确保不会溢出屏幕 */
    @media (max-width: 767px) {
        .custom-tooltip::before {
            width: calc(100vw - 40px);
            max-width: 250px;
            white-space: normal;
            font-size: 14px;
            left: 50%;
            transform: translateX(-50%);
            bottom: 130%;
            /* 确保不会超出屏幕边缘 */
            box-sizing: border-box;

            /* 新增：定位逻辑调整，防止溢出 */
            position: fixed;
            top: auto;
            bottom: auto;
            left: 20px;
            /* 距离左边缘固定距离 */
            right: 20px;
            /* 距离右边缘固定距离 */
            transform: none;
            margin-top: -120px;
            /* 在目标元素上方显示，可根据需要调整 */
            width: auto;
            /* 宽度由left和right决定 */
        }

        /* 新增：处理靠近页面底部的 tooltip */
        .custom-tooltip:hover::before {
            max-height: 80vh;
            /* 最大高度限制 */
            overflow-y: auto;
            /* 内容过多时可滚动 */
        }
    }

    .md-content a.custom-tooltip::after {
        display: none !important;
    }

    @media screen and (max-width: 767px) {

        /* 移除可能导致问题的现有样式 */
        .md-typeset .arithmatex {
            max-width: 100%;
            overflow-x: hidden;
            text-overflow: ellipsis;
        }

        /* 修改为更有效的样式 */
        .katex-display {
            overflow-x: auto;
            overflow-y: hidden;
            max-width: 100%;
            padding: 0.25em 0;
        }

        /* 对于行内公式的新样式 */
        .katex {
            font-size: 1em !important;
            /* 减小字体大小 */
        }

        /* 调整整体数学公式容器的样式 */
        .md-typeset .arithmatex {
            max-width: 100% !important;
            overflow-x: auto;
            padding: 0.1em 0;
            margin: 0;
        }

        /* 确保行内公式不破坏布局 */
        .katex-inline {
            display: inline-block;
            max-width: 100%;
            overflow-x: auto;
            vertical-align: middle;
            white-space: normal;
            line-break: anywhere;
        }

        /* 添加淡出效果指示可滚动 */
        .katex-display::after {
            content: "";
            position: absolute;
            right: 0;
            top: 0;
            height: 100%;
            width: 20px;
            background: linear-gradient(to right,
                    rgba(255, 255, 255, 0),
                    rgba(255, 255, 255, 0.7));
            pointer-events: none;
        }
    }

    /* 头像样式 - 增强版，添加悬浮区域控制 */
    .header-avatar {
        display: inline-flex;
        align-items: center;
        margin-right: 0.8rem;
        position: relative;
        z-index: 1;
        /* 添加一个内边距以增加可点击区域，但不会影响布局 */
        padding: 3px;
    }

    .header-avatar img {
        width: 36px;
        height: 36px;
        border-radius: 50%;
        object-fit: cover;
        border: 2px solid #fff;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
        transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
        position: relative;
        z-index: 5;
    }

    /* 下拉菜单样式 - 增强版，改进悬浮区域控制 */
    .avatar-dropdown {
        position: absolute;
        top: 100%;
        left: 50%;
        transform: translateX(-50%) translateY(25px) scale(0.95);
        background-color: var(--bg-white);
        border-radius: 12px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.18);
        padding: 45px 0 8px 0;
        /* 增加更多顶部内边距 */
        min-width: 140px;
        opacity: 0;
        visibility: hidden;
        transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
        z-index: 4;
        /* 低于头像 */
        margin-top: -10px;
        /* 让菜单上移覆盖头像下半部分 */
        /* 添加一个缓冲区，防止鼠标离开时闪烁 */
        pointer-events: none;
    }

    /* 悬停效果，修改触发条件和过渡延迟 */
    .header-avatar:hover .avatar-dropdown {
        opacity: 1;
        visibility: visible;
        transform: translateX(-50%) translateY(15px) scale(1);
        /* 添加延迟以防止闪烁 */
        transition-delay: 0.05s;
        pointer-events: auto;
    }

    /* 添加间隙区域保持悬停状态 */
    .avatar-dropdown::after {
        content: "";
        position: absolute;
        top: -20px;
        /* 创建顶部缓冲区 */
        left: 0;
        width: 100%;
        height: 20px;
        background: transparent;
    }

    .header-avatar:hover img {
        transform: scale(1.5) translateY(18px);
        /* 放大并稍微向下移动 */
        box-shadow: 0 6px 16px rgba(77, 166, 218, 0.35);
        border-color: var(--primary-blue-semi);
        /* 添加延迟以防止闪烁 */
        transition-delay: 0s;
    }

    /* 菜单三角形指示器 - 隐藏，因为视觉上头像已经作为指示器 */
    .avatar-dropdown::before {
        display: none;
    }

    /* 菜单项样式 */
    .avatar-dropdown-item {
        display: block;
        padding: 10px 16px;
        color: var(--text-primary);
        font-size: 14px;
        text-decoration: none;
        transition: all 0.25s ease;
        text-align: center;
        position: relative;
        white-space: nowrap;
    }

    .avatar-dropdown p {
        padding: 10px 16px;
        color: var(--text-primary);
        font-size: 16px;
        text-align: center;
        white-space: nowrap;
    }

    .avatar-dropdown-item:hover {
        background-color: rgba(77, 166, 218, 0.08);
        color: var(--primary-blue-semi);
    }

    .avatar-dropdown-item:hover::after {
        content: "";
        position: absolute;
        left: 8px;
        width: 3px;
        height: 70%;
        background: var(--primary-blue-semi);
        border-radius: 2px;
        top: 15%;
    }

    .avatar-dropdown-divider {
        height: 1px;
        background-color: rgba(0, 0, 0, 0.06);
        margin: 4px 8px;
    }

    /* 响应式设计调整 */
    @media screen and (max-width: 1199px) {
        .header-avatar {
            margin-right: 0.5rem;
        }
    }

    /* 响应式设计调整 */
    @media screen and (max-width: 1200px) {
        .header-avatar {
            margin-right: 0.3rem;
            padding: 2px;
        }

        .header-avatar img {
            width: 32px;
            height: 32px;
        }

        /* 调整菜单位置，靠左侧显示 */
        .avatar-dropdown {
            /* 调整left确保显示在左侧 */
            left: -120px;
            transform: translateX(0) translateY(25px) scale(0.95);
            padding-top: 15px;
            margin-top: 0;
            min-width: 130px;
            position: absolute;
            z-index: 100;
        }

        /* 点击时的行为，而不是悬停 */
        .header-avatar:hover .avatar-dropdown {
            transform: translateX(0) translateY(5px) scale(1);
        }

        /* 移动端头像不放大，防止页面移动 */
        .header-avatar:hover img {
            transform: none;
            border-color: var(--primary-blue-semi);
            box-shadow: 0 4px 12px rgba(77, 166, 218, 0.3);
        }

        /* 调整导航栏布局 */
        .md-header__inner {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        /* 确保下拉菜单不遮挡其他元素 */
        .avatar-dropdown {
            max-width: 85vw;
        }
    }

    ::-webkit-scrollbar {
        width: 8px;
        height: 8px;
    }

    ::-webkit-scrollbar-track {
        background: #f1f1f1;
        border-radius: 4px;
    }

    ::-webkit-scrollbar-thumb {
        background: #ccc;
        border-radius: 4px;
    }

    ::-webkit-scrollbar-thumb:hover {
        background: #999;
    }

    /* 主题切换蒙版 - 优化结构和性能 */
    .theme-transition-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: var(--bg-white);
        z-index: 100000;
        opacity: 0;
        visibility: hidden;
        pointer-events: none;
        display: flex;
        align-items: center;
        justify-content: center;
        /* 简化过渡效果，提高性能 */
        transition: opacity 0.3s ease-out, visibility 0.3s ease-out,
            background-color 0.3s ease-out, backdrop-filter 0.3s ease-out;
        backdrop-filter: blur(0px);
    }

    .theme-transition-overlay.active {
        opacity: 1;
        visibility: visible;
        pointer-events: all;
        backdrop-filter: blur(5px);
    }

    /* 主题切换内容容器 - 整合样式 */
    .theme-transition-content {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        gap: 20px;
        transform: scale(0.9);
        opacity: 0;
        transition: transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1),
            opacity 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
    }

    .theme-transition-overlay.active .theme-transition-content {
        transform: scale(1);
        opacity: 1;
    }

    /* 简化加载图标结构，移除不必要的嵌套 */
    .theme-transition-spinner {
        width: 50px;
        height: 50px;
        border: 5px solid rgba(77, 166, 218, 0.2);
        border-top-color: var(--primary-blue-semi);
        border-radius: 50%;
        animation: none;
        transition: opacity 0.3s ease;
    }

    .theme-transition-overlay.active .theme-transition-spinner {
        animation: spin 1s linear infinite;
    }

    @keyframes spin {
        to {
            transform: rotate(360deg);
        }
    }

    /* 主题切换文字样式 */
    .theme-transition-text {
        font-family: var(--md-text-font);
        color: var(--primary-blue-semi);
        font-size: 16px;
        font-weight: 500;
        text-align: center;
        margin-top: 10px;
    }

    /* 页脚爱情宣言样式 */
    .md-footer-love {
        position: relative;
        font-family: var(--md-header-font) !important;
        font-size: 0.9rem;
        line-height: 1.6;
        margin: 0.5rem 0;
        padding: 0.5rem 1rem;
        color: rgba(255, 255, 255, 0.85);
        text-align: center;
        border-radius: 8px;
        background: linear-gradient(135deg,
                rgba(255, 255, 255, 0.1),
                rgba(255, 255, 255, 0.05));
        backdrop-filter: blur(4px);
        transition: all 0.4s ease;
        overflow: hidden;
        border-left: 3px solid rgba(255, 182, 193, 0.6);
    }

    .md-footer-love:hover {
        background: linear-gradient(135deg,
                rgba(255, 182, 193, 0.2),
                rgba(255, 255, 255, 0.1));
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(255, 182, 193, 0.15);
    }

    /* 添加闪烁星星效果 */
    .md-footer-love::before,
    .md-footer-love::after {
        content: "★";
        position: absolute;
        opacity: 0;
        font-size: 0.8rem;
        color: rgba(255, 223, 223, 0.8);
        animation: twinkle 3s ease-in-out infinite alternate;
    }

    .md-footer-love::before {
        left: 0.5rem;
        top: 0.4rem;
        animation-delay: 0s;
    }

    .md-footer-love::after {
        right: 0.5rem;
        top: 0.4rem;
        animation-delay: 1.5s;
    }

    @keyframes twinkle {
        0% {
            opacity: 0.3;
            transform: scale(0.8);
        }

        50% {
            opacity: 0.9;
            transform: scale(1.2);
        }

        100% {
            opacity: 0.3;
            transform: scale(0.8);
        }
    }

    /* 名字高亮显示 */
    .love-highlight {
        font-weight: 500;
        background: linear-gradient(120deg, #ffb6c1, #ffc0cb);
        background-clip: text;
        -webkit-background-clip: text;
        color: transparent;
        padding: 0 0.2rem;
        position: relative;
        white-space: nowrap;
    }

    /* 添加心跳动画效果 */
    .love-heart {
        display: inline-block;
        font-size: 0.9em;
        color: rgba(255, 182, 193, 0.9);
        transform-origin: center;
        margin: 0 0.2rem;
        animation: heartbeat 1.5s ease-in-out infinite;
    }

    @keyframes heartbeat {
        0% {
            transform: scale(1);
        }

        15% {
            transform: scale(1.25);
        }

        30% {
            transform: scale(1);
        }

        45% {
            transform: scale(1.25);
        }

        60% {
            transform: scale(1);
        }

        100% {
            transform: scale(1);
        }
    }

    /* 添加响应式样式 - 平板设备 */
    @media screen and (max-width: 1199px) {
        .md-footer-love {
            font-size: 0.8rem;
            padding: 0.4rem 0.8rem;
            margin: 0.4rem 0;
        }

        .md-footer-love::before,
        .md-footer-love::after {
            font-size: 0.7rem;
        }
    }

    /* 添加响应式样式 - 移动设备 */
    @media screen and (max-width: 767px) {
        .md-footer-love {
            font-size: 0.75rem;
            padding: 0.3rem 0.5rem;
            margin: 0.3rem 0;
            border-radius: 6px;
            max-width: 90%;
            margin-left: auto;
            margin-right: auto;
            border-left-width: 2px;
        }

        .md-footer-love:hover {
            transform: translateY(-1px);
            box-shadow: 0 2px 8px rgba(255, 182, 193, 0.12);
        }

        .md-footer-love::before,
        .md-footer-love::after {
            font-size: 0.6rem;
        }

        .love-heart {
            font-size: 0.8em;
        }

        /* 在非常小的屏幕上隐藏星星效果 */
        @media screen and (max-width: 360px) {

            .md-footer-love::before,
            .md-footer-love::after {
                display: none;
            }
        }
    }

    /* Atom One Light 语法高亮样式 - 仅覆盖代码块语法高亮 */
    .highlight .hll {
        background-color: var(--code-bg) !important;
    }

    .highlight .c {
        color: var(--code-comment) !important;
    }

    /* Comment */
    .highlight .err {
        color: var(--code-string) !important;
    }

    /* Error */
    .highlight .k {
        color: var(--code-keyword) !important;
    }

    /* Keyword */
    .highlight .l {
        color: var(--code-number) !important;
    }

    /* Literal */
    .highlight .n {
        color: var(--code-text) !important;
    }

    /* Name */
    .highlight .o {
        color: var(--code-text) !important;
    }

    /* Operator */
    .highlight .p {
        color: var(--code-text) !important;
    }

    /* Punctuation */
    .highlight .ch {
        color: var(--code-comment) !important;
    }

    /* Comment.Hashbang */
    .highlight .cm {
        color: var(--code-comment) !important;
    }

    /* Comment.Multiline */
    .highlight .cp {
        color: var(--code-keyword) !important;
    }

    /* Comment.Preproc */
    .highlight .cpf {
        color: var(--code-string) !important;
    }

    /* Comment.PreprocFile */
    .highlight .c1 {
        color: var(--code-comment) !important;
    }

    /* Comment.Single */
    .highlight .cs {
        color: var(--code-comment) !important;
    }

    /* Comment.Special */
    .highlight .gd {
        color: var(--code-string) !important;
    }

    /* Generic.Deleted */
    .highlight .ge {}

    /* Generic.Emph */
    .highlight .gr {
        color: var(--code-string) !important;
    }

    /* Generic.Error */
    .highlight .gh {
        color: var(--code-function) !important;
        font-weight: bold !important;
    }

    /* Generic.Heading */
    .highlight .gi {
        color: var(--code-string) !important;
    }

    /* Generic.Inserted */
    .highlight .go {
        color: var(--code-text) !important;
    }

    /* Generic.Output */
    .highlight .gp {
        color: var(--code-text) !important;
    }

    /* Generic.Prompt */
    .highlight .gs {
        font-weight: bold !important;
    }

    /* Generic.Strong */
    .highlight .gu {
        color: var(--code-function) !important;
        font-weight: bold !important;
    }

    /* Generic.Subheading */
    .highlight .gt {
        color: var(--code-string) !important;
    }

    /* Generic.Traceback */
    .highlight .kc {
        color: var(--code-keyword) !important;
    }

    /* Keyword.Constant */
    .highlight .kd {
        color: var(--code-keyword) !important;
    }

    /* Keyword.Declaration */
    .highlight .kn {
        color: var(--code-keyword) !important;
    }

    /* Keyword.Namespace */
    .highlight .kp {
        color: var(--code-keyword) !important;
    }

    /* Keyword.Pseudo */
    .highlight .kr {
        color: var(--code-keyword) !important;
    }

    /* Keyword.Reserved */
    .highlight .kt {
        color: var(--code-class) !important;
    }

    /* Keyword.Type */
    .highlight .ld {
        color: var(--code-builtin) !important;
    }

    /* Literal.Date */
    .highlight .m {
        color: var(--code-number) !important;
    }

    /* Literal.Number */
    .highlight .s {
        color: var(--code-builtin) !important;
    }

    /* Literal.String */
    .highlight .na {
        color: var(--code-class) !important;
    }

    /* Name.Attribute */
    .highlight .nb {
        color: var(--code-class) !important;
    }

    /* Name.Builtin */
    .highlight .nc {
        color: var(--code-class) !important;
    }

    /* Name.Class */
    .highlight .no {
        color: var(--code-string) !important;
    }

    /* Name.Constant */
    .highlight .nd {
        color: var(--code-function) !important;
    }

    /* Name.Decorator */
    .highlight .ni {
        color: var(--code-text) !important;
    }

    /* Name.Entity */
    .highlight .ne {
        color: var(--code-string) !important;
    }

    /* Name.Exception */
    .highlight .nf {
        color: var(--code-function) !important;
    }

    /* Name.Function */
    .highlight .nl {
        color: var(--code-text) !important;
    }

    /* Name.Label */
    .highlight .nn {
        color: var(--code-text) !important;
    }

    /* Name.Namespace */
    .highlight .nx {
        color: var(--code-function) !important;
    }

    /* Name.Other */
    .highlight .py {
        color: var(--code-text) !important;
    }

    /* Name.Property */
    .highlight .nt {
        color: var(--code-variable) !important;
    }

    /* Name.Tag */
    .highlight .nv {
        color: var(--code-string) !important;
    }

    /* Name.Variable */
    .highlight .ow {
        color: var(--code-keyword) !important;
    }

    /* Operator.Word */
    .highlight .w {
        color: var(--code-text) !important;
    }

    /* Text.Whitespace */
    .highlight .mb {
        color: var(--code-number) !important;
    }

    /* Literal.Number.Bin */
    .highlight .mf {
        color: var(--code-number) !important;
    }

    /* Literal.Number.Float */
    .highlight .mh {
        color: var(--code-number) !important;
    }

    /* Literal.Number.Hex */
    .highlight .mi {
        color: var(--code-number) !important;
    }

    /* Literal.Number.Integer */
    .highlight .mo {
        color: var(--code-number) !important;
    }

    /* Literal.Number.Oct */
    .highlight .sa {
        color: var(--code-builtin) !important;
    }

    /* Literal.String.Affix */
    .highlight .sb {
        color: var(--code-builtin) !important;
    }

    /* Literal.String.Backtick */
    .highlight .sc {
        color: var(--code-builtin) !important;
    }

    /* Literal.String.Char */
    .highlight .dl {
        color: var(--code-builtin) !important;
    }

    /* Literal.String.Delimiter */
    .highlight .sd {
        color: var(--code-comment) !important;
    }

    /* Literal.String.Doc */
    .highlight .s2 {
        color: var(--code-builtin) !important;
    }

    /* Literal.String.Double */
    .highlight .se {
        color: var(--code-function) !important;
    }

    /* Literal.String.Escape */
    .highlight .sh {
        color: var(--code-builtin) !important;
    }

    /* Literal.String.Heredoc */
    .highlight .si {
        color: var(--code-function) !important;
    }

    /* Literal.String.Interpol */
    .highlight .sx {
        color: var(--code-builtin) !important;
    }

    /* Literal.String.Other */
    .highlight .sr {
        color: var(--code-builtin) !important;
    }

    /* Literal.String.Regex */
    .highlight .s1 {
        color: var(--code-builtin) !important;
    }

    /* Literal.String.Single */
    .highlight .ss {
        color: var(--code-builtin) !important;
    }

    /* Literal.String.Symbol */
    .highlight .bp {
        color: var(--code-class) !important;
    }

    /* Name.Builtin.Pseudo */
    .highlight .fm {
        color: var(--code-function) !important;
    }

    /* Name.Function.Magic */
    .highlight .vc {
        color: var(--code-string) !important;
    }

    /* Name.Variable.Class */
    .highlight .vg {
        color: var(--code-string) !important;
    }

    /* Name.Variable.Global */
    .highlight .vi {
        color: var(--code-string) !important;
    }

    /* Name.Variable.Instance */
    .highlight .vm {
        color: var(--code-string) !important;
    }

    /* Name.Variable.Magic */
    .highlight .il {
        color: var(--code-number) !important;
    }

    /* Literal.Number.Integer.Long */

    /* 特殊语言的额外样式调整 */
    .highlight[data-lang="json"] .nt {
        color: var(--code-variable) !important;
    }

    /* JSON keys */
    .highlight[data-lang="yaml"] .na {
        color: var(--code-variable) !important;
    }

    /* YAML keys */
    .highlight[data-lang="yml"] .na {
        color: var(--code-variable) !important;
    }

    /* YAML keys */
    .highlight[data-lang="xml"] .nt {
        color: var(--code-variable) !important;
    }

    /* XML tags */
    .highlight[data-lang="html"] .nt {
        color: var(--code-variable) !important;
    }

    /* HTML tags */

    /* CSS特殊处理 */
    .highlight[data-lang="css"] .nc {
        color: var(--code-class) !important;
    }

    /* CSS class selectors */
    .highlight[data-lang="css"] .nf {
        color: var(--code-function) !important;
    }

    /* CSS functions */
    .highlight[data-lang="css"] .nt {
        color: var(--code-variable) !important;
    }

    /* CSS element selectors */
    .highlight[data-lang="css"] .nd {
        color: var(--code-keyword) !important;
    }

    /* CSS pseudo-classes */

    /* JavaScript特殊处理 */
    .highlight[data-lang="javascript"] .nx {
        color: var(--code-function) !important;
    }

    /* JS functions and variables */
    .highlight[data-lang="js"] .nx {
        color: var(--code-function) !important;
    }

    /* JS functions and variables */

    /* Python特殊处理 */
    .highlight[data-lang="python"] .nd {
        color: var(--code-function) !important;
    }

    /* Python decorators */
    .highlight[data-lang="python"] .nf {
        color: var(--code-function) !important;
    }

    /* Python functions */
    .highlight[data-lang="python"] .nc {
        color: var(--code-class) !important;
    }

    /* Python classes */

    /* Shell/Bash特殊处理 */
    .highlight[data-lang="bash"] .nv {
        color: var(--code-string) !important;
    }

    /* Bash variables */
    .highlight[data-lang="shell"] .nv {
        color: var(--code-string) !important;
    }

    /* Shell variables */
    .highlight[data-lang="sh"] .nv {
        color: var(--code-string) !important;
    }

    /* Shell variables */

    /* C/C++特殊处理 */
    .highlight[data-lang="c"] .kt {
        color: var(--code-keyword) !important;
    }

    /* C types */
    .highlight[data-lang="cpp"] .kt {
        color: var(--code-keyword) !important;
    }

    /* C++ types */
    .highlight[data-lang="c++"] .kt {
        color: var(--code-keyword) !important;
    }

    /* C++ types */

    /* Java特殊处理 */
    .highlight[data-lang="java"] .nc {
        color: var(--code-class) !important;
    }

    /* Java classes */
    .highlight[data-lang="java"] .kt {
        color: var(--code-keyword) !important;
    }

    /* Java types */
</style><script>
    // 字体配置
    const fontConfig = {
        "dongguanti": {
            name: "上图东观体",
            id: "font-dongguanti"
        },
        "oppoti": {
            name: "OPPO Sans",
            id: "font-oppoti"
        },
        "jiangchengti": {
            name: "江城黑体",
            id: "font-jiangchengti"
        },
        "lxgw": {
            name: "霞鹜臻楷",
            id: "font-lxgw"
        }
    };

    // 立即应用保存的字体设置（与主题初始化方式一致）
    (function initFont() {
        const savedFont = localStorage.getItem("preferred-font") || "dongguanti";
        
        // 禁用所有字体样式表
        Object.values(fontConfig).forEach(font => {
            const link = document.getElementById(font.id);
            if (link) {
                link.setAttribute("disabled", "true");
            }
        });
        
        // 启用选中的字体样式表
        const selectedFontLink = document.getElementById(fontConfig[savedFont].id);
        if (selectedFontLink) {
            selectedFontLink.removeAttribute("disabled");
        }
    })();

    document.addEventListener("DOMContentLoaded", () => {
        const savedTheme = localStorage.getItem("preferred-theme") || "theme1";
        const savedFont = localStorage.getItem("preferred-font") || "dongguanti";

        // 初始化功能条字体下拉菜单和字体设置
        updateFontDropdownToolbar(savedFont);
        applyFont(savedFont);
        
        // 初始化功能条状态
        initToolbarState();

        const initialTheme = localStorage.getItem("preferred-theme");
        if (initialTheme) {
            const theme1Link = document.querySelector('link[href*="theme1"]');
            const theme2Link = document.querySelector('link[href*="theme2"]');

            // 关闭过渡动画，直接设置主题
            if (initialTheme === "theme1") {
                theme1Link.removeAttribute("disabled");
                theme2Link.setAttribute("disabled", "true");
            } else {
                theme2Link.removeAttribute("disabled");
                theme1Link.setAttribute("disabled", "true");
            }
        }

        // 添加加载完成后的检测
        setTimeout(() => {
            const hiddenElements = document.querySelectorAll('.md-content article>*[style*="opacity: 0"]');
            hiddenElements.forEach(el => {
                el.style.opacity = '1';
                el.style.transform = 'translateY(0)';
            });
        }, 2000); // 2秒后强制显示所有隐藏元素
    });

    (function initTheme() {
        const savedTheme = localStorage.getItem("preferred-theme");
        if (savedTheme) {
            const theme1Link = document.querySelector('link[href*="theme1"]');
            const theme2Link = document.querySelector('link[href*="theme2"]');
            if (theme1Link && theme2Link) {
                if (savedTheme === "theme1") {
                    theme1Link.removeAttribute("disabled");
                    theme2Link.setAttribute("disabled", "true");
                } else {
                    theme2Link.removeAttribute("disabled");
                    theme1Link.setAttribute("disabled", "true");
                }
            }
        }
    })();

    // 功能条字体下拉菜单功能
    function toggleFontDropdownToolbar() {
        const dropdown = document.querySelector('.font-dropdown-toolbar');
        const isActive = dropdown.classList.contains('active');
        
        if (isActive) {
            dropdown.classList.remove('active');
        } else {
            dropdown.classList.add('active');
        }
    }

    // 功能条字体选择
    function selectFontToolbar(fontKey) {
        // 应用新字体
        applyFont(fontKey);
        
        // 保存字体设置
        localStorage.setItem("preferred-font", fontKey);
        
        // 更新下拉菜单显示
        updateFontDropdownToolbar(fontKey);
        
        // 关闭下拉菜单
        const dropdown = document.querySelector('.font-dropdown-toolbar');
        dropdown.classList.remove('active');
    }

    // 应用字体
    function applyFont(fontKey) {
        // 禁用所有字体样式表
        Object.values(fontConfig).forEach(font => {
            const link = document.getElementById(font.id);
            if (link) {
                link.setAttribute("disabled", "true");
            }
        });
        
        // 启用选中的字体样式表
        const selectedFontLink = document.getElementById(fontConfig[fontKey].id);
        if (selectedFontLink) {
            selectedFontLink.removeAttribute("disabled");
        }
    }

    // 更新功能条字体下拉菜单显示
    function updateFontDropdownToolbar(currentFontKey) {
        const currentFontNameEl = document.querySelector(".current-font-name-toolbar");
        const fontOptions = document.querySelectorAll(".font-option-toolbar");
        
        if (currentFontNameEl) {
            currentFontNameEl.textContent = fontConfig[currentFontKey].name;
        }
        
        // 更新选项的选中状态
        fontOptions.forEach(option => {
            const fontKey = option.getAttribute('data-font');
            if (fontKey === currentFontKey) {
                option.classList.add('selected');
            } else {
                option.classList.remove('selected');
            }
        });
    }

    // 返回顶部功能
    function scrollToTop() {
        window.scrollTo({
            top: 0,
            behavior: 'smooth'
        });
    }

    // 功能条切换功能
    function toggleToolbar() {
        const toolbar = document.getElementById('floatingToolbar');
        const toggleBtn = document.getElementById('toolbarToggleBtn');
        
        if (!toolbar || !toggleBtn) {
            console.error('无法找到功能条或切换按钮元素');
            return;
        }
        
        const isHidden = toolbar.classList.contains('hidden');
        
        if (isHidden) {
            // 显示功能条
            toolbar.classList.remove('hidden');
            toggleBtn.classList.remove('toolbar-hidden');
            localStorage.setItem('toolbar-visible', 'true');
        } else {
            // 隐藏功能条
            toolbar.classList.add('hidden');
            toggleBtn.classList.add('toolbar-hidden');
            localStorage.setItem('toolbar-visible', 'false');
        }
    }

    // 初始化功能条状态
    function initToolbarState() {
        const toolbar = document.getElementById('floatingToolbar');
        const toggleBtn = document.getElementById('toolbarToggleBtn');
        const isVisible = localStorage.getItem('toolbar-visible');
        
        if (!toolbar || !toggleBtn) {
            return;
        }
        
        // 如果之前设置为隐藏，则保持隐藏状态
        if (isVisible === 'false') {
            toolbar.classList.add('hidden');
            toggleBtn.classList.add('toolbar-hidden');
        } else {
            // 默认显示
            toolbar.classList.remove('hidden');
            toggleBtn.classList.remove('toolbar-hidden');
        }
    }

    // 隐藏所有子菜单的通用函数
    function hideAllSubmenus() {
        const fontDropdown = document.querySelector('.font-dropdown-toolbar');
        if (fontDropdown) {
            fontDropdown.classList.remove('active');
        }
        // 如果将来有其他子菜单，可以在这里添加
    }

    // 点击外部关闭下拉菜单
    document.addEventListener('click', function(event) {
        const fontDropdown = document.querySelector('.font-dropdown-toolbar');
        
        // 如果点击的不是字体下拉菜单内部，则关闭字体下拉菜单
        const fontSwitcher = document.querySelector('.font-switcher');
        if (fontSwitcher && fontDropdown && !fontSwitcher.contains(event.target)) {
            fontDropdown.classList.remove('active');
        }
    });

    // 为功能区的其他功能添加点击和悬浮事件监听器
    document.addEventListener('DOMContentLoaded', function() {
        const toolbarItems = document.querySelectorAll('.toolbar-item:not(.font-switcher)');
        
        toolbarItems.forEach(item => {
            // 点击其他功能时隐藏子菜单
            item.addEventListener('click', function() {
                hideAllSubmenus();
            });
            
            // 鼠标悬浮在其他功能时隐藏子菜单
            item.addEventListener('mouseenter', function() {
                hideAllSubmenus();
            });
        });
    });

    function switchTheme() {
        // 获取当前和目标主题信息
        const currentTheme =
            localStorage.getItem("preferred-theme") || "theme1";
        const newTheme = currentTheme === "theme1" ? "theme2" : "theme1";
        const targetThemeText = newTheme === "theme1" ? "新版主题" : "原生主题";

        // 获取主题样式链接
        const theme1Link = document.querySelector('link[href*="theme1"]');
        const theme2Link = document.querySelector('link[href*="theme2"]');

        if (!theme1Link || !theme2Link) {
            console.error("无法找到主题样式链接");
            return;
        }

        // 创建和添加过渡覆盖层
        const overlay = document.createElement("div");
        overlay.className = "theme-transition-overlay";
        overlay.innerHTML = `
        <div class="theme-transition-content">
            <div class="theme-transition-spinner"></div>
            <div class="theme-transition-text">正在切换到：${targetThemeText}</div>
        </div>
    `;
        document.body.appendChild(overlay);

        // 确保DOM已更新后再添加active类
        requestAnimationFrame(() => {
            // 激活蒙版
            overlay.classList.add("active");

            // 添加适当的延迟以确保蒙版已完全显示
            setTimeout(() => {
                // 切换主题样式
                if (newTheme === "theme1") {
                    theme1Link.removeAttribute("disabled");
                    theme2Link.setAttribute("disabled", "true");
                } else {
                    theme2Link.removeAttribute("disabled");
                    theme1Link.setAttribute("disabled", "true");
                }

                // 保存主题设置
                localStorage.setItem("preferred-theme", newTheme);

                // 给予足够的时间加载主题
                setTimeout(() => {
                    // 平滑淡出效果
                    fadeOutOverlay(overlay);
                }, 2500); // 主题加载时间
            }, 250); // 蒙版显示时间
        });
    }

    // 平滑淡出蒙版
    function fadeOutOverlay(overlay) {
        // 先改变背景色，制造渐变效果
        overlay.style.backgroundColor = "rgba(255, 255, 255, 0.85)";

        // 短暂延迟后淡出
        setTimeout(() => {
            overlay.classList.remove("active");

            // 等待淡出动画完成后移除元素
            setTimeout(() => {
                document.body.removeChild(overlay);
            }, 300);
        }, 150);
    }
</script> <link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../../assets/javascripts/glightbox.min.js"></script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=white data-md-color-accent=teal> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#javaio class=md-skip> 跳转至 </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=页眉> <a href=../../index.html title=柯懒的知识库 class="md-header__button md-logo" aria-label=柯懒的知识库 data-md-component=logo> <img src=../../assets/logo.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> 柯懒的知识库 </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Java的IO流 </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary=white data-md-color-accent=teal aria-label type=radio name=__palette id=__palette_1> </form> <!-- 头像元素 - 直接在HTML中定义 --> <div class=header-avatar> <img src=../../作者/作者.assets/20250206-200653.jpg alt=头像> <div class=avatar-dropdown> <p><strong>柯懒不是柯南</strong></p> <a href=../../作者/联系作者/作者.html class=avatar-dropdown-item>吵醒柯懒</a> <div class=avatar-dropdown-divider></div> <a href=../../作者/关于作者/关于作者.html class=avatar-dropdown-item>柯懒自传</a> <div class=avatar-dropdown-divider></div> <a href=https://github.com/H0308 class=avatar-dropdown-item>柯懒的零食库</a> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=搜索 placeholder=搜索 autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=查找> <button type=reset class="md-search__icon md-icon" title=清空当前内容 aria-label=清空当前内容 tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> 正在初始化搜索引擎 </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> </nav> </header> <!-- 独立的切换按钮 --> <div class=toolbar-toggle-btn id=toolbarToggleBtn onclick=toggleToolbar()> <div class=toggle-icon> <svg class=toggle-arrow-icon viewbox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg width=16 height=16> <path d="M346.538667 1024L170.666667 853.333333l341.333333-341.333333-341.333333-341.333333 175.872-170.666667L853.333333 512z" fill=currentColor></path> </svg> </div> </div> <!-- 右侧固定功能条 - 独立于内容区 --> <div class=floating-toolbar id=floatingToolbar> <!-- 字体切换功能 --> <div class="toolbar-item font-switcher"> <div class=toolbar-icon> <svg class=font-icon viewbox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg width=20 height=20> <path d="M913.408 1024l-66.56 0q-29.696 0-51.2-5.12t-36.864-15.872-26.112-27.136-19.968-37.888q-15.36-38.912-28.16-70.656t-22.016-55.296q-11.264-26.624-20.48-49.152l-254.976 0q-7.168 23.552-17.408 51.2-8.192 23.552-21.504 56.832t-30.72 72.192q-20.48 46.08-47.104 63.488t-60.416 17.408l-70.656 0q-45.056 0-60.928-19.968t2.56-68.096q18.432-46.08 43.008-108.544t52.224-132.608 57.344-143.872 57.344-144.384q65.536-164.864 137.216-343.04 7.168-17.408 18.432-31.744 10.24-11.264 27.136-21.504t42.496-10.24q26.624 0 43.52 10.752t28.16 24.064q12.288 15.36 19.456 33.792 72.704 180.224 138.24 345.088 27.648 70.656 57.344 143.872t56.832 142.336 51.2 129.536 41.472 104.448q14.336 34.816 4.096 62.464t-43.008 27.648zM616.448 634.88l-97.28-347.136-1.024 0-108.544 347.136 206.848 0z" fill=currentColor></path> </svg> </div> <div class=toolbar-label>内容字体</div> <div class=font-dropdown-toolbar> <div class=font-current-toolbar onclick=toggleFontDropdownToolbar()> <span class=current-font-name-toolbar>东观体</span> <svg class=dropdown-arrow-icon viewbox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg width=12 height=12> <path d="M878.592 250.88q29.696 0 48.128 11.264t24.576 29.696 0 41.472-26.624 45.568q-82.944 92.16-159.744 180.224t-148.48 164.864q-19.456 20.48-45.568 31.744t-53.76 11.776-53.248-8.704-43.008-28.672q-39.936-44.032-82.944-90.112l-88.064-92.16q-43.008-46.08-85.504-90.624t-79.36-86.528q-17.408-19.456-22.528-40.448t1.024-38.4 23.552-28.672 45.056-11.264q35.84 0 98.816-0.512t137.728-0.512l153.6 0 150.528 0 125.952 0 79.872 0z" fill=currentColor></path> </svg> </div> <div class=font-options-toolbar> <div class=font-option-toolbar data-font=dongguanti onclick="selectFontToolbar('dongguanti')">上图东观体</div> <div class=font-option-toolbar data-font=oppoti onclick="selectFontToolbar('oppoti')">OPPO Sans</div> <div class=font-option-toolbar data-font=jiangchengti onclick="selectFontToolbar('jiangchengti')">江城黑体</div> <div class=font-option-toolbar data-font=lxgw onclick="selectFontToolbar('lxgw')">霞鹜臻楷</div> </div> </div> </div> <!-- 主题切换功能 --> <div class="toolbar-item theme-switcher" onclick=switchTheme()> <div class=toolbar-icon> <svg class=theme-icon viewbox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg width=20 height=20> <path d="M876.572788 522.301623c-1.886977 12.375865-9.657964 30.331819-35.880185 45.48903-56.489572 32.697703-150.21828 83.990926-174.010149 96.958262-13.143345 24.431435-66.067718 122.221646-98.141204 178.503487-16.117073 28.124548-36.055171 34.041304-50.030463 34.041304-0.031722 0-0.031722 0-0.031722 0-14.613836 0-29.1806-6.460132-43.234687-19.218714-47.183626-42.643216-125.994576-117.105115-146.013515-136.083351-27.757181-4.732791-138.338718-23.743774-200.584388-35.752272-17.924231-3.533476-32.649608-14.07046-40.372499-29.084409-5.78782-11.256368-10.281157-30.05962 1.471514-55.658647 26.989701-59.047838 74.126254-157.557432 85.957721-182.196599-3.437286-27.117614-16.996093-135.060045-23.760147-198.905142-1.886977-17.460674 3.901867-35.096333 15.829524-48.351218 12.791327-14.278191 30.667463-21.48943 49.854455-19.426445 63.669088 6.332219 173.259042 19.426445 200.584388 22.705118 24.335245-11.879562 121.085776-58.936297 180.133613-86.34146 9.91379-4.573155 19.85828-6.92369 29.596062-6.92369 28.748764 0 52.172243 20.642133 58.328453 51.421136 12.599969 62.997799 30.93864 166.70272 35.639708 193.484689 18.851347 19.682271 91.953272 96.031147 135.060045 143.07151C872.72004 487.125473 879.307062 504.71406 876.572788 522.301623L876.572788 522.301623zM825.375755 499.085876C776.017604 445.314205 687.245791 352.977193 686.365748 352.017332c-2.942005-3.069919-4.956895-6.971785-5.676279-11.208273-0.207731-1.215688-22.193465-127.001509-36.551474-198.936865-0.799202-3.917216-4.285606-16.836457-16.196891-16.836457-3.453658 0-7.30743 1.006933-11.464099 2.942005-67.282383 31.179117-183.955662 88.180342-185.170327 88.771813-3.693112 1.790786-7.850805 2.558265-11.975752 2.01489-1.295506-0.224104-133.63765-16.165168-205.988468-23.424502-0.079818 0-0.207731 0-0.287549 0-7.30743 0-11.128455 2.89391-13.319353 5.40408-3.677762 4.124947-5.644557 9.91379-5.068436 15.110139 7.674796 72.623018 24.255427 202.934922 24.463158 204.325595 0.511653 4.109598-0.159636 8.266267-1.966795 11.960403-0.591471 1.215688-57.657164 120.04712-88.339977 187.201589-3.565199 7.754614-4.41352 14.214746-2.350534 18.131963 1.935072 3.725858 6.588045 5.820566 10.360975 6.53995 70.719668 13.718443 204.644867 36.519752 206.036563 36.727483 4.189416 0.671289 8.058536 2.686179 11.112082 5.580089 1.006933 0.87902 96.414887 91.281983 150.090367 139.889027 8.314363 7.563256 13.143345 8.106632 14.437827 8.106632 3.485381 0 8.314363-4.621251 12.727882-12.391215 36.343743-63.828724 100.011808-181.988868 100.636025-183.155437 1.983167-3.64604 5.004991-6.667863 8.650007-8.650007 1.134847-0.671289 114.418936-62.373583 178.6314-99.516528 8.698103-5.036713 14.278191-10.568706 14.94948-14.854313C834.681702 511.845481 831.49922 505.800811 825.375755 499.085876L825.375755 499.085876zM935.333076 935.670256c-4.157693 4.157693-9.689686 6.299473-15.141862 6.299473-5.548366 0-11.048637-2.142803-15.238053-6.299473l-171.915441-171.915441c-8.362458-8.394181-8.362458-21.98471 0-30.426987 8.394181-8.394181 21.98471-8.394181 30.379914 0l171.915441 171.915441C943.727257 913.684522 943.727257 927.275052 935.333076 935.670256L935.333076 935.670256z" fill=currentColor></path> </svg> </div> <div class=toolbar-label>主题</div> </div> <!-- 返回顶部功能 --> <div class="toolbar-item back-to-top" onclick=scrollToTop()> <div class=toolbar-icon> <svg class=back-to-top-icon viewbox="0 0 1024 1024" xmlns=http://www.w3.org/2000/svg> <path d="M882.688 624.128l-336.896-583.68c-15.872-27.136-54.784-27.136-70.656 0L138.24 624.128c-15.872 27.136 4.096 61.44 35.328 61.44H317.44c22.528 0 40.96 18.432 40.96 40.96v239.616c0 22.528 18.432 40.96 40.96 40.96h223.232c22.528 0 40.96-18.432 40.96-40.96v-239.616c0-22.528 18.432-40.96 40.96-40.96h143.872c30.208 0 50.176-34.304 34.304-61.44z"></path> </svg> </div> <div class=toolbar-label>顶部</div> </div> </div> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=标签 data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../index.html class=md-tabs__link> 主页 </a> </li> <li class=md-tabs__item> <a href=../../%E7%BD%91%E7%AB%99%E4%BB%8B%E7%BB%8D/%E7%BD%91%E7%AB%99%E4%BB%8B%E7%BB%8D.html class=md-tabs__link> 网站介绍 </a> </li> <li class=md-tabs__item> <a href=../../%E7%BD%91%E7%AB%99%E6%97%B6%E9%97%B4%E7%BA%BF/%E7%BD%91%E7%AB%99%E6%97%B6%E9%97%B4%E7%BA%BF.html class=md-tabs__link> 网站时间线 </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../../C%E8%AF%AD%E8%A8%80/index.html class=md-tabs__link> 编程语言 </a> </li> <li class=md-tabs__item> <a href=../../%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/1.%20%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%92%8C%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/1.%20%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E4%B8%8E%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6.html class=md-tabs__link> 数据结构与算法 </a> </li> <li class=md-tabs__item> <a href=../../Linux/1.%20Linux%E5%B8%B8%E7%94%A8%E9%80%89%E9%A1%B9%E5%92%8C%E6%8C%87%E4%BB%A4/1.%20Linux%E5%B8%B8%E7%94%A8%E9%80%89%E9%A1%B9%E5%92%8C%E6%8C%87%E4%BB%A4.html class=md-tabs__link> Linux </a> </li> <li class=md-tabs__item> <a href=../../HTML%E4%B8%8ECSS/HTML%E7%AC%94%E8%AE%B0/HTML%E7%AC%94%E8%AE%B0.html class=md-tabs__link> 前端 </a> </li> <li class=md-tabs__item> <a href=../../MySQL/MySQL%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8/MySQL%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8.html class=md-tabs__link> MySQL </a> </li> <li class=md-tabs__item> <a href=../../JavaEE/Spring/1.%20SpringMVC%E5%9F%BA%E7%A1%80/1.%20SpringMVC%E5%9F%BA%E7%A1%80.html class=md-tabs__link> JavaEE应用开发 </a> </li> <li class=md-tabs__item> <a href=../../%E5%85%B6%E5%AE%83/Shell%E8%84%9A%E6%9C%AC%E8%AF%AD%E8%A8%80/%E5%85%B3%E4%BA%8EShell.html class=md-tabs__link> 扩展知识 </a> </li> <li class=md-tabs__item> <a href=../../%E5%B7%A5%E5%85%B7%E5%B8%AE%E5%8A%A9/vscode%E4%B8%AD%E6%B7%BB%E5%8A%A0%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5/vscode%E4%B8%AD%E6%B7%BB%E5%8A%A0%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5.html class=md-tabs__link> 工具帮助 </a> </li> <li class=md-tabs__item> <a href=../../%E9%A1%B9%E7%9B%AE/1.%20Boost%E5%BA%93%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E/1.%20Boost%E5%BA%93%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E.html class=md-tabs__link> 项目 </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=导航栏 data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../index.html title=柯懒的知识库 class="md-nav__button md-logo" aria-label=柯懒的知识库 data-md-component=logo> <img src=../../assets/logo.png alt=logo> </a> 柯懒的知识库 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../index.html class=md-nav__link> <span class=md-ellipsis> 主页 </span> </a> </li> <li class=md-nav__item> <a href=../../%E7%BD%91%E7%AB%99%E4%BB%8B%E7%BB%8D/%E7%BD%91%E7%AB%99%E4%BB%8B%E7%BB%8D.html class=md-nav__link> <span class=md-ellipsis> 网站介绍 </span> </a> </li> <li class=md-nav__item> <a href=../../%E7%BD%91%E7%AB%99%E6%97%B6%E9%97%B4%E7%BA%BF/%E7%BD%91%E7%AB%99%E6%97%B6%E9%97%B4%E7%BA%BF.html class=md-nav__link> <span class=md-ellipsis> 网站时间线 </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4 checked> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex> <span class=md-ellipsis> 编程语言 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=true> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> 编程语言 </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../C%E8%AF%AD%E8%A8%80/index.html class=md-nav__link> <span class=md-ellipsis> C语言 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../C%2B%2B/index.html class=md-nav__link> <span class=md-ellipsis> C++ </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_3 checked> <label class=md-nav__link for=__nav_4_3 id=__nav_4_3_label tabindex=0> <span class=md-ellipsis> Java </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_3_label aria-expanded=true> <label class=md-nav__title for=__nav_4_3> <span class="md-nav__icon md-icon"></span> Java </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../1.%20Java%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/Java%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html class=md-nav__link> <span class=md-ellipsis> Java基础知识 </span> </a> </li> <li class=md-nav__item> <a href=../2.%20Java%E6%95%B0%E7%BB%84%E7%B1%BB%E5%9E%8B/2.%20Java%E6%95%B0%E7%BB%84%E7%B1%BB%E5%9E%8B.html class=md-nav__link> <span class=md-ellipsis> Java数组类型 </span> </a> </li> <li class=md-nav__item> <a href=../3.%20Java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E4%B8%8E%E6%96%B9%E6%B3%95/3.%20Java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E4%B8%8E%E6%96%B9%E6%B3%95.html class=md-nav__link> <span class=md-ellipsis> Java面向对象与方法 </span> </a> </li> <li class=md-nav__item> <a href=../4.%20Java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E4%B8%8E%E5%B0%81%E8%A3%85/4.%20Java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E4%B8%8E%E5%B0%81%E8%A3%85.html class=md-nav__link> <span class=md-ellipsis> Java面向对象与封装 </span> </a> </li> <li class=md-nav__item> <a href=../5.%20Java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E4%B8%8E%E7%BB%A7%E6%89%BF/5.%20Java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E4%B8%8E%E7%BB%A7%E6%89%BF.html class=md-nav__link> <span class=md-ellipsis> Java面向对象与继承 </span> </a> </li> <li class=md-nav__item> <a href=../6.%20Java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E4%B8%8E%E6%8E%A5%E5%8F%A3/6.%20%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E4%B8%8E%E6%8E%A5%E5%8F%A3.html class=md-nav__link> <span class=md-ellipsis> Java面向对象与接口 </span> </a> </li> <li class=md-nav__item> <a href=../7.%20Java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E4%B8%8E%E5%A4%9A%E6%80%81/7.%20Java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E4%B8%8E%E5%A4%9A%E6%80%81.html class=md-nav__link> <span class=md-ellipsis> Java面向对象与多态 </span> </a> </li> <li class=md-nav__item> <a href=../8.%20Java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E4%B8%8E%E6%9D%83%E9%99%90%E4%BF%AE%E9%A5%B0%E7%AC%A6%E3%80%81final%E3%80%81%E4%BB%A3%E7%A0%81%E5%9D%97%E5%8F%8A%E5%86%85%E9%83%A8%E7%B1%BB/8.%20Java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E4%B8%8E%E6%9D%83%E9%99%90%E4%BF%AE%E9%A5%B0%E7%AC%A6%E3%80%81final%E3%80%81%E4%BB%A3%E7%A0%81%E5%9D%97%E5%8F%8A%E5%86%85%E9%83%A8%E7%B1%BB.html class=md-nav__link> <span class=md-ellipsis> Java面向对象与权限修饰符、final、代码块及内部类 </span> </a> </li> <li class=md-nav__item> <a href=../9.%20Java%E5%BC%82%E5%B8%B8%E7%B1%BB/9.%20Java%E5%BC%82%E5%B8%B8%E7%B1%BB.html class=md-nav__link> <span class=md-ellipsis> Java异常类 </span> </a> </li> <li class=md-nav__item> <a href=../10.%20Java%E4%B8%AD%E7%9A%84Object%E7%B1%BB%E5%92%8C%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95%E3%80%81%E7%BB%8F%E5%85%B8%E6%8E%A5%E5%8F%A3/10.%20Java%E4%B8%AD%E7%9A%84Object%E7%B1%BB%E5%92%8C%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95%E3%80%81%E7%BB%8F%E5%85%B8%E6%8E%A5%E5%8F%A3.html class=md-nav__link> <span class=md-ellipsis> Java中的Object类和常用方法、经典接口 </span> </a> </li> <li class=md-nav__item> <a href=../11.%20Java.lang%E4%B8%AD%E7%9A%84String%E7%B1%BB%E5%92%8CStringBuilder%E4%BB%8B%E7%BB%8D%E5%92%8C%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95/11.%20Java.lang%E4%B8%AD%E7%9A%84String%E7%B1%BB%E5%92%8CStringBuilder%E4%BB%8B%E7%BB%8D%E5%92%8C%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95.html class=md-nav__link> <span class=md-ellipsis> Java.lang中的String类和StringBuilder类介绍和常用方法 </span> </a> </li> <li class=md-nav__item> <a href=../12.%20Java%E4%B8%AD%E7%9A%84%E5%B8%B8%E7%94%A8%E7%B1%BB%E5%8F%8A%E5%8C%85%E8%A3%85%E7%B1%BB/12.%20Java%E4%B8%AD%E7%9A%84%E5%B8%B8%E7%94%A8%E7%B1%BB%E5%8F%8A%E5%8C%85%E8%A3%85%E7%B1%BB.html class=md-nav__link> <span class=md-ellipsis> Java中的常用类及包装类 </span> </a> </li> <li class=md-nav__item> <a href=../21.%20Java%E4%B8%AD%E7%9A%84%E6%B3%9B%E5%9E%8B/21.%20Java%E4%B8%AD%E7%9A%84%E6%B3%9B%E5%9E%8B.html class=md-nav__link> <span class=md-ellipsis> Java中的泛型 </span> </a> </li> <li class=md-nav__item> <a href=../14.%20Java%E5%8D%95%E5%88%97%E9%9B%86%E5%90%88/14.%20Java%E5%8D%95%E5%88%97%E9%9B%86%E5%90%88.html class=md-nav__link> <span class=md-ellipsis> Java单列集合 </span> </a> </li> <li class=md-nav__item> <a href=../15.%20Java%E5%8F%8C%E5%88%97%E9%9B%86%E5%90%88/15.%20Java%E5%8F%8C%E5%88%97%E9%9B%86%E5%90%88.html class=md-nav__link> <span class=md-ellipsis> Java双列集合 </span> </a> </li> <li class=md-nav__item> <a href=../22.%20%E4%BA%86%E8%A7%A3Java%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%B8%B8%E9%87%8F%E6%B1%A0/22.%20%E4%BA%86%E8%A7%A3Java%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%B8%B8%E9%87%8F%E6%B1%A0.html class=md-nav__link> <span class=md-ellipsis> 了解Java字符串常量池 </span> </a> </li> <li class=md-nav__item> <a href=../13.%20Java%E5%A4%9A%E7%BA%BF%E7%A8%8B/13.%20Java%E5%A4%9A%E7%BA%BF%E7%A8%8B.html class=md-nav__link> <span class=md-ellipsis> Java多线程 </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Java的IO流 </span> <span class="md-nav__icon md-icon"></span> </label> <a href=16.%20Java%E7%9A%84IO%E6%B5%81.html class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Java的IO流 </span> </a> <nav class="md-nav md-nav--secondary" aria-label=目录> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> 目录 </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#_1 class=md-nav__link> <span class=md-ellipsis> 前置小知识 </span> </a> <nav class=md-nav aria-label=前置小知识> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_2 class=md-nav__link> <span class=md-ellipsis> 分隔符 </span> </a> </li> <li class=md-nav__item> <a href=#_3 class=md-nav__link> <span class=md-ellipsis> 父路径 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#file class=md-nav__link> <span class=md-ellipsis> File类 </span> </a> <nav class=md-nav aria-label=File类> <ul class=md-nav__list> <li class=md-nav__item> <a href=#file_1 class=md-nav__link> <span class=md-ellipsis> File类介绍 </span> </a> </li> <li class=md-nav__item> <a href=#file_2 class=md-nav__link> <span class=md-ellipsis> File类中的静态成员 </span> </a> </li> <li class=md-nav__item> <a href=#file_3 class=md-nav__link> <span class=md-ellipsis> File类的构造方法 </span> </a> </li> <li class=md-nav__item> <a href=#file_4 class=md-nav__link> <span class=md-ellipsis> File类对象相关获取方法 </span> </a> </li> <li class=md-nav__item> <a href=#file_5 class=md-nav__link> <span class=md-ellipsis> File类创建文件的方法 </span> </a> </li> <li class=md-nav__item> <a href=#file_6 class=md-nav__link> <span class=md-ellipsis> File类删除文件方法 </span> </a> </li> <li class=md-nav__item> <a href=#file_7 class=md-nav__link> <span class=md-ellipsis> File类的判断方法 </span> </a> </li> <li class=md-nav__item> <a href=#file_8 class=md-nav__link> <span class=md-ellipsis> File类的遍历方法 </span> </a> </li> <li class=md-nav__item> <a href=#file_9 class=md-nav__link> <span class=md-ellipsis> File类练习 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#io class=md-nav__link> <span class=md-ellipsis> IO流分类 </span> </a> </li> <li class=md-nav__item> <a href=#_4 class=md-nav__link> <span class=md-ellipsis> 字节流 </span> </a> <nav class=md-nav aria-label=字节流> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_5 class=md-nav__link> <span class=md-ellipsis> 字节输出流 </span> </a> </li> <li class=md-nav__item> <a href=#_6 class=md-nav__link> <span class=md-ellipsis> 字节输入流 </span> </a> </li> <li class=md-nav__item> <a href=#_7 class=md-nav__link> <span class=md-ellipsis> 字节流与文件的复制 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_8 class=md-nav__link> <span class=md-ellipsis> 字符流 </span> </a> <nav class=md-nav aria-label=字符流> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_9 class=md-nav__link> <span class=md-ellipsis> 字节流读取中文问题 </span> </a> </li> <li class=md-nav__item> <a href=#_10 class=md-nav__link> <span class=md-ellipsis> 字符流介绍 </span> </a> </li> <li class=md-nav__item> <a href=#_11 class=md-nav__link> <span class=md-ellipsis> 字符输出流 </span> </a> </li> <li class=md-nav__item> <a href=#_12 class=md-nav__link> <span class=md-ellipsis> 字符输入流 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#io_1 class=md-nav__link> <span class=md-ellipsis> IO异常处理方式 </span> </a> </li> <li class=md-nav__item> <a href=#_13 class=md-nav__link> <span class=md-ellipsis> 字节缓冲流 </span> </a> <nav class=md-nav aria-label=字节缓冲流> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_14 class=md-nav__link> <span class=md-ellipsis> 基本使用 </span> </a> </li> <li class=md-nav__item> <a href=#_15 class=md-nav__link> <span class=md-ellipsis> 使用缓冲流复制文件 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_16 class=md-nav__link> <span class=md-ellipsis> 字符缓冲流 </span> </a> </li> <li class=md-nav__item> <a href=#_17 class=md-nav__link> <span class=md-ellipsis> 缓冲流读取数据原理 </span> </a> </li> <li class=md-nav__item> <a href=#_18 class=md-nav__link> <span class=md-ellipsis> 字符编码 </span> </a> </li> <li class=md-nav__item> <a href=#_19 class=md-nav__link> <span class=md-ellipsis> 字符集 </span> </a> </li> <li class=md-nav__item> <a href=#_20 class=md-nav__link> <span class=md-ellipsis> 转换流 </span> </a> </li> <li class=md-nav__item> <a href=#_21 class=md-nav__link> <span class=md-ellipsis> 序列化流与反序列化流 </span> </a> <nav class=md-nav aria-label=序列化流与反序列化流> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_22 class=md-nav__link> <span class=md-ellipsis> 基本使用 </span> </a> </li> <li class=md-nav__item> <a href=#_23 class=md-nav__link> <span class=md-ellipsis> 禁止成员被序列化 </span> </a> </li> <li class=md-nav__item> <a href=#_24 class=md-nav__link> <span class=md-ellipsis> 序列号不匹配异常 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_25 class=md-nav__link> <span class=md-ellipsis> 打印流 </span> </a> <nav class=md-nav aria-label=打印流> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_26 class=md-nav__link> <span class=md-ellipsis> 基本使用 </span> </a> </li> <li class=md-nav__item> <a href=#_27 class=md-nav__link> <span class=md-ellipsis> 系统打印流与改变流向 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#propertiesio class=md-nav__link> <span class=md-ellipsis> Properties集合结合IO流 </span> </a> </li> <li class=md-nav__item> <a href=#commons-io class=md-nav__link> <span class=md-ellipsis> Commons-io工具包 </span> </a> <nav class=md-nav aria-label=Commons-io工具包> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_28 class=md-nav__link> <span class=md-ellipsis> 介绍与引入工具包 </span> </a> </li> <li class=md-nav__item> <a href=#_29 class=md-nav__link> <span class=md-ellipsis> 使用工具包的静态方法 </span> </a> <nav class=md-nav aria-label=使用工具包的静态方法> <ul class=md-nav__list> <li class=md-nav__item> <a href=#ioutils class=md-nav__link> <span class=md-ellipsis> IOUtils工具类 </span> </a> </li> <li class=md-nav__item> <a href=#fileutils class=md-nav__link> <span class=md-ellipsis> FileUtils工具类 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_30 class=md-nav__link> <span class=md-ellipsis> 整章结构 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../17.%20Java%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E3%80%81%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E3%80%81%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B8%8ELombok/17.%20Java%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E3%80%81%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E3%80%81%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B8%8ELombok.html class=md-nav__link> <span class=md-ellipsis> Java网络编程、正则表达式、设计模式与Lombok </span> </a> </li> <li class=md-nav__item> <a href=../18.%20Java%E4%B8%AD%E7%9A%84JDK8%E5%8F%8A%E5%90%8E%E7%BB%AD%E7%9A%84%E9%87%8D%E8%A6%81%E6%96%B0%E7%89%B9%E6%80%A7/18.%20Java%E4%B8%AD%E7%9A%84JDK8%E5%8F%8A%E5%90%8E%E7%BB%AD%E7%9A%84%E9%87%8D%E8%A6%81%E6%96%B0%E7%89%B9%E6%80%A7.html class=md-nav__link> <span class=md-ellipsis> Java中的JDK8及后续的重要新特性 </span> </a> </li> <li class=md-nav__item> <a href=../19.%20Java%E4%B8%AD%E7%9A%84Junit%E3%80%81%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%97%B6%E6%9C%BA%E4%B8%8E%E6%9C%BA%E5%88%B6%E3%80%81%E5%8F%8D%E5%B0%84%E3%80%81%E6%B3%A8%E8%A7%A3%E5%8F%8A%E6%9E%9A%E4%B8%BE/19.%20Java%E4%B8%AD%E7%9A%84Junit%E3%80%81%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%97%B6%E6%9C%BA%E4%B8%8E%E6%9C%BA%E5%88%B6%E3%80%81%E5%8F%8D%E5%B0%84%E3%80%81%E6%B3%A8%E8%A7%A3%E5%8F%8A%E6%9E%9A%E4%B8%BE.html class=md-nav__link> <span class=md-ellipsis> Java中的Junit、类加载时机与机制、反射、注解及枚举 </span> </a> </li> <li class=md-nav__item> <a href=../20.%20%EF%BC%88%E8%A1%A5%E5%85%85%EF%BC%89JSON%E5%9C%A8%E5%90%8E%E7%AB%AF%E7%9A%84%E5%BA%94%E7%94%A8/20.%20%EF%BC%88%E8%A1%A5%E5%85%85%EF%BC%89JSON%E5%9C%A8%E5%90%8E%E7%AB%AF%E7%9A%84%E5%BA%94%E7%94%A8.html class=md-nav__link> <span class=md-ellipsis> （补充）JSON在后端的应用 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../Python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/1.%20Python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/1.%20Python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html class=md-nav__link> <span class=md-ellipsis> Python </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/1.%20%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%92%8C%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/1.%20%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E4%B8%8E%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6.html class=md-nav__link> <span class=md-ellipsis> 数据结构与算法 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../Linux/1.%20Linux%E5%B8%B8%E7%94%A8%E9%80%89%E9%A1%B9%E5%92%8C%E6%8C%87%E4%BB%A4/1.%20Linux%E5%B8%B8%E7%94%A8%E9%80%89%E9%A1%B9%E5%92%8C%E6%8C%87%E4%BB%A4.html class=md-nav__link> <span class=md-ellipsis> Linux </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../HTML%E4%B8%8ECSS/HTML%E7%AC%94%E8%AE%B0/HTML%E7%AC%94%E8%AE%B0.html class=md-nav__link> <span class=md-ellipsis> 前端 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../MySQL/MySQL%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8/MySQL%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8.html class=md-nav__link> <span class=md-ellipsis> MySQL </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../JavaEE/Spring/1.%20SpringMVC%E5%9F%BA%E7%A1%80/1.%20SpringMVC%E5%9F%BA%E7%A1%80.html class=md-nav__link> <span class=md-ellipsis> JavaEE应用开发 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../%E5%85%B6%E5%AE%83/Shell%E8%84%9A%E6%9C%AC%E8%AF%AD%E8%A8%80/%E5%85%B3%E4%BA%8EShell.html class=md-nav__link> <span class=md-ellipsis> 扩展知识 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../%E5%B7%A5%E5%85%B7%E5%B8%AE%E5%8A%A9/vscode%E4%B8%AD%E6%B7%BB%E5%8A%A0%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5/vscode%E4%B8%AD%E6%B7%BB%E5%8A%A0%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5.html class=md-nav__link> <span class=md-ellipsis> 工具帮助 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../%E9%A1%B9%E7%9B%AE/1.%20Boost%E5%BA%93%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E/1.%20Boost%E5%BA%93%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E.html class=md-nav__link> <span class=md-ellipsis> 项目 </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label=目录> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> 目录 </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#_1 class=md-nav__link> <span class=md-ellipsis> 前置小知识 </span> </a> <nav class=md-nav aria-label=前置小知识> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_2 class=md-nav__link> <span class=md-ellipsis> 分隔符 </span> </a> </li> <li class=md-nav__item> <a href=#_3 class=md-nav__link> <span class=md-ellipsis> 父路径 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#file class=md-nav__link> <span class=md-ellipsis> File类 </span> </a> <nav class=md-nav aria-label=File类> <ul class=md-nav__list> <li class=md-nav__item> <a href=#file_1 class=md-nav__link> <span class=md-ellipsis> File类介绍 </span> </a> </li> <li class=md-nav__item> <a href=#file_2 class=md-nav__link> <span class=md-ellipsis> File类中的静态成员 </span> </a> </li> <li class=md-nav__item> <a href=#file_3 class=md-nav__link> <span class=md-ellipsis> File类的构造方法 </span> </a> </li> <li class=md-nav__item> <a href=#file_4 class=md-nav__link> <span class=md-ellipsis> File类对象相关获取方法 </span> </a> </li> <li class=md-nav__item> <a href=#file_5 class=md-nav__link> <span class=md-ellipsis> File类创建文件的方法 </span> </a> </li> <li class=md-nav__item> <a href=#file_6 class=md-nav__link> <span class=md-ellipsis> File类删除文件方法 </span> </a> </li> <li class=md-nav__item> <a href=#file_7 class=md-nav__link> <span class=md-ellipsis> File类的判断方法 </span> </a> </li> <li class=md-nav__item> <a href=#file_8 class=md-nav__link> <span class=md-ellipsis> File类的遍历方法 </span> </a> </li> <li class=md-nav__item> <a href=#file_9 class=md-nav__link> <span class=md-ellipsis> File类练习 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#io class=md-nav__link> <span class=md-ellipsis> IO流分类 </span> </a> </li> <li class=md-nav__item> <a href=#_4 class=md-nav__link> <span class=md-ellipsis> 字节流 </span> </a> <nav class=md-nav aria-label=字节流> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_5 class=md-nav__link> <span class=md-ellipsis> 字节输出流 </span> </a> </li> <li class=md-nav__item> <a href=#_6 class=md-nav__link> <span class=md-ellipsis> 字节输入流 </span> </a> </li> <li class=md-nav__item> <a href=#_7 class=md-nav__link> <span class=md-ellipsis> 字节流与文件的复制 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_8 class=md-nav__link> <span class=md-ellipsis> 字符流 </span> </a> <nav class=md-nav aria-label=字符流> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_9 class=md-nav__link> <span class=md-ellipsis> 字节流读取中文问题 </span> </a> </li> <li class=md-nav__item> <a href=#_10 class=md-nav__link> <span class=md-ellipsis> 字符流介绍 </span> </a> </li> <li class=md-nav__item> <a href=#_11 class=md-nav__link> <span class=md-ellipsis> 字符输出流 </span> </a> </li> <li class=md-nav__item> <a href=#_12 class=md-nav__link> <span class=md-ellipsis> 字符输入流 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#io_1 class=md-nav__link> <span class=md-ellipsis> IO异常处理方式 </span> </a> </li> <li class=md-nav__item> <a href=#_13 class=md-nav__link> <span class=md-ellipsis> 字节缓冲流 </span> </a> <nav class=md-nav aria-label=字节缓冲流> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_14 class=md-nav__link> <span class=md-ellipsis> 基本使用 </span> </a> </li> <li class=md-nav__item> <a href=#_15 class=md-nav__link> <span class=md-ellipsis> 使用缓冲流复制文件 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_16 class=md-nav__link> <span class=md-ellipsis> 字符缓冲流 </span> </a> </li> <li class=md-nav__item> <a href=#_17 class=md-nav__link> <span class=md-ellipsis> 缓冲流读取数据原理 </span> </a> </li> <li class=md-nav__item> <a href=#_18 class=md-nav__link> <span class=md-ellipsis> 字符编码 </span> </a> </li> <li class=md-nav__item> <a href=#_19 class=md-nav__link> <span class=md-ellipsis> 字符集 </span> </a> </li> <li class=md-nav__item> <a href=#_20 class=md-nav__link> <span class=md-ellipsis> 转换流 </span> </a> </li> <li class=md-nav__item> <a href=#_21 class=md-nav__link> <span class=md-ellipsis> 序列化流与反序列化流 </span> </a> <nav class=md-nav aria-label=序列化流与反序列化流> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_22 class=md-nav__link> <span class=md-ellipsis> 基本使用 </span> </a> </li> <li class=md-nav__item> <a href=#_23 class=md-nav__link> <span class=md-ellipsis> 禁止成员被序列化 </span> </a> </li> <li class=md-nav__item> <a href=#_24 class=md-nav__link> <span class=md-ellipsis> 序列号不匹配异常 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_25 class=md-nav__link> <span class=md-ellipsis> 打印流 </span> </a> <nav class=md-nav aria-label=打印流> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_26 class=md-nav__link> <span class=md-ellipsis> 基本使用 </span> </a> </li> <li class=md-nav__item> <a href=#_27 class=md-nav__link> <span class=md-ellipsis> 系统打印流与改变流向 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#propertiesio class=md-nav__link> <span class=md-ellipsis> Properties集合结合IO流 </span> </a> </li> <li class=md-nav__item> <a href=#commons-io class=md-nav__link> <span class=md-ellipsis> Commons-io工具包 </span> </a> <nav class=md-nav aria-label=Commons-io工具包> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_28 class=md-nav__link> <span class=md-ellipsis> 介绍与引入工具包 </span> </a> </li> <li class=md-nav__item> <a href=#_29 class=md-nav__link> <span class=md-ellipsis> 使用工具包的静态方法 </span> </a> <nav class=md-nav aria-label=使用工具包的静态方法> <ul class=md-nav__list> <li class=md-nav__item> <a href=#ioutils class=md-nav__link> <span class=md-ellipsis> IOUtils工具类 </span> </a> </li> <li class=md-nav__item> <a href=#fileutils class=md-nav__link> <span class=md-ellipsis> FileUtils工具类 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_30 class=md-nav__link> <span class=md-ellipsis> 整章结构 </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=javaio>Java的IO流<a class=headerlink href=#javaio title="Permanent link">&para;</a></h1> <div style="margin-top: -30px; font-size: 0.75em; opacity: 0.7;"> <p><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10h-2a8 8 0 0 1-8 8 8 8 0 0 1-8-8 8 8 0 0 1 8-8zm6.78 1a.7.7 0 0 0-.48.2l-1.22 1.21 2.5 2.5L20.8 5.7c.26-.26.26-.7 0-.95L19.25 3.2c-.13-.13-.3-.2-.47-.2m-2.41 2.12L9 12.5V15h2.5l7.37-7.38z"/></svg></span> 约 7555 个字 <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6m80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3l89.3 89.4-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3"/></svg></span> 478 行代码 <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 17H7V3h14m0-2H7a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2M3 5H1v16a2 2 0 0 0 2 2h16v-2H3m12.96-10.71-2.75 3.54-1.96-2.36L8.5 15h11z"/></svg></span> 4 张图片 <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 20c4.42 0 8-3.58 8-8s-3.58-8-8-8-8 3.58-8 8 3.58 8 8 8m0-18c5.5 0 10 4.5 10 10s-4.5 10-10 10C6.47 22 2 17.5 2 12S6.5 2 12 2m.5 11H11V7h1.5v4.26l3.7-2.13.75 1.3z"/></svg></span> 预计阅读时间 31 分钟</p> </div> <h2 id=_1>前置小知识<a class=headerlink href=#_1 title="Permanent link">&para;</a></h2> <h3 id=_2>分隔符<a class=headerlink href=#_2 title="Permanent link">&para;</a></h3> <p>分隔符一共分为两种：</p> <ol> <li>路径名称分隔符：在路径中用于分隔文件或者文件夹，在Windows下使用<code>\</code>表示，在Linux下使用<code>/</code>表示</li> <li>路径分隔符：多个路径之间的分隔，一般使用<code>;</code>表示</li> </ol> <div class="admonition note"> <p class=admonition-title>Note</p> <p>在Windows下也可以使用<code>/</code>表示路径名称分隔符，但是系统默认的路径名称分隔符为<code>\</code></p> </div> <h3 id=_3>父路径<a class=headerlink href=#_3 title="Permanent link">&para;</a></h3> <p>例如，在路径中：<code>E:\Test\test\test.jpg</code></p> <p><code>test.jpg</code>的父路径即为<code>E:\Test\test</code>，对于<code>test</code>文件夹来说，其父路径为<code>E:\Test</code>，以此类推</p> <h2 id=file><code>File</code>类<a class=headerlink href=#file title="Permanent link">&para;</a></h2> <h3 id=file_1><code>File</code>类介绍<a class=headerlink href=#file_1 title="Permanent link">&para;</a></h3> <p><code>File</code>类在官方文档中的描述是：文件和目录(文件夹)路径名的抽象表示</p> <p>本意是：<code>File</code>类的对象存储着文件或者目录的路径</p> <h3 id=file_2><code>File</code>类中的静态成员<a class=headerlink href=#file_2 title="Permanent link">&para;</a></h3> <p>对于文件/文件夹的操作经常会使用到路径，其中避免不了出现分隔符，而对于「分隔符」来说，不同的系统有不同的分隔符，所以Java为了确保代码的通用性，提供了两个针对分隔符的静态变量，如下：</p> <ol> <li><code>static String pathSeparator</code>：与系统有关的默认路径名称分隔符，在Windows下值为<code>\</code>，在Linux下值为<code>/</code></li> <li><code>static String separator</code>：与系统有关的默认路径分隔符，在Windows下值为<code>;</code></li> </ol> <h3 id=file_3><code>File</code>类的构造方法<a class=headerlink href=#file_3 title="Permanent link">&para;</a></h3> <p>File类中常用有三种构造方法：</p> <ol> <li><code>File(String parent, String child)</code>：根据子路径和父路径一起确定一个完整的路径，使用此构造方法后，实例化的对象中存储的是一个结合父路径和子路径一体的完整路径</li> <li><code>File(File parent, String child)</code>：与第一个构造方法作用相同，不同的是，此构造方法的父路径是<code>File</code>对象引用</li> <li><code>File(String pathname)</code>：参数直接填入文件的完整路径</li> </ol> <div class="admonition note"> <p class=admonition-title>Note</p> <p><code>File</code>类对象不会检查路径是否是真实存在的路径，所以理论上上面三个构造方法中的路径可以随便写，但是没有意义</p> <p>如果在路径中不使用Java提供的分隔符常量，注意<code>\</code>需要使用<code>\\</code>进行转义</p> </div> <p>基本实例代码如下：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Test</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-0-2><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-0-3><span class=w>        </span><span class=c1>// 1. File(String parent, String child)</span>
</span><span id=__span-0-4><span class=w>        </span><span class=n>File</span><span class=w> </span><span class=n>file1</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>File</span><span class=p>(</span><span class=s>&quot;D:\\&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;a.txt&quot;</span><span class=p>);</span>
</span><span id=__span-0-5><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>file1</span><span class=p>);</span>
</span><span id=__span-0-6><span class=w>        </span><span class=c1>// 2. File(File parent, String child)</span>
</span><span id=__span-0-7><span class=w>        </span><span class=n>File</span><span class=w> </span><span class=n>file2</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>File</span><span class=p>(</span><span class=s>&quot;D:\\&quot;</span><span class=p>);</span>
</span><span id=__span-0-8><span class=w>        </span><span class=n>File</span><span class=w> </span><span class=n>file3</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>File</span><span class=p>(</span><span class=n>file2</span><span class=p>,</span><span class=w> </span><span class=s>&quot;a.txt&quot;</span><span class=p>);</span>
</span><span id=__span-0-9><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>file3</span><span class=p>);</span>
</span><span id=__span-0-10><span class=w>        </span><span class=c1>// 3. File(String pathname)</span>
</span><span id=__span-0-11><span class=w>        </span><span class=n>File</span><span class=w> </span><span class=n>file4</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>File</span><span class=p>(</span><span class=s>&quot;D:\\a.txt&quot;</span><span class=p>);</span>
</span><span id=__span-0-12><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>file4</span><span class=p>);</span>
</span><span id=__span-0-13><span class=w>    </span><span class=p>}</span>
</span><span id=__span-0-14><span class=p>}</span>
</span><span id=__span-0-15>
</span><span id=__span-0-16><span class=n>输出结果</span><span class=err>：</span>
</span><span id=__span-0-17><span class=nl>D</span><span class=p>:</span><span class=err>\</span><span class=n>a</span><span class=p>.</span><span class=na>txt</span>
</span><span id=__span-0-18><span class=nl>D</span><span class=p>:</span><span class=err>\</span><span class=n>a</span><span class=p>.</span><span class=na>txt</span>
</span><span id=__span-0-19><span class=nl>D</span><span class=p>:</span><span class=err>\</span><span class=n>a</span><span class=p>.</span><span class=na>txt</span>
</span></code></pre></div></td></tr></table></div> <h3 id=file_4><code>File</code>类对象相关获取方法<a class=headerlink href=#file_4 title="Permanent link">&para;</a></h3> <p>在<code>File</code>类创建完对象后，如果想获取到该对象中的一些内容，可以使用下面<code>File</code>类的常用方法获取指定的内容：</p> <ol> <li><code>String getAbsolutePath()</code>：获取<code>File</code>类对象中文件路径的绝对路径（从根目录开始的路径）</li> <li><code>String getPath()</code>：获取<code>File</code>类对象中的值</li> <li><code>String getName()</code>：获取到<code>File</code>类对象中文件路径对应的文件/文件夹</li> <li><code>long length()</code>：获取到<code>File</code>对象中文件路径对应的文件大小，以字节为单位</li> </ol> <p>基本使用如下：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-1-1><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Test01</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-1-2><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-1-3><span class=w>        </span><span class=n>File</span><span class=w> </span><span class=n>file</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>File</span><span class=p>(</span><span class=s>&quot;D:\\&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;a.txt&quot;</span><span class=p>);</span>
</span><span id=__span-1-4><span class=w>        </span><span class=c1>// 1. String getAbsolutePath()</span>
</span><span id=__span-1-5><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>file</span><span class=p>.</span><span class=na>getAbsoluteFile</span><span class=p>());</span>
</span><span id=__span-1-6><span class=w>        </span><span class=c1>// 2. String getPath()</span>
</span><span id=__span-1-7><span class=w>        </span><span class=n>File</span><span class=w> </span><span class=n>file1</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>File</span><span class=p>(</span><span class=s>&quot;D:\\a.txt&quot;</span><span class=p>);</span>
</span><span id=__span-1-8><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>file1</span><span class=p>.</span><span class=na>getPath</span><span class=p>());</span>
</span><span id=__span-1-9><span class=w>        </span><span class=k>new</span><span class=w> </span><span class=n>File</span><span class=p>(</span><span class=s>&quot;./a.txt&quot;</span><span class=p>);</span>
</span><span id=__span-1-10><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>file1</span><span class=p>.</span><span class=na>getPath</span><span class=p>());</span>
</span><span id=__span-1-11><span class=w>        </span><span class=c1>// 3. String getName()</span>
</span><span id=__span-1-12><span class=w>        </span><span class=n>File</span><span class=w> </span><span class=n>file2</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>File</span><span class=p>(</span><span class=s>&quot;D:\\test&quot;</span><span class=p>);</span>
</span><span id=__span-1-13><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>file2</span><span class=p>.</span><span class=na>getName</span><span class=p>());</span>
</span><span id=__span-1-14><span class=w>        </span><span class=n>File</span><span class=w> </span><span class=n>file3</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>File</span><span class=p>(</span><span class=s>&quot;D:\\test\\a.txt&quot;</span><span class=p>);</span>
</span><span id=__span-1-15><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>file3</span><span class=p>.</span><span class=na>getName</span><span class=p>());</span>
</span><span id=__span-1-16><span class=w>        </span><span class=c1>// 4. long length()</span>
</span><span id=__span-1-17><span class=w>        </span><span class=n>File</span><span class=w> </span><span class=n>file4</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>File</span><span class=p>(</span><span class=s>&quot;.\\a.txt&quot;</span><span class=p>);</span>
</span><span id=__span-1-18><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>file4</span><span class=p>.</span><span class=na>length</span><span class=p>());</span>
</span><span id=__span-1-19><span class=w>    </span><span class=p>}</span>
</span><span id=__span-1-20><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>在上面的代码中，需要注意最后一个方法，因为当前<code>a.txt</code>文件中没有任何内容，所以输出<code>file4</code>对象对应文件的大小为0，此处一般获取到的<code>length</code>与文件属性中的文件大小保持一致</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>如果指定的文件不存在，则计算文件大小的方法也会返回0 在IDEA中，使用<code>./</code>代表的当前路径为模块所在路径，即「项目文件夹」中</p> </div> <h3 id=file_5><code>File</code>类创建文件的方法<a class=headerlink href=#file_5 title="Permanent link">&para;</a></h3> <p>当需要使用<code>File</code>类对象在对象路径位置创建文件/文件夹时，可以使用下面的两个方法：</p> <ol> <li><code>boolean createNewFile()</code>：在<code>File</code>对象路径下创建一个文件，如果文件已经存在，则创建失败，否则创建成功</li> <li><code>boolean mkdirs()</code>：在<code>File</code>对象路径下创建一个文件夹，如果文件夹已经存在，则创建失败，否则创建成功；本方法可以一次创建多级文件夹</li> </ol> <div class="admonition note"> <p class=admonition-title>Note</p> <p>上面两个方法在使用时必须要在路径中指定创建的文件/文件夹名 需要注意，上面两个方法都会抛出异常</p> </div> <p>基本使用如下：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-2-1><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Test02</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-2-2><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=kd>throws</span><span class=w> </span><span class=n>IOException</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-2-3><span class=w>        </span><span class=n>File</span><span class=w> </span><span class=n>file</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>File</span><span class=p>(</span><span class=s>&quot;.\\b.txt&quot;</span><span class=p>);</span>
</span><span id=__span-2-4><span class=w>        </span><span class=c1>// 1. boolean createNewFile()</span>
</span><span id=__span-2-5><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>file</span><span class=p>.</span><span class=na>createNewFile</span><span class=p>());</span>
</span><span id=__span-2-6><span class=w>        </span><span class=c1>// 2. boolean mkdirs()</span>
</span><span id=__span-2-7><span class=w>        </span><span class=n>File</span><span class=w> </span><span class=n>file1</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>File</span><span class=p>(</span><span class=s>&quot;.\\test\\test1&quot;</span><span class=p>);</span>
</span><span id=__span-2-8><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>file1</span><span class=p>.</span><span class=na>mkdirs</span><span class=p>());</span>
</span><span id=__span-2-9><span class=w>    </span><span class=p>}</span>
</span><span id=__span-2-10><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>在上面的代码中，对于<code>createNewFile</code>来说，会在项目文件夹中创建一个名为<code>b.txt</code>的文件；对于<code>mkdirs</code>方法来说，会在项目文件夹中创建一个名为<code>test</code>的文件夹，并且因为<code>test</code>后面依旧还有文件夹，所以会在<code>test</code>文件夹中继续创建新的名为<code>test1</code>的文件夹</p> <h3 id=file_6><code>File</code>类删除文件方法<a class=headerlink href=#file_6 title="Permanent link">&para;</a></h3> <p>在Java中，如果想要删除文件/文件夹时，可以使用：<code>boolean delete()</code>，如果删除成功，返回<code>true</code>，否则返回<code>false</code></p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>需要注意，删除文件夹时必须确保文件夹为空，否则删除失败 使用该方法删除的文件/文件夹不会存在于系统回收站中</p> </div> <p>基本使用如下：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span>
<span class=normal>7</span>
<span class=normal>8</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-3-1><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Test03</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-3-2><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-3-3><span class=w>        </span><span class=n>File</span><span class=w> </span><span class=n>file</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>File</span><span class=p>(</span><span class=s>&quot;./b.txt&quot;</span><span class=p>);</span>
</span><span id=__span-3-4><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>file</span><span class=p>.</span><span class=na>delete</span><span class=p>());</span>
</span><span id=__span-3-5><span class=w>        </span><span class=n>File</span><span class=w> </span><span class=n>file1</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>File</span><span class=p>(</span><span class=s>&quot;./test/test1&quot;</span><span class=p>);</span>
</span><span id=__span-3-6><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>file1</span><span class=p>.</span><span class=na>delete</span><span class=p>());</span>
</span><span id=__span-3-7><span class=w>    </span><span class=p>}</span>
</span><span id=__span-3-8><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h3 id=file_7><code>File</code>类的判断方法<a class=headerlink href=#file_7 title="Permanent link">&para;</a></h3> <p>在Java中，判断文件类型或者文件是否存在可以使用下面的方法：</p> <ol> <li><code>boolean isDirectory()</code>：判断<code>File</code>对象中的路径的文件是否是文件夹，如果不是返回<code>false</code>，否则返回<code>true</code></li> <li><code>boolean isFile()</code>：判断<code>File</code>对象中的路径的文件是否是文件，如果不是返回<code>false</code>，否则返回<code>true</code></li> <li><code>boolean exists()</code>：判断<code>File</code>对象中的路径的文件是否存在，如果不存在返回<code>false</code>，否则返回<code>true</code></li> </ol> <p>基本使用如下：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span>
<span class=normal>7</span>
<span class=normal>8</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-4-1><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Test04</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-4-2><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-4-3><span class=w>        </span><span class=n>File</span><span class=w> </span><span class=n>file</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>File</span><span class=p>(</span><span class=s>&quot;./b.txt&quot;</span><span class=p>);</span>
</span><span id=__span-4-4><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>file</span><span class=p>.</span><span class=na>exists</span><span class=p>());</span>
</span><span id=__span-4-5><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>file</span><span class=p>.</span><span class=na>isDirectory</span><span class=p>());</span>
</span><span id=__span-4-6><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>file</span><span class=p>.</span><span class=na>isFile</span><span class=p>());</span>
</span><span id=__span-4-7><span class=w>    </span><span class=p>}</span>
</span><span id=__span-4-8><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h3 id=file_8><code>File</code>类的遍历方法<a class=headerlink href=#file_8 title="Permanent link">&para;</a></h3> <p>当需要一次拿到多个文件的名称时，可以使用下面的方法：</p> <ol> <li><code>String[] list()</code>：遍历指定的文件夹，将读取到的文件名称存储到<code>String</code>数组中</li> <li><code>File[] listFiles()</code>：遍历指定的文件夹，将读取到的文件名称存储到<code>File</code>数组中</li> </ol> <div class="admonition note"> <p class=admonition-title>Note</p> <p><code>list</code>方法遍历结果只会显示<code>File</code>类对象路径下文件的文件名，但是<code>listFiles</code>会显示<code>File</code>类对象路径+内部文件的文件名</p> <p>需要注意，两个方法在遍历到<code>File</code>类对象路径下的文件夹时不会进入对应的文件夹</p> </div> <p>基本使用如下：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-5-1><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Test05</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-5-2><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-5-3><span class=w>        </span><span class=n>File</span><span class=w> </span><span class=n>file</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>File</span><span class=p>(</span><span class=s>&quot;./test/test1&quot;</span><span class=p>);</span>
</span><span id=__span-5-4><span class=w>        </span><span class=c1>// 1. String[] list()</span>
</span><span id=__span-5-5><span class=w>        </span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>list</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>file</span><span class=p>.</span><span class=na>list</span><span class=p>();</span>
</span><span id=__span-5-6><span class=w>        </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=n>String</span><span class=w> </span><span class=n>s</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=n>list</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-5-7><span class=w>            </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>s</span><span class=p>);</span>
</span><span id=__span-5-8><span class=w>        </span><span class=p>}</span>
</span><span id=__span-5-9>
</span><span id=__span-5-10><span class=w>        </span><span class=c1>// 2. File[] listFiles()</span>
</span><span id=__span-5-11><span class=w>        </span><span class=n>File</span><span class=o>[]</span><span class=w> </span><span class=n>files</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>file</span><span class=p>.</span><span class=na>listFiles</span><span class=p>();</span>
</span><span id=__span-5-12><span class=w>        </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=n>File</span><span class=w> </span><span class=n>f</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=n>files</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-5-13><span class=w>            </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>f</span><span class=p>);</span>
</span><span id=__span-5-14><span class=w>        </span><span class=p>}</span>
</span><span id=__span-5-15><span class=w>    </span><span class=p>}</span>
</span><span id=__span-5-16><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>一般推荐使用<code>listFiles</code>方法，因为返回的是<code>File</code>类对象，之后的操作会更加方便</p> <h3 id=file_9><code>File</code>类练习<a class=headerlink href=#file_9 title="Permanent link">&para;</a></h3> <p>遍历当前项目文件夹下的<code>test</code>文件夹中所有<code>txt</code>文件，如果存在子文件夹，遍历子文件夹中所有<code>txt</code>文件，以此类推，直到不存在<code>txt</code>文件</p> <p>思路：</p> <ol> <li>创建<code>File</code>类对象指定路径</li> <li>调用<code>listFiles</code>方法获取到当前路径下的所有文件</li> <li>判断是否是文件，其次判断其文件名称是否以<code>.txt</code>结尾，如果是，打印出文件名，如果不是，判断是否是文件夹，时文件夹继续遍历，重复第三步</li> </ol> <div class="admonition note"> <p class=admonition-title>Note</p> <p>对于第三步来说，可以考虑使用递归的方式，因为文件目录本质还是树结构</p> </div> <p>参考代码：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-6-1><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Test06</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-6-2><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-6-3><span class=w>        </span><span class=n>File</span><span class=w> </span><span class=n>file</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>File</span><span class=p>(</span><span class=s>&quot;./test/test1&quot;</span><span class=p>);</span>
</span><span id=__span-6-4><span class=w>        </span><span class=n>File</span><span class=o>[]</span><span class=w> </span><span class=n>files</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>file</span><span class=p>.</span><span class=na>listFiles</span><span class=p>();</span>
</span><span id=__span-6-5><span class=w>        </span><span class=n>isTxt</span><span class=p>(</span><span class=n>files</span><span class=p>);</span>
</span><span id=__span-6-6><span class=w>    </span><span class=p>}</span>
</span><span id=__span-6-7>
</span><span id=__span-6-8><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>isTxt</span><span class=p>(</span><span class=n>File</span><span class=o>[]</span><span class=w> </span><span class=n>file</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-6-9><span class=w>        </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=n>File</span><span class=w> </span><span class=n>file1</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=n>file</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-6-10><span class=w>            </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>file1</span><span class=p>.</span><span class=na>isFile</span><span class=p>())</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-6-11><span class=w>                </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>file1</span><span class=p>.</span><span class=na>getName</span><span class=p>().</span><span class=na>endsWith</span><span class=p>(</span><span class=s>&quot;.txt&quot;</span><span class=p>))</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-6-12><span class=w>                    </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>file1</span><span class=p>);</span>
</span><span id=__span-6-13><span class=w>                </span><span class=p>}</span>
</span><span id=__span-6-14><span class=w>            </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-6-15><span class=w>                </span><span class=n>isTxt</span><span class=p>(</span><span class=n>file1</span><span class=p>.</span><span class=na>listFiles</span><span class=p>());</span>
</span><span id=__span-6-16><span class=w>            </span><span class=p>}</span>
</span><span id=__span-6-17><span class=w>        </span><span class=p>}</span>
</span><span id=__span-6-18><span class=w>    </span><span class=p>}</span>
</span><span id=__span-6-19><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h2 id=io>IO流分类<a class=headerlink href=#io title="Permanent link">&para;</a></h2> <p>在Java中，IO流有两种分类：</p> <ol> <li>字节流：可以理解为「万用流」，因为一切均文件</li> <li>字符流：针对于文本文件</li> </ol> <p>字节流有两个对应的流：</p> <ol> <li>字节输出流：对应<code>OutputStream</code>抽象类</li> <li>字节输入流：对应<code>InputStream</code>抽象类</li> </ol> <p>字符流有两个对应的流：</p> <ol> <li>字符输出流：对应<code>Writer</code>抽象类</li> <li>字符输入流：对应<code>Reader</code>抽象类</li> </ol> <h2 id=_4>字节流<a class=headerlink href=#_4 title="Permanent link">&para;</a></h2> <p>在Java中，字节流两个抽象流：</p> <ol> <li>字节输出流：对应<code>OutputStream</code>抽象类</li> <li>字节输入流：对应<code>InputStream</code>抽象类</li> </ol> <h3 id=_5>字节输出流<a class=headerlink href=#_5 title="Permanent link">&para;</a></h3> <p><code>OutputStream</code>抽象类的子类是<code>FileOutputStream</code></p> <p>构造方法如下：</p> <ol> <li><code>FileOutputStream(File file)</code>：通过<code>File</code>类对象创建<code>FileOutputStream</code>对象</li> <li><code>FileOutputStream(String name)</code>：通过文件路径字符串创建<code>FileOutputStream</code>对象</li> </ol> <div class="admonition note"> <p class=admonition-title>Note</p> <p>需要注意，上面两个构造方法都会抛出异常</p> </div> <p>基本使用如下：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span>
<span class=normal>7</span>
<span class=normal>8</span>
<span class=normal>9</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-7-1><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Test</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-7-2><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=kd>throws</span><span class=w> </span><span class=n>FileNotFoundException</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-7-3><span class=w>        </span><span class=n>File</span><span class=w> </span><span class=n>file</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>File</span><span class=p>(</span><span class=s>&quot;./a.txt&quot;</span><span class=p>);</span>
</span><span id=__span-7-4><span class=w>        </span><span class=c1>// 1. FileOutputStream(File file) ：通过File类对象创建FileOutputStream对象</span>
</span><span id=__span-7-5><span class=w>        </span><span class=n>FileOutputStream</span><span class=w> </span><span class=n>outputStream</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>FileOutputStream</span><span class=p>(</span><span class=n>file</span><span class=p>);</span>
</span><span id=__span-7-6><span class=w>        </span><span class=c1>// 2. FileOutputStream(String name)：通过文件路径字符串创建FileOutputStream对象</span>
</span><span id=__span-7-7><span class=w>        </span><span class=n>FileOutputStream</span><span class=w> </span><span class=n>outputStream1</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>FileOutputStream</span><span class=p>(</span><span class=s>&quot;./b.txt&quot;</span><span class=p>);</span>
</span><span id=__span-7-8><span class=w>    </span><span class=p>}</span>
</span><span id=__span-7-9><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>字节输出流的特点：</p> <ol> <li>如果指定的文件不存在就会创建新文件，否则就在指定的文件中写</li> <li>默认覆盖写，如果原来文件中有内容，再次开流写就会覆盖原始的内容</li> </ol> <p>字节输出流常用方法：</p> <ol> <li><code>void write(int b)</code>：每一次写一个字节的数据，参数为写入内容的码值</li> <li><code>void write(byte[] b)</code>：每一次写一个字节数组中的数据，参数为写入内容的码值数组</li> <li><code>void write(byte[] b, int off, int len)</code>：每一次写一个字节数组中的部分数据，第一个参数为写入内容的码值数组，第二个参数为第一个写入的内容对应的下标，第三个参数为指定数组的元素个数</li> <li><code>void close()</code>：关闭输出流</li> </ol> <p>基本使用如下：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-8-1><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Test01</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-8-2><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=kd>throws</span><span class=w> </span><span class=n>IOException</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-8-3><span class=w>        </span><span class=n>FileOutputStream</span><span class=w> </span><span class=n>outputStream</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>FileOutputStream</span><span class=p>(</span><span class=s>&quot;./a.txt&quot;</span><span class=p>);</span>
</span><span id=__span-8-4><span class=w>        </span><span class=n>outputStream</span><span class=p>.</span><span class=na>write</span><span class=p>(</span><span class=mi>97</span><span class=p>);</span>
</span><span id=__span-8-5><span class=w>        </span><span class=kt>byte</span><span class=o>[]</span><span class=w> </span><span class=n>bytes</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span><span class=mi>98</span><span class=p>,</span><span class=w> </span><span class=mi>99</span><span class=p>,</span><span class=w> </span><span class=mi>100</span><span class=p>,</span><span class=w> </span><span class=mi>101</span><span class=p>,</span><span class=w> </span><span class=mi>102</span><span class=p>};</span>
</span><span id=__span-8-6><span class=w>        </span><span class=n>outputStream</span><span class=p>.</span><span class=na>write</span><span class=p>(</span><span class=n>bytes</span><span class=p>);</span>
</span><span id=__span-8-7><span class=w>        </span><span class=n>outputStream</span><span class=p>.</span><span class=na>write</span><span class=p>(</span><span class=n>bytes</span><span class=p>,</span><span class=w> </span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>);</span>
</span><span id=__span-8-8><span class=w>        </span><span class=n>outputStream</span><span class=p>.</span><span class=na>close</span><span class=p>();</span>
</span><span id=__span-8-9><span class=w>    </span><span class=p>}</span>
</span><span id=__span-8-10><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <div class="admonition note"> <p class=admonition-title>Note</p> <p>需要注意，如果使用了<code>close</code>方法关闭了当前输出流，就不可以再调用当前输出流对象，否则编译报错</p> </div> <p>如果需要追加写，则可以使用：<code>FileOutputStream(String name, boolean append)</code>创建字节输出流对象，其中第二个参数此时需要为<code>true</code></p> <p>如果写的内容需要换行，则可以在写的内容中添加换行符：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span>
<span class=normal>7</span>
<span class=normal>8</span>
<span class=normal>9</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-9-1><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Test03</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-9-2><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=kd>throws</span><span class=w> </span><span class=n>IOException</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-9-3><span class=w>        </span><span class=n>File</span><span class=w> </span><span class=n>file</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>File</span><span class=p>(</span><span class=s>&quot;./a.txt&quot;</span><span class=p>);</span>
</span><span id=__span-9-4><span class=w>        </span><span class=n>FileOutputStream</span><span class=w> </span><span class=n>outputStream</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>FileOutputStream</span><span class=p>(</span><span class=n>file</span><span class=p>,</span><span class=w> </span><span class=kc>true</span><span class=p>);</span>
</span><span id=__span-9-5><span class=w>        </span><span class=n>outputStream</span><span class=p>.</span><span class=na>write</span><span class=p>(</span><span class=s>&quot;Hello\n&quot;</span><span class=p>.</span><span class=na>getBytes</span><span class=p>());</span>
</span><span id=__span-9-6><span class=w>        </span><span class=n>outputStream</span><span class=p>.</span><span class=na>write</span><span class=p>(</span><span class=s>&quot;World\n&quot;</span><span class=p>.</span><span class=na>getBytes</span><span class=p>());</span>
</span><span id=__span-9-7><span class=w>        </span><span class=n>outputStream</span><span class=p>.</span><span class=na>close</span><span class=p>();</span>
</span><span id=__span-9-8><span class=w>    </span><span class=p>}</span>
</span><span id=__span-9-9><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h3 id=_6>字节输入流<a class=headerlink href=#_6 title="Permanent link">&para;</a></h3> <p><code>InputStream</code>抽象类的子类是<code>FileInputStream</code>类</p> <p>构造方法如下：</p> <ol> <li><code>FileInputStream(File file)</code>：通过<code>File</code>类对象创建<code>FileInputStream</code>对象</li> <li><code>FileINputStream(String name)</code>：通过文件路径字符串创建<code>FileINputStream</code>对象</li> </ol> <div class="admonition note"> <p class=admonition-title>Note</p> <p>需要注意，上面两个构造方法都会抛出异常</p> </div> <p>使用方法同字节输出流</p> <p>字节输入流的特点：如果指定的文件不存在就会打开失败抛出异常，否则就在指定的文件中读取</p> <p>字节输入流的常见方法：</p> <ol> <li><code>int read()</code>：从指定文件中一次读取一个字节的数据，返回读取到的字节</li> <li><code>int read(byte[] b)</code>：从指定文件中一次读取<code>n</code>个字节的数据，<code>n</code>由参数数组大小决定，返回读取到的字节个数</li> <li><code>int read(byte[] b, int off, int len)</code>：从指定文件中一次读取<code>n</code>个字节中的部分数据，<code>n</code>由数组大小决定，第一个参数代表存储读取内容的数组，第二个参数为第一个读取的内容，第三个参数为字节个数。方法返回读取到的字节个数</li> <li><code>void close()</code>：关闭字节输入流</li> </ol> <div class="admonition note"> <p class=admonition-title>Note</p> <p>需要注意：</p> <p>如果读取文件内容的过程中，一个流在读取的过程中会按照文件内容顺序读取，每一次读取的位置为上一次读取的结束位置，已经读到文件内容的结尾，此时三个<code>read</code>方法都会返回-1。</p> <p>如果使用了<code>close</code>方法关闭了当前输出流，就不可以再调用当前输出流对象，否则编译报错</p> </div> <ul> <li> <p>一次读取一个字节</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-10-1><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Test04</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-10-2><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=kd>throws</span><span class=w> </span><span class=n>IOException</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-10-3><span class=w>        </span><span class=n>File</span><span class=w> </span><span class=n>file</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>File</span><span class=p>(</span><span class=s>&quot;./a.txt&quot;</span><span class=p>);</span>
</span><span id=__span-10-4><span class=w>        </span><span class=n>FileInputStream</span><span class=w> </span><span class=n>fileInputStream</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>FileInputStream</span><span class=p>(</span><span class=n>file</span><span class=p>);</span>
</span><span id=__span-10-5><span class=w>        </span><span class=kt>int</span><span class=w> </span><span class=n>read</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>fileInputStream</span><span class=p>.</span><span class=na>read</span><span class=p>();</span>
</span><span id=__span-10-6><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>((</span><span class=kt>char</span><span class=p>)</span><span class=n>read</span><span class=p>);</span>
</span><span id=__span-10-7><span class=w>        </span><span class=kt>int</span><span class=w> </span><span class=n>read1</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>fileInputStream</span><span class=p>.</span><span class=na>read</span><span class=p>();</span>
</span><span id=__span-10-8><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>((</span><span class=kt>char</span><span class=p>)</span><span class=n>read1</span><span class=p>);</span>
</span><span id=__span-10-9><span class=w>        </span><span class=kt>int</span><span class=w> </span><span class=n>read2</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>fileInputStream</span><span class=p>.</span><span class=na>read</span><span class=p>();</span>
</span><span id=__span-10-10><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>((</span><span class=kt>char</span><span class=p>)</span><span class=n>read2</span><span class=p>);</span>
</span><span id=__span-10-11><span class=w>        </span><span class=n>fileInputStream</span><span class=p>.</span><span class=na>close</span><span class=p>();</span>
</span><span id=__span-10-12><span class=w>    </span><span class=p>}</span>
</span><span id=__span-10-13><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> </li> <li> <p>一次读取<code>n</code>个字节</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-11-1><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Test04</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-11-2><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=kd>throws</span><span class=w> </span><span class=n>IOException</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-11-3><span class=w>        </span><span class=n>File</span><span class=w> </span><span class=n>file</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>File</span><span class=p>(</span><span class=s>&quot;./a.txt&quot;</span><span class=p>);</span>
</span><span id=__span-11-4><span class=w>        </span><span class=n>FileInputStream</span><span class=w> </span><span class=n>fileInputStream</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>FileInputStream</span><span class=p>(</span><span class=n>file</span><span class=p>);</span>
</span><span id=__span-11-5><span class=w>        </span><span class=kt>byte</span><span class=o>[]</span><span class=w> </span><span class=n>bytes</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=kt>byte</span><span class=o>[</span><span class=mi>2</span><span class=o>]</span><span class=p>;</span>
</span><span id=__span-11-6><span class=w>        </span><span class=k>while</span><span class=w> </span><span class=p>(</span><span class=n>fileInputStream</span><span class=p>.</span><span class=na>read</span><span class=p>(</span><span class=n>bytes</span><span class=p>)</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=o>-</span><span class=mi>1</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-11-7><span class=w>            </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=k>new</span><span class=w> </span><span class=n>String</span><span class=p>(</span><span class=n>bytes</span><span class=p>));</span>
</span><span id=__span-11-8><span class=w>        </span><span class=p>}</span>
</span><span id=__span-11-9><span class=w>    </span><span class=p>}</span>
</span><span id=__span-11-10><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>上面的代码需要注意，如果文件中的内容只有5个字节，则在最后一次读取的过程中因为只读取到一个字节的数据，所以只会覆盖字节数组中第一个元素的位置，此时会出现打印结果与文件实际内容不一致的情况，可以考虑修改方法：因为<code>read</code>方法会返回读取到的字节个数，所以可以通过该字节个数控制<code>bytes</code>数组每次转换为字符串的个数</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-12-1><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Test04</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-12-2><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=kd>throws</span><span class=w> </span><span class=n>IOException</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-12-3><span class=w>        </span><span class=n>File</span><span class=w> </span><span class=n>file</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>File</span><span class=p>(</span><span class=s>&quot;./a.txt&quot;</span><span class=p>);</span>
</span><span id=__span-12-4><span class=w>        </span><span class=n>FileInputStream</span><span class=w> </span><span class=n>fileInputStream</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>FileInputStream</span><span class=p>(</span><span class=n>file</span><span class=p>);</span>
</span><span id=__span-12-5><span class=w>        </span><span class=kt>byte</span><span class=o>[]</span><span class=w> </span><span class=n>bytes</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=kt>byte</span><span class=o>[</span><span class=mi>2</span><span class=o>]</span><span class=p>;</span>
</span><span id=__span-12-6><span class=w>        </span><span class=kt>int</span><span class=w> </span><span class=n>len</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-12-7><span class=w>        </span><span class=k>while</span><span class=w> </span><span class=p>((</span><span class=n>len</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>fileInputStream</span><span class=p>.</span><span class=na>read</span><span class=p>(</span><span class=n>bytes</span><span class=p>))</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=o>-</span><span class=mi>1</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-12-8><span class=w>            </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=k>new</span><span class=w> </span><span class=n>String</span><span class=p>(</span><span class=n>bytes</span><span class=p>,</span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=n>len</span><span class=p>));</span>
</span><span id=__span-12-9><span class=w>        </span><span class=p>}</span>
</span><span id=__span-12-10><span class=w>        </span><span class=n>fileInputStream</span><span class=p>.</span><span class=na>close</span><span class=p>();</span>
</span><span id=__span-12-11><span class=w>    </span><span class=p>}</span>
</span><span id=__span-12-12><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> </li> </ul> <p>对于「一次读取<code>n</code>个字节中的部分数据」方法来说，在实际开发中并不常用，因为读取部分数据可能导致数据读取不全造成的问题，所以不做演示</p> <h3 id=_7>字节流与文件的复制<a class=headerlink href=#_7 title="Permanent link">&para;</a></h3> <p>文件的复制本质是将文件输入到内存中，再从内存输出到硬盘中，并且因为文件都是字节组成的，所以可以考虑字节流，步骤如下：</p> <ol> <li>通过字节输入流打开指定文件</li> <li>依次读取文件内容写到指定位置</li> </ol> <div class="admonition note"> <p class=admonition-title>Note</p> <p>整个过程中需要注意：</p> <p>输出位置必须指明文件保存的名字，否则会导致无法找到文件 为了确保写入的都是有效数据，可以使用写入部分数据的<code>write</code>方法 因为创建了字节输入流和字节输出流对象，所以需要关闭两个流，但是需要满足先开流后关</p> </div> <p>示例代码：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-13-1><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Test05</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-13-2><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=kd>throws</span><span class=w> </span><span class=n>IOException</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-13-3><span class=w>        </span><span class=n>File</span><span class=w> </span><span class=n>file_in</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>File</span><span class=p>(</span><span class=s>&quot;./1.mp3&quot;</span><span class=p>);</span>
</span><span id=__span-13-4><span class=w>        </span><span class=n>FileInputStream</span><span class=w> </span><span class=n>fileInputStream</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>FileInputStream</span><span class=p>(</span><span class=n>file_in</span><span class=p>);</span>
</span><span id=__span-13-5><span class=w>        </span><span class=n>File</span><span class=w> </span><span class=n>file_out</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>File</span><span class=p>(</span><span class=s>&quot;./1-copy.mp3&quot;</span><span class=p>);</span>
</span><span id=__span-13-6><span class=w>        </span><span class=n>FileOutputStream</span><span class=w> </span><span class=n>outputStream</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>FileOutputStream</span><span class=p>(</span><span class=n>file_out</span><span class=p>);</span>
</span><span id=__span-13-7><span class=w>        </span><span class=kt>byte</span><span class=o>[]</span><span class=w> </span><span class=n>bytes</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=kt>byte</span><span class=o>[</span><span class=mi>1024</span><span class=o>]</span><span class=p>;</span>
</span><span id=__span-13-8><span class=w>        </span><span class=kt>int</span><span class=w> </span><span class=n>len</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-13-9><span class=w>        </span><span class=k>while</span><span class=w> </span><span class=p>((</span><span class=n>len</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>fileInputStream</span><span class=p>.</span><span class=na>read</span><span class=p>(</span><span class=n>bytes</span><span class=p>))</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=o>-</span><span class=mi>1</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-13-10><span class=w>            </span><span class=n>outputStream</span><span class=p>.</span><span class=na>write</span><span class=p>(</span><span class=n>bytes</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=n>len</span><span class=p>);</span>
</span><span id=__span-13-11><span class=w>        </span><span class=p>}</span>
</span><span id=__span-13-12>
</span><span id=__span-13-13><span class=w>        </span><span class=n>outputStream</span><span class=p>.</span><span class=na>close</span><span class=p>();</span>
</span><span id=__span-13-14><span class=w>        </span><span class=n>fileInputStream</span><span class=p>.</span><span class=na>close</span><span class=p>();</span>
</span><span id=__span-13-15><span class=w>    </span><span class=p>}</span>
</span><span id=__span-13-16><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h2 id=_8>字符流<a class=headerlink href=#_8 title="Permanent link">&para;</a></h2> <h3 id=_9>字节流读取中文问题<a class=headerlink href=#_9 title="Permanent link">&para;</a></h3> <p>使用字节流读取文本内容需要确保读取的字节个数是对应编码中的一个字符占用的字节个数</p> <p>在UTF-8中，中文占3个字节，在GBK中，中文占2个字节，如果数组的长度为2，一次读取两个字节的数据，在GBK编码下就不会发生问题，但是如果是UTF-8就会出现读取的字节不全导致解码出现问题，从而乱码</p> <p>下面的代码不论是GBK还是UTF-8都会出现读取中文乱码问题</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-14-1><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Test</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-14-2><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=kd>throws</span><span class=w> </span><span class=n>IOException</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-14-3><span class=w>        </span><span class=n>File</span><span class=w> </span><span class=n>file</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>File</span><span class=p>(</span><span class=s>&quot;./b.txt&quot;</span><span class=p>);</span>
</span><span id=__span-14-4><span class=w>        </span><span class=n>FileInputStream</span><span class=w> </span><span class=n>fileInputStream</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>FileInputStream</span><span class=p>(</span><span class=n>file</span><span class=p>);</span>
</span><span id=__span-14-5><span class=w>        </span><span class=kt>byte</span><span class=o>[]</span><span class=w> </span><span class=n>bytes</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=kt>byte</span><span class=o>[</span><span class=mi>1</span><span class=o>]</span><span class=p>;</span>
</span><span id=__span-14-6><span class=w>        </span><span class=kt>int</span><span class=w> </span><span class=n>len</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-14-7><span class=w>        </span><span class=k>while</span><span class=w> </span><span class=p>((</span><span class=n>len</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>fileInputStream</span><span class=p>.</span><span class=na>read</span><span class=p>(</span><span class=n>bytes</span><span class=p>))</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=o>-</span><span class=mi>1</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-14-8><span class=w>            </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=k>new</span><span class=w> </span><span class=n>String</span><span class=p>(</span><span class=n>bytes</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=n>len</span><span class=p>));</span>
</span><span id=__span-14-9><span class=w>        </span><span class=p>}</span>
</span><span id=__span-14-10><span class=w>    </span><span class=p>}</span>
</span><span id=__span-14-11><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h3 id=_10>字符流介绍<a class=headerlink href=#_10 title="Permanent link">&para;</a></h3> <p>字符流有两个对应的流：</p> <ol> <li>字符输出流：对应<code>Writer</code>抽象类</li> <li>字符输入流：对应<code>Reader</code>抽象类</li> </ol> <h3 id=_11>字符输出流<a class=headerlink href=#_11 title="Permanent link">&para;</a></h3> <p><code>Writer</code>抽象类的子类是<code>FileWriter</code></p> <p>构造方法如下：</p> <ol> <li><code>FileWriter(File file)</code>：使用<code>File</code>对象构造<code>FileWriter</code>对象</li> <li><code>FileWriter(String fileName)</code>：使用文件路径构造<code>FileWriter</code>对象</li> <li><code>FileWriter(String fileName, boolean append)</code>：通过文件路径和是否追加构造<code>FileWriter</code>对象</li> </ol> <p>基本使用：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-15-1><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Test01</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-15-2><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=kd>throws</span><span class=w> </span><span class=n>IOException</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-15-3><span class=w>        </span><span class=n>File</span><span class=w> </span><span class=n>file</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>File</span><span class=p>(</span><span class=s>&quot;./a.txt&quot;</span><span class=p>);</span>
</span><span id=__span-15-4><span class=w>        </span><span class=c1>// 1. FileWriter(File file)：使用File对象构造FileWriter对象</span>
</span><span id=__span-15-5><span class=w>        </span><span class=n>FileWriter</span><span class=w> </span><span class=n>fileWriter</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>FileWriter</span><span class=p>(</span><span class=n>file</span><span class=p>);</span>
</span><span id=__span-15-6><span class=w>        </span><span class=c1>// 2. FileWriter(String fileName)：使用文件路径构造FileWriter对象</span>
</span><span id=__span-15-7><span class=w>        </span><span class=n>FileWriter</span><span class=w> </span><span class=n>fileWriter1</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>FileWriter</span><span class=p>(</span><span class=s>&quot;./a.txt&quot;</span><span class=p>);</span>
</span><span id=__span-15-8><span class=w>        </span><span class=c1>// 3. FileWriter(String fileName, boolean append)：通过文件路径和是否追加构造FileWriter对象</span>
</span><span id=__span-15-9><span class=w>        </span><span class=n>FileWriter</span><span class=w> </span><span class=n>fileWriter2</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>FileWriter</span><span class=p>(</span><span class=s>&quot;./a.txt&quot;</span><span class=p>,</span><span class=w> </span><span class=kc>true</span><span class=p>);</span>
</span><span id=__span-15-10>
</span><span id=__span-15-11><span class=w>    </span><span class=p>}</span>
</span><span id=__span-15-12><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>字符输出流的特点（与字节输出流一样）：</p> <ol> <li>如果指定的文件不存在就会创建新文件，否则就在指定的文件中写</li> <li>默认覆盖写，如果原来文件中有内容，再次开流写就会覆盖原始的内容</li> </ol> <p>常用方法如下：</p> <ol> <li><code>void write(int c)</code>：向文本文件中写入一个字符</li> <li><code>void write(char[] cbuf)</code>：向文本文件写一串字符</li> <li><code>void write(char[] cbuf, int off, int len)</code>：向文本文件写一串字符的一部分，第一个参数代表待写入的字符数组，第二个参数为第一个写入的字符对应的下标，第三个参数为数组的元素个数</li> <li><code>void write(String str)</code>：向文本文件写一个字符串</li> <li><code>void flush()</code>：刷新输出流缓冲区</li> <li><code>void close()</code>：关闭字符输出流</li> </ol> <div class="admonition note"> <p class=admonition-title>Note</p> <p>需要注意第五个方法和第六个方法：使用<code>flush</code>方法和<code>close</code>都可以将字符输出缓冲区的内容输出到文本文件中，但是<code>flush</code>刷新后，当前输出流对象依旧可以使用，但是<code>close</code>执行后，对应的输出流对象不可以再使用</p> </div> <p>基本使用如下：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-16-1><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Test02</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-16-2><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=kd>throws</span><span class=w> </span><span class=n>IOException</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-16-3><span class=w>        </span><span class=n>File</span><span class=w> </span><span class=n>file</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>File</span><span class=p>(</span><span class=s>&quot;./b.txt&quot;</span><span class=p>);</span>
</span><span id=__span-16-4><span class=w>        </span><span class=n>FileWriter</span><span class=w> </span><span class=n>fileWriter</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>FileWriter</span><span class=p>(</span><span class=n>file</span><span class=p>);</span>
</span><span id=__span-16-5><span class=w>        </span><span class=n>fileWriter</span><span class=p>.</span><span class=na>write</span><span class=p>(</span><span class=mi>97</span><span class=p>);</span>
</span><span id=__span-16-6><span class=w>        </span><span class=n>fileWriter</span><span class=p>.</span><span class=na>write</span><span class=p>(</span><span class=s>&quot;你好&quot;</span><span class=p>.</span><span class=na>toCharArray</span><span class=p>());</span>
</span><span id=__span-16-7><span class=w>        </span><span class=n>fileWriter</span><span class=p>.</span><span class=na>write</span><span class=p>(</span><span class=s>&quot;Hello World&quot;</span><span class=p>);</span>
</span><span id=__span-16-8><span class=w>        </span><span class=c1>// fileWriter.flush();</span>
</span><span id=__span-16-9><span class=w>        </span><span class=n>fileWriter</span><span class=p>.</span><span class=na>close</span><span class=p>();</span>
</span><span id=__span-16-10><span class=w>    </span><span class=p>}</span>
</span><span id=__span-16-11><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h3 id=_12>字符输入流<a class=headerlink href=#_12 title="Permanent link">&para;</a></h3> <p><code>Reader</code>抽象类的子类是<code>FileReader</code>类</p> <p>构造方法：</p> <ol> <li><code>FileReader(File file)</code>：使用<code>File</code>对象构造<code>FileReader</code>对象</li> <li><code>FileReader(String path)</code>：使用文件路径构造<code>FileReader</code>对象</li> </ol> <p>使用方式与字符输出流基本一致，不做演示</p> <p>常用方法如下：</p> <ol> <li><code>int read()</code>：每次从文本文件中读取一个字符，返回读取字符对应的<code>int</code>值</li> <li><code>int read(char[] cbuf)</code>：每次从文本文件中读取一串字符存储到字符数组中，返回读取字符的个数</li> <li><code>int read(char[] cbuf, int off, int len)</code>：每次从文本文件中读取一串字符的一部分存储到字符数组中，返回读取字符的个数，第一个参数代表存储读取字符的数组，第二个参数为第一个写入的字符，第三个参数为字符个数</li> <li><code>void close()</code>：关闭字符输入流</li> </ol> <p>使用方式与字节输出流类似，不再演示</p> <h2 id=io_1>IO异常处理方式<a class=headerlink href=#io_1 title="Permanent link">&para;</a></h2> <p>前面在遇到异常时直接使用了<code>throws</code>向上抛出异常，但是这种处理方式只是为了代码简洁</p> <p>在实际开发中，需要使用<code>try...catch...finally</code>语句块处理异常，例如下面的代码：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-17-1><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Test</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-17-2><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-17-3><span class=w>        </span><span class=n>File</span><span class=w> </span><span class=n>file</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>File</span><span class=p>(</span><span class=s>&quot;./a.txt&quot;</span><span class=p>);</span>
</span><span id=__span-17-4><span class=w>        </span><span class=c1>// 确保在finally的作用域中可以调用close方法</span>
</span><span id=__span-17-5><span class=w>        </span><span class=n>FileOutputStream</span><span class=w> </span><span class=n>outputStream</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=kc>null</span><span class=p>;</span>
</span><span id=__span-17-6><span class=w>        </span><span class=k>try</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-17-7><span class=w>            </span><span class=n>outputStream</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>FileOutputStream</span><span class=p>(</span><span class=n>file</span><span class=p>);</span>
</span><span id=__span-17-8><span class=w>        </span><span class=p>}</span><span class=w> </span><span class=k>catch</span><span class=w> </span><span class=p>(</span><span class=n>IOException</span><span class=w> </span><span class=n>e</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-17-9><span class=w>            </span><span class=n>e</span><span class=p>.</span><span class=na>printStackTrace</span><span class=p>();</span>
</span><span id=__span-17-10><span class=w>        </span><span class=p>}</span><span class=w> </span><span class=k>finally</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-17-11><span class=w>            </span><span class=k>try</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-17-12><span class=w>                </span><span class=c1>// 文件未打开时不需要关闭</span>
</span><span id=__span-17-13><span class=w>                </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>outputStream</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-17-14><span class=w>                    </span><span class=n>outputStream</span><span class=p>.</span><span class=na>close</span><span class=p>();</span>
</span><span id=__span-17-15><span class=w>                </span><span class=p>}</span>
</span><span id=__span-17-16><span class=w>            </span><span class=p>}</span><span class=w> </span><span class=k>catch</span><span class=w> </span><span class=p>(</span><span class=n>IOException</span><span class=w> </span><span class=n>e</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-17-17><span class=w>                </span><span class=n>e</span><span class=p>.</span><span class=na>printStackTrace</span><span class=p>();</span>
</span><span id=__span-17-18><span class=w>            </span><span class=p>}</span>
</span><span id=__span-17-19><span class=w>        </span><span class=p>}</span>
</span><span id=__span-17-20><span class=w>    </span><span class=p>}</span>
</span><span id=__span-17-21><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>上面是传统的处理<code>IOException</code>的方式，需要手动关闭流</p> <p>在JDK7之后，可以使用<code>try(IO对象1;IO对象2;...)...catch</code>处理<code>IOException</code>，这种处理方式的特点是会自动关闭流</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>当存在多个IO对象时，在<code>try()</code>中使用<code>;</code>隔开</p> </div> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-18-1><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Test</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-18-2><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-18-3><span class=w>        </span><span class=n>File</span><span class=w> </span><span class=n>file</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>File</span><span class=p>(</span><span class=s>&quot;./a.txt&quot;</span><span class=p>);</span>
</span><span id=__span-18-4><span class=w>        </span><span class=k>try</span><span class=p>(</span><span class=n>FileOutputStream</span><span class=w> </span><span class=n>outputStream</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>FileOutputStream</span><span class=p>(</span><span class=n>file</span><span class=p>))</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-18-5>
</span><span id=__span-18-6><span class=w>        </span><span class=p>}</span><span class=w> </span><span class=k>catch</span><span class=w> </span><span class=p>(</span><span class=n>IOException</span><span class=w> </span><span class=n>e</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-18-7><span class=w>            </span><span class=n>e</span><span class=p>.</span><span class=na>printStackTrace</span><span class=p>();</span>
</span><span id=__span-18-8><span class=w>        </span><span class=p>}</span>
</span><span id=__span-18-9><span class=w>    </span><span class=p>}</span>
</span><span id=__span-18-10><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h2 id=_13>字节缓冲流<a class=headerlink href=#_13 title="Permanent link">&para;</a></h2> <h3 id=_14>基本使用<a class=headerlink href=#_14 title="Permanent link">&para;</a></h3> <p>字节缓冲输入流对应<code>BufferedInputStream</code>类，字节输出缓冲流对应<code>BufferedOutputStream</code>类，各自常用的构造方法如下：</p> <ol> <li><code>BufferedOutputStream(OutputStream out)</code>：使用<code>OutputStream</code>对象进行构造</li> <li><code>BufferedInputStream(InputStream in)</code>：使用<code>InputStream</code>对象进行构造</li> </ol> <div class="admonition note"> <p class=admonition-title>Note</p> <p><code>BufferedOutputStream</code>和<code>BufferedInputStream</code>都是<code>OutPutStream</code>和<code>InputStream</code>的实现类</p> <p>因为对应的字节流中的两个类<code>FileOutputStream</code>类和<code>FileInputStream</code>类也是<code>OutPutStream</code>和<code>InputStream</code>的实现类，所以此处可以使用多态的向上转型将<code>FileOutputStream</code>对象或者<code>FileInputStream</code>对象给<code>OutputStream</code>对象引用或者<code>InputStream</code>对象引用，从而构造<code>BufferedOutputStream</code>对象和<code>BufferedInputStream</code>对象</p> </div> <p>使用如下：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span>
<span class=normal>7</span>
<span class=normal>8</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-19-1><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Test</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-19-2><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=kd>throws</span><span class=w> </span><span class=n>IOException</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-19-3><span class=w>        </span><span class=c1>// 字节输出缓冲流</span>
</span><span id=__span-19-4><span class=w>        </span><span class=n>BufferedOutputStream</span><span class=w> </span><span class=n>bufferedOutputStream</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>BufferedOutputStream</span><span class=p>(</span><span class=k>new</span><span class=w> </span><span class=n>FileOutputStream</span><span class=p>(</span><span class=s>&quot;./a.txt&quot;</span><span class=p>));</span>
</span><span id=__span-19-5><span class=w>        </span><span class=c1>// 字节输入缓冲流</span>
</span><span id=__span-19-6><span class=w>        </span><span class=n>BufferedInputStream</span><span class=w> </span><span class=n>bufferedInputStream</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>BufferedInputStream</span><span class=p>(</span><span class=k>new</span><span class=w> </span><span class=n>FileInputStream</span><span class=p>(</span><span class=s>&quot;./a.txt&quot;</span><span class=p>));</span>
</span><span id=__span-19-7><span class=w>    </span><span class=p>}</span>
</span><span id=__span-19-8><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>使用方法和方式与字节流一致，基本使用如下：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-20-1><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Test</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-20-2><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=kd>throws</span><span class=w> </span><span class=n>IOException</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-20-3><span class=w>        </span><span class=n>BufferedOutputStream</span><span class=w> </span><span class=n>bufferedOutputStream</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>BufferedOutputStream</span><span class=p>(</span><span class=k>new</span><span class=w> </span><span class=n>FileOutputStream</span><span class=p>(</span><span class=s>&quot;./a.txt&quot;</span><span class=p>));</span>
</span><span id=__span-20-4><span class=w>        </span><span class=n>bufferedOutputStream</span><span class=p>.</span><span class=na>write</span><span class=p>(</span><span class=mi>98</span><span class=p>);</span>
</span><span id=__span-20-5><span class=w>        </span><span class=n>bufferedOutputStream</span><span class=p>.</span><span class=na>flush</span><span class=p>();</span>
</span><span id=__span-20-6>
</span><span id=__span-20-7><span class=w>        </span><span class=n>BufferedInputStream</span><span class=w> </span><span class=n>bufferedInputStream</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>BufferedInputStream</span><span class=p>(</span><span class=k>new</span><span class=w> </span><span class=n>FileInputStream</span><span class=p>(</span><span class=s>&quot;./a.txt&quot;</span><span class=p>));</span>
</span><span id=__span-20-8><span class=w>        </span><span class=kt>int</span><span class=w> </span><span class=n>word</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>bufferedInputStream</span><span class=p>.</span><span class=na>read</span><span class=p>();</span>
</span><span id=__span-20-9><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>((</span><span class=kt>char</span><span class=p>)</span><span class=n>word</span><span class=p>);</span>
</span><span id=__span-20-10>
</span><span id=__span-20-11><span class=w>        </span><span class=n>bufferedInputStream</span><span class=p>.</span><span class=na>close</span><span class=p>();</span>
</span><span id=__span-20-12><span class=w>        </span><span class=n>bufferedOutputStream</span><span class=p>.</span><span class=na>close</span><span class=p>();</span>
</span><span id=__span-20-13><span class=w>    </span><span class=p>}</span>
</span><span id=__span-20-14><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <div class="admonition note"> <p class=admonition-title>Note</p> <p>需要注意的是，在关流时，尽管创建缓冲流相关对象时使用到了基本流对象，但是关流只需要关闭缓冲流相关对象，因为缓冲流关闭流方法底层会先关闭基本流，再关闭缓冲流</p> </div> <h3 id=_15>使用缓冲流复制文件<a class=headerlink href=#_15 title="Permanent link">&para;</a></h3> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-21-1><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Test01</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-21-2><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=kd>throws</span><span class=w> </span><span class=n>IOException</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-21-3><span class=w>        </span><span class=c1>// 创建字节输入缓冲流</span>
</span><span id=__span-21-4><span class=w>        </span><span class=n>BufferedInputStream</span><span class=w> </span><span class=n>bufferedInputStream</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>BufferedInputStream</span><span class=p>(</span><span class=k>new</span><span class=w> </span><span class=n>FileInputStream</span><span class=p>(</span><span class=s>&quot;./1.mp3&quot;</span><span class=p>));</span>
</span><span id=__span-21-5><span class=w>        </span><span class=c1>// 创建字节输出缓冲流</span>
</span><span id=__span-21-6><span class=w>        </span><span class=n>BufferedOutputStream</span><span class=w> </span><span class=n>bufferedOutputStream</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>BufferedOutputStream</span><span class=p>(</span><span class=k>new</span><span class=w> </span><span class=n>FileOutputStream</span><span class=p>(</span><span class=s>&quot;./1-copy.mp3&quot;</span><span class=p>));</span>
</span><span id=__span-21-7>
</span><span id=__span-21-8><span class=w>        </span><span class=c1>// 读取数据</span>
</span><span id=__span-21-9><span class=w>        </span><span class=kt>int</span><span class=w> </span><span class=n>len</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-21-10><span class=w>        </span><span class=kt>byte</span><span class=o>[]</span><span class=w> </span><span class=n>bytes</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=kt>byte</span><span class=o>[</span><span class=mi>1024</span><span class=o>]</span><span class=p>;</span>
</span><span id=__span-21-11><span class=w>        </span><span class=k>while</span><span class=p>((</span><span class=n>len</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>bufferedInputStream</span><span class=p>.</span><span class=na>read</span><span class=p>(</span><span class=n>bytes</span><span class=p>))</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=o>-</span><span class=mi>1</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-21-12><span class=w>            </span><span class=n>bufferedOutputStream</span><span class=p>.</span><span class=na>write</span><span class=p>(</span><span class=n>bytes</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=n>len</span><span class=p>);</span>
</span><span id=__span-21-13><span class=w>        </span><span class=p>}</span>
</span><span id=__span-21-14>
</span><span id=__span-21-15><span class=w>        </span><span class=c1>// 关流</span>
</span><span id=__span-21-16><span class=w>        </span><span class=n>bufferedOutputStream</span><span class=p>.</span><span class=na>close</span><span class=p>();</span>
</span><span id=__span-21-17><span class=w>        </span><span class=n>bufferedInputStream</span><span class=p>.</span><span class=na>close</span><span class=p>();</span>
</span><span id=__span-21-18><span class=w>    </span><span class=p>}</span>
</span><span id=__span-21-19><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h2 id=_16>字符缓冲流<a class=headerlink href=#_16 title="Permanent link">&para;</a></h2> <p>字符缓冲输入流对应<code>BufferedReader</code>类，字节输出缓冲流对应<code>BufferedWriter</code>类，各自常用的构造方法如下：</p> <ol> <li><code>BufferedWriter(Writer w)</code>：使用<code>OutputStream</code>对象进行构造</li> <li><code>BufferedReader(Reader r)</code>：使用<code>InputStream</code>对象进行构造</li> </ol> <div class="admonition note"> <p class=admonition-title>Note</p> <p><code>BufferedWriter</code>和<code>BufferedReader</code>都是<code>Writer</code>和<code>Reader</code>的实现类</p> <p>因为对应的字节流中的两个类<code>FileWriter</code>类和<code>FileReader</code>类也是<code>Writer</code>和<code>Reader</code>的实现类，所以此处可以使用多态的向上转型将<code>FileWriter</code>对象或者<code>FileReader</code>对象给<code>Writer</code>对象引用或者<code>Reader</code>对象引用，从而构造<code>BufferedWriter</code>对象和<code>BufferedReader</code>对象</p> </div> <p>基本使用与字节缓冲流基本一致，不再演示</p> <p>常用方法与基本流一致，下面只关注<code>BufferedWriter</code>和<code>BufferedReader</code>的特有方法</p> <ol> <li><code>BufferedWriter</code>中的特有方法：<code>void newLine()</code>，作用：换行效果</li> <li><code>BufferedReader</code>中的特有方法：<code>String readLine()</code>，作用：一次读取一行数据，如果读到内容结尾则返回<code>null</code></li> </ol> <p>基本使用如下：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-22-1><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Test02</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-22-2><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=kd>throws</span><span class=w> </span><span class=n>IOException</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-22-3><span class=w>        </span><span class=n>BufferedWriter</span><span class=w> </span><span class=n>bufferedWriter</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>BufferedWriter</span><span class=p>(</span><span class=k>new</span><span class=w> </span><span class=n>FileWriter</span><span class=p>(</span><span class=s>&quot;./b.txt&quot;</span><span class=p>));</span>
</span><span id=__span-22-4><span class=w>        </span><span class=n>bufferedWriter</span><span class=p>.</span><span class=na>write</span><span class=p>(</span><span class=mi>99</span><span class=p>);</span>
</span><span id=__span-22-5><span class=w>        </span><span class=n>bufferedWriter</span><span class=p>.</span><span class=na>newLine</span><span class=p>();</span>
</span><span id=__span-22-6><span class=w>        </span><span class=n>bufferedWriter</span><span class=p>.</span><span class=na>write</span><span class=p>(</span><span class=mi>100</span><span class=p>);</span>
</span><span id=__span-22-7><span class=w>        </span><span class=n>bufferedWriter</span><span class=p>.</span><span class=na>flush</span><span class=p>();</span>
</span><span id=__span-22-8>
</span><span id=__span-22-9><span class=w>        </span><span class=n>BufferedReader</span><span class=w> </span><span class=n>bufferedReader</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>BufferedReader</span><span class=p>(</span><span class=k>new</span><span class=w> </span><span class=n>FileReader</span><span class=p>(</span><span class=s>&quot;./b.txt&quot;</span><span class=p>));</span>
</span><span id=__span-22-10><span class=w>        </span><span class=n>String</span><span class=w> </span><span class=n>s</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>bufferedReader</span><span class=p>.</span><span class=na>readLine</span><span class=p>();</span>
</span><span id=__span-22-11><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>s</span><span class=p>);</span>
</span><span id=__span-22-12><span class=w>        </span><span class=n>String</span><span class=w> </span><span class=n>s1</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>bufferedReader</span><span class=p>.</span><span class=na>readLine</span><span class=p>();</span>
</span><span id=__span-22-13><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>s1</span><span class=p>);</span>
</span><span id=__span-22-14><span class=w>    </span><span class=p>}</span>
</span><span id=__span-22-15><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h2 id=_17>缓冲流读取数据原理<a class=headerlink href=#_17 title="Permanent link">&para;</a></h2> <p>缓冲流之所以比基本流读取快，本质原因就是缓冲流在内存中开辟的缓冲区。</p> <p>在从硬盘读取数据过程中，先使用基本流读取数据，再将数据交给缓冲流读入到缓冲流对应的缓冲区，因为缓冲区大小为8192字节，所以每一次缓冲流从基本流读取数据到缓冲区直到读取到8192字节才会停止。</p> <p>在从内存写数据到硬盘过程中，因为输入缓冲区当前已经读取到了8192个字节的数据，就需要一个载体将输入缓冲区中的数据输送到输出缓冲区，同样输出缓冲区也是8192个字节的大小，在没有调用<code>flush</code>方法（或<code>close</code>方法）情况下，除非输出缓冲区满了，内容会由输出缓冲流传输到基本流，再由基本流输出到硬盘中，否则内容会一直留在输出缓冲区</p> <p>整个过程如下图：</p> <p><a class=glightbox href="16. Java的IO流.assets\image.png" data-type=image data-width=100% data-height=auto data-desc-position=bottom><img src="16. Java的IO流.assets\image.png"></a></p> <h2 id=_18>字符编码<a class=headerlink href=#_18 title="Permanent link">&para;</a></h2> <p>计算机中储存的信息都是用二进制数表示的，而我们在屏幕上看到的数字、英文、标点符号、汉字等字符是二进制数转换之后的结果。[按照某种规则，将字符存储到计算机中，称为编码] 。反之，将存储在计算机中的二进制数按照某种规则解析显示出来，称为解码 。比如说，按照A规则存储，同样按照A规则解析，那么就能显示正确的文本f符号。反之，按照A规则存储，再按照B规则解析，就会导致乱码现象。</p> <p><a class=glightbox href="16. Java的IO流.assets\image1.png" data-type=image data-width=100% data-height=auto data-desc-position=bottom><img src="16. Java的IO流.assets\image1.png"></a></p> <p>字符编码<code>Character Encoding</code> : 一套自然语言的字符与二进制数之间的对应规则。</p> <h2 id=_19>字符集<a class=headerlink href=#_19 title="Permanent link">&para;</a></h2> <p>字符集 <code>Charset</code>：也叫编码表。是一个系统支持的所有字符的集合，包括各国家文字、标点符号、图形符号、数字等。</p> <p>计算机要准确的存储和识别各种字符集符号，需要进行字符编码，一套字符集必然至少有一套字符编码。常见字符集有ASCII字符集、GBK字符集、Unicode字符集等。</p> <p><a class=glightbox href="16. Java的IO流.assets\image2.png" data-type=image data-width=100% data-height=auto data-desc-position=bottom><img src="16. Java的IO流.assets\image2.png"></a></p> <p>可见，当指定了编码，它所对应的字符集然就指定了，所以编码才是我们最终要关心的。</p> <ul> <li>ASCII字符集 ：<ul> <li>ASCII（American Standard Code for Information Interchange，美国信息交换标准代码）是基于拉丁字母的一套电脑编码系统，用于显示现代英语，主要包括控制字符（回车键、退格、换行键等）和可显示字符（英文大小写字符、阿拉伯数字和西文符号）。</li> <li>基本的ASCII字符集，使用7位（bits）表示一个字符，共128字符。ASCII的扩展字符集使用8位（bits）表示一个字符，共256字符，方便支持欧洲常用字符。</li> </ul> </li> <li>ISO-8859-1字符集：<ul> <li>拉丁码表，别名Latin-1，用于显示欧洲使用的语言，包括荷兰、丹麦、德语、意大利语、西班牙语等。</li> <li>ISO-8859-1使用单字节编码，兼容ASCII编码。</li> </ul> </li> <li>GBxxx字符集：<ul> <li>GB就是国标的意思，是为了显示中文而设计的一套字符集。</li> <li>GB2312：简体中文码表。一个小于127的字符的意义与原来相同。但两个大于127的字符连在一起时，就表示一个汉字，这样大约可以组合了包含7000多个简体汉字，此外数学符号、罗马希腊的字母、日文的假名们都编进去了，连在ASCII里本来就有的数字、标点、字母都统统重新编了两个字节长的编码，这就是常说的"全角"字符，而原来在127号以下的那些就叫"半角"字符了。</li> <li>GBK：最常用的中文码表。是在GB2312标准基础上的扩展规范，使用了双字节编码方案，共收录了21003个汉字，完全兼容GB2312标准，同时支持繁体汉字以及日韩汉字等。</li> <li>GB18030：最新的中文码表。收录汉字70244个，采用多字节编码，每个字可以由1个、2个或4个字节组成。支持中国国内少数民族的文字，同时支持繁体汉字以及日韩汉字等。</li> </ul> </li> <li>Unicode字符集：<ul> <li>Unicode编码系统为表达任意语言的任意字符而设计，是业界的一种标准，也称为统一码、标准万国码。</li> <li>它最多使用4个字节的数字来表达每个字母、符号，或者文字。有三种编码方案，UTF-8、UTF-16和UTF-32。最为常用的UTF-8编码。</li> <li>UTF-8编码，可以用来表示Unicode标准中任何字符，它是电子邮件、网页及其他存储或传送文字的应用中，优先采用的编码。互联网工程工作小组（IETF）要求所有互联网协议都必须支持UTF-8编码。所以，我们开发Web应用，也要使用UTF-8编码。它使用一至四个字节为每个字符编码，编码规则：<ol> <li>128个US-ASCII字符，只需一个字节编码。</li> <li>拉丁文等字符，需要二个字节编码。 </li> <li>大部分常用字（含中文），使用三个字节编码。</li> <li>其他极少使用的Unicode辅助字符，使用四字节编码。</li> </ol> </li> </ul> </li> </ul> <h2 id=_20>转换流<a class=headerlink href=#_20 title="Permanent link">&para;</a></h2> <p>转换流主要解决的问题是：读取文本文件和写入文本文件两个过程中的字符编码不同，因为尽管是字符流读取字符，也只能保证代码文件的编码和文本文件编码一致情况下的读取正常，为了更广泛性得保证读取文本文件编码正常，就可以使用转换流</p> <p>转换流有两类：</p> <ol> <li>输入转换流：对应<code>InputStreamReader</code>类</li> <li>输出转换流：对应<code>OutputStreamWriter</code>类</li> </ol> <p>对应的构造方法如下：</p> <ol> <li><code>InputStreamReader(InputStream in, String charsetName)</code>：通过<code>InputStream</code>对象构造，第二个参数代表读取内容时解码采用的字符集</li> <li><code>OutputStreamWriter(OutputStream out, String charsetName)</code>：通过<code>OutputStream</code>对象构造，第二个参数代表写入内容时采用的字符集</li> </ol> <p>常用方法与字符流一致</p> <p>基本使用如下：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-23-1><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Test</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-23-2><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=kd>throws</span><span class=w> </span><span class=n>IOException</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-23-3><span class=w>        </span><span class=n>OutputStreamWriter</span><span class=w> </span><span class=n>outputStreamWriter</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>OutputStreamWriter</span><span class=p>(</span><span class=k>new</span><span class=w> </span><span class=n>FileOutputStream</span><span class=p>(</span><span class=s>&quot;./a.txt&quot;</span><span class=p>),</span><span class=w> </span><span class=s>&quot;utf-8&quot;</span><span class=p>);</span>
</span><span id=__span-23-4><span class=w>        </span><span class=n>outputStreamWriter</span><span class=p>.</span><span class=na>write</span><span class=p>(</span><span class=s>&quot;你好&quot;</span><span class=p>);</span>
</span><span id=__span-23-5><span class=w>        </span><span class=n>outputStreamWriter</span><span class=p>.</span><span class=na>flush</span><span class=p>();</span>
</span><span id=__span-23-6>
</span><span id=__span-23-7><span class=w>        </span><span class=n>InputStreamReader</span><span class=w> </span><span class=n>inputStreamReader</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>InputStreamReader</span><span class=p>(</span><span class=k>new</span><span class=w> </span><span class=n>FileInputStream</span><span class=p>(</span><span class=s>&quot;./a.txt&quot;</span><span class=p>),</span><span class=w> </span><span class=s>&quot;utf-8&quot;</span><span class=p>);</span>
</span><span id=__span-23-8><span class=w>        </span><span class=kt>char</span><span class=o>[]</span><span class=w> </span><span class=n>chars</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=kt>char</span><span class=o>[</span><span class=mi>2</span><span class=o>]</span><span class=p>;</span>
</span><span id=__span-23-9><span class=w>        </span><span class=kt>int</span><span class=w> </span><span class=n>len</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-23-10><span class=w>        </span><span class=k>while</span><span class=w> </span><span class=p>((</span><span class=n>len</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>inputStreamReader</span><span class=p>.</span><span class=na>read</span><span class=p>(</span><span class=n>chars</span><span class=p>))</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=o>-</span><span class=mi>1</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-23-11><span class=w>            </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=k>new</span><span class=w> </span><span class=n>String</span><span class=p>(</span><span class=n>chars</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=n>len</span><span class=p>));</span>
</span><span id=__span-23-12><span class=w>        </span><span class=p>}</span>
</span><span id=__span-23-13>
</span><span id=__span-23-14><span class=w>        </span><span class=n>inputStreamReader</span><span class=p>.</span><span class=na>close</span><span class=p>();</span>
</span><span id=__span-23-15><span class=w>        </span><span class=n>outputStreamWriter</span><span class=p>.</span><span class=na>close</span><span class=p>();</span>
</span><span id=__span-23-16><span class=w>    </span><span class=p>}</span>
</span><span id=__span-23-17><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h2 id=_21>序列化流与反序列化流<a class=headerlink href=#_21 title="Permanent link">&para;</a></h2> <p>在Java中，如果需要将对象的属性输出到文件中并且再读取到内存中就需要用到序列化流和反序列化流</p> <p>序列化流对应的类为<code>ObjectOutputStream</code>，反序列化流对应的类为<code>ObjectInputStream</code></p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>需要注意，序列化流和反序列化流写入到文件中的数据并不是让人可以看懂的，所以出现奇怪的字符都是正常的</p> </div> <h3 id=_22>基本使用<a class=headerlink href=#_22 title="Permanent link">&para;</a></h3> <p>序列化流主要作用是向硬盘写对象，构造方法：<code>ObjectOutputStream(OutputStream out)</code>，常用方法：<code>void writeObject(Object obj)</code></p> <p>反序列化流主要作用是从硬盘读对象，构造方法：<code>ObjectInputStream(InputStream in)</code>，常用方法：<code>Object readObject()</code>，返回读取到的对象</p> <p>需要注意，要写入类对象属性，需要确保对象对应的类实现了Serializable接口，否则会抛出<code>NotSerializableException</code>异常</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span>
<span class=normal>39</span>
<span class=normal>40</span>
<span class=normal>41</span>
<span class=normal>42</span>
<span class=normal>43</span>
<span class=normal>44</span>
<span class=normal>45</span>
<span class=normal>46</span>
<span class=normal>47</span>
<span class=normal>48</span>
<span class=normal>49</span>
<span class=normal>50</span>
<span class=normal>51</span>
<span class=normal>52</span>
<span class=normal>53</span>
<span class=normal>54</span>
<span class=normal>55</span>
<span class=normal>56</span>
<span class=normal>57</span>
<span class=normal>58</span>
<span class=normal>59</span>
<span class=normal>60</span>
<span class=normal>61</span>
<span class=normal>62</span>
<span class=normal>63</span>
<span class=normal>64</span>
<span class=normal>65</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-24-1><span class=c1>// 自定义类</span>
</span><span id=__span-24-2><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Person</span><span class=w> </span><span class=kd>implements</span><span class=w> </span><span class=n>Serializable</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-24-3><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=n>name</span><span class=p>;</span>
</span><span id=__span-24-4><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>age</span><span class=p>;</span>
</span><span id=__span-24-5>
</span><span id=__span-24-6><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=nf>Person</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-24-7><span class=w>    </span><span class=p>}</span>
</span><span id=__span-24-8>
</span><span id=__span-24-9><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=nf>Person</span><span class=p>(</span><span class=n>String</span><span class=w> </span><span class=n>name</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>age</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-24-10><span class=w>        </span><span class=k>this</span><span class=p>.</span><span class=na>name</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>name</span><span class=p>;</span>
</span><span id=__span-24-11><span class=w>        </span><span class=k>this</span><span class=p>.</span><span class=na>age</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>age</span><span class=p>;</span>
</span><span id=__span-24-12><span class=w>    </span><span class=p>}</span>
</span><span id=__span-24-13>
</span><span id=__span-24-14><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=nf>getName</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-24-15><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>name</span><span class=p>;</span>
</span><span id=__span-24-16><span class=w>    </span><span class=p>}</span>
</span><span id=__span-24-17>
</span><span id=__span-24-18><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>setName</span><span class=p>(</span><span class=n>String</span><span class=w> </span><span class=n>name</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-24-19><span class=w>        </span><span class=k>this</span><span class=p>.</span><span class=na>name</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>name</span><span class=p>;</span>
</span><span id=__span-24-20><span class=w>    </span><span class=p>}</span>
</span><span id=__span-24-21>
</span><span id=__span-24-22><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=nf>getAge</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-24-23><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>age</span><span class=p>;</span>
</span><span id=__span-24-24><span class=w>    </span><span class=p>}</span>
</span><span id=__span-24-25>
</span><span id=__span-24-26><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>setAge</span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>age</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-24-27><span class=w>        </span><span class=k>this</span><span class=p>.</span><span class=na>age</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>age</span><span class=p>;</span>
</span><span id=__span-24-28><span class=w>    </span><span class=p>}</span>
</span><span id=__span-24-29>
</span><span id=__span-24-30><span class=w>    </span><span class=nd>@Override</span>
</span><span id=__span-24-31><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=nf>toString</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-24-32><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=s>&quot;Person{&quot;</span><span class=w> </span><span class=o>+</span>
</span><span id=__span-24-33><span class=w>                </span><span class=s>&quot;name=&#39;&quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>name</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=sc>&#39;\&#39;&#39;</span><span class=w> </span><span class=o>+</span>
</span><span id=__span-24-34><span class=w>                </span><span class=s>&quot;, age=&quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>age</span><span class=w> </span><span class=o>+</span>
</span><span id=__span-24-35><span class=w>                </span><span class=sc>&#39;}&#39;</span><span class=p>;</span>
</span><span id=__span-24-36><span class=w>    </span><span class=p>}</span>
</span><span id=__span-24-37><span class=p>}</span>
</span><span id=__span-24-38>
</span><span id=__span-24-39><span class=c1>// 测试</span>
</span><span id=__span-24-40><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Test</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-24-41><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=kd>throws</span><span class=w> </span><span class=n>Exception</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-24-42><span class=w>        </span><span class=n>ObjectOutputStream</span><span class=w> </span><span class=n>objectOutputStream</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>ObjectOutputStream</span><span class=p>(</span><span class=k>new</span><span class=w> </span><span class=n>FileOutputStream</span><span class=p>(</span><span class=s>&quot;b.txt&quot;</span><span class=p>));</span>
</span><span id=__span-24-43><span class=w>        </span><span class=c1>// 写入一个ArrayList&lt;Person&gt;</span>
</span><span id=__span-24-44><span class=w>        </span><span class=n>ArrayList</span><span class=o>&lt;</span><span class=n>Person</span><span class=o>&gt;</span><span class=w> </span><span class=n>people</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>ArrayList</span><span class=o>&lt;&gt;</span><span class=p>();</span>
</span><span id=__span-24-45><span class=w>        </span><span class=n>people</span><span class=p>.</span><span class=na>add</span><span class=p>(</span><span class=k>new</span><span class=w> </span><span class=n>Person</span><span class=p>(</span><span class=s>&quot;张三&quot;</span><span class=p>,</span><span class=w> </span><span class=mi>23</span><span class=p>));</span>
</span><span id=__span-24-46><span class=w>        </span><span class=n>people</span><span class=p>.</span><span class=na>add</span><span class=p>(</span><span class=k>new</span><span class=w> </span><span class=n>Person</span><span class=p>(</span><span class=s>&quot;李四&quot;</span><span class=p>,</span><span class=w> </span><span class=mi>24</span><span class=p>));</span>
</span><span id=__span-24-47><span class=w>        </span><span class=n>people</span><span class=p>.</span><span class=na>add</span><span class=p>(</span><span class=k>new</span><span class=w> </span><span class=n>Person</span><span class=p>(</span><span class=s>&quot;王五&quot;</span><span class=p>,</span><span class=w> </span><span class=mi>25</span><span class=p>));</span>
</span><span id=__span-24-48>
</span><span id=__span-24-49><span class=w>        </span><span class=c1>// 写入people列表</span>
</span><span id=__span-24-50><span class=w>        </span><span class=n>objectOutputStream</span><span class=p>.</span><span class=na>writeObject</span><span class=p>(</span><span class=n>people</span><span class=p>);</span>
</span><span id=__span-24-51><span class=w>        </span><span class=n>objectOutputStream</span><span class=p>.</span><span class=na>flush</span><span class=p>();</span>
</span><span id=__span-24-52>
</span><span id=__span-24-53><span class=w>        </span><span class=c1>// 读取people列表</span>
</span><span id=__span-24-54><span class=w>        </span><span class=n>ObjectInputStream</span><span class=w> </span><span class=n>objectInputStream</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>ObjectInputStream</span><span class=p>(</span><span class=k>new</span><span class=w> </span><span class=n>FileInputStream</span><span class=p>(</span><span class=s>&quot;./b.txt&quot;</span><span class=p>));</span>
</span><span id=__span-24-55><span class=w>        </span><span class=n>Object</span><span class=w> </span><span class=n>o</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>objectInputStream</span><span class=p>.</span><span class=na>readObject</span><span class=p>();</span>
</span><span id=__span-24-56><span class=w>        </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=n>Person</span><span class=w> </span><span class=n>person</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=p>(</span><span class=n>ArrayList</span><span class=o>&lt;</span><span class=n>Person</span><span class=o>&gt;</span><span class=p>)</span><span class=w> </span><span class=n>o</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-24-57><span class=w>            </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>person</span><span class=p>);</span>
</span><span id=__span-24-58><span class=w>        </span><span class=p>}</span>
</span><span id=__span-24-59><span class=w>    </span><span class=p>}</span>
</span><span id=__span-24-60><span class=p>}</span>
</span><span id=__span-24-61>
</span><span id=__span-24-62><span class=n>输出结果</span><span class=err>：</span>
</span><span id=__span-24-63><span class=n>Person</span><span class=p>{</span><span class=n>name</span><span class=o>=</span><span class=err>&#39;</span><span class=n>张三</span><span class=err>&#39;</span><span class=p>,</span><span class=w> </span><span class=n>age</span><span class=o>=</span><span class=mi>23</span><span class=p>}</span>
</span><span id=__span-24-64><span class=n>Person</span><span class=p>{</span><span class=n>name</span><span class=o>=</span><span class=err>&#39;</span><span class=n>李四</span><span class=err>&#39;</span><span class=p>,</span><span class=w> </span><span class=n>age</span><span class=o>=</span><span class=mi>24</span><span class=p>}</span>
</span><span id=__span-24-65><span class=n>Person</span><span class=p>{</span><span class=n>name</span><span class=o>=</span><span class=err>&#39;</span><span class=n>王五</span><span class=err>&#39;</span><span class=p>,</span><span class=w> </span><span class=n>age</span><span class=o>=</span><span class=mi>25</span><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h3 id=_23>禁止成员被序列化<a class=headerlink href=#_23 title="Permanent link">&para;</a></h3> <p>如果不想指定的成员被序列化，可以使用<code>transient</code>关键字修饰对应成员，例如<code>Person</code>类中的<code>age</code>成员修饰为<code>transient</code></p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-25-1><span class=c1>// 自定义类</span>
</span><span id=__span-25-2><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Person</span><span class=w> </span><span class=kd>implements</span><span class=w> </span><span class=n>Serializable</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-25-3><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=n>name</span><span class=p>;</span>
</span><span id=__span-25-4><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kd>transient</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>age</span><span class=p>;</span>
</span><span id=__span-25-5><span class=w>    </span><span class=c1>// ...</span>
</span><span id=__span-25-6><span class=p>}</span>
</span><span id=__span-25-7>
</span><span id=__span-25-8><span class=c1>// 测试</span>
</span><span id=__span-25-9><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Test</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-25-10><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=kd>throws</span><span class=w> </span><span class=n>Exception</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-25-11><span class=w>        </span><span class=n>ObjectOutputStream</span><span class=w> </span><span class=n>objectOutputStream</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>ObjectOutputStream</span><span class=p>(</span><span class=k>new</span><span class=w> </span><span class=n>FileOutputStream</span><span class=p>(</span><span class=s>&quot;b.txt&quot;</span><span class=p>));</span>
</span><span id=__span-25-12><span class=w>        </span><span class=c1>// 写入一个ArrayList&lt;Person&gt;</span>
</span><span id=__span-25-13><span class=w>        </span><span class=n>ArrayList</span><span class=o>&lt;</span><span class=n>Person</span><span class=o>&gt;</span><span class=w> </span><span class=n>people</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>ArrayList</span><span class=o>&lt;&gt;</span><span class=p>();</span>
</span><span id=__span-25-14><span class=w>        </span><span class=n>people</span><span class=p>.</span><span class=na>add</span><span class=p>(</span><span class=k>new</span><span class=w> </span><span class=n>Person</span><span class=p>(</span><span class=s>&quot;张三&quot;</span><span class=p>,</span><span class=w> </span><span class=mi>23</span><span class=p>));</span>
</span><span id=__span-25-15><span class=w>        </span><span class=n>people</span><span class=p>.</span><span class=na>add</span><span class=p>(</span><span class=k>new</span><span class=w> </span><span class=n>Person</span><span class=p>(</span><span class=s>&quot;李四&quot;</span><span class=p>,</span><span class=w> </span><span class=mi>24</span><span class=p>));</span>
</span><span id=__span-25-16><span class=w>        </span><span class=n>people</span><span class=p>.</span><span class=na>add</span><span class=p>(</span><span class=k>new</span><span class=w> </span><span class=n>Person</span><span class=p>(</span><span class=s>&quot;王五&quot;</span><span class=p>,</span><span class=w> </span><span class=mi>25</span><span class=p>));</span>
</span><span id=__span-25-17>
</span><span id=__span-25-18><span class=w>        </span><span class=c1>// 写入people列表</span>
</span><span id=__span-25-19><span class=w>        </span><span class=n>objectOutputStream</span><span class=p>.</span><span class=na>writeObject</span><span class=p>(</span><span class=n>people</span><span class=p>);</span>
</span><span id=__span-25-20><span class=w>        </span><span class=n>objectOutputStream</span><span class=p>.</span><span class=na>flush</span><span class=p>();</span>
</span><span id=__span-25-21>
</span><span id=__span-25-22><span class=w>        </span><span class=c1>// 读取people列表</span>
</span><span id=__span-25-23><span class=w>        </span><span class=n>ObjectInputStream</span><span class=w> </span><span class=n>objectInputStream</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>ObjectInputStream</span><span class=p>(</span><span class=k>new</span><span class=w> </span><span class=n>FileInputStream</span><span class=p>(</span><span class=s>&quot;./b.txt&quot;</span><span class=p>));</span>
</span><span id=__span-25-24><span class=w>        </span><span class=n>Object</span><span class=w> </span><span class=n>o</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>objectInputStream</span><span class=p>.</span><span class=na>readObject</span><span class=p>();</span>
</span><span id=__span-25-25><span class=w>        </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=n>Person</span><span class=w> </span><span class=n>person</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=p>(</span><span class=n>ArrayList</span><span class=o>&lt;</span><span class=n>Person</span><span class=o>&gt;</span><span class=p>)</span><span class=w> </span><span class=n>o</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-25-26><span class=w>            </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>person</span><span class=p>);</span>
</span><span id=__span-25-27><span class=w>        </span><span class=p>}</span>
</span><span id=__span-25-28><span class=w>    </span><span class=p>}</span>
</span><span id=__span-25-29><span class=p>}</span>
</span><span id=__span-25-30>
</span><span id=__span-25-31><span class=n>输出结果</span><span class=err>：</span>
</span><span id=__span-25-32><span class=n>Person</span><span class=p>{</span><span class=n>name</span><span class=o>=</span><span class=err>&#39;</span><span class=n>张三</span><span class=err>&#39;</span><span class=p>,</span><span class=w> </span><span class=n>age</span><span class=o>=</span><span class=mi>0</span><span class=p>}</span>
</span><span id=__span-25-33><span class=n>Person</span><span class=p>{</span><span class=n>name</span><span class=o>=</span><span class=err>&#39;</span><span class=n>李四</span><span class=err>&#39;</span><span class=p>,</span><span class=w> </span><span class=n>age</span><span class=o>=</span><span class=mi>0</span><span class=p>}</span>
</span><span id=__span-25-34><span class=n>Person</span><span class=p>{</span><span class=n>name</span><span class=o>=</span><span class=err>&#39;</span><span class=n>王五</span><span class=err>&#39;</span><span class=p>,</span><span class=w> </span><span class=n>age</span><span class=o>=</span><span class=mi>0</span><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h3 id=_24>序列号不匹配异常<a class=headerlink href=#_24 title="Permanent link">&para;</a></h3> <p>序列号不匹配异常一般出现于向硬盘写入对象属性值时创建的序列号与从硬盘读取对象数值时的序列号不同，而造成这种不同的原因一般是写入对象后修改了源码</p> <p>如果不想出现上面的异常，可以在对象对应的类中创建成员：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-26-1><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=kt>long</span><span class=w> </span><span class=n>serialVersionUID</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>指定具体值</span><span class=p>;</span>
</span></code></pre></div></td></tr></table></div> <div class="admonition note"> <p class=admonition-title>Note</p> <p>需要注意，这个成员代表序列号，必须是<code>long</code>类型，且被<code>final</code>和<code>static</code>修饰</p> </div> <h2 id=_25>打印流<a class=headerlink href=#_25 title="Permanent link">&para;</a></h2> <h3 id=_26>基本使用<a class=headerlink href=#_26 title="Permanent link">&para;</a></h3> <p>打印流表示向某一个文件输出内容</p> <p>打印流对应类为<code>PrintStream</code>类，构造方法：<code>PrintStream(String fileName)</code></p> <p>常用方法有：</p> <ol> <li><code>println(...)</code>：向文件中输出参数内容，并且自带换行</li> <li><code>print(...)</code>：向文件中输出参数内容，不换行</li> </ol> <p>基本使用如下：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span>
<span class=normal>7</span>
<span class=normal>8</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-27-1><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Test</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-27-2><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=kd>throws</span><span class=w> </span><span class=n>Exception</span><span class=p>{</span>
</span><span id=__span-27-3><span class=w>        </span><span class=n>PrintStream</span><span class=w> </span><span class=n>ps</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>PrintStream</span><span class=p>(</span><span class=s>&quot;./a.txt&quot;</span><span class=p>);</span>
</span><span id=__span-27-4><span class=w>        </span><span class=n>ps</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&quot;1&quot;</span><span class=p>);</span>
</span><span id=__span-27-5><span class=w>        </span><span class=n>ps</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&quot;2&quot;</span><span class=p>);</span>
</span><span id=__span-27-6><span class=w>        </span><span class=n>ps</span><span class=p>.</span><span class=na>close</span><span class=p>();</span>
</span><span id=__span-27-7><span class=w>    </span><span class=p>}</span>
</span><span id=__span-27-8><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h3 id=_27>系统打印流与改变流向<a class=headerlink href=#_27 title="Permanent link">&para;</a></h3> <p>前面经常使用<code>System.out.println()</code>输出数据，实际上就是在使用打印流，只是这个<code>out</code>成员是<code>System</code>类中的静态<code>PrintStream</code>类成员，此时调用<code>println</code>方法，默认向控制台打印数据</p> <p>在实际开放中，程序在运行过程中，控制台的内容会被每一次新打印语句覆盖，导致内容不具有持久性，所以需要改变内容流向，使其不打印在控制台，而打印到文件中</p> <p>当需要改变流向，可以使用<code>System</code>类中的静态方法：<code>static void setOut(PrintStream out)</code>，该方法是静态方法，所以可以被直接调用</p> <p>基本使用如下：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-28-1><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Test01</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-28-2><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=kd>throws</span><span class=w> </span><span class=n>Exception</span><span class=p>{</span>
</span><span id=__span-28-3><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>setOut</span><span class=p>(</span><span class=k>new</span><span class=w> </span><span class=n>PrintStream</span><span class=p>(</span><span class=s>&quot;./b.txt&quot;</span><span class=p>));</span>
</span><span id=__span-28-4><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&quot;这是一个日志文件&quot;</span><span class=p>);</span>
</span><span id=__span-28-5><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&quot;现在是&quot;</span><span class=o>+</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>Date</span><span class=p>());</span>
</span><span id=__span-28-6><span class=w>    </span><span class=p>}</span>
</span><span id=__span-28-7><span class=p>}</span>
</span><span id=__span-28-8>
</span><span id=__span-28-9><span class=n>文件内容</span><span class=err>：</span>
</span><span id=__span-28-10><span class=n>这是一个日志文件</span>
</span><span id=__span-28-11><span class=n>现在是Sun</span><span class=w> </span><span class=n>Sep</span><span class=w> </span><span class=mi>22</span><span class=w> </span><span class=mi>21</span><span class=p>:</span><span class=mi>15</span><span class=p>:</span><span class=mi>47</span><span class=w> </span><span class=n>CST</span><span class=w> </span><span class=mi>2024</span>
</span></code></pre></div></td></tr></table></div> <h2 id=propertiesio><code>Properties</code>集合结合IO流<a class=headerlink href=#propertiesio title="Permanent link">&para;</a></h2> <p>前面介绍<code>Properties</code>集合时介绍到一个方法：<code>void load(InputStream inStream)</code>，该方法和结合<code>InputStream</code>对象使用</p> <p>因为<code>Properties</code>集合一般存储的是配置文件信息，所以可以考虑从文件中读取配置信息，原因是：将来不能将很多的硬数据放到源码中，比如用户名和密码这些数据，因为之后有可能换用户名或者密码，如果一换，我们就需要去源码中修改，而因为类和类之间都有联系，有可能牵一发动全身，所以需要将这些数据提取出来，放到文件中，改的时候直接去文件中改，源码不需要改动</p> <p>配置文件<code>xxx.properties</code>创建方式：</p> <ol> <li>在需要创建配置文件的父文件夹右键 -&gt; <code>File</code> -&gt; 取名为<code>xxx.properties</code></li> <li>在<code>xxx.properties</code>文件中写配置数据<ol> <li><code>key</code>和<code>value</code>都是<code>key=value</code>形式</li> <li><code>key</code>和<code>value</code>都是<code>String</code>的，但是不要加双引号</li> <li>每个键值对写完之后，需要换行再写下一对</li> <li>键值对之间最好不要有空格(空格可以有，但是不建议写)</li> <li>键值对中建议不要使用中文(中文可以有，但是直接读取会乱码，需要转换流转码) </li> </ol> </li> </ol> <p>基本使用如下：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-29-1><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Test</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-29-2><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=kd>throws</span><span class=w> </span><span class=n>Exception</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-29-3><span class=w>        </span><span class=n>Properties</span><span class=w> </span><span class=n>properties</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>Properties</span><span class=p>();</span>
</span><span id=__span-29-4><span class=w>        </span><span class=n>FileInputStream</span><span class=w> </span><span class=n>fis</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>FileInputStream</span><span class=p>(</span><span class=s>&quot;jdbc.properties&quot;</span><span class=p>);</span>
</span><span id=__span-29-5><span class=w>        </span><span class=n>properties</span><span class=p>.</span><span class=na>load</span><span class=p>(</span><span class=n>fis</span><span class=p>);</span>
</span><span id=__span-29-6>
</span><span id=__span-29-7><span class=w>        </span><span class=n>Set</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;</span><span class=w> </span><span class=n>set</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>properties</span><span class=p>.</span><span class=na>stringPropertyNames</span><span class=p>();</span>
</span><span id=__span-29-8><span class=w>        </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=n>String</span><span class=w> </span><span class=n>key</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=n>set</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-29-9><span class=w>            </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>key</span><span class=o>+</span><span class=s>&quot;...&quot;</span><span class=o>+</span><span class=n>properties</span><span class=p>.</span><span class=na>getProperty</span><span class=p>(</span><span class=n>key</span><span class=p>));</span>
</span><span id=__span-29-10><span class=w>        </span><span class=p>}</span>
</span><span id=__span-29-11><span class=w>    </span><span class=p>}</span>
</span><span id=__span-29-12><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h2 id=commons-io><code>Commons-io</code>工具包<a class=headerlink href=#commons-io title="Permanent link">&para;</a></h2> <h3 id=_28>介绍与引入工具包<a class=headerlink href=#_28 title="Permanent link">&para;</a></h3> <p><code>Commons-io</code>解决的问题：IO技术开发中，代码量很大，而且代码的重复率较高。如果我们要遍历目录，拷贝目录就需要使用方法的递归调用，也增大了程序的复杂度。</p> <p>Apache软件基金会，开发了IO技术的工具类<code>commons-IO</code>，大大简化IO开发。</p> <p><code>Commons-io</code>工具包是第三方包，所以使用前需要导入包，但是这个包是<code>jar</code>包，需要先解压，下面是IDEA下的引入和解压方式：</p> <ol> <li>在指定位置创建文件夹,取名为<code>lib</code>或者<code>libs</code></li> <li>将准备好的<code>jar</code>包,放到此文件夹下</li> <li>对着<code>jar</code>包,右键 -&gt; Add as library (如果想将<code>lib</code>下所有的<code>jar</code>包一起解压,我们就直接对着<code>lib</code>文件夹右键)</li> <li><code>level</code>可以选择<code>module</code>，此时上面<code>name</code>位置会变成空，可以不用考虑</li> <li>直接点OK</li> </ol> <div class="admonition abstract"> <p class=admonition-title>Abstract</p> <p>上面引包的方式后面会被Maven项目管理工具替代，具体见后面Maven工具使用介绍</p> </div> <h3 id=_29>使用工具包的静态方法<a class=headerlink href=#_29 title="Permanent link">&para;</a></h3> <h4 id=ioutils><code>IOUtils</code>工具类<a class=headerlink href=#ioutils title="Permanent link">&para;</a></h4> <p><code>IOUtils</code>工具类是<code>Commons-io</code>工具包下的关于IO的一个类，里面提供了一些文件操作的方法：</p> <ol> <li><code>IOUtils.copy(InputStream in, OutputStream out)</code>：拷贝文件内容到另一个文件中</li> <li><code>IOUtils.closeQuietly(任意流对象)</code>：作用同<code>close</code>方法，但是不需要额外处理异常</li> </ol> <p>基本使用如下：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-30-1><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Test</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-30-2><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=cm>/*throws Exception*/</span><span class=p>{</span>
</span><span id=__span-30-3><span class=w>        </span><span class=c1>//- 静态方法：IOUtils.copy(InputStream in,OutputStream out)</span>
</span><span id=__span-30-4><span class=w>        </span><span class=n>IOUtils</span><span class=p>.</span><span class=na>copy</span><span class=p>(</span><span class=k>new</span><span class=w> </span><span class=n>FileInputStream</span><span class=p>(</span><span class=s>&quot;./1.jpg&quot;</span><span class=p>),</span><span class=k>new</span><span class=w> </span><span class=n>FileOutputStream</span><span class=p>(</span><span class=s>&quot;./1-copy.jpg&quot;</span><span class=p>));</span>
</span><span id=__span-30-5><span class=w>        </span><span class=c1>//- 静态方法：IOUtils.closeQuietly(任意流对象)</span>
</span><span id=__span-30-6><span class=w>        </span><span class=n>FileWriter</span><span class=w> </span><span class=n>fw</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=kc>null</span><span class=p>;</span>
</span><span id=__span-30-7><span class=w>        </span><span class=k>try</span><span class=p>{</span>
</span><span id=__span-30-8><span class=w>            </span><span class=n>fw</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>FileWriter</span><span class=p>(</span><span class=s>&quot;module22\\commons.txt&quot;</span><span class=p>);</span>
</span><span id=__span-30-9><span class=w>            </span><span class=n>fw</span><span class=p>.</span><span class=na>write</span><span class=p>(</span><span class=s>&quot;你好&quot;</span><span class=p>);</span>
</span><span id=__span-30-10><span class=w>        </span><span class=p>}</span><span class=k>catch</span><span class=w> </span><span class=p>(</span><span class=n>Exception</span><span class=w> </span><span class=n>e</span><span class=p>){</span>
</span><span id=__span-30-11><span class=w>            </span><span class=n>e</span><span class=p>.</span><span class=na>printStackTrace</span><span class=p>();</span>
</span><span id=__span-30-12><span class=w>        </span><span class=p>}</span><span class=k>finally</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-30-13><span class=w>            </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>fw</span><span class=o>!=</span><span class=kc>null</span><span class=p>){</span>
</span><span id=__span-30-14><span class=w>                </span><span class=n>IOUtils</span><span class=p>.</span><span class=na>closeQuietly</span><span class=p>(</span><span class=n>fw</span><span class=p>);</span>
</span><span id=__span-30-15><span class=w>            </span><span class=p>}</span>
</span><span id=__span-30-16><span class=w>        </span><span class=p>}</span>
</span><span id=__span-30-17><span class=w>    </span><span class=p>}</span>
</span><span id=__span-30-18><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h4 id=fileutils><code>FileUtils</code>工具类<a class=headerlink href=#fileutils title="Permanent link">&para;</a></h4> <p>常用方法如下：</p> <ol> <li><code>FileUtils.copyDirectoryToDirectory(File src, File dest)</code>：将<code>src</code>下的文件夹拷贝到<code>dest</code>下的文件夹中，整个过程中不需要对<code>src</code>内部的文件夹进行显式递归遍历</li> <li><code>writeStringToFile(File file, String str)</code>：向文件中写入<code>str</code>字符串内容</li> <li><code>String readFileToString(File file)</code>：读取文件中所有的内容</li> </ol> <p>基本使用如下：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-31-1><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Test01</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-31-2><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=kd>throws</span><span class=w> </span><span class=n>Exception</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-31-3><span class=w>        </span><span class=c1>// FileUtils.copyDirectoryToDirectory(File src, File dest)</span>
</span><span id=__span-31-4><span class=w>        </span><span class=n>FileUtils</span><span class=p>.</span><span class=na>copyDirectoryToDirectory</span><span class=p>(</span><span class=k>new</span><span class=w> </span><span class=n>File</span><span class=p>(</span><span class=s>&quot;./test&quot;</span><span class=p>),</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>File</span><span class=p>(</span><span class=s>&quot;./test1&quot;</span><span class=p>));</span>
</span><span id=__span-31-5>
</span><span id=__span-31-6><span class=w>        </span><span class=c1>//- 静态方法：writeStringToFile(File file,String str)写字符串到文本文件中。</span>
</span><span id=__span-31-7><span class=w>        </span><span class=n>FileUtils</span><span class=p>.</span><span class=na>writeStringToFile</span><span class=p>(</span><span class=k>new</span><span class=w> </span><span class=n>File</span><span class=p>(</span><span class=s>&quot;./a.txt&quot;</span><span class=p>),</span><span class=s>&quot;haha&quot;</span><span class=p>);</span>
</span><span id=__span-31-8><span class=w>        </span><span class=c1>//- 静态方法：String readFileToString(File file)读取文本文件，返回字符串。</span>
</span><span id=__span-31-9><span class=w>        </span><span class=n>String</span><span class=w> </span><span class=n>s</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>FileUtils</span><span class=p>.</span><span class=na>readFileToString</span><span class=p>(</span><span class=k>new</span><span class=w> </span><span class=n>File</span><span class=p>(</span><span class=s>&quot;./a.txt&quot;</span><span class=p>));</span>
</span><span id=__span-31-10><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>s</span><span class=p>);</span>
</span><span id=__span-31-11><span class=w>    </span><span class=p>}</span>
</span><span id=__span-31-12><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h2 id=_30>整章结构<a class=headerlink href=#_30 title="Permanent link">&para;</a></h2> <p><a class=glightbox href="16. Java的IO流.assets\image3.png" data-type=image data-width=100% data-height=auto data-desc-position=bottom><img src="16. Java的IO流.assets\image3.png"></a></p> <aside class=md-source-file> <span class=md-source-file__fact> <span class=md-icon title=最后更新> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">2024年9月27日</span> </span> <span class=md-source-file__fact> <span class=md-icon title=创建日期> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">2024年9月21日</span> </span> </aside> <form class=md-feedback name=feedback hidden> <fieldset> <legend class=md-feedback__title> 页面有帮助吗？ </legend> <div class=md-feedback__inner> <div class=md-feedback__list> <button class="md-feedback__icon md-icon" type=submit title=页面对我有帮助 data-md-value=1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M5 9v12H1V9zm4 12a2 2 0 0 1-2-2V9c0-.55.22-1.05.59-1.41L14.17 1l1.06 1.06c.27.27.44.64.44 1.05l-.03.32L14.69 8H21a2 2 0 0 1 2 2v2c0 .26-.05.5-.14.73l-3.02 7.05C19.54 20.5 18.83 21 18 21zm0-2h9.03L21 12v-2h-8.79l1.13-5.32L9 9.03z"/></svg> </button> <button class="md-feedback__icon md-icon" type=submit title=页面没有帮助到我 data-md-value=0> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 15V3h4v12zM15 3a2 2 0 0 1 2 2v10c0 .55-.22 1.05-.59 1.41L9.83 23l-1.06-1.06c-.27-.27-.44-.64-.44-1.06l.03-.31.95-4.57H3a2 2 0 0 1-2-2v-2c0-.26.05-.5.14-.73l3.02-7.05C4.46 3.5 5.17 3 6 3zm0 2H5.97L3 12v2h8.78l-1.13 5.32L15 14.97z"/></svg> </button> </div> <div class=md-feedback__note> <div data-md-value=1 hidden> 谢谢你的反馈！ </div> <div data-md-value=0 hidden> 谢谢你的反馈！联系<a href=https://www.help-doc.top/%E4%BD%9C%E8%80%85/%E4%BD%9C%E8%80%85.html>作者</a>提供更详细的信息 </div> </div> </div> </fieldset> </form> <!-- 阅读进度条 - 直接在HTML中定义 --> <div class=reading-progress></div> <!-- 滚动指示器 - 直接在HTML中定义 --> <div class=scroll-indicator></div> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> </main> <!--
  Copyright (c) 2016-2024 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
--> <!-- Footer --> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-footer-copyright__highlight> Copyright &copy; 2024-2025 柯懒不是柯南 </div> </div> <!-- "一闪一闪亮晶晶"元素 - 插入在copyright和social之间 --> <div class="md-footer-love md-typeset"> 一闪一闪亮晶晶，不及<span class=love-highlight>小亮</span><span class=love-heart>♥</span>照我心。To Li Liang </div> <div class=md-social> <a href=https://github.com/H0308 target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> <a href=https://www.help-doc.top/%E4%BD%9C%E8%80%85/%E4%BD%9C%E8%80%85.html target=_blank rel=noopener title=www.help-doc.top class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M433.754 420.445c-11.526 1.393-44.86-52.741-44.86-52.741 0 31.345-16.136 72.247-51.051 101.786 16.842 5.192 54.843 19.167 45.803 34.421-7.316 12.343-125.51 7.881-159.632 4.037-34.122 3.844-152.316 8.306-159.632-4.037-9.045-15.25 28.918-29.214 45.783-34.415-34.92-29.539-51.059-70.445-51.059-101.792 0 0-33.334 54.134-44.859 52.741-5.37-.65-12.424-29.644 9.347-99.704 10.261-33.024 21.995-60.478 40.144-105.779C60.683 98.063 108.982.006 224 0c113.737.006 163.156 96.133 160.264 214.963 18.118 45.223 29.912 72.85 40.144 105.778 21.768 70.06 14.716 99.053 9.346 99.704"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["navigation.indexes", "navigation.prune", "navigation.tabs", "search.highlight", "content.code.copy"], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}, "version": null}</script> <script src=../../assets/javascripts/bundle.c8b220af.min.js></script> <script src=../../javascripts/katex.min.js></script> <script src=../../javascripts/other.min.js></script> <script src=../../javascripts/copyright.min.js></script> <script src=https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/katex.min.js></script> <script src=https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/contrib/auto-render.min.js></script> <script src=../../assets/javascripts/toggle-sidebar.js async></script> <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body> </html>