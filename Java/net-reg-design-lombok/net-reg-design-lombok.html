<!doctype html><html lang=zh class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=canonical href=https://www.help-doc.top/Java/net-reg-design-lombok/net-reg-design-lombok.html><link rel=prev href=../javaio/javaio.html><link rel=next href=../new-jdk8-and-after/new-jdk8-and-after.html><link rel=icon href=../../images/favicon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.12"><title>Java网络编程、正则表达式、设计模式与Lombok - 柯懒的知识库</title><link rel=stylesheet href=../../assets/stylesheets/main.2afb09e1.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.06af60db.min.css><link rel=stylesheet href=../../css/timeline.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/katex.min.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-9XWRGNRRSY"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-9XWRGNRRSY",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-9XWRGNRRSY",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script><link rel=stylesheet href=../../stylesheets/colors.min.css><link rel=stylesheet href=../../stylesheets/theme2.min.css media="screen and (max-width: 1199px)"><link rel=stylesheet href=../../stylesheets/theme2.min.css media="screen and (min-width: 1200px)" id=theme2-desktop><link rel=stylesheet href=../../stylesheets/theme1.min.css media="screen and (min-width: 1200px)" id=theme1-desktop><link rel=stylesheet href=../../stylesheets/print.min.css><link rel=stylesheet href=../../stylesheets/font-dongguanti.min.css id=font-dongguanti><link rel=stylesheet href=../../stylesheets/font-oppoti.min.css id=font-oppoti disabled><link rel=stylesheet href=../../stylesheets/font-jiangchengti.min.css id=font-jiangchengti disabled><link rel=stylesheet href=../../stylesheets/font-lxgw.min.css id=font-lxgw disabled><link rel=stylesheet href=../../stylesheets/code-font-dejavu-sans-mono.min.css id=code-font-dejavu-sans-mono><link rel=stylesheet href=../../stylesheets/code-font-zsft-hk.min.css id=code-font-zsft-hk disabled><link rel=stylesheet href=../../stylesheets/code-font-google-sans-code.min.css id=code-font-google-sans-code disabled><link rel=stylesheet href=https://unpkg.com/@waline/client@v3/dist/waline.css><link rel=stylesheet href=../../stylesheets/waline.min.css><script src=../../javascripts/start.min.js></script> <link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../../assets/javascripts/glightbox.min.js"></script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=white data-md-color-accent=cyan> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#javalombok class=md-skip> 跳转至 </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=页眉> <a href=../../index.html title=柯懒的知识库 class="md-header__button md-logo" aria-label=柯懒的知识库 data-md-component=logo> <img src=../../assets/logo.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> 柯懒的知识库 </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Java网络编程、正则表达式、设计模式与Lombok </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary=white data-md-color-accent=cyan aria-label type=radio name=__palette id=__palette_1> </form> <!-- 头像元素 - 直接在HTML中定义 --> <div class=header-avatar> <img src=../../author/作者.assets/20250206-200653.jpg alt=头像> <div class=avatar-dropdown> <p><strong>柯懒不是柯南</strong></p> <a href=../../author/contact/contact.html class=avatar-dropdown-item>吵醒柯懒</a> <div class=avatar-dropdown-divider></div> <a href=../../author/about/about.html class=avatar-dropdown-item>柯懒自传</a> <div class=avatar-dropdown-divider></div> <a href=https://github.com/H0308 class=avatar-dropdown-item>柯懒的零食库</a> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=搜索 placeholder=搜索 autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=查找> <button type=reset class="md-search__icon md-icon" title=清空当前内容 aria-label=清空当前内容 tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> 正在初始化搜索引擎 </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> </nav> </header> <!-- 独立的切换按钮 --> <div class=toolbar-toggle-btn id=toolbarToggleBtn onclick=toggleToolbar()> <div class=toggle-icon> <svg class=toggle-arrow-icon viewbox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg width=16 height=16> <path d="M346.538667 1024L170.666667 853.333333l341.333333-341.333333-341.333333-341.333333 175.872-170.666667L853.333333 512z" fill=currentColor></path> </svg> </div> </div> <!-- 右侧固定功能条 - 独立于内容区 --> <div class=floating-toolbar id=floatingToolbar> <!-- 字体切换功能 --> <div class="toolbar-item font-switcher"> <div class=toolbar-icon> <svg class=font-icon viewbox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg width=20 height=20> <path d="M913.408 1024l-66.56 0q-29.696 0-51.2-5.12t-36.864-15.872-26.112-27.136-19.968-37.888q-15.36-38.912-28.16-70.656t-22.016-55.296q-11.264-26.624-20.48-49.152l-254.976 0q-7.168 23.552-17.408 51.2-8.192 23.552-21.504 56.832t-30.72 72.192q-20.48 46.08-47.104 63.488t-60.416 17.408l-70.656 0q-45.056 0-60.928-19.968t2.56-68.096q18.432-46.08 43.008-108.544t52.224-132.608 57.344-143.872 57.344-144.384q65.536-164.864 137.216-343.04 7.168-17.408 18.432-31.744 10.24-11.264 27.136-21.504t42.496-10.24q26.624 0 43.52 10.752t28.16 24.064q12.288 15.36 19.456 33.792 72.704 180.224 138.24 345.088 27.648 70.656 57.344 143.872t56.832 142.336 51.2 129.536 41.472 104.448q14.336 34.816 4.096 62.464t-43.008 27.648zM616.448 634.88l-97.28-347.136-1.024 0-108.544 347.136 206.848 0z" fill=currentColor></path> </svg> </div> <div class=toolbar-label>内容字体</div> <div class=font-dropdown-toolbar> <div class=font-current-toolbar onclick=toggleFontDropdownToolbar()> <span class=current-font-name-toolbar>东观体</span> <svg class=dropdown-arrow-icon viewbox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg width=12 height=12> <path d="M878.592 250.88q29.696 0 48.128 11.264t24.576 29.696 0 41.472-26.624 45.568q-82.944 92.16-159.744 180.224t-148.48 164.864q-19.456 20.48-45.568 31.744t-53.76 11.776-53.248-8.704-43.008-28.672q-39.936-44.032-82.944-90.112l-88.064-92.16q-43.008-46.08-85.504-90.624t-79.36-86.528q-17.408-19.456-22.528-40.448t1.024-38.4 23.552-28.672 45.056-11.264q35.84 0 98.816-0.512t137.728-0.512l153.6 0 150.528 0 125.952 0 79.872 0z" fill=currentColor></path> </svg> </div> <div class=font-options-toolbar> <div class=font-option-toolbar data-font=dongguanti onclick="selectFontToolbar('dongguanti')">上图东观体 </div> <div class=font-option-toolbar data-font=oppoti onclick="selectFontToolbar('oppoti')">OPPO Sans </div> <div class=font-option-toolbar data-font=jiangchengti onclick="selectFontToolbar('jiangchengti')"> 江城黑体</div> <div class=font-option-toolbar data-font=lxgw onclick="selectFontToolbar('lxgw')">霞鹜臻楷</div> </div> </div> </div> <!-- 代码字体切换功能 --> <div class="toolbar-item code-font-switcher"> <div class=toolbar-icon> <svg t=1753672111433 class="icon code-font-icon" viewbox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg p-id=5148 width=20 height=20> <path d="M941.709938 0H82.290062A82.290062 82.290062 0 0 0 0 82.290062v859.419876A82.290062 82.290062 0 0 0 82.290062 1022.53923h859.419876A82.290062 82.290062 0 0 0 1022.53923 941.709938V82.290062A82.290062 82.290062 0 0 0 941.709938 0zM188.439372 553.631954a40.901569 40.901569 0 0 1-29.215406-70.116975L292.154066 351.558726 159.223966 218.628626a40.901569 40.901569 0 0 1 58.430813-57.94389l160.197813 162.145507a40.901569 40.901569 0 0 1 0 57.943889l-160.197813 160.684736a40.901569 40.901569 0 0 1-29.215407 12.173086z m443.587257 0H405.120304a40.901569 40.901569 0 0 1 0-82.290061H633.000476a40.901569 40.901569 0 0 1 0 82.290061z" fill=currentColor p-id=5149></path> </svg> </div> <div class=toolbar-label>代码字体</div> <div class=code-font-dropdown-toolbar> <div class=code-font-current-toolbar onclick=toggleCodeFontDropdownToolbar()> <span class=current-code-font-name-toolbar>DejaVu Sans Mono</span> <svg class=dropdown-arrow-icon viewbox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg width=12 height=12> <path d="M878.592 250.88q29.696 0 48.128 11.264t24.576 29.696 0 41.472-26.624 45.568q-82.944 92.16-159.744 180.224t-148.48 164.864q-19.456 20.48-45.568 31.744t-53.76 11.776-53.248-8.704-43.008-28.672q-39.936-44.032-82.944-90.112l-88.064-92.16q-43.008-46.08-85.504-90.624t-79.36-86.528q-17.408-19.456-22.528-40.448t1.024-38.4 23.552-28.672 45.056-11.264q35.84 0 98.816-0.512t137.728-0.512l153.6 0 150.528 0 125.952 0 79.872 0z" fill=currentColor></path> </svg> </div> <div class=code-font-options-toolbar> <div class=code-font-option-toolbar data-code-font=dejavu onclick="selectCodeFontToolbar('dejavu')"> DejaVu Sans Mono</div> <div class=code-font-option-toolbar data-code-font=google-sans-code onclick="selectCodeFontToolbar('google-sans-code')"> Google Sans Code</div> <div class=code-font-option-toolbar data-code-font=zsft onclick="selectCodeFontToolbar('zsft')"> JetBrains Mono</div> </div> </div> </div> <!-- 主题切换功能 --> <div class="toolbar-item theme-switcher" onclick=switchTheme()> <div class=toolbar-icon> <svg class=theme-icon viewbox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg width=20 height=20> <path d="M876.572788 522.301623c-1.886977 12.375865-9.657964 30.331819-35.880185 45.48903-56.489572 32.697703-150.21828 83.990926-174.010149 96.958262-13.143345 24.431435-66.067718 122.221646-98.141204 178.503487-16.117073 28.124548-36.055171 34.041304-50.030463 34.041304-0.031722 0-0.031722 0-0.031722 0-14.613836 0-29.1806-6.460132-43.234687-19.218714-47.183626-42.643216-125.994576-117.105115-146.013515-136.083351-27.757181-4.732791-138.338718-23.743774-200.584388-35.752272-17.924231-3.533476-32.649608-14.07046-40.372499-29.084409-5.78782-11.256368-10.281157-30.05962 1.471514-55.658647 26.989701-59.047838 74.126254-157.557432 85.957721-182.196599-3.437286-27.117614-16.996093-135.060045-23.760147-198.905142-1.886977-17.460674 3.901867-35.096333 15.829524-48.351218 12.791327-14.278191 30.667463-21.48943 49.854455-19.426445 63.669088 6.332219 173.259042 19.426445 200.584388 22.705118 24.335245-11.879562 121.085776-58.936297 180.133613-86.34146 9.91379-4.573155 19.85828-6.92369 29.596062-6.92369 28.748764 0 52.172243 20.642133 58.328453 51.421136 12.599969 62.997799 30.93864 166.70272 35.639708 193.484689 18.851347 19.682271 91.953272 96.031147 135.060045 143.07151C872.72004 487.125473 879.307062 504.71406 876.572788 522.301623L876.572788 522.301623zM825.375755 499.085876C776.017604 445.314205 687.245791 352.977193 686.365748 352.017332c-2.942005-3.069919-4.956895-6.971785-5.676279-11.208273-0.207731-1.215688-22.193465-127.001509-36.551474-198.936865-0.799202-3.917216-4.285606-16.836457-16.196891-16.836457-3.453658 0-7.30743 1.006933-11.464099 2.942005-67.282383 31.179117-183.955662 88.180342-185.170327 88.771813-3.693112 1.790786-7.850805 2.558265-11.975752 2.01489-1.295506-0.224104-133.63765-16.165168-205.988468-23.424502-0.079818 0-0.207731 0-0.287549 0-7.30743 0-11.128455 2.89391-13.319353 5.40408-3.677762 4.124947-5.644557 9.91379-5.068436 15.110139 7.674796 72.623018 24.255427 202.934922 24.463158 204.325595 0.511653 4.109598-0.159636 8.266267-1.966795 11.960403-0.591471 1.215688-57.657164 120.04712-88.339977 187.201589-3.565199 7.754614-4.41352 14.214746-2.350534 18.131963 1.935072 3.725858 6.588045 5.820566 10.360975 6.53995 70.719668 13.718443 204.644867 36.519752 206.036563 36.727483 4.189416 0.671289 8.058536 2.686179 11.112082 5.580089 1.006933 0.87902 96.414887 91.281983 150.090367 139.889027 8.314363 7.563256 13.143345 8.106632 14.437827 8.106632 3.485381 0 8.314363-4.621251 12.727882-12.391215 36.343743-63.828724 100.011808-181.988868 100.636025-183.155437 1.983167-3.64604 5.004991-6.667863 8.650007-8.650007 1.134847-0.671289 114.418936-62.373583 178.6314-99.516528 8.698103-5.036713 14.278191-10.568706 14.94948-14.854313C834.681702 511.845481 831.49922 505.800811 825.375755 499.085876L825.375755 499.085876zM935.333076 935.670256c-4.157693 4.157693-9.689686 6.299473-15.141862 6.299473-5.548366 0-11.048637-2.142803-15.238053-6.299473l-171.915441-171.915441c-8.362458-8.394181-8.362458-21.98471 0-30.426987 8.394181-8.394181 21.98471-8.394181 30.379914 0l171.915441 171.915441C943.727257 913.684522 943.727257 927.275052 935.333076 935.670256L935.333076 935.670256z" fill=currentColor></path> </svg> </div> <div class=toolbar-label>主题切换</div> </div> <!-- 历史记录功能 --> <div class="toolbar-item history-viewer"> <div class=toolbar-icon> <svg t=1755171414807 class=icon viewbox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg p-id=4979 width=20 height=20> <path d="M798.5152 707.9936v-77.0048c0-12.288-9.8304-22.7328-22.1184-22.7328-13.9264 0-24.1664 11.4688-24.1664 25.3952V739.328c0 8.192 6.7584 14.9504 14.9504 14.9504h83.5584c13.1072 0 24.1664-10.6496 23.7568-23.7568-0.4096-13.7216-11.6736-22.528-25.3952-22.528h-50.5856z m-502.3744-119.1936c-16.384 0-29.2864 13.9264-27.8528 30.5152 1.2288 14.5408 13.9264 25.3952 28.672 25.3952h142.9504c14.5408 0 27.2384-10.8544 28.672-25.3952 1.4336-16.5888-11.4688-30.5152-27.8528-30.5152h-144.5888z m0-231.6288h309.4528c15.7696 0 28.4672-12.9024 28.0576-28.8768-0.4096-14.9504-13.7216-27.2384-28.672-27.2384H296.7552c-14.7456 0-27.8528 11.8784-28.672 26.624-0.4096 7.9872 2.6624 15.5648 8.192 21.2992 5.3248 5.12 12.288 8.192 19.8656 8.192z m241.4592 113.0496c0-15.36-12.4928-28.0576-28.0576-28.0576H296.7552c-14.5408 0-27.2384 10.8544-28.4672 25.3952-1.4336 16.5888 11.6736 30.5152 28.0576 30.5152h213.4016c15.36 0.4096 27.8528-12.288 27.8528-27.8528z m0 0" p-id=4980 fill=currentColor></path> <path d="M568.5248 846.4384H248.0128c-24.1664 0-44.032-19.8656-44.032-44.032V212.1728c0-24.1664 19.8656-44.032 44.032-44.032h461.0048c24.1664 0 44.032 19.8656 44.032 44.032v223.0272c0 15.5648 11.6736 28.8768 27.0336 30.3104 17.6128 1.6384 32.3584-12.288 32.3584-29.696V212.1728c0-57.1392-46.4896-103.6288-103.424-103.6288H248.0128c-55.296 0-100.5568 43.008-103.424 98.0992v601.4976c2.8672 54.8864 48.3328 97.8944 103.424 97.8944h319.8976c14.9504 0 28.0576-10.6496 30.1056-25.3952 2.6624-18.432-11.6736-34.2016-29.4912-34.2016z m0 0" p-id=4981 fill=currentColor></path> <path d="M782.7456 502.1696c-111.8208 0-202.752 91.3408-201.9328 203.5712 0.8192 109.7728 90.5216 199.4752 200.4992 200.4992 112.0256 0.8192 203.5712-90.112 203.5712-201.9328-0.2048-111.616-90.7264-202.1376-202.1376-202.1376z m146.432 201.9328c0 81.5104-66.7648 147.456-148.48 146.432-78.848-1.024-143.1552-65.3312-144.384-143.9744-1.2288-81.92 64.9216-148.8896 146.432-148.8896 80.6912 0 146.432 65.536 146.432 146.432z m0 0" p-id=4982 fill=currentColor></path> </svg> </div> <div class=toolbar-label>历史记录</div> <div class=history-dropdown-toolbar> <div class=history-header-toolbar> <span>浏览历史</span> <button class=history-clear-btn onclick=clearHistory() title=清空历史记录> <svg viewbox="0 0 1024 1024" width=12 height=12> <path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 0 1-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z" fill=currentColor></path> </svg> </button> </div> <div class=history-list-toolbar id=historyList> <div class=history-empty-toolbar>暂无浏览记录</div> </div> </div> </div> <!-- 返回顶部功能 --> <div class="toolbar-item back-to-top" onclick=scrollToTop()> <div class=toolbar-icon> <svg class=back-to-top-icon viewbox="0 0 1024 1024" xmlns=http://www.w3.org/2000/svg> <path d="M882.688 624.128l-336.896-583.68c-15.872-27.136-54.784-27.136-70.656 0L138.24 624.128c-15.872 27.136 4.096 61.44 35.328 61.44H317.44c22.528 0 40.96 18.432 40.96 40.96v239.616c0 22.528 18.432 40.96 40.96 40.96h223.232c22.528 0 40.96-18.432 40.96-40.96v-239.616c0-22.528 18.432-40.96 40.96-40.96h143.872c30.208 0 50.176-34.304 34.304-61.44z"> </path> </svg> </div> <div class=toolbar-label>返回顶部</div> </div> </div> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=标签 data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../index.html class=md-tabs__link> 主页 </a> </li> <li class=md-tabs__item> <a href=../../intro/intro.html class=md-tabs__link> 网站介绍 </a> </li> <li class=md-tabs__item> <a href=../../timeline/timeline.html class=md-tabs__link> 网站时间线 </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../../languages/index.html class=md-tabs__link> 编程语言 </a> </li> <li class=md-tabs__item> <a href=../../data-structure-algo/index.html class=md-tabs__link> 数据结构与算法 </a> </li> <li class=md-tabs__item> <a href=../../Linux/index.html class=md-tabs__link> Linux </a> </li> <li class=md-tabs__item> <a href=../../front-end/index.html class=md-tabs__link> 前端 </a> </li> <li class=md-tabs__item> <a href=../../MySQL/index.html class=md-tabs__link> MySQL </a> </li> <li class=md-tabs__item> <a href=../../JavaEE/index.html class=md-tabs__link> JavaEE应用开发 </a> </li> <li class=md-tabs__item> <a href=../../other/index.html class=md-tabs__link> 扩展知识 </a> </li> <li class=md-tabs__item> <a href=../../tooltips/index.html class=md-tabs__link> 工具帮助 </a> </li> <li class=md-tabs__item> <a href=../../test-encrypt/test-encrypt.html class=md-tabs__link> 测试加密功能 </a> </li> <li class=md-tabs__item> <a href=../../projects/index.html class=md-tabs__link> 项目 </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=导航栏 data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../index.html title=柯懒的知识库 class="md-nav__button md-logo" aria-label=柯懒的知识库 data-md-component=logo> <img src=../../assets/logo.png alt=logo> </a> 柯懒的知识库 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../index.html class=md-nav__link> <span class=md-ellipsis> 主页 </span> </a> </li> <li class=md-nav__item> <a href=../../intro/intro.html class=md-nav__link> <span class=md-ellipsis> 网站介绍 </span> </a> </li> <li class=md-nav__item> <a href=../../timeline/timeline.html class=md-nav__link> <span class=md-ellipsis> 网站时间线 </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4 checked> <div class="md-nav__link md-nav__container"> <a href=../../languages/index.html class="md-nav__link "> <span class=md-ellipsis> 编程语言 </span> </a> <label class="md-nav__link " for=__nav_4 id=__nav_4_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=true> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> 编程语言 </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../c-lang/index.html class=md-nav__link> <span class=md-ellipsis> C语言 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../cpp/index.html class=md-nav__link> <span class=md-ellipsis> C++ </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_4 checked> <div class="md-nav__link md-nav__container"> <a href=../index.html class="md-nav__link "> <span class=md-ellipsis> Java </span> </a> <label class="md-nav__link " for=__nav_4_4 id=__nav_4_4_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_4_label aria-expanded=true> <label class=md-nav__title for=__nav_4_4> <span class="md-nav__icon md-icon"></span> Java </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../java-basic/java-basic.html class=md-nav__link> <span class=md-ellipsis> Java基础知识 </span> </a> </li> <li class=md-nav__item> <a href=../java-array/java-array.html class=md-nav__link> <span class=md-ellipsis> Java数组类型 </span> </a> </li> <li class=md-nav__item> <a href=../obj-oriented-and-method/obj-oriented-and-method.html class=md-nav__link> <span class=md-ellipsis> Java面向对象与方法 </span> </a> </li> <li class=md-nav__item> <a href=../obj-oriented-and-encapsulation/obj-oriented-and-encapsulation.html class=md-nav__link> <span class=md-ellipsis> Java面向对象与封装 </span> </a> </li> <li class=md-nav__item> <a href=../obj-oriented-and-inheritance/obj-oriented-and-inheritance.html class=md-nav__link> <span class=md-ellipsis> Java面向对象与继承 </span> </a> </li> <li class=md-nav__item> <a href=../obj-oriented-and-interface/obj-oriented-and-interface.html class=md-nav__link> <span class=md-ellipsis> Java面向对象与接口 </span> </a> </li> <li class=md-nav__item> <a href=../obj-oriented-and-polymorphic/obj-oriented-and-polymorphic.html class=md-nav__link> <span class=md-ellipsis> Java面向对象与多态 </span> </a> </li> <li class=md-nav__item> <a href=../permission-modifier-final-internal-class/permission-modifier-final-internal-class.html class=md-nav__link> <span class=md-ellipsis> Java面向对象与权限修饰符、final、代码块及内部类 </span> </a> </li> <li class=md-nav__item> <a href=../obj-oriented-and-exception/obj-oriented-and-exception.html class=md-nav__link> <span class=md-ellipsis> Java异常类 </span> </a> </li> <li class=md-nav__item> <a href=../object-class-method-interface/object-class-method-interface.html class=md-nav__link> <span class=md-ellipsis> Java中的Object类和常用方法、经典接口 </span> </a> </li> <li class=md-nav__item> <a href=../string-stringbuilder/string-stringbuilder.html class=md-nav__link> <span class=md-ellipsis> Java.lang中的String类和StringBuilder类介绍和常用方法 </span> </a> </li> <li class=md-nav__item> <a href=../common-class-packed-class/common-class-packed-class.html class=md-nav__link> <span class=md-ellipsis> Java中的常用类及包装类 </span> </a> </li> <li class=md-nav__item> <a href=../generic/generic.html class=md-nav__link> <span class=md-ellipsis> Java中的泛型 </span> </a> </li> <li class=md-nav__item> <a href=../collection/collection.html class=md-nav__link> <span class=md-ellipsis> Java单列集合 </span> </a> </li> <li class=md-nav__item> <a href=../map/map.html class=md-nav__link> <span class=md-ellipsis> Java双列集合 </span> </a> </li> <li class=md-nav__item> <a href=../bitset/bitset.html class=md-nav__link> <span class=md-ellipsis> Java中的BitSet类 </span> </a> </li> <li class=md-nav__item> <a href=../string-constant-pool/string-constant-pool.html class=md-nav__link> <span class=md-ellipsis> 了解Java字符串常量池 </span> </a> </li> <li class=md-nav__item> <a href=../multi-thread/multi-thread.html class=md-nav__link> <span class=md-ellipsis> Java多线程 </span> </a> </li> <li class=md-nav__item> <a href=../javaio/javaio.html class=md-nav__link> <span class=md-ellipsis> Java的IO流 </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Java网络编程、正则表达式、设计模式与Lombok </span> <span class="md-nav__icon md-icon"></span> </label> <a href=net-reg-design-lombok.html class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Java网络编程、正则表达式、设计模式与Lombok </span> </a> <nav class="md-nav md-nav--secondary" aria-label=本节目录> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> 本节目录 </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#java class=md-nav__link> <span class=md-ellipsis> Java网络编程 </span> </a> <nav class=md-nav aria-label=Java网络编程> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_1 class=md-nav__link> <span class=md-ellipsis> 软件结构 </span> </a> </li> <li class=md-nav__item> <a href=#udp class=md-nav__link> <span class=md-ellipsis> UDP协议编程 </span> </a> <nav class=md-nav aria-label=UDP协议编程> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_2 class=md-nav__link> <span class=md-ellipsis> 创建客户端 </span> </a> </li> <li class=md-nav__item> <a href=#_3 class=md-nav__link> <span class=md-ellipsis> 创建服务端 </span> </a> </li> <li class=md-nav__item> <a href=#_4 class=md-nav__link> <span class=md-ellipsis> 运行 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#tcp class=md-nav__link> <span class=md-ellipsis> TCP协议编程 </span> </a> <nav class=md-nav aria-label=TCP协议编程> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_5 class=md-nav__link> <span class=md-ellipsis> 创建客户端 </span> </a> </li> <li class=md-nav__item> <a href=#_6 class=md-nav__link> <span class=md-ellipsis> 创建服务端 </span> </a> </li> <li class=md-nav__item> <a href=#_7 class=md-nav__link> <span class=md-ellipsis> 运行 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_8 class=md-nav__link> <span class=md-ellipsis> 文件上传案例 </span> </a> <nav class=md-nav aria-label=文件上传案例> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_9 class=md-nav__link> <span class=md-ellipsis> 创建客户端 </span> </a> </li> <li class=md-nav__item> <a href=#_10 class=md-nav__link> <span class=md-ellipsis> 创建服务器端 </span> </a> </li> <li class=md-nav__item> <a href=#_11 class=md-nav__link> <span class=md-ellipsis> 拓展 </span> </a> </li> <li class=md-nav__item> <a href=#_12 class=md-nav__link> <span class=md-ellipsis> 结合多线程 </span> </a> </li> <li class=md-nav__item> <a href=#_13 class=md-nav__link> <span class=md-ellipsis> 结合线程池 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_14 class=md-nav__link> <span class=md-ellipsis> 正则表达式 </span> </a> <nav class=md-nav aria-label=正则表达式> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_15 class=md-nav__link> <span class=md-ellipsis> 字符类 </span> </a> </li> <li class=md-nav__item> <a href=#_16 class=md-nav__link> <span class=md-ellipsis> 逻辑运算符 </span> </a> </li> <li class=md-nav__item> <a href=#_17 class=md-nav__link> <span class=md-ellipsis> 预定义字符 </span> </a> </li> <li class=md-nav__item> <a href=#_18 class=md-nav__link> <span class=md-ellipsis> 数量词 </span> </a> </li> <li class=md-nav__item> <a href=#_19 class=md-nav__link> <span class=md-ellipsis> 分组括号 </span> </a> </li> <li class=md-nav__item> <a href=#string class=md-nav__link> <span class=md-ellipsis> String类中其他关于正则表达式的方法 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_20 class=md-nav__link> <span class=md-ellipsis> 设计模式 </span> </a> <nav class=md-nav aria-label=设计模式> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_21 class=md-nav__link> <span class=md-ellipsis> 介绍 </span> </a> </li> <li class=md-nav__item> <a href=#_22 class=md-nav__link> <span class=md-ellipsis> 模版方法设计模式 </span> </a> </li> <li class=md-nav__item> <a href=#_23 class=md-nav__link> <span class=md-ellipsis> 单例模式 </span> </a> <nav class=md-nav aria-label=单例模式> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_24 class=md-nav__link> <span class=md-ellipsis> 饿汉模式 </span> </a> </li> <li class=md-nav__item> <a href=#_25 class=md-nav__link> <span class=md-ellipsis> 懒汉模式 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#lombokjavabean class=md-nav__link> <span class=md-ellipsis> 使用Lombok简化Javabean </span> </a> <nav class=md-nav aria-label=使用Lombok简化Javabean> <ul class=md-nav__list> <li class=md-nav__item> <a href=#lombok class=md-nav__link> <span class=md-ellipsis> Lombok介绍 </span> </a> </li> <li class=md-nav__item> <a href=#lombok_1 class=md-nav__link> <span class=md-ellipsis> Lombok安装 </span> </a> </li> <li class=md-nav__item> <a href=#lombok_2 class=md-nav__link> <span class=md-ellipsis> Lombok常用注解 </span> </a> <nav class=md-nav aria-label=Lombok常用注解> <ul class=md-nav__list> <li class=md-nav__item> <a href=#gettersetter class=md-nav__link> <span class=md-ellipsis> @Getter和@Setter </span> </a> </li> <li class=md-nav__item> <a href=#tostring class=md-nav__link> <span class=md-ellipsis> @ToString </span> </a> </li> <li class=md-nav__item> <a href=#noargsconstructorallargsconstructor class=md-nav__link> <span class=md-ellipsis> @NoArgsConstructor和@AllArgsConstructor </span> </a> </li> <li class=md-nav__item> <a href=#equalsandhashcode class=md-nav__link> <span class=md-ellipsis> @EqualsAndHashCode </span> </a> </li> <li class=md-nav__item> <a href=#data class=md-nav__link> <span class=md-ellipsis> @Data </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../new-jdk8-and-after/new-jdk8-and-after.html class=md-nav__link> <span class=md-ellipsis> Java中的JDK8及后续的重要新特性 </span> </a> </li> <li class=md-nav__item> <a href=../junit-reflect-annotation-enum/junit-reflect-annotation-enum.html class=md-nav__link> <span class=md-ellipsis> Java中的Junit、类加载时机与机制、反射、注解及枚举 </span> </a> </li> <li class=md-nav__item> <a href=../json-in-java/json-in-java.html class=md-nav__link> <span class=md-ellipsis> （补充）JSON在后端的应用 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../python/index.html class=md-nav__link> <span class=md-ellipsis> Python </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../data-structure-algo/index.html class=md-nav__link> <span class=md-ellipsis> 数据结构与算法 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../Linux/index.html class=md-nav__link> <span class=md-ellipsis> Linux </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../front-end/index.html class=md-nav__link> <span class=md-ellipsis> 前端 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../MySQL/index.html class=md-nav__link> <span class=md-ellipsis> MySQL </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../JavaEE/index.html class=md-nav__link> <span class=md-ellipsis> JavaEE应用开发 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../other/index.html class=md-nav__link> <span class=md-ellipsis> 扩展知识 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../tooltips/index.html class=md-nav__link> <span class=md-ellipsis> 工具帮助 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../test-encrypt/test-encrypt.html class=md-nav__link> <span class=md-ellipsis> 测试加密功能 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../projects/index.html class=md-nav__link> <span class=md-ellipsis> 项目 </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label=本节目录> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> 本节目录 </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#java class=md-nav__link> <span class=md-ellipsis> Java网络编程 </span> </a> <nav class=md-nav aria-label=Java网络编程> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_1 class=md-nav__link> <span class=md-ellipsis> 软件结构 </span> </a> </li> <li class=md-nav__item> <a href=#udp class=md-nav__link> <span class=md-ellipsis> UDP协议编程 </span> </a> <nav class=md-nav aria-label=UDP协议编程> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_2 class=md-nav__link> <span class=md-ellipsis> 创建客户端 </span> </a> </li> <li class=md-nav__item> <a href=#_3 class=md-nav__link> <span class=md-ellipsis> 创建服务端 </span> </a> </li> <li class=md-nav__item> <a href=#_4 class=md-nav__link> <span class=md-ellipsis> 运行 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#tcp class=md-nav__link> <span class=md-ellipsis> TCP协议编程 </span> </a> <nav class=md-nav aria-label=TCP协议编程> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_5 class=md-nav__link> <span class=md-ellipsis> 创建客户端 </span> </a> </li> <li class=md-nav__item> <a href=#_6 class=md-nav__link> <span class=md-ellipsis> 创建服务端 </span> </a> </li> <li class=md-nav__item> <a href=#_7 class=md-nav__link> <span class=md-ellipsis> 运行 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_8 class=md-nav__link> <span class=md-ellipsis> 文件上传案例 </span> </a> <nav class=md-nav aria-label=文件上传案例> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_9 class=md-nav__link> <span class=md-ellipsis> 创建客户端 </span> </a> </li> <li class=md-nav__item> <a href=#_10 class=md-nav__link> <span class=md-ellipsis> 创建服务器端 </span> </a> </li> <li class=md-nav__item> <a href=#_11 class=md-nav__link> <span class=md-ellipsis> 拓展 </span> </a> </li> <li class=md-nav__item> <a href=#_12 class=md-nav__link> <span class=md-ellipsis> 结合多线程 </span> </a> </li> <li class=md-nav__item> <a href=#_13 class=md-nav__link> <span class=md-ellipsis> 结合线程池 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_14 class=md-nav__link> <span class=md-ellipsis> 正则表达式 </span> </a> <nav class=md-nav aria-label=正则表达式> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_15 class=md-nav__link> <span class=md-ellipsis> 字符类 </span> </a> </li> <li class=md-nav__item> <a href=#_16 class=md-nav__link> <span class=md-ellipsis> 逻辑运算符 </span> </a> </li> <li class=md-nav__item> <a href=#_17 class=md-nav__link> <span class=md-ellipsis> 预定义字符 </span> </a> </li> <li class=md-nav__item> <a href=#_18 class=md-nav__link> <span class=md-ellipsis> 数量词 </span> </a> </li> <li class=md-nav__item> <a href=#_19 class=md-nav__link> <span class=md-ellipsis> 分组括号 </span> </a> </li> <li class=md-nav__item> <a href=#string class=md-nav__link> <span class=md-ellipsis> String类中其他关于正则表达式的方法 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_20 class=md-nav__link> <span class=md-ellipsis> 设计模式 </span> </a> <nav class=md-nav aria-label=设计模式> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_21 class=md-nav__link> <span class=md-ellipsis> 介绍 </span> </a> </li> <li class=md-nav__item> <a href=#_22 class=md-nav__link> <span class=md-ellipsis> 模版方法设计模式 </span> </a> </li> <li class=md-nav__item> <a href=#_23 class=md-nav__link> <span class=md-ellipsis> 单例模式 </span> </a> <nav class=md-nav aria-label=单例模式> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_24 class=md-nav__link> <span class=md-ellipsis> 饿汉模式 </span> </a> </li> <li class=md-nav__item> <a href=#_25 class=md-nav__link> <span class=md-ellipsis> 懒汉模式 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#lombokjavabean class=md-nav__link> <span class=md-ellipsis> 使用Lombok简化Javabean </span> </a> <nav class=md-nav aria-label=使用Lombok简化Javabean> <ul class=md-nav__list> <li class=md-nav__item> <a href=#lombok class=md-nav__link> <span class=md-ellipsis> Lombok介绍 </span> </a> </li> <li class=md-nav__item> <a href=#lombok_1 class=md-nav__link> <span class=md-ellipsis> Lombok安装 </span> </a> </li> <li class=md-nav__item> <a href=#lombok_2 class=md-nav__link> <span class=md-ellipsis> Lombok常用注解 </span> </a> <nav class=md-nav aria-label=Lombok常用注解> <ul class=md-nav__list> <li class=md-nav__item> <a href=#gettersetter class=md-nav__link> <span class=md-ellipsis> @Getter和@Setter </span> </a> </li> <li class=md-nav__item> <a href=#tostring class=md-nav__link> <span class=md-ellipsis> @ToString </span> </a> </li> <li class=md-nav__item> <a href=#noargsconstructorallargsconstructor class=md-nav__link> <span class=md-ellipsis> @NoArgsConstructor和@AllArgsConstructor </span> </a> </li> <li class=md-nav__item> <a href=#equalsandhashcode class=md-nav__link> <span class=md-ellipsis> @EqualsAndHashCode </span> </a> </li> <li class=md-nav__item> <a href=#data class=md-nav__link> <span class=md-ellipsis> @Data </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=javalombok>Java网络编程、正则表达式、单例设计模式与Lombok<a class=headerlink href=#javalombok title="Permanent link">&para;</a></h1> <div style="margin-top: -30px; font-size: 0.75em; opacity: 0.7;"> <p><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10h-2a8 8 0 0 1-8 8 8 8 0 0 1-8-8 8 8 0 0 1 8-8zm6.78 1a.7.7 0 0 0-.48.2l-1.22 1.21 2.5 2.5L20.8 5.7c.26-.26.26-.7 0-.95L19.25 3.2c-.13-.13-.3-.2-.47-.2m-2.41 2.12L9 12.5V15h2.5l7.37-7.38z"/></svg></span> 约 4648 个字 <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6m80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3l89.3 89.4-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3"/></svg></span> 466 行代码 <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 17H7V3h14m0-2H7a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2M3 5H1v16a2 2 0 0 0 2 2h16v-2H3m12.96-10.71-2.75 3.54-1.96-2.36L8.5 15h11z"/></svg></span> 4 张图片 <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 20c4.42 0 8-3.58 8-8s-3.58-8-8-8-8 3.58-8 8 3.58 8 8 8m0-18c5.5 0 10 4.5 10 10s-4.5 10-10 10C6.47 22 2 17.5 2 12S6.5 2 12 2m.5 11H11V7h1.5v4.26l3.7-2.13.75 1.3z"/></svg></span> 预计阅读时间 21 分钟</p> </div> <h2 id=java>Java网络编程<a class=headerlink href=#java title="Permanent link">&para;</a></h2> <h3 id=_1>软件结构<a class=headerlink href=#_1 title="Permanent link">&para;</a></h3> <ul> <li><strong>C/S结构 ：全称为Client/Server结构，是指客户端和服务器结构</strong><ul> <li>优点：<ul> <li>高性能：由于计算任务可以分配给最适合处理该任务的设备，因此可以在性能上得到优化例如，图形密集型应用可以由具有强大图形处理能力的客户端来处理，而数据存储和检索则由服务器完成</li> <li>安全性较高：数据集中存储在服务器端，可以更容易地实施安全措施，如访问控制、加密等，从而提高系统的整体安全性</li> <li>资源有效利用：服务器可以根据需求进行扩展，以支持更多的客户端连接，而不需要每个用户都有强大的硬件配置</li> <li>灵活性：C/S架构允许对网络中的各个组件单独进行升级和维护，而不影响其他部分的运行</li> </ul> </li> <li>缺点：<ul> <li>安装和维护成本高：与浏览器/服务器（B/S）架构相比，C/S架构需要在每个客户端安装特定的应用程序，并且每次更新都需要在所有客户端上重复进行</li> <li>依赖性较强：如果服务器出现故障或者需要停机维护，那么所有的客户端都将无法使用相关服务</li> <li>可扩展性有限：虽然服务器可以根据需要增加硬件资源，但是增加新的客户端可能需要额外的软件授权和配置工作，这可能会限制系统的可扩展性</li> <li>网络带宽要求：对于某些应用程序来说，客户端与服务器之间的通信可能会消耗大量的网络带宽，尤其是在大量数据交换的情况下</li> </ul> </li> </ul> </li> <li><strong>B/S结构 ：全称为Browser/Server结构，是指浏览器和服务器结构</strong><ul> <li>优点：<ul> <li>易于部署和维护：用户只需要一个支持相应Web标准的浏览器即可访问应用程序，无需在每台客户端机器上安装特殊软件软件更新也只需在服务器端进行，减少了客户端维护的工作量</li> <li>平台无关性：基于Web的应用程序通常可以跨多个操作系统和设备运行，只需要一个现代的Web浏览器即可，这使得用户可以从任何地方访问应用</li> <li>较低的客户端需求：与C/S架构相比，B/S架构对客户端硬件的要求较低，因为大部分处理都在服务器端完成</li> <li>易于共享和协作：Web应用天生适合信息共享和团队协作，特别是在云计算和SaaS（Software as a Service）模式下</li> </ul> </li> <li>缺点：<ul> <li>性能问题：由于所有的处理都发生在服务器端，当用户数量增加时，可能会导致服务器负载过大，从而影响应用程序的响应速度</li> <li>安全性挑战：虽然可以通过多种方式增强Web应用的安全性，如SSL/TLS加密、身份验证机制等，但Web应用仍然面临各种安全威胁，如SQL注入、XSS攻击等</li> <li>用户体验受限：与原生应用程序相比，Web应用在某些方面（如图形界面、输入设备兼容性等）可能提供较差的用户体验不过，随着HTML5、CSS3和JavaScript的发展，这种差距正在逐渐缩小</li> <li>依赖于网络连接：B/S架构的应用必须始终保持网络连接才能正常工作，这对于那些网络不稳定或没有互联网接入的地区来说是个问题</li> </ul> </li> </ul> </li> </ul> <h3 id=udp>UDP协议编程<a class=headerlink href=#udp title="Permanent link">&para;</a></h3> <p>UDP协议最大的特点就是不需要在双方都连接的情况下发送数据</p> <p>在Java中，实现UDP协议编程需要使用到两个类：</p> <ol> <li><code>DatagramSocket</code>：创建 UDP 客户端和服务器，实现数据的非连接、不可靠传输</li> <li><code>DatagramPacket</code>：构造一个包含数据和目标地址及端口的数据包</li> </ol> <h4 id=_2>创建客户端<a class=headerlink href=#_2 title="Permanent link">&para;</a></h4> <p>客户端创建步骤如下：</p> <ol> <li>创建<code>DatagramSocket</code>对象：创建一个UDP客户端<ol> <li>对应的有参构造：<code>DatagramSocket(int port)</code>，参数传递本机端口号</li> <li>无参构造：<code>DatagramSocket(int port)</code>，随机端口号</li> </ol> </li> <li>确定发送内容</li> <li>创建<code>DatagramPacket</code>对象：（常用构造方法）<code>DatagramPacket(byte[] buf, int length, InetAddress address, int port)</code><ol> <li>第一个参数：存储传递数据的字节数组</li> <li>第二个参数：传递数据的元素个数</li> <li>第三个参数：服务端的IP地址，通过<code>InetAddress</code>中的静态方法：<code>static InetAddress getByName(String host)</code>设置服务端的IP地址，参数即为服务端的IP地址</li> <li>第四个参数：服务端的端口号</li> </ol> </li> <li>发送数据：使用<code>DatagramSocket</code>中的方法：<code>void send(DatagramPacket p)</code>将打包好的<code>DatagramPacket</code>对象发送给服务器</li> <li>关闭UDP客户端</li> </ol> <p>例如下面的代码：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Client</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-0-2><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=kd>throws</span><span class=w> </span><span class=n>Exception</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-0-3><span class=w>        </span><span class=c1>// 创建DatagramSocket对象</span>
</span><span id=__span-0-4><span class=w>        </span><span class=n>DatagramSocket</span><span class=w> </span><span class=n>datagramSocket</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>DatagramSocket</span><span class=p>(</span><span class=mi>8081</span><span class=p>);</span>
</span><span id=__span-0-5><span class=w>        </span><span class=c1>// 创建数据</span>
</span><span id=__span-0-6><span class=w>        </span><span class=kt>byte</span><span class=o>[]</span><span class=w> </span><span class=n>bytes</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;这是客户端发送的数据&quot;</span><span class=p>.</span><span class=na>getBytes</span><span class=p>();</span>
</span><span id=__span-0-7><span class=w>        </span><span class=c1>// 创建IP地址</span>
</span><span id=__span-0-8><span class=w>        </span><span class=n>InetAddress</span><span class=w> </span><span class=n>byName</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>InetAddress</span><span class=p>.</span><span class=na>getByName</span><span class=p>(</span><span class=s>&quot;127.0.0.1&quot;</span><span class=p>);</span>
</span><span id=__span-0-9>
</span><span id=__span-0-10><span class=w>        </span><span class=c1>// 创建DatagramPacket对象</span>
</span><span id=__span-0-11><span class=w>        </span><span class=n>DatagramPacket</span><span class=w> </span><span class=n>datagramPacket</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>DatagramPacket</span><span class=p>(</span><span class=n>bytes</span><span class=p>,</span><span class=w> </span><span class=n>bytes</span><span class=p>.</span><span class=na>length</span><span class=p>,</span><span class=w> </span><span class=n>byName</span><span class=p>,</span><span class=w> </span><span class=mi>2222</span><span class=p>);</span>
</span><span id=__span-0-12><span class=w>        </span><span class=c1>// 发送数据</span>
</span><span id=__span-0-13><span class=w>        </span><span class=n>datagramSocket</span><span class=p>.</span><span class=na>send</span><span class=p>(</span><span class=n>datagramPacket</span><span class=p>);</span>
</span><span id=__span-0-14><span class=w>        </span><span class=c1>// 关闭资源</span>
</span><span id=__span-0-15><span class=w>        </span><span class=n>datagramSocket</span><span class=p>.</span><span class=na>close</span><span class=p>();</span>
</span><span id=__span-0-16><span class=w>    </span><span class=p>}</span>
</span><span id=__span-0-17><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>直接点击运行可以看到没有任何报错，因为不论是否存在服务端，UDP都可以发送</p> <h4 id=_3>创建服务端<a class=headerlink href=#_3 title="Permanent link">&para;</a></h4> <p>创建服务端依旧使用前面的两个类<code>DatagramSocket</code>以及<code>DatagramPacket</code>：</p> <p>创建步骤如下：</p> <ol> <li>创建<code>DatagramSocket</code>对象：使用有参构造指定端口号</li> <li>创建接受数据的<code>byte</code>数据</li> <li>创建<code>DatagramPacket</code>对象：使用<code>DatagramPacket(byte[] buf, int length)</code>构造用于接收数据的对象</li> <li>调用<code>DatagramSocket</code>中的方法：<code>void receive(DatagramPacket p)</code>，传递DatagramPacket对象接受数据</li> <li>解析<code>DatagramPacket</code>对象：<ol> <li>调用<code>DatagramPacket</code>中的方法：<code>byte[] getData()</code>，解析数据包收到的数据</li> <li>调用<code>DatagramPacket</code>中的方法：<code>int getLength()</code>，获取数据包中的数据数组长度</li> <li>调用<code>DatagramPacket</code>中的方法：<code>int getPort()</code>，获取到发送方的端口</li> <li>调用<code>DatagramPacket</code>中的方法：<code>InetAddress getAddress()</code>，获取到发送方的IP地址</li> </ol> </li> <li>关闭UDP服务端</li> </ol> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-1-1><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Server</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-1-2><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=kd>throws</span><span class=w> </span><span class=n>Exception</span><span class=p>{</span>
</span><span id=__span-1-3><span class=w>        </span><span class=c1>// 1. 创建DatagramSocket对象：使用有参构造指定端口号</span>
</span><span id=__span-1-4><span class=w>        </span><span class=n>DatagramSocket</span><span class=w> </span><span class=n>datagramSocket</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>DatagramSocket</span><span class=p>(</span><span class=mi>2222</span><span class=p>);</span>
</span><span id=__span-1-5><span class=w>        </span><span class=c1>// 2. 创建接受数据的byte数据</span>
</span><span id=__span-1-6><span class=w>        </span><span class=kt>byte</span><span class=o>[]</span><span class=w> </span><span class=n>bytes</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=kt>byte</span><span class=o>[</span><span class=mi>1024</span><span class=o>]</span><span class=p>;</span>
</span><span id=__span-1-7><span class=w>        </span><span class=c1>// 3. 创建DatagramPacket对象：使用DatagramPacket(byte[] buf, int length)构造用于接收数据的对象</span>
</span><span id=__span-1-8><span class=w>        </span><span class=n>DatagramPacket</span><span class=w> </span><span class=n>datagramPacket</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>DatagramPacket</span><span class=p>(</span><span class=n>bytes</span><span class=p>,</span><span class=w> </span><span class=n>bytes</span><span class=p>.</span><span class=na>length</span><span class=p>);</span>
</span><span id=__span-1-9><span class=w>        </span><span class=c1>// 4. 调用DatagramSocket中的方法：void receive(DatagramPacket p)，传递DatagramPacket对象接受数据</span>
</span><span id=__span-1-10><span class=w>        </span><span class=n>datagramSocket</span><span class=p>.</span><span class=na>receive</span><span class=p>(</span><span class=n>datagramPacket</span><span class=p>);</span>
</span><span id=__span-1-11><span class=w>        </span><span class=c1>// 5. 解析DatagramPacket对象：</span>
</span><span id=__span-1-12><span class=w>        </span><span class=c1>// 接收到的数据</span>
</span><span id=__span-1-13><span class=w>        </span><span class=kt>byte</span><span class=o>[]</span><span class=w> </span><span class=n>data</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>datagramPacket</span><span class=p>.</span><span class=na>getData</span><span class=p>();</span>
</span><span id=__span-1-14><span class=w>        </span><span class=c1>// 数据大小</span>
</span><span id=__span-1-15><span class=w>        </span><span class=kt>int</span><span class=w> </span><span class=n>length</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>datagramPacket</span><span class=p>.</span><span class=na>getLength</span><span class=p>();</span>
</span><span id=__span-1-16><span class=w>        </span><span class=c1>// 发送端的IP地址</span>
</span><span id=__span-1-17><span class=w>        </span><span class=n>InetAddress</span><span class=w> </span><span class=n>address</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>datagramPacket</span><span class=p>.</span><span class=na>getAddress</span><span class=p>();</span>
</span><span id=__span-1-18><span class=w>        </span><span class=c1>// 发送端的端口号</span>
</span><span id=__span-1-19><span class=w>        </span><span class=kt>int</span><span class=w> </span><span class=n>port</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>datagramPacket</span><span class=p>.</span><span class=na>getPort</span><span class=p>();</span>
</span><span id=__span-1-20><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=k>new</span><span class=w> </span><span class=n>String</span><span class=p>(</span><span class=n>data</span><span class=p>,</span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=n>length</span><span class=p>));</span>
</span><span id=__span-1-21><span class=w>        </span><span class=c1>// 释放资源</span>
</span><span id=__span-1-22><span class=w>        </span><span class=n>datagramSocket</span><span class=p>.</span><span class=na>close</span><span class=p>();</span>
</span><span id=__span-1-23><span class=w>    </span><span class=p>}</span>
</span><span id=__span-1-24><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>编写服务端时，需要注意，服务端在创建<code>DatagramSocket</code>对象时需要指定端口号，否则发送端无法确定需要接收的服务端</p> <h4 id=_4>运行<a class=headerlink href=#_4 title="Permanent link">&para;</a></h4> <p>因为是发送端发送数据，服务器端接收数据，所以运行时需要保证服务器端先运行，再运行发送端，再前面服务端的代码中因为存在一个打印语句，所以当服务端接收到数据时，就会将数据打印到服务器端的控制台</p> <h3 id=tcp>TCP协议编程<a class=headerlink href=#tcp title="Permanent link">&para;</a></h3> <p>TCP协议的特点是必须双方相互连接才能发送数据</p> <p>在Java中，实现TCP协议编程需要使用到<code>Socket</code>类：用于实现TCP网络通信</p> <p>TCP协议下发送数据的过程：</p> <p><a class=glightbox href="17. Java网络编程、正则表达式、设计模式与Lombok.assets\image.png" data-type=image data-width=100% data-height=auto data-desc-position=bottom><img src="17. Java网络编程、正则表达式、设计模式与Lombok.assets\image.png"></a></p> <h4 id=_5>创建客户端<a class=headerlink href=#_5 title="Permanent link">&para;</a></h4> <p>创建客户端的步骤如下：</p> <ol> <li>创建<code>Socket</code>对象，使用构造方法：<code>Socket(InetAddress address, int port)</code> 指定服务器端的IP地址和服务器端的端口号</li> <li>调用<code>Socket</code>类中的方法：<code>OutputStream getOutputStream()</code>向服务器端发送请求</li> <li>向服务器写数据：调用<code>OutputStream</code>中的<code>write</code>方法即可</li> <li>调用<code>Socket</code>类中的方法：<code>InputStream getInputStream()</code>接受服务器发送的请求</li> <li>读取接收到的数据：调用<code>InputStream</code>中的<code>read</code>方法即可</li> <li>关闭上面开启动<code>Socket</code>流、输入流和输出流</li> </ol> <p>例如：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-2-1><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Client</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-2-2><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=kd>throws</span><span class=w> </span><span class=n>Exception</span><span class=p>{</span>
</span><span id=__span-2-3><span class=w>        </span><span class=n>Socket</span><span class=w> </span><span class=n>socket</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>Socket</span><span class=p>(</span><span class=s>&quot;127.0.0.1&quot;</span><span class=p>,</span><span class=w> </span><span class=mi>2222</span><span class=p>);</span>
</span><span id=__span-2-4><span class=w>        </span><span class=c1>// 向服务器发送请求</span>
</span><span id=__span-2-5><span class=w>        </span><span class=n>OutputStream</span><span class=w> </span><span class=n>outputStream</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>socket</span><span class=p>.</span><span class=na>getOutputStream</span><span class=p>();</span>
</span><span id=__span-2-6><span class=w>        </span><span class=c1>// 向服务器写数据</span>
</span><span id=__span-2-7><span class=w>        </span><span class=n>outputStream</span><span class=p>.</span><span class=na>write</span><span class=p>(</span><span class=s>&quot;这是客户端发送的请求&quot;</span><span class=p>.</span><span class=na>getBytes</span><span class=p>());</span>
</span><span id=__span-2-8>
</span><span id=__span-2-9><span class=w>        </span><span class=c1>// 接受服务器端的数据</span>
</span><span id=__span-2-10><span class=w>        </span><span class=kt>byte</span><span class=o>[]</span><span class=w> </span><span class=n>bytes</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=kt>byte</span><span class=o>[</span><span class=mi>1024</span><span class=o>]</span><span class=p>;</span>
</span><span id=__span-2-11><span class=w>        </span><span class=n>InputStream</span><span class=w> </span><span class=n>inputStream</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>socket</span><span class=p>.</span><span class=na>getInputStream</span><span class=p>();</span>
</span><span id=__span-2-12><span class=w>        </span><span class=c1>// 读取服务器端的数据</span>
</span><span id=__span-2-13><span class=w>        </span><span class=kt>int</span><span class=w> </span><span class=n>len</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>inputStream</span><span class=p>.</span><span class=na>read</span><span class=p>(</span><span class=n>bytes</span><span class=p>);</span>
</span><span id=__span-2-14><span class=w>        </span><span class=c1>// 输出接受到的结果</span>
</span><span id=__span-2-15><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=k>new</span><span class=w> </span><span class=n>String</span><span class=p>(</span><span class=n>bytes</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=n>len</span><span class=p>));</span>
</span><span id=__span-2-16><span class=w>        </span><span class=c1>// 关流</span>
</span><span id=__span-2-17><span class=w>        </span><span class=n>inputStream</span><span class=p>.</span><span class=na>close</span><span class=p>();</span>
</span><span id=__span-2-18><span class=w>        </span><span class=n>outputStream</span><span class=p>.</span><span class=na>close</span><span class=p>();</span>
</span><span id=__span-2-19><span class=w>        </span><span class=n>socket</span><span class=p>.</span><span class=na>close</span><span class=p>();</span>
</span><span id=__span-2-20><span class=w>    </span><span class=p>}</span>
</span><span id=__span-2-21><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h4 id=_6>创建服务端<a class=headerlink href=#_6 title="Permanent link">&para;</a></h4> <p>TCP的服务端使用到<code>ServerSocket</code>类</p> <p>创建服务端的步骤如下：</p> <ol> <li>创建<code>ServerSocket</code>对象，调用构造方法：<code>ServerSocket(int port)</code>，参数为服务器端的端口号</li> <li>调用<code>ServerSocket</code>中的<code>Socket accept()</code>方法，返回一个<code>Socket</code>类对象</li> <li>使用<code>Socket</code>类中的方法：<code>InputStream getInputStream()</code>，接受来自客户端发送的数据。可以读取客户端发送的数据并打印</li> <li>使用<code>Socket</code>类中的方法：<code>OutputStream getOutputStream()</code>，向客户端发送数据</li> <li>关闭<code>ServerSocket</code>流、<code>Socket</code>流、输入流和输出流</li> </ol> <p>例如：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-3-1><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Server</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-3-2><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=kd>throws</span><span class=w> </span><span class=n>Exception</span><span class=p>{</span>
</span><span id=__span-3-3><span class=w>        </span><span class=n>ServerSocket</span><span class=w> </span><span class=n>serverSocket</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>ServerSocket</span><span class=p>(</span><span class=mi>2222</span><span class=p>);</span>
</span><span id=__span-3-4><span class=w>        </span><span class=c1>// 等待接受客户端的请求</span>
</span><span id=__span-3-5><span class=w>        </span><span class=n>Socket</span><span class=w> </span><span class=n>accept</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>serverSocket</span><span class=p>.</span><span class=na>accept</span><span class=p>();</span>
</span><span id=__span-3-6><span class=w>        </span><span class=c1>// 接受客户端的数据</span>
</span><span id=__span-3-7><span class=w>        </span><span class=n>InputStream</span><span class=w> </span><span class=n>inputStream</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>accept</span><span class=p>.</span><span class=na>getInputStream</span><span class=p>();</span>
</span><span id=__span-3-8><span class=w>        </span><span class=kt>byte</span><span class=o>[]</span><span class=w> </span><span class=n>bytes</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=kt>byte</span><span class=o>[</span><span class=mi>1024</span><span class=o>]</span><span class=p>;</span>
</span><span id=__span-3-9><span class=w>        </span><span class=kt>int</span><span class=w> </span><span class=n>len</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>inputStream</span><span class=p>.</span><span class=na>read</span><span class=p>(</span><span class=n>bytes</span><span class=p>);</span>
</span><span id=__span-3-10><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=k>new</span><span class=w> </span><span class=n>String</span><span class=p>(</span><span class=n>bytes</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=n>len</span><span class=p>));</span>
</span><span id=__span-3-11><span class=w>        </span><span class=c1>// 向客户端发送数据</span>
</span><span id=__span-3-12><span class=w>        </span><span class=n>OutputStream</span><span class=w> </span><span class=n>outputStream</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>accept</span><span class=p>.</span><span class=na>getOutputStream</span><span class=p>();</span>
</span><span id=__span-3-13><span class=w>        </span><span class=n>outputStream</span><span class=p>.</span><span class=na>write</span><span class=p>(</span><span class=s>&quot;我发给你了数据&quot;</span><span class=p>.</span><span class=na>getBytes</span><span class=p>());</span>
</span><span id=__span-3-14><span class=w>        </span><span class=c1>// 关流</span>
</span><span id=__span-3-15><span class=w>        </span><span class=n>outputStream</span><span class=p>.</span><span class=na>close</span><span class=p>();</span>
</span><span id=__span-3-16><span class=w>        </span><span class=n>inputStream</span><span class=p>.</span><span class=na>close</span><span class=p>();</span>
</span><span id=__span-3-17><span class=w>        </span><span class=n>accept</span><span class=p>.</span><span class=na>close</span><span class=p>();</span>
</span><span id=__span-3-18><span class=w>        </span><span class=n>serverSocket</span><span class=p>.</span><span class=na>close</span><span class=p>();</span>
</span><span id=__span-3-19><span class=w>    </span><span class=p>}</span>
</span><span id=__span-3-20><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h4 id=_7>运行<a class=headerlink href=#_7 title="Permanent link">&para;</a></h4> <p>因为是发送端发送数据，服务器端接收数据，所以运行时需要保证服务器端先运行，再运行发送端。在上面的代码中：</p> <p>对于客户端来说，因为需要向服务器发送请求，所以需要先向服务器写数据，接下来就是等待接收服务器发送数据</p> <p>对于服务器端来说，因为需要接收客户端的请求，所以需要等待服务器接收，接收到请求后，服务器可以打印接收到的数据，再向客户端写数据</p> <p>最后，客户端接收到服务器端发送的数据</p> <h3 id=_8>文件上传案例<a class=headerlink href=#_8 title="Permanent link">&para;</a></h3> <p>案例介绍：</p> <p>使用IP地址<code>127.0.0.1</code>以及端口8230进行客户端上传文件给服务器端</p> <p>案例分析：</p> <p>对于客户端来说：首先需要有文件上传，这个文件一开始在硬盘中，所以需要用到基本流或者缓冲流读取文件到内存中，再通过网络编程将读取到的文件通过写的方式输出到服务器端</p> <p>对于服务器端来说：接收到客户端的文件后，需要将接受到的文件保存到本地硬盘，所以此处也需要使用到基本流或者缓冲流写文件到硬盘中</p> <p>整体过程如下图所示：</p> <p><a class=glightbox href="17. Java网络编程、正则表达式、设计模式与Lombok.assets\image1.png" data-type=image data-width=100% data-height=auto data-desc-position=bottom><img src="17. Java网络编程、正则表达式、设计模式与Lombok.assets\image1.png"></a></p> <h4 id=_9>创建客户端<a class=headerlink href=#_9 title="Permanent link">&para;</a></h4> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-4-1><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Client</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-4-2><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=kd>throws</span><span class=w> </span><span class=n>Exception</span><span class=p>{</span>
</span><span id=__span-4-3><span class=w>        </span><span class=c1>// 指定服务器端口和IP地址</span>
</span><span id=__span-4-4><span class=w>        </span><span class=n>Socket</span><span class=w> </span><span class=n>socket</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>Socket</span><span class=p>(</span><span class=s>&quot;127.0.0.1&quot;</span><span class=p>,</span><span class=w> </span><span class=mi>8230</span><span class=p>);</span>
</span><span id=__span-4-5><span class=w>        </span><span class=c1>// 读取磁盘文件</span>
</span><span id=__span-4-6><span class=w>        </span><span class=n>BufferedInputStream</span><span class=w> </span><span class=n>bufferedInputStream</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>BufferedInputStream</span><span class=p>(</span><span class=k>new</span><span class=w> </span><span class=n>FileInputStream</span><span class=p>(</span><span class=s>&quot;C:\\Users\\18483\\Music\\conan.mp3&quot;</span><span class=p>));</span>
</span><span id=__span-4-7><span class=w>        </span><span class=kt>int</span><span class=w> </span><span class=n>len</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-4-8><span class=w>        </span><span class=kt>byte</span><span class=o>[]</span><span class=w> </span><span class=n>bytes</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=kt>byte</span><span class=o>[</span><span class=mi>1024</span><span class=o>]</span><span class=p>;</span>
</span><span id=__span-4-9><span class=w>        </span><span class=c1>// 向服务器写数据</span>
</span><span id=__span-4-10><span class=w>        </span><span class=n>OutputStream</span><span class=w> </span><span class=n>outputStream</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>socket</span><span class=p>.</span><span class=na>getOutputStream</span><span class=p>();</span>
</span><span id=__span-4-11><span class=w>        </span><span class=k>while</span><span class=p>((</span><span class=n>len</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>bufferedInputStream</span><span class=p>.</span><span class=na>read</span><span class=p>(</span><span class=n>bytes</span><span class=p>))</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=o>-</span><span class=mi>1</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-4-12><span class=w>            </span><span class=n>outputStream</span><span class=p>.</span><span class=na>write</span><span class=p>(</span><span class=n>bytes</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=n>len</span><span class=p>);</span>
</span><span id=__span-4-13><span class=w>        </span><span class=p>}</span>
</span><span id=__span-4-14><span class=w>        </span><span class=c1>// 向服务器写入结束标记</span>
</span><span id=__span-4-15><span class=w>        </span><span class=n>socket</span><span class=p>.</span><span class=na>shutdownOutput</span><span class=p>();</span>
</span><span id=__span-4-16>
</span><span id=__span-4-17><span class=w>        </span><span class=c1>// 接收服务器的结果</span>
</span><span id=__span-4-18><span class=w>        </span><span class=n>InputStream</span><span class=w> </span><span class=n>inputStream</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>socket</span><span class=p>.</span><span class=na>getInputStream</span><span class=p>();</span>
</span><span id=__span-4-19><span class=w>        </span><span class=kt>byte</span><span class=o>[]</span><span class=w> </span><span class=n>bytes1</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=kt>byte</span><span class=o>[</span><span class=mi>1024</span><span class=o>]</span><span class=p>;</span>
</span><span id=__span-4-20><span class=w>        </span><span class=kt>int</span><span class=w> </span><span class=n>len1</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>inputStream</span><span class=p>.</span><span class=na>read</span><span class=p>(</span><span class=n>bytes1</span><span class=p>);</span>
</span><span id=__span-4-21><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=k>new</span><span class=w> </span><span class=n>String</span><span class=p>(</span><span class=n>bytes1</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=n>len1</span><span class=p>));</span>
</span><span id=__span-4-22><span class=w>        </span><span class=c1>// 关流</span>
</span><span id=__span-4-23><span class=w>        </span><span class=n>inputStream</span><span class=p>.</span><span class=na>close</span><span class=p>();</span>
</span><span id=__span-4-24><span class=w>        </span><span class=n>outputStream</span><span class=p>.</span><span class=na>close</span><span class=p>();</span>
</span><span id=__span-4-25><span class=w>        </span><span class=n>bufferedInputStream</span><span class=p>.</span><span class=na>close</span><span class=p>();</span>
</span><span id=__span-4-26><span class=w>        </span><span class=n>socket</span><span class=p>.</span><span class=na>close</span><span class=p>();</span>
</span><span id=__span-4-27><span class=w>    </span><span class=p>}</span>
</span><span id=__span-4-28><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>需要注意，在上面的代码中，一定要向服务器写入结束标记，因为客户端读取文件遇到结束标记时就不会再继续进入循环，此时如果没有向服务器写入结束标记，则服务器会一直处于接收状态，导致死循环</p> <p>写入结束标记可以使用<code>Socket</code>类中的方法：<code>void shutdownOutput()</code></p> <h4 id=_10>创建服务器端<a class=headerlink href=#_10 title="Permanent link">&para;</a></h4> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-5-1><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Server</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-5-2><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=kd>throws</span><span class=w> </span><span class=n>Exception</span><span class=p>{</span>
</span><span id=__span-5-3><span class=w>        </span><span class=n>ServerSocket</span><span class=w> </span><span class=n>serverSocket</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>ServerSocket</span><span class=p>(</span><span class=mi>8230</span><span class=p>);</span>
</span><span id=__span-5-4><span class=w>        </span><span class=c1>// 接收客户端请求</span>
</span><span id=__span-5-5><span class=w>        </span><span class=n>Socket</span><span class=w> </span><span class=n>accept</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>serverSocket</span><span class=p>.</span><span class=na>accept</span><span class=p>();</span>
</span><span id=__span-5-6><span class=w>        </span><span class=c1>// 读取客户端的数据</span>
</span><span id=__span-5-7><span class=w>        </span><span class=n>InputStream</span><span class=w> </span><span class=n>inputStream</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>accept</span><span class=p>.</span><span class=na>getInputStream</span><span class=p>();</span>
</span><span id=__span-5-8><span class=w>        </span><span class=c1>// 向硬盘中写入接收到的数据</span>
</span><span id=__span-5-9><span class=w>        </span><span class=kt>byte</span><span class=o>[]</span><span class=w> </span><span class=n>bytes</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=kt>byte</span><span class=o>[</span><span class=mi>1024</span><span class=o>]</span><span class=p>;</span>
</span><span id=__span-5-10><span class=w>        </span><span class=n>BufferedOutputStream</span><span class=w> </span><span class=n>bufferedOutputStream</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>BufferedOutputStream</span><span class=p>(</span><span class=k>new</span><span class=w> </span><span class=n>FileOutputStream</span><span class=p>(</span><span class=s>&quot;./conan.mp3&quot;</span><span class=p>));</span>
</span><span id=__span-5-11><span class=w>        </span><span class=kt>int</span><span class=w> </span><span class=n>len</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-5-12><span class=w>        </span><span class=k>while</span><span class=w> </span><span class=p>((</span><span class=n>len</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>inputStream</span><span class=p>.</span><span class=na>read</span><span class=p>(</span><span class=n>bytes</span><span class=p>))</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=o>-</span><span class=mi>1</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-5-13><span class=w>            </span><span class=n>bufferedOutputStream</span><span class=p>.</span><span class=na>write</span><span class=p>(</span><span class=n>bytes</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=n>len</span><span class=p>);</span>
</span><span id=__span-5-14><span class=w>        </span><span class=p>}</span>
</span><span id=__span-5-15>
</span><span id=__span-5-16><span class=w>        </span><span class=c1>// 响应客户端</span>
</span><span id=__span-5-17><span class=w>        </span><span class=n>OutputStream</span><span class=w> </span><span class=n>outputStream</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>accept</span><span class=p>.</span><span class=na>getOutputStream</span><span class=p>();</span>
</span><span id=__span-5-18><span class=w>        </span><span class=n>outputStream</span><span class=p>.</span><span class=na>write</span><span class=p>(</span><span class=s>&quot;服务器接收文件完成&quot;</span><span class=p>.</span><span class=na>getBytes</span><span class=p>());</span>
</span><span id=__span-5-19><span class=w>        </span><span class=c1>// 关流</span>
</span><span id=__span-5-20><span class=w>        </span><span class=n>outputStream</span><span class=p>.</span><span class=na>close</span><span class=p>();</span>
</span><span id=__span-5-21><span class=w>        </span><span class=n>bufferedOutputStream</span><span class=p>.</span><span class=na>close</span><span class=p>();</span>
</span><span id=__span-5-22><span class=w>        </span><span class=n>inputStream</span><span class=p>.</span><span class=na>close</span><span class=p>();</span>
</span><span id=__span-5-23><span class=w>        </span><span class=n>accept</span><span class=p>.</span><span class=na>close</span><span class=p>();</span>
</span><span id=__span-5-24><span class=w>        </span><span class=n>serverSocket</span><span class=p>.</span><span class=na>close</span><span class=p>();</span>
</span><span id=__span-5-25><span class=w>    </span><span class=p>}</span>
</span><span id=__span-5-26><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h4 id=_11>拓展<a class=headerlink href=#_11 title="Permanent link">&para;</a></h4> <p>在上面的基础上，可以实现不同的设备之间在局域网下文件的传输，只需要改变客户端IP地址为局域网内另一台设备的IP即可</p> <h4 id=_12>结合多线程<a class=headerlink href=#_12 title="Permanent link">&para;</a></h4> <p>结合多线程的本质就是服务端每一次收到一个客户端传输数据就创建一个线程，但是使用多线程编写服务器端就会遇到异常无法使用<code>throws</code>的问题，此时就必须使用<code>try...catch</code>，为了保证关流的部分一定执行，关流部分就需要放到<code>finally</code>中，此时就会涉及到作用域的问题，为了方便控制，可以将对应的关流方案抽取放到一个工具类的静态方法中</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-6-1><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Server</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-6-2><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=kd>throws</span><span class=w> </span><span class=n>Exception</span><span class=p>{</span>
</span><span id=__span-6-3><span class=w>        </span><span class=n>ServerSocket</span><span class=w> </span><span class=n>serverSocket</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>ServerSocket</span><span class=p>(</span><span class=mi>8230</span><span class=p>);</span>
</span><span id=__span-6-4><span class=w>        </span><span class=c1>// 接收客户端请求</span>
</span><span id=__span-6-5><span class=w>        </span><span class=n>Socket</span><span class=w> </span><span class=n>accept</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>serverSocket</span><span class=p>.</span><span class=na>accept</span><span class=p>();</span>
</span><span id=__span-6-6>
</span><span id=__span-6-7><span class=w>        </span><span class=k>new</span><span class=w> </span><span class=n>Thread</span><span class=p>(</span><span class=k>new</span><span class=w> </span><span class=n>Runnable</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-6-8><span class=w>            </span><span class=n>InputStream</span><span class=w> </span><span class=n>inputStream</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=kc>null</span><span class=p>;</span>
</span><span id=__span-6-9><span class=w>            </span><span class=n>BufferedOutputStream</span><span class=w> </span><span class=n>bufferedOutputStream</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=kc>null</span><span class=p>;</span>
</span><span id=__span-6-10><span class=w>            </span><span class=n>OutputStream</span><span class=w> </span><span class=n>outputStream</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=kc>null</span><span class=p>;</span>
</span><span id=__span-6-11><span class=w>            </span><span class=nd>@Override</span>
</span><span id=__span-6-12><span class=w>            </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>run</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-6-13><span class=w>                </span><span class=k>try</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-6-14><span class=w>                    </span><span class=c1>// 读取客户端的数据</span>
</span><span id=__span-6-15><span class=w>                    </span><span class=n>inputStream</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>accept</span><span class=p>.</span><span class=na>getInputStream</span><span class=p>();</span>
</span><span id=__span-6-16><span class=w>                    </span><span class=c1>// 向硬盘中写入接收到的数据</span>
</span><span id=__span-6-17><span class=w>                    </span><span class=kt>byte</span><span class=o>[]</span><span class=w> </span><span class=n>bytes</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=kt>byte</span><span class=o>[</span><span class=mi>1024</span><span class=o>]</span><span class=p>;</span>
</span><span id=__span-6-18><span class=w>                    </span><span class=n>bufferedOutputStream</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>BufferedOutputStream</span><span class=p>(</span><span class=k>new</span><span class=w> </span><span class=n>FileOutputStream</span><span class=p>(</span><span class=s>&quot;./conan.mp3&quot;</span><span class=p>));</span>
</span><span id=__span-6-19><span class=w>                    </span><span class=kt>int</span><span class=w> </span><span class=n>len</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-6-20><span class=w>                    </span><span class=k>while</span><span class=w> </span><span class=p>((</span><span class=n>len</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>inputStream</span><span class=p>.</span><span class=na>read</span><span class=p>(</span><span class=n>bytes</span><span class=p>))</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=o>-</span><span class=mi>1</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-6-21><span class=w>                        </span><span class=n>bufferedOutputStream</span><span class=p>.</span><span class=na>write</span><span class=p>(</span><span class=n>bytes</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=n>len</span><span class=p>);</span>
</span><span id=__span-6-22><span class=w>                    </span><span class=p>}</span>
</span><span id=__span-6-23>
</span><span id=__span-6-24><span class=w>                    </span><span class=c1>// 响应客户端</span>
</span><span id=__span-6-25><span class=w>                    </span><span class=n>outputStream</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>accept</span><span class=p>.</span><span class=na>getOutputStream</span><span class=p>();</span>
</span><span id=__span-6-26><span class=w>                    </span><span class=n>outputStream</span><span class=p>.</span><span class=na>write</span><span class=p>(</span><span class=s>&quot;服务器接收文件完成&quot;</span><span class=p>.</span><span class=na>getBytes</span><span class=p>());</span>
</span><span id=__span-6-27><span class=w>                </span><span class=p>}</span><span class=w> </span><span class=k>catch</span><span class=w> </span><span class=p>(</span><span class=n>Exception</span><span class=w> </span><span class=n>e</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-6-28><span class=w>                    </span><span class=n>e</span><span class=p>.</span><span class=na>printStackTrace</span><span class=p>();</span>
</span><span id=__span-6-29><span class=w>                </span><span class=p>}</span>
</span><span id=__span-6-30><span class=w>                </span><span class=c1>// 关流</span>
</span><span id=__span-6-31><span class=w>                </span><span class=n>CloseUtils</span><span class=p>.</span><span class=na>close</span><span class=p>(</span><span class=n>serverSocket</span><span class=p>,</span><span class=w> </span><span class=n>inputStream</span><span class=p>,</span><span class=w> </span><span class=n>bufferedOutputStream</span><span class=p>,</span><span class=w> </span><span class=n>outputStream</span><span class=p>,</span><span class=w> </span><span class=n>accept</span><span class=p>);</span>
</span><span id=__span-6-32><span class=w>            </span><span class=p>}</span>
</span><span id=__span-6-33><span class=w>        </span><span class=p>}).</span><span class=na>start</span><span class=p>();</span>
</span><span id=__span-6-34><span class=w>    </span><span class=p>}</span>
</span><span id=__span-6-35><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>工具类：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-7-1><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>CloseUtils</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-7-2><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>close</span><span class=p>(</span><span class=n>ServerSocket</span><span class=w> </span><span class=n>serverSocket</span><span class=p>,</span><span class=w> </span><span class=n>InputStream</span><span class=w> </span><span class=n>inputStream</span><span class=p>,</span><span class=w> </span><span class=n>BufferedOutputStream</span><span class=w> </span><span class=n>bufferedOutputStream</span><span class=p>,</span><span class=w> </span><span class=n>OutputStream</span><span class=w> </span><span class=n>outputStream</span><span class=p>,</span><span class=w> </span><span class=n>Socket</span><span class=w> </span><span class=n>accept</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-7-3><span class=w>        </span><span class=k>try</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-7-4><span class=w>            </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>outputStream</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-7-5><span class=w>                </span><span class=n>outputStream</span><span class=p>.</span><span class=na>close</span><span class=p>();</span>
</span><span id=__span-7-6><span class=w>            </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>bufferedOutputStream</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-7-7><span class=w>                </span><span class=n>bufferedOutputStream</span><span class=p>.</span><span class=na>close</span><span class=p>();</span>
</span><span id=__span-7-8><span class=w>            </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>inputStream</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-7-9><span class=w>                </span><span class=n>inputStream</span><span class=p>.</span><span class=na>close</span><span class=p>();</span>
</span><span id=__span-7-10><span class=w>            </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>accept</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-7-11><span class=w>                </span><span class=n>accept</span><span class=p>.</span><span class=na>close</span><span class=p>();</span>
</span><span id=__span-7-12><span class=w>            </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>serverSocket</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-7-13><span class=w>                </span><span class=n>serverSocket</span><span class=p>.</span><span class=na>close</span><span class=p>();</span>
</span><span id=__span-7-14><span class=w>            </span><span class=p>}</span>
</span><span id=__span-7-15><span class=w>        </span><span class=p>}</span><span class=w> </span><span class=k>catch</span><span class=w> </span><span class=p>(</span><span class=n>Exception</span><span class=w> </span><span class=n>e</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-7-16><span class=w>            </span><span class=n>e</span><span class=p>.</span><span class=na>printStackTrace</span><span class=p>();</span>
</span><span id=__span-7-17><span class=w>        </span><span class=p>}</span>
</span><span id=__span-7-18><span class=w>    </span><span class=p>}</span>
</span><span id=__span-7-19><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h4 id=_13>结合线程池<a class=headerlink href=#_13 title="Permanent link">&para;</a></h4> <p>基本思路与前面一致，只是通过线程池限制创建的线程个数，可以使用一个循环，持续接收请求，为了保证多次接收到文件保存到服务器不会覆盖前面的文件，可以随机文件名，这里可以使用随机的字符串形式的UUID作为文件名</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span>
<span class=normal>39</span>
<span class=normal>40</span>
<span class=normal>41</span>
<span class=normal>42</span>
<span class=normal>43</span>
<span class=normal>44</span>
<span class=normal>45</span>
<span class=normal>46</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-8-1><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Server</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-8-2><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=kd>throws</span><span class=w> </span><span class=n>Exception</span><span class=p>{</span>
</span><span id=__span-8-3><span class=w>        </span><span class=n>ServerSocket</span><span class=w> </span><span class=n>serverSocket</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>ServerSocket</span><span class=p>(</span><span class=mi>8230</span><span class=p>);</span>
</span><span id=__span-8-4><span class=w>        </span><span class=n>ExecutorService</span><span class=w> </span><span class=n>executorService</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Executors</span><span class=p>.</span><span class=na>newFixedThreadPool</span><span class=p>(</span><span class=mi>2</span><span class=p>);</span>
</span><span id=__span-8-5><span class=w>        </span><span class=kt>int</span><span class=w> </span><span class=n>cnt</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-8-6><span class=w>        </span><span class=k>while</span><span class=w> </span><span class=p>(</span><span class=n>cnt</span><span class=o>++</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=mi>3</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-8-7><span class=w>            </span><span class=c1>// 接收客户端请求</span>
</span><span id=__span-8-8><span class=w>            </span><span class=n>Socket</span><span class=w> </span><span class=n>accept</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>serverSocket</span><span class=p>.</span><span class=na>accept</span><span class=p>();</span>
</span><span id=__span-8-9><span class=w>            </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>cnt</span><span class=p>);</span>
</span><span id=__span-8-10>
</span><span id=__span-8-11><span class=w>            </span><span class=n>executorService</span><span class=p>.</span><span class=na>submit</span><span class=p>(</span><span class=k>new</span><span class=w> </span><span class=n>Thread</span><span class=p>(</span><span class=k>new</span><span class=w> </span><span class=n>Runnable</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-8-12><span class=w>                </span><span class=n>InputStream</span><span class=w> </span><span class=n>inputStream</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=kc>null</span><span class=p>;</span>
</span><span id=__span-8-13><span class=w>                </span><span class=n>BufferedOutputStream</span><span class=w> </span><span class=n>bufferedOutputStream</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=kc>null</span><span class=p>;</span>
</span><span id=__span-8-14><span class=w>                </span><span class=n>OutputStream</span><span class=w> </span><span class=n>outputStream</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=kc>null</span><span class=p>;</span>
</span><span id=__span-8-15><span class=w>                </span><span class=nd>@Override</span>
</span><span id=__span-8-16><span class=w>                </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>run</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-8-17><span class=w>                    </span><span class=k>try</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-8-18><span class=w>                        </span><span class=c1>// 读取客户端的数据</span>
</span><span id=__span-8-19><span class=w>                        </span><span class=n>inputStream</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>accept</span><span class=p>.</span><span class=na>getInputStream</span><span class=p>();</span>
</span><span id=__span-8-20><span class=w>                        </span><span class=c1>// 向硬盘中写入接收到的数据</span>
</span><span id=__span-8-21><span class=w>                        </span><span class=kt>byte</span><span class=o>[]</span><span class=w> </span><span class=n>bytes</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=kt>byte</span><span class=o>[</span><span class=mi>1024</span><span class=o>]</span><span class=p>;</span>
</span><span id=__span-8-22><span class=w>                        </span><span class=c1>// 使用UUID随机文件名</span>
</span><span id=__span-8-23><span class=w>                        </span><span class=n>String</span><span class=w> </span><span class=n>s</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>UUID</span><span class=p>.</span><span class=na>randomUUID</span><span class=p>().</span><span class=na>toString</span><span class=p>();</span>
</span><span id=__span-8-24><span class=w>                        </span><span class=n>bufferedOutputStream</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>BufferedOutputStream</span><span class=p>(</span><span class=k>new</span><span class=w> </span><span class=n>FileOutputStream</span><span class=p>(</span><span class=s>&quot;./&quot;</span><span class=o>+</span><span class=n>s</span><span class=o>+</span><span class=s>&quot;.mp3&quot;</span><span class=p>));</span>
</span><span id=__span-8-25><span class=w>                        </span><span class=kt>int</span><span class=w> </span><span class=n>len</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-8-26><span class=w>                        </span><span class=k>while</span><span class=w> </span><span class=p>((</span><span class=n>len</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>inputStream</span><span class=p>.</span><span class=na>read</span><span class=p>(</span><span class=n>bytes</span><span class=p>))</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=o>-</span><span class=mi>1</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-8-27><span class=w>                            </span><span class=n>bufferedOutputStream</span><span class=p>.</span><span class=na>write</span><span class=p>(</span><span class=n>bytes</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=n>len</span><span class=p>);</span>
</span><span id=__span-8-28><span class=w>                        </span><span class=p>}</span>
</span><span id=__span-8-29>
</span><span id=__span-8-30><span class=w>                        </span><span class=c1>// 响应客户端</span>
</span><span id=__span-8-31><span class=w>                        </span><span class=n>outputStream</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>accept</span><span class=p>.</span><span class=na>getOutputStream</span><span class=p>();</span>
</span><span id=__span-8-32><span class=w>                        </span><span class=n>outputStream</span><span class=p>.</span><span class=na>write</span><span class=p>(</span><span class=s>&quot;服务器接收文件完成&quot;</span><span class=p>.</span><span class=na>getBytes</span><span class=p>());</span>
</span><span id=__span-8-33><span class=w>                    </span><span class=p>}</span><span class=w> </span><span class=k>catch</span><span class=w> </span><span class=p>(</span><span class=n>Exception</span><span class=w> </span><span class=n>e</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-8-34><span class=w>                        </span><span class=n>e</span><span class=p>.</span><span class=na>printStackTrace</span><span class=p>();</span>
</span><span id=__span-8-35><span class=w>                    </span><span class=p>}</span><span class=w> </span><span class=k>finally</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-8-36><span class=w>                        </span><span class=c1>// 关流</span>
</span><span id=__span-8-37><span class=w>                        </span><span class=n>CloseUtils</span><span class=p>.</span><span class=na>close</span><span class=p>(</span><span class=n>inputStream</span><span class=p>,</span><span class=w> </span><span class=n>bufferedOutputStream</span><span class=p>,</span><span class=w> </span><span class=n>outputStream</span><span class=p>,</span><span class=w> </span><span class=n>accept</span><span class=p>);</span>
</span><span id=__span-8-38><span class=w>                    </span><span class=p>}</span>
</span><span id=__span-8-39><span class=w>                </span><span class=p>}</span>
</span><span id=__span-8-40><span class=w>            </span><span class=p>}));</span>
</span><span id=__span-8-41><span class=w>        </span><span class=p>}</span>
</span><span id=__span-8-42><span class=w>        </span><span class=c1>// 接收3次请求后自动关闭</span>
</span><span id=__span-8-43><span class=w>        </span><span class=n>serverSocket</span><span class=p>.</span><span class=na>close</span><span class=p>();</span>
</span><span id=__span-8-44><span class=w>        </span><span class=n>executorService</span><span class=p>.</span><span class=na>shutdown</span><span class=p>();</span>
</span><span id=__span-8-45><span class=w>    </span><span class=p>}</span>
</span><span id=__span-8-46><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>工具类：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-9-1><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>CloseUtils</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-9-2><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>close</span><span class=p>(</span><span class=n>InputStream</span><span class=w> </span><span class=n>inputStream</span><span class=p>,</span><span class=w> </span><span class=n>BufferedOutputStream</span><span class=w> </span><span class=n>bufferedOutputStream</span><span class=p>,</span><span class=w> </span><span class=n>OutputStream</span><span class=w> </span><span class=n>outputStream</span><span class=p>,</span><span class=w> </span><span class=n>Socket</span><span class=w> </span><span class=n>accept</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-9-3><span class=w>        </span><span class=k>try</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-9-4><span class=w>            </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>outputStream</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-9-5><span class=w>                </span><span class=n>outputStream</span><span class=p>.</span><span class=na>close</span><span class=p>();</span>
</span><span id=__span-9-6><span class=w>            </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>bufferedOutputStream</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-9-7><span class=w>                </span><span class=n>bufferedOutputStream</span><span class=p>.</span><span class=na>close</span><span class=p>();</span>
</span><span id=__span-9-8><span class=w>            </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>inputStream</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-9-9><span class=w>                </span><span class=n>inputStream</span><span class=p>.</span><span class=na>close</span><span class=p>();</span>
</span><span id=__span-9-10><span class=w>            </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>accept</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-9-11><span class=w>                </span><span class=n>accept</span><span class=p>.</span><span class=na>close</span><span class=p>();</span>
</span><span id=__span-9-12><span class=w>            </span><span class=p>}</span><span class=w> </span>
</span><span id=__span-9-13><span class=w>        </span><span class=p>}</span><span class=w> </span><span class=k>catch</span><span class=w> </span><span class=p>(</span><span class=n>Exception</span><span class=w> </span><span class=n>e</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-9-14><span class=w>            </span><span class=n>e</span><span class=p>.</span><span class=na>printStackTrace</span><span class=p>();</span>
</span><span id=__span-9-15><span class=w>        </span><span class=p>}</span>
</span><span id=__span-9-16><span class=w>    </span><span class=p>}</span>
</span><span id=__span-9-17><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h2 id=_14>正则表达式<a class=headerlink href=#_14 title="Permanent link">&para;</a></h2> <p>正则表达式是一个具有特殊规则的字符串，一般用于校验输入的数据，例如电话号码，QQ号等</p> <p>在<code>String</code>类中，有一个方法可以判断字符串是否匹配参数的正则表达式：<code>boolean matches(String regex)</code></p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>一般可以使用网站生成对应的正则表达式，例如：<a href=https://www.sojson.com/regex/generate>正则表达式生成</a></p> </div> <h3 id=_15>字符类<a class=headerlink href=#_15 title="Permanent link">&para;</a></h3> <p><code>java.util.regex.Pattern</code>:正则表达式的编译表示形式。</p> <p>正则表达式-字符类：<code>[]</code>表示一个区间，范围可以自己定义</p> <p>语法示例：</p> <ol> <li><code>[abc]</code>：代表a或者b或者c字符中的一个</li> <li><code>[^abc]</code>：代表除a,b,c以外的任何字符</li> <li><code>[a-z]</code>：代表a-z的所有小写字符中的一个</li> <li><code>[A-Z]</code>：代表A-Z的所有大写字符中的一个</li> <li><code>[0-9]</code>：代表0-9之间的某一个数字字符</li> <li><code>[a-zA-Z0-9]</code>：代表a-z或者A-Z或者0-9之间的任意一个字符</li> <li><code>[a-dm-p]</code>：a 到 d 或 m 到 p之间的任意一个字符 </li> </ol> <div class="admonition note"> <p class=admonition-title>Note</p> <p>字符与字符之间没有其他符号时，每一个字符之间为或的关系</p> <p>每一个<code>[]</code>匹配一个字符，多个<code>[]</code>并列匹配多个字符</p> </div> <p>示例如下：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-10-1><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Test</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-10-2><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-10-3><span class=w>        </span><span class=kt>boolean</span><span class=w> </span><span class=n>matches</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;acf&quot;</span><span class=p>.</span><span class=na>matches</span><span class=p>(</span><span class=s>&quot;[abc][bcd][cdf]&quot;</span><span class=p>);</span>
</span><span id=__span-10-4><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>matches</span><span class=p>);</span>
</span><span id=__span-10-5><span class=w>    </span><span class=p>}</span>
</span><span id=__span-10-6><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h3 id=_16>逻辑运算符<a class=headerlink href=#_16 title="Permanent link">&para;</a></h3> <p>语法示例：</p> <ol> <li><code>&amp;&amp;</code>：并且</li> <li><code>|</code>：或者</li> </ol> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-11-1><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Test01</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-11-2><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-11-3><span class=w>        </span><span class=kt>boolean</span><span class=w> </span><span class=n>matches</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;a&quot;</span><span class=p>.</span><span class=na>matches</span><span class=p>(</span><span class=s>&quot;[[a]&amp;&amp;[^b]]&quot;</span><span class=p>);</span>
</span><span id=__span-11-4><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>matches</span><span class=p>);</span>
</span><span id=__span-11-5><span class=w>    </span><span class=p>}</span>
</span><span id=__span-11-6><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <div class="admonition note"> <p class=admonition-title>Note</p> <p>需要注意，使用<code>&amp;&amp;</code>连接两个区间需要在外侧使用一对<code>[]</code>包裹该部分，如果不写任何逻辑运算符</p> </div> <h3 id=_17>预定义字符<a class=headerlink href=#_17 title="Permanent link">&para;</a></h3> <p>语法示例：</p> <ol> <li><code>.</code>： 匹配任何字符（重点），注意：不能加<code>[]</code></li> <li><code>\\d</code>：任何数字<code>[0-9]</code>的简写（重点）</li> <li><code>\\D</code>：任何非数字<code>[^0-9]</code>的简写</li> <li><code>\\s</code>： 空白字符：<code>[ \t\n\x0B\f\r]</code>的简写</li> <li><code>\\S</code>： 非空白字符：<code>[^\s]</code> 的简写</li> <li><code>\\w</code>：单词字符：<code>[a-zA-Z_0-9]</code>的简写（重点）</li> <li><code>\\W</code>：非单词字符：<code>[^\w]</code></li> </ol> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-12-1><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Test02</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-12-2><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-12-3><span class=w>        </span><span class=c1>//1.验证字符串是否是三位数字</span>
</span><span id=__span-12-4><span class=w>        </span><span class=c1>//boolean result01 = &quot;111&quot;.matches(&quot;[0-9][0-9][0-9]&quot;);</span>
</span><span id=__span-12-5><span class=w>        </span><span class=kt>boolean</span><span class=w> </span><span class=n>result01</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;111&quot;</span><span class=p>.</span><span class=na>matches</span><span class=p>(</span><span class=s>&quot;\\d\\d\\d&quot;</span><span class=p>);</span>
</span><span id=__span-12-6><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&quot;result01 = &quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>result01</span><span class=p>);</span>
</span><span id=__span-12-7>
</span><span id=__span-12-8><span class=w>        </span><span class=c1>//2.验证手机号: 1开头 第二位3 5 8 剩下的都是0-9的数字</span>
</span><span id=__span-12-9><span class=w>        </span><span class=kt>boolean</span><span class=w> </span><span class=n>result02</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;13838381438&quot;</span><span class=p>.</span><span class=na>matches</span><span class=p>(</span><span class=s>&quot;[1][358]\\d\\d\\d\\d\\d\\d\\d\\d\\d&quot;</span><span class=p>);</span>
</span><span id=__span-12-10><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&quot;result02 = &quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>result02</span><span class=p>);</span>
</span><span id=__span-12-11>
</span><span id=__span-12-12><span class=w>        </span><span class=c1>//3.验证字符串是否以h开头,d结尾,中间是任意一个字符</span>
</span><span id=__span-12-13><span class=w>        </span><span class=kt>boolean</span><span class=w> </span><span class=n>result03</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;had&quot;</span><span class=p>.</span><span class=na>matches</span><span class=p>(</span><span class=s>&quot;[h].[d]&quot;</span><span class=p>);</span>
</span><span id=__span-12-14><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&quot;result03 = &quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>result03</span><span class=p>);</span>
</span><span id=__span-12-15><span class=w>    </span><span class=p>}</span>
</span><span id=__span-12-16><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h3 id=_18>数量词<a class=headerlink href=#_18 title="Permanent link">&para;</a></h3> <ol> <li><code>X?</code>：<code>x</code>出现的数量为 0次或1次</li> <li><code>X*</code>：<code>x</code>出现的数量为 0次到多次 任意次</li> <li><code>X+</code>：<code>x</code>出现的数量为 1次或多次 ，即<code>X&gt;=1</code>次</li> <li><code>X{n}</code>：x出现的数量为 恰好<code>n</code>次 ，即<code>X=n</code>次</li> <li><code>X{n,}</code>：x出现的数量为 至少<code>n</code>次 ，即<code>X&gt;=n</code>次</li> <li><code>X{n,m}</code>：x出现的数量为 <code>n</code>到<code>m</code>次（<code>n</code>和<code>m</code>都是包含的），即<code>[n, m]</code></li> </ol> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-13-1><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Test03</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-13-2><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-13-3><span class=w>        </span><span class=c1>//1.验证字符串是否是三位数字</span>
</span><span id=__span-13-4><span class=w>        </span><span class=kt>boolean</span><span class=w> </span><span class=n>result01</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;111&quot;</span><span class=p>.</span><span class=na>matches</span><span class=p>(</span><span class=s>&quot;\\d{3}&quot;</span><span class=p>);</span>
</span><span id=__span-13-5><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&quot;result01 = &quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>result01</span><span class=p>);</span>
</span><span id=__span-13-6><span class=w>        </span><span class=c1>//2.验证手机号: 1开头 第二位3 5 8 剩下的都是0-9的数字</span>
</span><span id=__span-13-7><span class=w>        </span><span class=kt>boolean</span><span class=w> </span><span class=n>result02</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;13838381438&quot;</span><span class=p>.</span><span class=na>matches</span><span class=p>(</span><span class=s>&quot;[1][358]\\d{9}&quot;</span><span class=p>);</span>
</span><span id=__span-13-8><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&quot;result02 = &quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>result02</span><span class=p>);</span>
</span><span id=__span-13-9>
</span><span id=__span-13-10><span class=w>        </span><span class=c1>//3.验证qq号:  不能是0开头,都是数字,长度为5-15</span>
</span><span id=__span-13-11><span class=w>        </span><span class=kt>boolean</span><span class=w> </span><span class=n>result03</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;111111&quot;</span><span class=p>.</span><span class=na>matches</span><span class=p>(</span><span class=s>&quot;[1-9][0-9]{4,14}&quot;</span><span class=p>);</span>
</span><span id=__span-13-12><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&quot;result03 = &quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>result03</span><span class=p>);</span>
</span><span id=__span-13-13><span class=w>    </span><span class=p>}</span>
</span><span id=__span-13-14><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h3 id=_19>分组括号<a class=headerlink href=#_19 title="Permanent link">&para;</a></h3> <p>分组括号的作用：括号中的内容必须并列同时出现</p> <p>例如：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span>
<span class=normal>7</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-14-1><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Test04</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-14-2><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-14-3><span class=w>        </span><span class=c1>//校验abc可以出现任意次</span>
</span><span id=__span-14-4><span class=w>        </span><span class=kt>boolean</span><span class=w> </span><span class=n>result</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;abcabc&quot;</span><span class=p>.</span><span class=na>matches</span><span class=p>(</span><span class=s>&quot;(abc)*&quot;</span><span class=p>);</span>
</span><span id=__span-14-5><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&quot;result = &quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>result</span><span class=p>);</span>
</span><span id=__span-14-6><span class=w>    </span><span class=p>}</span>
</span><span id=__span-14-7><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h3 id=string><code>String</code>类中其他关于正则表达式的方法<a class=headerlink href=#string title="Permanent link">&para;</a></h3> <ol> <li><code>boolean matches(String regex)</code>：判断字符串是否匹配给定的正则表达式。</li> <li><code>String[] split(String regex)</code>：根据给定正则表达式的匹配拆分此字符串。</li> <li><code>String replaceAll(String regex, String replacement)</code>：把满足正则表达式的字符串,替换为新的字符</li> </ol> <p>例如：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-15-1><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Test05</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-15-2><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-15-3><span class=w>        </span><span class=c1>//String[] split(String regex) 根据给定正则表达式的匹配拆分此字符串。</span>
</span><span id=__span-15-4><span class=w>        </span><span class=n>String</span><span class=w> </span><span class=n>s1</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;abc hahah  hehe   hdhshsh&quot;</span><span class=p>;</span>
</span><span id=__span-15-5><span class=w>        </span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>arr1</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>s1</span><span class=p>.</span><span class=na>split</span><span class=p>(</span><span class=s>&quot; +&quot;</span><span class=p>);</span>
</span><span id=__span-15-6><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>Arrays</span><span class=p>.</span><span class=na>toString</span><span class=p>(</span><span class=n>arr1</span><span class=p>));</span>
</span><span id=__span-15-7><span class=w>        </span><span class=c1>//String replaceAll(String regex, String replacement)把满足正则表达式的字符串,替换为新的字符</span>
</span><span id=__span-15-8><span class=w>        </span><span class=n>String</span><span class=w> </span><span class=n>s2</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>s1</span><span class=p>.</span><span class=na>replaceAll</span><span class=p>(</span><span class=s>&quot; +&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;z&quot;</span><span class=p>);</span>
</span><span id=__span-15-9><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&quot;s2 = &quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>s2</span><span class=p>);</span>
</span><span id=__span-15-10><span class=w>    </span><span class=p>}</span>
</span><span id=__span-15-11><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h2 id=_20>设计模式<a class=headerlink href=#_20 title="Permanent link">&para;</a></h2> <h3 id=_21>介绍<a class=headerlink href=#_21 title="Permanent link">&para;</a></h3> <p>设计模式（Design pattern），是一套被反复使用、经过分类编目的、代码设计经验的总结，使用设计模式是为了可重用代码、保证代码可靠性、程序的重用性,稳定性。</p> <p>1995 年，GoF（Gang of Four，四人组）合作出版了《设计模式：可复用面向对象软件的基础》一书，共收录了 23 种设计模式。</p> <p>总体来说设计模式分为三大类：</p> <ol> <li>创建型模式，用于创建对象，共五种：工厂方法模式、抽象工厂模式、单例模式、建造者模式、原型模式</li> <li>结构型模式，用于对功能进行增强，共七种：适配器模式、装饰器模式、代理模式、外观模式、桥接模式、组合模式、享元模式</li> <li>行为型模式，共十一种：策略模式、模板方法模式、观察者模式、迭代子模式、责任链模式、命令模式、备忘录模式、状态模式、访问者模式、中介者模式、解释器模式</li> </ol> <h3 id=_22>模版方法设计模式<a class=headerlink href=#_22 title="Permanent link">&para;</a></h3> <p>模板方法（Template Method）模式：定义一个操作中的算法的骨架，而将一些步骤延迟到子类中。明确了一部分功能，而另一部分功能不明确需要延伸到子类中实现</p> <p>例如：开车行为，所有人都需要先买车、上车和启动车子，但是目的地不同，所以前往不同的目的地就需要对应的子类单独实现</p> <p>示例代码；</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span>
<span class=normal>39</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-16-1><span class=c1>// 自定义抽象类</span>
</span><span id=__span-16-2><span class=kd>public</span><span class=w> </span><span class=kd>abstract</span><span class=w> </span><span class=kd>class</span> <span class=nc>Drive</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-16-3><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>drive</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-16-4><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&quot;买车&quot;</span><span class=p>);</span>
</span><span id=__span-16-5><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&quot;上车&quot;</span><span class=p>);</span>
</span><span id=__span-16-6><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&quot;启动汽车&quot;</span><span class=p>);</span>
</span><span id=__span-16-7><span class=w>        </span><span class=c1>// 需要子类实现</span>
</span><span id=__span-16-8><span class=w>        </span><span class=n>dest</span><span class=p>();</span>
</span><span id=__span-16-9><span class=w>    </span><span class=p>}</span>
</span><span id=__span-16-10>
</span><span id=__span-16-11><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>abstract</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>dest</span><span class=w> </span><span class=p>();</span>
</span><span id=__span-16-12><span class=p>}</span>
</span><span id=__span-16-13>
</span><span id=__span-16-14><span class=c1>// 子类实现</span>
</span><span id=__span-16-15><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Peter</span><span class=w> </span><span class=kd>extends</span><span class=w> </span><span class=n>Drive</span><span class=p>{</span>
</span><span id=__span-16-16><span class=w>    </span><span class=nd>@Override</span>
</span><span id=__span-16-17><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>dest</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-16-18><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&quot;去武汉&quot;</span><span class=p>);</span>
</span><span id=__span-16-19><span class=w>    </span><span class=p>}</span>
</span><span id=__span-16-20><span class=p>}</span>
</span><span id=__span-16-21>
</span><span id=__span-16-22><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>David</span><span class=w> </span><span class=kd>extends</span><span class=w> </span><span class=n>Drive</span><span class=p>{</span>
</span><span id=__span-16-23><span class=w>    </span><span class=nd>@Override</span>
</span><span id=__span-16-24><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>dest</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-16-25><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&quot;去上海&quot;</span><span class=p>);</span>
</span><span id=__span-16-26><span class=w>    </span><span class=p>}</span>
</span><span id=__span-16-27><span class=p>}</span>
</span><span id=__span-16-28>
</span><span id=__span-16-29><span class=c1>// 测试</span>
</span><span id=__span-16-30><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Test</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-16-31><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-16-32><span class=w>        </span><span class=n>Peter</span><span class=w> </span><span class=n>peter</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>Peter</span><span class=p>();</span>
</span><span id=__span-16-33><span class=w>        </span><span class=n>David</span><span class=w> </span><span class=n>david</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>David</span><span class=p>();</span>
</span><span id=__span-16-34>
</span><span id=__span-16-35><span class=w>        </span><span class=n>peter</span><span class=p>.</span><span class=na>drive</span><span class=p>();</span>
</span><span id=__span-16-36><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>();</span>
</span><span id=__span-16-37><span class=w>        </span><span class=n>david</span><span class=p>.</span><span class=na>drive</span><span class=p>();</span>
</span><span id=__span-16-38><span class=w>    </span><span class=p>}</span>
</span><span id=__span-16-39><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h3 id=_23>单例模式<a class=headerlink href=#_23 title="Permanent link">&para;</a></h3> <p>目的：让一个类只产生一个对象,供外界使用</p> <p>单例模式分为两类：</p> <ol> <li>饿汉模式：在加载类时就创建对象</li> <li>懒汉模式：需要时再创建对象</li> </ol> <h4 id=_24>饿汉模式<a class=headerlink href=#_24 title="Permanent link">&para;</a></h4> <ol> <li>因为必须保证类在创建后不可以被他人创建对象，所以需要将构造私有</li> <li>因为需要满足加载类时就创建对象，所以需要使用<code>static</code>，并且保证只创建一次</li> <li><code>static</code>成员不可以在类外直接类名调用</li> </ol> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-17-1><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Hungry</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-17-2><span class=w>    </span><span class=c1>// 私有构造</span>
</span><span id=__span-17-3><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=nf>Hungry</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-17-4>
</span><span id=__span-17-5><span class=w>    </span><span class=p>}</span>
</span><span id=__span-17-6>
</span><span id=__span-17-7><span class=w>    </span><span class=c1>// 创建私有静态对象</span>
</span><span id=__span-17-8><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=n>Hungry</span><span class=w> </span><span class=n>hungry</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>Hungry</span><span class=p>();</span>
</span><span id=__span-17-9>
</span><span id=__span-17-10><span class=w>    </span><span class=c1>// 提供方法供外界获取</span>
</span><span id=__span-17-11><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=n>Hungry</span><span class=w> </span><span class=nf>getSingleton</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-17-12><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>hungry</span><span class=p>;</span>
</span><span id=__span-17-13><span class=w>    </span><span class=p>}</span>
</span><span id=__span-17-14><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h4 id=_25>懒汉模式<a class=headerlink href=#_25 title="Permanent link">&para;</a></h4> <ol> <li>因为必须保证类在创建后不可以被他人创建对象，所以需要将构造私有</li> <li>因为是需要时创建对象，所以需要在方法中创建对象，但是必须保证只创建一个对象，后面再调用时返回的是同一个对象，所以需要判断对象引用是否为空，如果为空，证明是第一个对象，否则不是</li> </ol> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-18-1><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Lazy</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-18-2><span class=w>    </span><span class=c1>// 私有构造</span>
</span><span id=__span-18-3><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=nf>Lazy</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-18-4><span class=w>    </span><span class=p>}</span>
</span><span id=__span-18-5>
</span><span id=__span-18-6><span class=w>    </span><span class=c1>// 对象引用</span>
</span><span id=__span-18-7><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=n>Lazy</span><span class=w> </span><span class=n>lazy</span><span class=p>;</span>
</span><span id=__span-18-8>
</span><span id=__span-18-9><span class=w>    </span><span class=c1>// 获取对象</span>
</span><span id=__span-18-10><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=n>Lazy</span><span class=w> </span><span class=nf>getSingleton</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-18-11><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>lazy</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-18-12><span class=w>            </span><span class=n>lazy</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>Lazy</span><span class=p>();</span>
</span><span id=__span-18-13><span class=w>        </span><span class=p>}</span>
</span><span id=__span-18-14>
</span><span id=__span-18-15><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>lazy</span><span class=p>;</span>
</span><span id=__span-18-16><span class=w>    </span><span class=p>}</span>
</span><span id=__span-18-17><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>但是，上面的代码存在线程安全问题，如果有多个线程，当其中一个线程进入<code>if</code>语句还没执行完毕时，另一个线程也进入<code>if</code>语句，此时就会就不满足单例模式的要求，所以可以使用下面的方式进行修改，可能的结果效果如下：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-19-1><span class=n>com</span><span class=p>.</span><span class=na>epsda</span><span class=p>.</span><span class=na>advanced</span><span class=p>.</span><span class=na>test_Singleton</span><span class=p>.</span><span class=na>Lazy</span><span class=nd>@f1c89c</span>
</span><span id=__span-19-2><span class=n>com</span><span class=p>.</span><span class=na>epsda</span><span class=p>.</span><span class=na>advanced</span><span class=p>.</span><span class=na>test_Singleton</span><span class=p>.</span><span class=na>Lazy</span><span class=err>@</span><span class=mf>1f</span><span class=n>b6f50</span>
</span></code></pre></div></td></tr></table></div> <p>修改方式如下：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-20-1><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Lazy</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-20-2><span class=w>    </span><span class=c1>// 私有构造</span>
</span><span id=__span-20-3><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=nf>Lazy</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-20-4><span class=w>    </span><span class=p>}</span>
</span><span id=__span-20-5>
</span><span id=__span-20-6><span class=w>    </span><span class=c1>// 对象引用</span>
</span><span id=__span-20-7><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=n>Lazy</span><span class=w> </span><span class=n>lazy</span><span class=p>;</span>
</span><span id=__span-20-8>
</span><span id=__span-20-9><span class=w>    </span><span class=c1>// 获取对象</span>
</span><span id=__span-20-10><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>synchronized</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=n>Lazy</span><span class=w> </span><span class=nf>getSingleton</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-20-11><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>lazy</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-20-12><span class=w>            </span><span class=n>lazy</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>Lazy</span><span class=p>();</span>
</span><span id=__span-20-13><span class=w>        </span><span class=p>}</span>
</span><span id=__span-20-14>
</span><span id=__span-20-15><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>lazy</span><span class=p>;</span>
</span><span id=__span-20-16><span class=w>    </span><span class=p>}</span>
</span><span id=__span-20-17><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>也可以使用静态同步代码块：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-21-1><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Lazy</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-21-2><span class=w>    </span><span class=c1>// 私有构造</span>
</span><span id=__span-21-3><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=nf>Lazy</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-21-4><span class=w>    </span><span class=p>}</span>
</span><span id=__span-21-5>
</span><span id=__span-21-6><span class=w>    </span><span class=c1>// 对象引用</span>
</span><span id=__span-21-7><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=n>Lazy</span><span class=w> </span><span class=n>lazy</span><span class=p>;</span>
</span><span id=__span-21-8>
</span><span id=__span-21-9><span class=w>    </span><span class=c1>// 获取对象</span>
</span><span id=__span-21-10><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=n>Lazy</span><span class=w> </span><span class=nf>getSingleton</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-21-11><span class=w>        </span><span class=c1>// 对象引用为空再抢锁</span>
</span><span id=__span-21-12><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>lazy</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-21-13><span class=w>            </span><span class=kd>synchronized</span><span class=w> </span><span class=p>(</span><span class=n>Lazy</span><span class=p>.</span><span class=na>class</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-21-14><span class=w>                </span><span class=c1>// 对象引用为空才创建对象</span>
</span><span id=__span-21-15><span class=w>                </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>lazy</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-21-16><span class=w>                    </span><span class=n>lazy</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>Lazy</span><span class=p>();</span>
</span><span id=__span-21-17><span class=w>                </span><span class=p>}</span>
</span><span id=__span-21-18><span class=w>            </span><span class=p>}</span>
</span><span id=__span-21-19><span class=w>        </span><span class=p>}</span>
</span><span id=__span-21-20>
</span><span id=__span-21-21><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>lazy</span><span class=p>;</span>
</span><span id=__span-21-22><span class=w>    </span><span class=p>}</span>
</span><span id=__span-21-23><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <div class="admonition note"> <p class=admonition-title>Note</p> <p>注意，使用静态同步代码块一定要判断两次对象引用是否为空，第一次用于判断是否需要抢锁，第二次是为了防止两个线程刚好都进入第一个<code>if</code>之后依次拿到锁后创建多个对象</p> </div> <p>测试代码如下：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-22-1><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Test</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-22-2><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-22-3><span class=w>        </span><span class=k>new</span><span class=w> </span><span class=n>Thread</span><span class=p>(</span><span class=k>new</span><span class=w> </span><span class=n>Runnable</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-22-4><span class=w>            </span><span class=nd>@Override</span>
</span><span id=__span-22-5><span class=w>            </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>run</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-22-6><span class=w>                </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>Lazy</span><span class=p>.</span><span class=na>getSingleton</span><span class=p>());</span>
</span><span id=__span-22-7><span class=w>            </span><span class=p>}</span>
</span><span id=__span-22-8><span class=w>        </span><span class=p>}).</span><span class=na>start</span><span class=p>();</span>
</span><span id=__span-22-9>
</span><span id=__span-22-10><span class=w>        </span><span class=k>new</span><span class=w> </span><span class=n>Thread</span><span class=p>(</span><span class=k>new</span><span class=w> </span><span class=n>Runnable</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-22-11><span class=w>            </span><span class=nd>@Override</span>
</span><span id=__span-22-12><span class=w>            </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>run</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-22-13><span class=w>                </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>Lazy</span><span class=p>.</span><span class=na>getSingleton</span><span class=p>());</span>
</span><span id=__span-22-14><span class=w>            </span><span class=p>}</span>
</span><span id=__span-22-15><span class=w>        </span><span class=p>}).</span><span class=na>start</span><span class=p>();</span>
</span><span id=__span-22-16><span class=w>    </span><span class=p>}</span>
</span><span id=__span-22-17><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h2 id=lombokjavabean>使用<code>Lombok</code>简化<code>Javabean</code><a class=headerlink href=#lombokjavabean title="Permanent link">&para;</a></h2> <h3 id=lombok><code>Lombok</code>介绍<a class=headerlink href=#lombok title="Permanent link">&para;</a></h3> <p><code>Lombok</code>通过增加一些“处理程序”，可以让<code>Javabean</code>变得简洁、快速。</p> <p><code>Lombok</code>能以注解形式来简化Java代码，提高开发效率。开发中经常需要写的<code>Javabean</code>，都需要花时间去添加相应的<code>getter</code>/<code>setter</code>，也许还要去写构造器、<code>equals</code>等方法，而且需要维护。</p> <p><code>Lombok</code>能通过注解的方式，在编译时自动为属性生成构造器、<code>getter</code>/<code>setter</code>、<code>equals</code>、<code>hashcode</code>、<code>toString</code>方法。出现的神奇就是在源码中没有<code>getter</code>和<code>setter</code>方法，但是在编译生成的字节码文件中有<code>getter</code>和<code>setter</code>方法。这样就省去了手动重建这些代码的麻烦，使代码看起来更简洁些。</p> <p>为了使注解可以生效，需要进行下面的设置：</p> <p><a class=glightbox href="17. Java网络编程、正则表达式、设计模式与Lombok.assets\image3.png" data-type=image data-width=100% data-height=auto data-desc-position=bottom><img src="17. Java网络编程、正则表达式、设计模式与Lombok.assets\image3.png"></a></p> <p><a class=glightbox href="17. Java网络编程、正则表达式、设计模式与Lombok.assets\image4.png" data-type=image data-width=100% data-height=auto data-desc-position=bottom><img src="17. Java网络编程、正则表达式、设计模式与Lombok.assets\image4.png"></a></p> <h3 id=lombok_1>Lombok安装<a class=headerlink href=#lombok_1 title="Permanent link">&para;</a></h3> <ol> <li>下载插件：需要注意，IDEA 2022及以上不用下载<code>Lombok</code>插件，IDEA 2022以下需要下载</li> <li>导入<code>Lombok</code>的<code>jar</code>包</li> <li>指定位置解压包即可</li> </ol> <h3 id=lombok_2><code>Lombok</code>常用注解<a class=headerlink href=#lombok_2 title="Permanent link">&para;</a></h3> <h4 id=gettersetter><code>@Getter</code>和<code>@Setter</code><a class=headerlink href=#gettersetter title="Permanent link">&para;</a></h4> <ul> <li>作用：生成成员变量的<code>get</code>和<code>set</code>方法</li> <li>写在成员变量上，指对当前成员变量有效</li> <li>写在类上，对所有成员变量有效</li> <li>注意：静态成员变量无效</li> </ul> <h4 id=tostring><code>@ToString</code><a class=headerlink href=#tostring title="Permanent link">&para;</a></h4> <ul> <li>作用：生成<code>toString()</code>方法</li> <li>注解只能写在类上</li> </ul> <h4 id=noargsconstructorallargsconstructor><code>@NoArgsConstructor</code>和<code>@AllArgsConstructor</code><a class=headerlink href=#noargsconstructorallargsconstructor title="Permanent link">&para;</a></h4> <ul> <li><code>@NoArgsConstructor</code>：无参数构造方法</li> <li><code>@AllArgsConstructor</code>：全参数构造方法</li> <li>注解只能写在类上</li> </ul> <h4 id=equalsandhashcode><code>@EqualsAndHashCode</code><a class=headerlink href=#equalsandhashcode title="Permanent link">&para;</a></h4> <ul> <li>作用：生成<code>hashCode()</code>和<code>equals()</code>方法</li> <li>注解只能写在类上</li> </ul> <h4 id=data><code>@Data</code><a class=headerlink href=#data title="Permanent link">&para;</a></h4> <ul> <li>作用：生成<code>get</code>/<code>set</code>，<code>toString</code>，<code>hashCode</code>，<code>equals</code>，无参构造方法</li> <li>注解只能写在类上</li> </ul> <div class="admonition note"> <p class=admonition-title>Note</p> <p>需要注意，如果使用了<code>@Data</code>想使用有参构造必须手动<code>@AllArgsConstructor</code>，此时想有无参构造需要<code>@NoArgsConstructor</code></p> </div> <p>示例如下：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-23-1><span class=c1>// 自定义类</span>
</span><span id=__span-23-2><span class=nd>@Data</span>
</span><span id=__span-23-3><span class=nd>@AllArgsConstructor</span>
</span><span id=__span-23-4><span class=nd>@NoArgsConstructor</span>
</span><span id=__span-23-5><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Person</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-23-6><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=n>name</span><span class=p>;</span>
</span><span id=__span-23-7><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=n>Integer</span><span class=w> </span><span class=n>age</span><span class=p>;</span>
</span><span id=__span-23-8><span class=p>}</span>
</span><span id=__span-23-9>
</span><span id=__span-23-10><span class=c1>// 测试</span>
</span><span id=__span-23-11><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Test</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-23-12><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-23-13><span class=w>        </span><span class=n>Person</span><span class=w> </span><span class=n>person</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>Person</span><span class=p>();</span>
</span><span id=__span-23-14><span class=w>        </span><span class=n>person</span><span class=p>.</span><span class=na>setName</span><span class=p>(</span><span class=s>&quot;张三&quot;</span><span class=p>);</span>
</span><span id=__span-23-15><span class=w>        </span><span class=n>person</span><span class=p>.</span><span class=na>setAge</span><span class=p>(</span><span class=mi>10</span><span class=p>);</span>
</span><span id=__span-23-16>
</span><span id=__span-23-17><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>person</span><span class=p>.</span><span class=na>getName</span><span class=p>()</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=s>&quot;...&quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>person</span><span class=p>.</span><span class=na>getAge</span><span class=p>());</span>
</span><span id=__span-23-18>
</span><span id=__span-23-19><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&quot;================&quot;</span><span class=p>);</span>
</span><span id=__span-23-20>
</span><span id=__span-23-21><span class=w>        </span><span class=n>Person</span><span class=w> </span><span class=n>p1</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>Person</span><span class=p>(</span><span class=s>&quot;李四&quot;</span><span class=p>,</span><span class=w> </span><span class=mi>28</span><span class=p>);</span>
</span><span id=__span-23-22><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>p1</span><span class=p>.</span><span class=na>getName</span><span class=p>()</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=s>&quot;...&quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>p1</span><span class=p>.</span><span class=na>getAge</span><span class=p>());</span>
</span><span id=__span-23-23><span class=w>    </span><span class=p>}</span>
</span><span id=__span-23-24><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <aside class=md-source-file> <span class=md-source-file__fact> <span class=md-icon title=最后更新> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">2025年8月12日</span> </span> </aside> <form class=md-feedback name=feedback hidden> <fieldset> <legend class=md-feedback__title> 页面有帮助吗？ </legend> <div class=md-feedback__inner> <div class=md-feedback__list> <button class="md-feedback__icon md-icon" type=submit title=页面对我有帮助 data-md-value=1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M5 9v12H1V9zm4 12a2 2 0 0 1-2-2V9c0-.55.22-1.05.59-1.41L14.17 1l1.06 1.06c.27.27.44.64.44 1.05l-.03.32L14.69 8H21a2 2 0 0 1 2 2v2c0 .26-.05.5-.14.73l-3.02 7.05C19.54 20.5 18.83 21 18 21zm0-2h9.03L21 12v-2h-8.79l1.13-5.32L9 9.03z"/></svg> </button> <button class="md-feedback__icon md-icon" type=submit title=页面没有帮助到我 data-md-value=0> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 15V3h4v12zM15 3a2 2 0 0 1 2 2v10c0 .55-.22 1.05-.59 1.41L9.83 23l-1.06-1.06c-.27-.27-.44-.64-.44-1.06l.03-.31.95-4.57H3a2 2 0 0 1-2-2v-2c0-.26.05-.5.14-.73l3.02-7.05C4.46 3.5 5.17 3 6 3zm0 2H5.97L3 12v2h8.78l-1.13 5.32L15 14.97z"/></svg> </button> </div> <div class=md-feedback__note> <div data-md-value=1 hidden> 谢谢你的反馈！ </div> <div data-md-value=0 hidden> 谢谢你的反馈！联系<a href=https://www.help-doc.top/author/contact/contact.html>作者</a>提供更详细的信息 </div> </div> </div> </fieldset> </form> <!-- Waline 评论系统 --> <div id=waline></div> <!-- 阅读进度条 - 直接在HTML中定义 --> <div class=reading-progress></div> <!-- 滚动指示器 - 直接在HTML中定义 --> <div class=scroll-indicator></div> <!-- 评论系统 --> <!-- Waline 评论系统 --> <div id=waline></div> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> </main> <!--
  Copyright (c) 2016-2024 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
--> <!-- Footer --> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-footer-copyright__highlight> Copyright &copy; 2024-2025 柯懒不是柯南 </div> </div> <div class="md-footer-love md-typeset"> 一闪一闪亮晶晶，不及<span class=love-highlight>小亮</span><span class=love-heart>♥</span>照我心。To Li Liang </div> <div class=md-social> <a href=https://github.com/H0308 target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> <a href=https://www.help-doc.top/author/contact/contact.html target=_blank rel=noopener title=www.help-doc.top class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M433.754 420.445c-11.526 1.393-44.86-52.741-44.86-52.741 0 31.345-16.136 72.247-51.051 101.786 16.842 5.192 54.843 19.167 45.803 34.421-7.316 12.343-125.51 7.881-159.632 4.037-34.122 3.844-152.316 8.306-159.632-4.037-9.045-15.25 28.918-29.214 45.783-34.415-34.92-29.539-51.059-70.445-51.059-101.792 0 0-33.334 54.134-44.859 52.741-5.37-.65-12.424-29.644 9.347-99.704 10.261-33.024 21.995-60.478 40.144-105.779C60.683 98.063 108.982.006 224 0c113.737.006 163.156 96.133 160.264 214.963 18.118 45.223 29.912 72.85 40.144 105.778 21.768 70.06 14.716 99.053 9.346 99.704"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["navigation.indexes", "navigation.prune", "navigation.tabs", "search.highlight", "content.code.copy"], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}, "version": null}</script> <script src=../../assets/javascripts/bundle.c8b220af.min.js></script> <script src=../../javascripts/katex.min.js></script> <script src=../../javascripts/other.min.js></script> <script src=../../javascripts/copyright.min.js></script> <script src=../../javascripts/waline.min.js></script> <script src=https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/katex.min.js></script> <script src=https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/contrib/auto-render.min.js></script> <script src=https://cdn.jsdelivr.net/npm/mermaid@11.5.0/dist/mermaid.min.js></script> <script src=../../assets/javascripts/toggle-sidebar.js async></script> <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body> </html>