<!doctype html><html lang=zh class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=canonical href=https://www.help-doc.top/MySQL/JDBC/JDBC-basic/JDBC-basic.html><link rel=prev href=../index.html><link rel=next href=../JDBC-intermediate/JDBC-intermediate.html><link rel=icon href=../../../images/favicon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.12"><title>JDBC基础 - 柯懒的知识库</title><link rel=stylesheet href=../../../assets/stylesheets/main.2afb09e1.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.06af60db.min.css><link rel=stylesheet href=../../../css/timeline.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/katex.min.css><script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-9XWRGNRRSY"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-9XWRGNRRSY",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-9XWRGNRRSY",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script><link rel=stylesheet href=../../../stylesheets/colors.min.css><link rel=stylesheet href=../../../stylesheets/theme2.min.css media="screen and (max-width: 1199px)"><link rel=stylesheet href=../../../stylesheets/theme2.min.css media="screen and (min-width: 1200px)" id=theme2-desktop><link rel=stylesheet href=../../../stylesheets/theme1.min.css media="screen and (min-width: 1200px)" id=theme1-desktop><link rel=stylesheet href=../../../stylesheets/print.min.css><link rel=stylesheet href=../../../stylesheets/font-dongguanti.min.css id=font-dongguanti><link rel=stylesheet href=../../../stylesheets/font-oppoti.min.css id=font-oppoti disabled><link rel=stylesheet href=../../../stylesheets/font-jiangchengti.min.css id=font-jiangchengti disabled><link rel=stylesheet href=../../../stylesheets/font-lxgw.min.css id=font-lxgw disabled><link rel=stylesheet href=../../../stylesheets/code-font-dejavu-sans-mono.min.css id=code-font-dejavu-sans-mono><link rel=stylesheet href=../../../stylesheets/code-font-zsft-hk.min.css id=code-font-zsft-hk disabled><link rel=stylesheet href=../../../stylesheets/code-font-google-sans-code.min.css id=code-font-google-sans-code disabled><link rel=stylesheet href=https://unpkg.com/@waline/client@v3/dist/waline.css><link rel=stylesheet href=../../../stylesheets/waline.min.css><script src=../../../javascripts/start.min.js></script> <link href="../../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../../../assets/javascripts/glightbox.min.js"></script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=white data-md-color-accent=cyan> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#jdbc class=md-skip> 跳转至 </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=页眉> <a href=../../../index.html title=柯懒的知识库 class="md-header__button md-logo" aria-label=柯懒的知识库 data-md-component=logo> <img src=../../../assets/logo.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> 柯懒的知识库 </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> JDBC基础 </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary=white data-md-color-accent=cyan aria-label type=radio name=__palette id=__palette_1> </form> <div class=header-avatar> <img src=../../../author/作者.assets/20250206-200653.jpg alt=头像> <div class=avatar-dropdown> <p><strong>柯懒不是柯南</strong></p> <a href=../../../author/contact/contact.html class=avatar-dropdown-item>联系作者</a> <div class=avatar-dropdown-divider></div> <a href=../../../author/about/about.html class=avatar-dropdown-item>关于作者</a> <div class=avatar-dropdown-divider></div> <a href=https://github.com/H0308 class=avatar-dropdown-item>Github仓库</a> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=搜索 placeholder=搜索 autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=查找> <button type=reset class="md-search__icon md-icon" title=清空当前内容 aria-label=清空当前内容 tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> 正在初始化搜索引擎 </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> </nav> </header> <div class=toolbar-toggle-btn id=toolbarToggleBtn onclick=toggleToolbar()> <div class=toggle-icon> <svg class=toggle-arrow-icon viewbox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg width=16 height=16> <path d="M346.538667 1024L170.666667 853.333333l341.333333-341.333333-341.333333-341.333333 175.872-170.666667L853.333333 512z" fill=currentColor></path> </svg> </div> </div> <div class=floating-toolbar id=floatingToolbar> <div class="toolbar-item font-switcher"> <div class=toolbar-icon> <svg class=font-icon viewbox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg width=20 height=20> <path d="M913.408 1024l-66.56 0q-29.696 0-51.2-5.12t-36.864-15.872-26.112-27.136-19.968-37.888q-15.36-38.912-28.16-70.656t-22.016-55.296q-11.264-26.624-20.48-49.152l-254.976 0q-7.168 23.552-17.408 51.2-8.192 23.552-21.504 56.832t-30.72 72.192q-20.48 46.08-47.104 63.488t-60.416 17.408l-70.656 0q-45.056 0-60.928-19.968t2.56-68.096q18.432-46.08 43.008-108.544t52.224-132.608 57.344-143.872 57.344-144.384q65.536-164.864 137.216-343.04 7.168-17.408 18.432-31.744 10.24-11.264 27.136-21.504t42.496-10.24q26.624 0 43.52 10.752t28.16 24.064q12.288 15.36 19.456 33.792 72.704 180.224 138.24 345.088 27.648 70.656 57.344 143.872t56.832 142.336 51.2 129.536 41.472 104.448q14.336 34.816 4.096 62.464t-43.008 27.648zM616.448 634.88l-97.28-347.136-1.024 0-108.544 347.136 206.848 0z" fill=currentColor></path> </svg> </div> <div class=toolbar-label>内容字体</div> <div class=font-dropdown-toolbar> <div class=font-current-toolbar onclick=toggleFontDropdownToolbar()> <span class=current-font-name-toolbar>东观体</span> <svg class=dropdown-arrow-icon viewbox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg width=12 height=12> <path d="M878.592 250.88q29.696 0 48.128 11.264t24.576 29.696 0 41.472-26.624 45.568q-82.944 92.16-159.744 180.224t-148.48 164.864q-19.456 20.48-45.568 31.744t-53.76 11.776-53.248-8.704-43.008-28.672q-39.936-44.032-82.944-90.112l-88.064-92.16q-43.008-46.08-85.504-90.624t-79.36-86.528q-17.408-19.456-22.528-40.448t1.024-38.4 23.552-28.672 45.056-11.264q35.84 0 98.816-0.512t137.728-0.512l153.6 0 150.528 0 125.952 0 79.872 0z" fill=currentColor></path> </svg> </div> <div class=font-options-toolbar> <div class=font-option-toolbar data-font=dongguanti onclick="selectFontToolbar('dongguanti')">上图东观体 </div> <div class=font-option-toolbar data-font=oppoti onclick="selectFontToolbar('oppoti')">OPPO Sans </div> <div class=font-option-toolbar data-font=jiangchengti onclick="selectFontToolbar('jiangchengti')"> 江城黑体</div> <div class=font-option-toolbar data-font=lxgw onclick="selectFontToolbar('lxgw')">霞鹜臻楷</div> </div> </div> </div> <div class="toolbar-item code-font-switcher"> <div class=toolbar-icon> <svg t=1753672111433 class="icon code-font-icon" viewbox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg p-id=5148 width=20 height=20> <path d="M941.709938 0H82.290062A82.290062 82.290062 0 0 0 0 82.290062v859.419876A82.290062 82.290062 0 0 0 82.290062 1022.53923h859.419876A82.290062 82.290062 0 0 0 1022.53923 941.709938V82.290062A82.290062 82.290062 0 0 0 941.709938 0zM188.439372 553.631954a40.901569 40.901569 0 0 1-29.215406-70.116975L292.154066 351.558726 159.223966 218.628626a40.901569 40.901569 0 0 1 58.430813-57.94389l160.197813 162.145507a40.901569 40.901569 0 0 1 0 57.943889l-160.197813 160.684736a40.901569 40.901569 0 0 1-29.215407 12.173086z m443.587257 0H405.120304a40.901569 40.901569 0 0 1 0-82.290061H633.000476a40.901569 40.901569 0 0 1 0 82.290061z" fill=currentColor p-id=5149></path> </svg> </div> <div class=toolbar-label>代码字体</div> <div class=code-font-dropdown-toolbar> <div class=code-font-current-toolbar onclick=toggleCodeFontDropdownToolbar()> <span class=current-code-font-name-toolbar>DejaVu Sans Mono</span> <svg class=dropdown-arrow-icon viewbox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg width=12 height=12> <path d="M878.592 250.88q29.696 0 48.128 11.264t24.576 29.696 0 41.472-26.624 45.568q-82.944 92.16-159.744 180.224t-148.48 164.864q-19.456 20.48-45.568 31.744t-53.76 11.776-53.248-8.704-43.008-28.672q-39.936-44.032-82.944-90.112l-88.064-92.16q-43.008-46.08-85.504-90.624t-79.36-86.528q-17.408-19.456-22.528-40.448t1.024-38.4 23.552-28.672 45.056-11.264q35.84 0 98.816-0.512t137.728-0.512l153.6 0 150.528 0 125.952 0 79.872 0z" fill=currentColor></path> </svg> </div> <div class=code-font-options-toolbar> <div class=code-font-option-toolbar data-code-font=dejavu onclick="selectCodeFontToolbar('dejavu')"> DejaVu Sans Mono</div> <div class=code-font-option-toolbar data-code-font=google-sans-code onclick="selectCodeFontToolbar('google-sans-code')"> Google Sans Code</div> <div class=code-font-option-toolbar data-code-font=zsft onclick="selectCodeFontToolbar('zsft')"> JetBrains Mono</div> </div> </div> </div> <div class="toolbar-item theme-switcher" onclick=switchTheme()> <div class=toolbar-icon> <svg class=theme-icon viewbox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg width=20 height=20> <path d="M876.572788 522.301623c-1.886977 12.375865-9.657964 30.331819-35.880185 45.48903-56.489572 32.697703-150.21828 83.990926-174.010149 96.958262-13.143345 24.431435-66.067718 122.221646-98.141204 178.503487-16.117073 28.124548-36.055171 34.041304-50.030463 34.041304-0.031722 0-0.031722 0-0.031722 0-14.613836 0-29.1806-6.460132-43.234687-19.218714-47.183626-42.643216-125.994576-117.105115-146.013515-136.083351-27.757181-4.732791-138.338718-23.743774-200.584388-35.752272-17.924231-3.533476-32.649608-14.07046-40.372499-29.084409-5.78782-11.256368-10.281157-30.05962 1.471514-55.658647 26.989701-59.047838 74.126254-157.557432 85.957721-182.196599-3.437286-27.117614-16.996093-135.060045-23.760147-198.905142-1.886977-17.460674 3.901867-35.096333 15.829524-48.351218 12.791327-14.278191 30.667463-21.48943 49.854455-19.426445 63.669088 6.332219 173.259042 19.426445 200.584388 22.705118 24.335245-11.879562 121.085776-58.936297 180.133613-86.34146 9.91379-4.573155 19.85828-6.92369 29.596062-6.92369 28.748764 0 52.172243 20.642133 58.328453 51.421136 12.599969 62.997799 30.93864 166.70272 35.639708 193.484689 18.851347 19.682271 91.953272 96.031147 135.060045 143.07151C872.72004 487.125473 879.307062 504.71406 876.572788 522.301623L876.572788 522.301623zM825.375755 499.085876C776.017604 445.314205 687.245791 352.977193 686.365748 352.017332c-2.942005-3.069919-4.956895-6.971785-5.676279-11.208273-0.207731-1.215688-22.193465-127.001509-36.551474-198.936865-0.799202-3.917216-4.285606-16.836457-16.196891-16.836457-3.453658 0-7.30743 1.006933-11.464099 2.942005-67.282383 31.179117-183.955662 88.180342-185.170327 88.771813-3.693112 1.790786-7.850805 2.558265-11.975752 2.01489-1.295506-0.224104-133.63765-16.165168-205.988468-23.424502-0.079818 0-0.207731 0-0.287549 0-7.30743 0-11.128455 2.89391-13.319353 5.40408-3.677762 4.124947-5.644557 9.91379-5.068436 15.110139 7.674796 72.623018 24.255427 202.934922 24.463158 204.325595 0.511653 4.109598-0.159636 8.266267-1.966795 11.960403-0.591471 1.215688-57.657164 120.04712-88.339977 187.201589-3.565199 7.754614-4.41352 14.214746-2.350534 18.131963 1.935072 3.725858 6.588045 5.820566 10.360975 6.53995 70.719668 13.718443 204.644867 36.519752 206.036563 36.727483 4.189416 0.671289 8.058536 2.686179 11.112082 5.580089 1.006933 0.87902 96.414887 91.281983 150.090367 139.889027 8.314363 7.563256 13.143345 8.106632 14.437827 8.106632 3.485381 0 8.314363-4.621251 12.727882-12.391215 36.343743-63.828724 100.011808-181.988868 100.636025-183.155437 1.983167-3.64604 5.004991-6.667863 8.650007-8.650007 1.134847-0.671289 114.418936-62.373583 178.6314-99.516528 8.698103-5.036713 14.278191-10.568706 14.94948-14.854313C834.681702 511.845481 831.49922 505.800811 825.375755 499.085876L825.375755 499.085876zM935.333076 935.670256c-4.157693 4.157693-9.689686 6.299473-15.141862 6.299473-5.548366 0-11.048637-2.142803-15.238053-6.299473l-171.915441-171.915441c-8.362458-8.394181-8.362458-21.98471 0-30.426987 8.394181-8.394181 21.98471-8.394181 30.379914 0l171.915441 171.915441C943.727257 913.684522 943.727257 927.275052 935.333076 935.670256L935.333076 935.670256z" fill=currentColor></path> </svg> </div> <div class=toolbar-label>主题切换</div> </div> <div class="toolbar-item back-to-top" onclick=scrollToTop()> <div class=toolbar-icon> <svg class=back-to-top-icon viewbox="0 0 1024 1024" xmlns=http://www.w3.org/2000/svg> <path d="M882.688 624.128l-336.896-583.68c-15.872-27.136-54.784-27.136-70.656 0L138.24 624.128c-15.872 27.136 4.096 61.44 35.328 61.44H317.44c22.528 0 40.96 18.432 40.96 40.96v239.616c0 22.528 18.432 40.96 40.96 40.96h223.232c22.528 0 40.96-18.432 40.96-40.96v-239.616c0-22.528 18.432-40.96 40.96-40.96h143.872c30.208 0 50.176-34.304 34.304-61.44z"> </path> </svg> </div> <div class=toolbar-label>返回顶部</div> </div> </div> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=标签 data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../../index.html class=md-tabs__link> 主页 </a> </li> <li class=md-tabs__item> <a href=../../../intro/intro.html class=md-tabs__link> 网站介绍 </a> </li> <li class=md-tabs__item> <a href=../../../timeline/timeline.html class=md-tabs__link> 网站时间线 </a> </li> <li class=md-tabs__item> <a href=../../../languages/index.html class=md-tabs__link> 编程语言 </a> </li> <li class=md-tabs__item> <a href=../../../data-structure-algo/index.html class=md-tabs__link> 数据结构与算法 </a> </li> <li class=md-tabs__item> <a href=../../../Linux/index.html class=md-tabs__link> Linux </a> </li> <li class=md-tabs__item> <a href=../../../front-end/index.html class=md-tabs__link> 前端 </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../../index.html class=md-tabs__link> MySQL </a> </li> <li class=md-tabs__item> <a href=../../../JavaEE/index.html class=md-tabs__link> JavaEE应用开发 </a> </li> <li class=md-tabs__item> <a href=../../../other/index.html class=md-tabs__link> 扩展知识 </a> </li> <li class=md-tabs__item> <a href=../../../tooltips/index.html class=md-tabs__link> 工具帮助 </a> </li> <li class=md-tabs__item> <a href=../../../test-encrypt/test-encrypt.html class=md-tabs__link> 测试加密功能 </a> </li> <li class=md-tabs__item> <a href=../../../projects/index.html class=md-tabs__link> 项目 </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=导航栏 data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../../index.html title=柯懒的知识库 class="md-nav__button md-logo" aria-label=柯懒的知识库 data-md-component=logo> <img src=../../../assets/logo.png alt=logo> </a> 柯懒的知识库 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../index.html class=md-nav__link> <span class=md-ellipsis> 主页 </span> </a> </li> <li class=md-nav__item> <a href=../../../intro/intro.html class=md-nav__link> <span class=md-ellipsis> 网站介绍 </span> </a> </li> <li class=md-nav__item> <a href=../../../timeline/timeline.html class=md-nav__link> <span class=md-ellipsis> 网站时间线 </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../languages/index.html class=md-nav__link> <span class=md-ellipsis> 编程语言 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../data-structure-algo/index.html class=md-nav__link> <span class=md-ellipsis> 数据结构与算法 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../Linux/index.html class=md-nav__link> <span class=md-ellipsis> Linux </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../front-end/index.html class=md-nav__link> <span class=md-ellipsis> 前端 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_8 checked> <div class="md-nav__link md-nav__container"> <a href=../../index.html class="md-nav__link "> <span class=md-ellipsis> MySQL </span> </a> <label class="md-nav__link " for=__nav_8 id=__nav_8_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_8_label aria-expanded=true> <label class=md-nav__title for=__nav_8> <span class="md-nav__icon md-icon"></span> MySQL </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../mysql-op/index.html class=md-nav__link> <span class=md-ellipsis> MySQL操作 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_8_3 checked> <div class="md-nav__link md-nav__container"> <a href=../index.html class="md-nav__link "> <span class=md-ellipsis> JDBC（Java连接数据库技术） </span> </a> <label class="md-nav__link " for=__nav_8_3 id=__nav_8_3_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_8_3_label aria-expanded=true> <label class=md-nav__title for=__nav_8_3> <span class="md-nav__icon md-icon"></span> JDBC（Java连接数据库技术） </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> JDBC基础 </span> <span class="md-nav__icon md-icon"></span> </label> <a href=JDBC-basic.html class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> JDBC基础 </span> </a> <nav class="md-nav md-nav--secondary" aria-label=本节目录> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> 本节目录 </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#jdbc_1 class=md-nav__link> <span class=md-ellipsis> JDBC介绍 </span> </a> </li> <li class=md-nav__item> <a href=#jdbc_2 class=md-nav__link> <span class=md-ellipsis> JDBC的核心组成 </span> </a> </li> <li class=md-nav__item> <a href=#jdbc_3 class=md-nav__link> <span class=md-ellipsis> JDBC搭建步骤 </span> </a> </li> <li class=md-nav__item> <a href=#jdbc_4 class=md-nav__link> <span class=md-ellipsis> JDBC基础六大步骤 </span> </a> </li> <li class=md-nav__item> <a href=#jdbc_5 class=md-nav__link> <span class=md-ellipsis> JDBC六大步骤解析 </span> </a> <nav class=md-nav aria-label=JDBC六大步骤解析> <ul class=md-nav__list> <li class=md-nav__item> <a href=#jdbc_6 class=md-nav__link> <span class=md-ellipsis> 注册JDBC驱动 </span> </a> </li> <li class=md-nav__item> <a href=#_1 class=md-nav__link> <span class=md-ellipsis> 获取数据库连接 </span> </a> </li> <li class=md-nav__item> <a href=#statementpreparedstatement class=md-nav__link> <span class=md-ellipsis> 创建Statement对象（使用PreparedStatement替换） </span> </a> </li> <li class=md-nav__item> <a href=#_2 class=md-nav__link> <span class=md-ellipsis> 获取结果集 </span> </a> </li> <li class=md-nav__item> <a href=#_3 class=md-nav__link> <span class=md-ellipsis> 处理结果 </span> </a> </li> <li class=md-nav__item> <a href=#_4 class=md-nav__link> <span class=md-ellipsis> 关闭资源 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#preparedstatementcrud class=md-nav__link> <span class=md-ellipsis> 基于PreparedStatement接口实现CRUD </span> </a> <nav class=md-nav aria-label=基于PreparedStatement接口实现CRUD> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_5 class=md-nav__link> <span class=md-ellipsis> 查询单行单列数据 </span> </a> </li> <li class=md-nav__item> <a href=#_6 class=md-nav__link> <span class=md-ellipsis> 查询单行多列数据 </span> </a> </li> <li class=md-nav__item> <a href=#_7 class=md-nav__link> <span class=md-ellipsis> 查询多行多列数据 </span> </a> </li> <li class=md-nav__item> <a href=#_8 class=md-nav__link> <span class=md-ellipsis> 新增 </span> </a> </li> <li class=md-nav__item> <a href=#_9 class=md-nav__link> <span class=md-ellipsis> 修改 </span> </a> </li> <li class=md-nav__item> <a href=#_10 class=md-nav__link> <span class=md-ellipsis> 删除 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_11 class=md-nav__link> <span class=md-ellipsis> 常见问题 </span> </a> <nav class=md-nav aria-label=常见问题> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_12 class=md-nav__link> <span class=md-ellipsis> 资源管理问题 </span> </a> </li> <li class=md-nav__item> <a href=#sql class=md-nav__link> <span class=md-ellipsis> SQL语法问题 </span> </a> </li> <li class=md-nav__item> <a href=#sql_1 class=md-nav__link> <span class=md-ellipsis> SQL语句未设置参数问题 </span> </a> </li> <li class=md-nav__item> <a href=#_13 class=md-nav__link> <span class=md-ellipsis> 用户名或密码错误问题 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../JDBC-intermediate/JDBC-intermediate.html class=md-nav__link> <span class=md-ellipsis> JDBC进阶 </span> </a> </li> <li class=md-nav__item> <a href=../JDBC-advanced/JDBC-advanced.html class=md-nav__link> <span class=md-ellipsis> JDBC高级 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../JavaEE/index.html class=md-nav__link> <span class=md-ellipsis> JavaEE应用开发 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../other/index.html class=md-nav__link> <span class=md-ellipsis> 扩展知识 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../tooltips/index.html class=md-nav__link> <span class=md-ellipsis> 工具帮助 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../test-encrypt/test-encrypt.html class=md-nav__link> <span class=md-ellipsis> 测试加密功能 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../projects/index.html class=md-nav__link> <span class=md-ellipsis> 项目 </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label=本节目录> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> 本节目录 </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#jdbc_1 class=md-nav__link> <span class=md-ellipsis> JDBC介绍 </span> </a> </li> <li class=md-nav__item> <a href=#jdbc_2 class=md-nav__link> <span class=md-ellipsis> JDBC的核心组成 </span> </a> </li> <li class=md-nav__item> <a href=#jdbc_3 class=md-nav__link> <span class=md-ellipsis> JDBC搭建步骤 </span> </a> </li> <li class=md-nav__item> <a href=#jdbc_4 class=md-nav__link> <span class=md-ellipsis> JDBC基础六大步骤 </span> </a> </li> <li class=md-nav__item> <a href=#jdbc_5 class=md-nav__link> <span class=md-ellipsis> JDBC六大步骤解析 </span> </a> <nav class=md-nav aria-label=JDBC六大步骤解析> <ul class=md-nav__list> <li class=md-nav__item> <a href=#jdbc_6 class=md-nav__link> <span class=md-ellipsis> 注册JDBC驱动 </span> </a> </li> <li class=md-nav__item> <a href=#_1 class=md-nav__link> <span class=md-ellipsis> 获取数据库连接 </span> </a> </li> <li class=md-nav__item> <a href=#statementpreparedstatement class=md-nav__link> <span class=md-ellipsis> 创建Statement对象（使用PreparedStatement替换） </span> </a> </li> <li class=md-nav__item> <a href=#_2 class=md-nav__link> <span class=md-ellipsis> 获取结果集 </span> </a> </li> <li class=md-nav__item> <a href=#_3 class=md-nav__link> <span class=md-ellipsis> 处理结果 </span> </a> </li> <li class=md-nav__item> <a href=#_4 class=md-nav__link> <span class=md-ellipsis> 关闭资源 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#preparedstatementcrud class=md-nav__link> <span class=md-ellipsis> 基于PreparedStatement接口实现CRUD </span> </a> <nav class=md-nav aria-label=基于PreparedStatement接口实现CRUD> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_5 class=md-nav__link> <span class=md-ellipsis> 查询单行单列数据 </span> </a> </li> <li class=md-nav__item> <a href=#_6 class=md-nav__link> <span class=md-ellipsis> 查询单行多列数据 </span> </a> </li> <li class=md-nav__item> <a href=#_7 class=md-nav__link> <span class=md-ellipsis> 查询多行多列数据 </span> </a> </li> <li class=md-nav__item> <a href=#_8 class=md-nav__link> <span class=md-ellipsis> 新增 </span> </a> </li> <li class=md-nav__item> <a href=#_9 class=md-nav__link> <span class=md-ellipsis> 修改 </span> </a> </li> <li class=md-nav__item> <a href=#_10 class=md-nav__link> <span class=md-ellipsis> 删除 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_11 class=md-nav__link> <span class=md-ellipsis> 常见问题 </span> </a> <nav class=md-nav aria-label=常见问题> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_12 class=md-nav__link> <span class=md-ellipsis> 资源管理问题 </span> </a> </li> <li class=md-nav__item> <a href=#sql class=md-nav__link> <span class=md-ellipsis> SQL语法问题 </span> </a> </li> <li class=md-nav__item> <a href=#sql_1 class=md-nav__link> <span class=md-ellipsis> SQL语句未设置参数问题 </span> </a> </li> <li class=md-nav__item> <a href=#_13 class=md-nav__link> <span class=md-ellipsis> 用户名或密码错误问题 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=jdbc>JDBC基础<a class=headerlink href=#jdbc title="Permanent link">&para;</a></h1> <div style="margin-top: -30px; font-size: 0.75em; opacity: 0.7;"> <p><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10h-2a8 8 0 0 1-8 8 8 8 0 0 1-8-8 8 8 0 0 1 8-8zm6.78 1a.7.7 0 0 0-.48.2l-1.22 1.21 2.5 2.5L20.8 5.7c.26-.26.26-.7 0-.95L19.25 3.2c-.13-.13-.3-.2-.47-.2m-2.41 2.12L9 12.5V15h2.5l7.37-7.38z"/></svg></span> 约 3276 个字 <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6m80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3l89.3 89.4-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3"/></svg></span> 158 行代码 <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 17H7V3h14m0-2H7a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2M3 5H1v16a2 2 0 0 0 2 2h16v-2H3m12.96-10.71-2.75 3.54-1.96-2.36L8.5 15h11z"/></svg></span> 3 张图片 <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 20c4.42 0 8-3.58 8-8s-3.58-8-8-8-8 3.58-8 8 3.58 8 8 8m0-18c5.5 0 10 4.5 10 10s-4.5 10-10 10C6.47 22 2 17.5 2 12S6.5 2 12 2m.5 11H11V7h1.5v4.26l3.7-2.13.75 1.3z"/></svg></span> 预计阅读时间 13 分钟</p> </div> <h2 id=jdbc_1>JDBC介绍<a class=headerlink href=#jdbc_1 title="Permanent link">&para;</a></h2> <p>在开发Java程序时，数据都是存储在内存中，属于临时存储，当程序停止或重启时，内存中的数据就丢失了，为了解决数据的长期存储问题，有如下解决方案：</p> <ol> <li>数据通过I/O流技术，存储在本地磁盘中，解决了持久化问题，但是没有结构和逻辑，不方便管理和维护</li> <li>通过关系型数据库，将数据按照特定的格式交由数据库管理系统维护。关系型数据库是通过库和表分隔不同的数据，表中数据存储的方式是行和列，区分相同格式不同值的数据</li> </ol> <p>数据存储在数据库，仅仅解决了数据存储的问题，但当程序运行时，需要读取数据，以及对数据做增删改的操作，就需要通过程序的代码进行获取，而在Java中，从数据库获取数据就需要使用到JDBC</p> <p>JDBC：Java Database Connectivity，意为Java数据库连接。JDBC是Java提供的一组独立于任何数据库管理系统的API。Java提供接口规范，由各个数据库厂商提供接口的实现，厂商提供的实现类封装成<code>jar</code>文件，也就是俗称的数据库驱动<code>jar</code>包。学习JDBC，充分体现了面向接口编程的好处，程序员只关心标准和规范，而无需关注实现过程</p> <p><a class=glightbox href=JDBC基础.assets\image.png data-type=image data-width=100% data-height=auto data-desc-position=bottom><img src=JDBC基础.assets\image.png></a></p> <h2 id=jdbc_2>JDBC的核心组成<a class=headerlink href=#jdbc_2 title="Permanent link">&para;</a></h2> <ul> <li>接口规范：<ul> <li>为了项目代码的可移植性，可维护性，SUN公司从最初就制定了Java程序连接各种数据库的统一接口规范。这样的话，不管是连接哪一种DBMS软件，Java代码可以保持一致性</li> <li>接口存储在<code>java.sql</code>和<code>javax.sql</code>包下</li> </ul> </li> <li>实现规范：<ul> <li>因为各个数据库厂商的DBMS软件各有不同，那么各自的内部如何通过SQL实现增、删、改、查等操作管理数据，只有这个数据库厂商自己更清楚，因此把接口规范的实现交给各个数据库厂商自己实现</li> <li>厂商将实现内容和过程封装成<code>jar</code>文件，我们程序员只需要将<code>jar</code>文件引入到项目中集成即可，就可以开发调用实现过程操作数据库了</li> </ul> </li> </ul> <h2 id=jdbc_3>JDBC搭建步骤<a class=headerlink href=#jdbc_3 title="Permanent link">&para;</a></h2> <ol> <li>准备数据库。</li> <li>官网下载数据库连接驱动<code>jar</code>包：<a href=https://downloads.mysql.com/archives/c-j/ >驱动下载</a></li> <li>创建Java项目，在项目下创建<code>lib</code>文件夹，将下载的驱动<code>jar</code>包复制到文件夹里。</li> <li>选中<code>lib</code>文件夹右键-&gt;Add as Library，与项目集成。</li> <li>编写代码</li> </ol> <div class="admonition note"> <p class=admonition-title>Note</p> <p>需要注意，在下载驱动时，建议选择8.0.x版本的数据库驱动</p> </div> <h2 id=jdbc_4>JDBC基础六大步骤<a class=headerlink href=#jdbc_4 title="Permanent link">&para;</a></h2> <ol> <li>注册驱动，通过<code>com.mysql.cj.jdbc.Driver</code>类获取类对象</li> <li>获取数据库连接，使用<code>DriverManager</code>类中的<code>getConnection(String url, String username, String password)</code>方法获取<ol> <li>第一个参数为数据库所在的IP地址以、端口号和数据库名，例如<code>jdbc:mysql://localhost:3306//数据库名</code>，使用JDBC的链接需要使用前缀：<code>jdbc:mysql://</code></li> <li>第二个参数为数据库用户名</li> <li>第三个参数为数据库用户名对应的密码</li> </ol> </li> <li>创建<code>Statement</code>（后面由<code>PreparedStatement</code>替代）对象，通过<code>Connection</code>类对象（第二步获取数据库连接方法的返回值）调用<code>createStatement()</code>方法获取到<code>Statement</code>类对象</li> <li>创建SQL语句并执行，通过<code>Statement</code>类对象调用<code>executeQuery(String sql)</code>方法获取结果集</li> <li>读取结果集打印结果，调用结果集中的<code>next()</code>方法判断是否有下一行，因为默认光标会处于查询结果的虚拟表的表头（标题）位置，所以需要读取数据就需要使用<code>next()</code>判断是否有下一行再移动到下一行，有多行时需要使用到<code>while</code>循环判断是否有下一行。在循环内部，用变量接收获取到的值，通过<code>getXxx</code>方法获取每一个字段的值，打印即可</li> <li>释放资源：遵循先开后关的原则，关闭结果集、<code>Statement</code>对象和连接对象</li> </ol> <p>例如，下面的代码：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>QuickIn</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-0-2><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=kd>throws</span><span class=w> </span><span class=n>Exception</span><span class=p>{</span>
</span><span id=__span-0-3><span class=w>        </span><span class=c1>// 1. 注册驱动</span>
</span><span id=__span-0-4><span class=w>        </span><span class=n>Class</span><span class=o>&lt;?&gt;</span><span class=w> </span><span class=n>aClass</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Class</span><span class=p>.</span><span class=na>forName</span><span class=p>(</span><span class=s>&quot;com.mysql.cj.jdbc.Driver&quot;</span><span class=p>);</span>
</span><span id=__span-0-5>
</span><span id=__span-0-6><span class=w>        </span><span class=c1>// 2. 获取数据库连接</span>
</span><span id=__span-0-7><span class=w>        </span><span class=n>String</span><span class=w> </span><span class=n>url</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;jdbc:mysql://localhost:3306/databaseTest&quot;</span><span class=p>;</span>
</span><span id=__span-0-8><span class=w>        </span><span class=n>String</span><span class=w> </span><span class=n>username</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;root&quot;</span><span class=p>;</span>
</span><span id=__span-0-9><span class=w>        </span><span class=n>String</span><span class=w> </span><span class=n>password</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;123456&quot;</span><span class=p>;</span>
</span><span id=__span-0-10><span class=w>        </span><span class=n>Connection</span><span class=w> </span><span class=n>connection</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>DriverManager</span><span class=p>.</span><span class=na>getConnection</span><span class=p>(</span><span class=n>url</span><span class=p>,</span><span class=w> </span><span class=n>username</span><span class=p>,</span><span class=w> </span><span class=n>password</span><span class=p>);</span>
</span><span id=__span-0-11>
</span><span id=__span-0-12><span class=w>        </span><span class=c1>// 3. 创建Statement对象</span>
</span><span id=__span-0-13><span class=w>        </span><span class=n>PreparedStatement</span><span class=w> </span><span class=n>preparedStatement</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>connection</span><span class=p>.</span><span class=na>prepareStatement</span><span class=p>(</span><span class=s>&quot;SELECT * FROM t_emp&quot;</span><span class=p>);</span>
</span><span id=__span-0-14>
</span><span id=__span-0-15><span class=w>        </span><span class=c1>// 4. 执行SQL语句获取对象</span>
</span><span id=__span-0-16><span class=w>        </span><span class=n>ResultSet</span><span class=w> </span><span class=n>resultSet</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>preparedStatement</span><span class=p>.</span><span class=na>executeQuery</span><span class=p>();</span>
</span><span id=__span-0-17>
</span><span id=__span-0-18><span class=w>        </span><span class=c1>// 5. 处理结果</span>
</span><span id=__span-0-19><span class=w>        </span><span class=k>while</span><span class=p>(</span><span class=n>resultSet</span><span class=p>.</span><span class=na>next</span><span class=p>())</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-0-20><span class=w>            </span><span class=kt>int</span><span class=w> </span><span class=n>empId</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>resultSet</span><span class=p>.</span><span class=na>getInt</span><span class=p>(</span><span class=s>&quot;emp_id&quot;</span><span class=p>);</span>
</span><span id=__span-0-21><span class=w>            </span><span class=n>String</span><span class=w> </span><span class=n>empName</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>resultSet</span><span class=p>.</span><span class=na>getString</span><span class=p>(</span><span class=s>&quot;emp_name&quot;</span><span class=p>);</span>
</span><span id=__span-0-22><span class=w>            </span><span class=n>String</span><span class=w> </span><span class=n>empSalary</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>resultSet</span><span class=p>.</span><span class=na>getString</span><span class=p>(</span><span class=s>&quot;emp_salary&quot;</span><span class=p>);</span>
</span><span id=__span-0-23><span class=w>            </span><span class=kt>int</span><span class=w> </span><span class=n>empAge</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>resultSet</span><span class=p>.</span><span class=na>getInt</span><span class=p>(</span><span class=s>&quot;emp_age&quot;</span><span class=p>);</span>
</span><span id=__span-0-24><span class=w>            </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>empId</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=s>&quot;\t&quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>empName</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=s>&quot;\t&quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>empSalary</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=s>&quot;\t&quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>empAge</span><span class=p>);</span>
</span><span id=__span-0-25><span class=w>        </span><span class=p>}</span>
</span><span id=__span-0-26>
</span><span id=__span-0-27><span class=w>        </span><span class=c1>// 6.释放资源(先开后关原则)</span>
</span><span id=__span-0-28><span class=w>        </span><span class=n>resultSet</span><span class=p>.</span><span class=na>close</span><span class=p>();</span>
</span><span id=__span-0-29><span class=w>        </span><span class=n>preparedStatement</span><span class=p>.</span><span class=na>close</span><span class=p>();</span>
</span><span id=__span-0-30><span class=w>        </span><span class=n>connection</span><span class=p>.</span><span class=na>close</span><span class=p>();</span>
</span><span id=__span-0-31><span class=w>    </span><span class=p>}</span>
</span><span id=__span-0-32><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h2 id=jdbc_5>JDBC六大步骤解析<a class=headerlink href=#jdbc_5 title="Permanent link">&para;</a></h2> <h3 id=jdbc_6>注册JDBC驱动<a class=headerlink href=#jdbc_6 title="Permanent link">&para;</a></h3> <p>基本方式：注册驱动，通过<code>com.mysql.cj.jdbc.Driver</code>类获取类对象</p> <p>在 Java 中，当使用 JDBC（Java Database Connectivity）连接数据库时，需要加载数据库特定的驱动程序，以便与数据库进行通信。加载驱动程序的目的是为了注册驱动程序，使得 JDBC API 能够识别并与特定的数据库进行交互。从JDK6开始，不再需要显式地调用 <code>Class.forName()</code> 来加载 JDBC 驱动程序，只要在类路径中集成了对应的<code>jar</code>文件，会自动在初始化时注册驱动程序。</p> <h3 id=_1>获取数据库连接<a class=headerlink href=#_1 title="Permanent link">&para;</a></h3> <p><code>Connection</code>接口是JDBC API的重要接口，用于建立与数据库的通信通道。换而言之，<code>Connection</code>对象不为空，则代表一次数据库连接。</p> <p>在建立连接时，需要指定数据库URL、用户名、密码参数。如果连接的是本机的数据库，则可以省略URL写为：<code>jdbc:mysql:///数据库名</code>。 如果对应的URL中有参数，则需要使用<code>?</code>分隔数据库名和参数，每一个参数之间用<code>&amp;</code>链接：<code>jdbc:mysql://IP地址:端口号/数据库名称?参数键值对1&amp;参数键值对2</code></p> <p><code>Connection</code> 接口还负责管理事务，<code>Connection</code> 接口提供了 <code>commit</code> 和 <code>rollback</code> 方法，用于提交事务和回滚事务。可以创建 <code>Statement</code> 对象，用于执行 SQL 语句并与数据库进行交互。</p> <p>在使用JDBC技术时，必须要先获取<code>Connection</code>对象，在使用完毕后，要释放资源，避免资源占用浪费及泄漏。</p> <h3 id=statementpreparedstatement>创建<code>Statement</code>对象（使用<code>PreparedStatement</code>替换）<a class=headerlink href=#statementpreparedstatement title="Permanent link">&para;</a></h3> <p><code>Statement</code> 接口用于执行 SQL 语句并与数据库进行交互。它是 JDBC API 中的一个重要接口。通过 <code>Statement</code> 对象，可以向数据库发送 SQL 语句并获取执行结果。结果集中的结果可以是一个或多个结果。</p> <p>对于不同的情况，结果集中存储着不同的内容：</p> <ol> <li>增删改：受影响行数单个结果。</li> <li>查询：单行单列、多行多列、单行多列等结果。</li> </ol> <p>但是<code>Statement</code> 接口在执行SQL语句时，会产生SQL注入攻击问题：当使用 <code>Statement</code> 执行动态构建的 SQL 查询时，往往需要将查询条件（例如<code>where</code>后的条件）与 SQL 语句拼接在一起，此时如果<code>where</code>后的条件始终为真，就会返回整个表的结果</p> <p>例如，下面的代码运行到数据库中就会出现SQL注入攻击问题：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-1-1><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>QuickIn</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-1-2><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=kd>throws</span><span class=w> </span><span class=n>Exception</span><span class=p>{</span>
</span><span id=__span-1-3><span class=w>        </span><span class=c1>// ...</span>
</span><span id=__span-1-4><span class=w>        </span><span class=n>Statement</span><span class=w> </span><span class=n>statement</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>connection</span><span class=p>.</span><span class=na>createStatement</span><span class=p>();</span>
</span><span id=__span-1-5>
</span><span id=__span-1-6><span class=w>        </span><span class=c1>// 4. 执行SQL语句获取对象</span>
</span><span id=__span-1-7><span class=w>        </span><span class=n>Scanner</span><span class=w> </span><span class=n>scanner</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>Scanner</span><span class=p>(</span><span class=n>System</span><span class=p>.</span><span class=na>in</span><span class=p>);</span>
</span><span id=__span-1-8><span class=w>        </span><span class=n>String</span><span class=w> </span><span class=n>name</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>scanner</span><span class=p>.</span><span class=na>nextLine</span><span class=p>();</span>
</span><span id=__span-1-9><span class=w>        </span><span class=n>ResultSet</span><span class=w> </span><span class=n>resultSet</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>statement</span><span class=p>.</span><span class=na>executeQuery</span><span class=p>(</span><span class=s>&quot;select * from t_emp where &#39;&quot;</span><span class=o>+</span><span class=n>name</span><span class=o>+</span><span class=s>&quot;&#39;&quot;</span><span class=p>);</span>
</span><span id=__span-1-10>
</span><span id=__span-1-11><span class=w>        </span><span class=c1>// ...</span>
</span><span id=__span-1-12><span class=w>    </span><span class=p>}</span>
</span><span id=__span-1-13><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>上面的代码中，如果<code>name</code>中的数据通过字符串拼接导致<code>where</code>中的条件始终为真（例如输入<code>abc' or '1' = '1</code>），就会返回整个表的信息</p> <p>为了防止出现SQL注入攻击问题，后面使用<code>PreparedStatement</code>接口，<code>PreparedStatement</code>是<code>Statement</code>的子接口</p> <p>之所以使用<code>preparedStatement</code>接口可以防止SQL注入问题，是因为其在使用时需要传入一个带有占位符的SQL语句，例如<code>SELECT ``***** ``FROM t_emp where emp_age &gt; ?</code>，其中的<code>?</code>即为占位符，对于传入到<code>?</code>的数据会默认被<code>''</code>包裹，并且传入的数据如果出现数据库中的关键信息，例如<code>''</code>会被自动转义</p> <p>使用<code>PreparedStatement</code>接口需要使用<code>Connection</code>中的<code>prepareStatement(String sql)</code>方法，该方法参数传递一个SQL语句，其中可以含有占位符，返回值是一个<code>PreparedStatement</code>对象，使用如下：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-2-1><span class=n>PreparedStatement</span><span class=w> </span><span class=n>preparedStatement</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>connection</span><span class=p>.</span><span class=na>prepareStatement</span><span class=p>(</span><span class=s>&quot;select * from t_emp where ? &quot;</span><span class=p>);</span>
</span></code></pre></div></td></tr></table></div> <p>使用<code>PreparedStatement</code>还可以达到性能提升，<code>PreparedStatement</code>是预编译SQL语句，同一SQL语句多次执行的情况下，可以复用，不必每次重新编译和解析</p> <h3 id=_2>获取结果集<a class=headerlink href=#_2 title="Permanent link">&para;</a></h3> <p>刚开始使用了<code>Statement</code>对象获取结果集，但是<code>Statement</code>会有注入攻击问题，所以转用<code>PreparedStatement</code>对象获取结果集，调用<code>executeQuery()</code>方法即可，使用如下：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-3-1><span class=n>PreparedStatement</span><span class=w> </span><span class=n>preparedStatement</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>connection</span><span class=p>.</span><span class=na>prepareStatement</span><span class=p>(</span><span class=s>&quot;SELECT * FROM t_emp&quot;</span><span class=p>);</span>
</span><span id=__span-3-2><span class=n>ResultSet</span><span class=w> </span><span class=n>resultSet</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>preparedStatement</span><span class=p>.</span><span class=na>executeQuery</span><span class=p>();</span>
</span></code></pre></div></td></tr></table></div> <p>需要注意，如果在创建<code>PreparedStatement</code>对象使用了占位符，则需要为填充每一个占位符，此时需要使用<code>setXxx()</code>，该方法有两个参数，第一个参数代表占位符的下标，从1开始，1表示第一个占位符，以此类推，第二个参数为需要填充占位符的内容</p> <p>例如下面的代码：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-4-1><span class=n>PreparedStatement</span><span class=w> </span><span class=n>preparedStatement</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>connection</span><span class=p>.</span><span class=na>prepareStatement</span><span class=p>(</span><span class=s>&quot;select * from t_emp where ? &quot;</span><span class=p>);</span>
</span><span id=__span-4-2><span class=n>preparedStatement</span><span class=p>.</span><span class=na>setString</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=s>&quot;emp_age &gt; 25&quot;</span><span class=p>);</span>
</span><span id=__span-4-3><span class=n>ResultSet</span><span class=w> </span><span class=n>resultSet</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>preparedStatement</span><span class=p>.</span><span class=na>executeQuery</span><span class=p>();</span>
</span></code></pre></div></td></tr></table></div> <p>使用<code>PreparedStatement</code>替换<code>Statement</code>防止SQL注入攻击：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-5-1><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>QuickIn</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-5-2><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=kd>throws</span><span class=w> </span><span class=n>Exception</span><span class=p>{</span>
</span><span id=__span-5-3><span class=w>        </span><span class=c1>// ...</span>
</span><span id=__span-5-4><span class=w>        </span><span class=n>PreparedStatement</span><span class=w> </span><span class=n>preparedStatement</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>connection</span><span class=p>.</span><span class=na>prepareStatement</span><span class=p>(</span><span class=s>&quot;select * from t_emp where ? &quot;</span><span class=p>);</span>
</span><span id=__span-5-5>
</span><span id=__span-5-6>
</span><span id=__span-5-7><span class=w>        </span><span class=c1>// 4. 执行SQL语句获取对象</span>
</span><span id=__span-5-8><span class=w>        </span><span class=n>Scanner</span><span class=w> </span><span class=n>scanner</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>Scanner</span><span class=p>(</span><span class=n>System</span><span class=p>.</span><span class=na>in</span><span class=p>);</span>
</span><span id=__span-5-9><span class=w>        </span><span class=n>String</span><span class=w> </span><span class=n>name</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>scanner</span><span class=p>.</span><span class=na>nextLine</span><span class=p>();</span>
</span><span id=__span-5-10><span class=w>        </span><span class=n>preparedStatement</span><span class=p>.</span><span class=na>setString</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=n>name</span><span class=p>);</span>
</span><span id=__span-5-11><span class=w>        </span><span class=n>ResultSet</span><span class=w> </span><span class=n>resultSet</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>preparedStatement</span><span class=p>.</span><span class=na>executeQuery</span><span class=p>();</span>
</span><span id=__span-5-12>
</span><span id=__span-5-13><span class=w>        </span><span class=c1>// ...</span>
</span><span id=__span-5-14><span class=w>    </span><span class=p>}</span>
</span><span id=__span-5-15><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>此时，如果继续输入<code>abc' or '1' = '1</code>，在SQL中会被替换为如下：</p> <div class="language-sql highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>SQL</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-6-1><span class=k>select</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>t_emp</span><span class=w> </span><span class=k>where</span><span class=w> </span><span class=s1>&#39;abc\&#39;</span><span class=w> </span><span class=k>or</span><span class=w> </span><span class=err>\</span><span class=s1>&#39;1\&#39;</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=err>\</span><span class=s1>&#39;1&#39;</span>
</span></code></pre></div></td></tr></table></div> <p>而因为这个数据在指定的数据库中并不存在，所以查询结果为空，而不会返回整个表的数据</p> <h3 id=_3>处理结果<a class=headerlink href=#_3 title="Permanent link">&para;</a></h3> <p>前面的<code>PreparedStatement</code>对象调用<code>executeQuery()</code>方法获取到对应的结果集后就可以处理结果集中的结果，<code>next()</code>方法可以达到先判断是否有下一行再使光标移动到下一行，尽管确定结果集中肯定只有一行实际数据，但是依旧需要调用一次<code>next()</code>方法，获取每一列的结果则调用<code>getXxx()</code>方法，这个方法存在两个传参方式：</p> <ol> <li>列标：除非只有一个数据，一般不常用</li> <li>列名：推荐使用</li> </ol> <h3 id=_4>关闭资源<a class=headerlink href=#_4 title="Permanent link">&para;</a></h3> <p>在JDBC中，有些资源不能被立即释放，这个做法可以有下面的好处：</p> <ol> <li>避免内存泄漏：如果一个<code>ResultSet</code>或<code>Statement</code>没有被正确关闭，那么它们所引用的对象将不会被垃圾回收器回收，从而导致内存泄漏</li> <li>防止资源耗尽：数据库连接池通常有最大连接数的限制。如果连接没有被释放，那么新的请求可能会因为没有可用的连接而阻塞或者失败</li> <li>提高性能：及时释放不再使用的资源可以减少内存使用，并且使连接能够尽快被重用，这有助于提高应用程序的性能</li> </ol> <h2 id=preparedstatementcrud>基于<code>PreparedStatement</code>接口实现CRUD<a class=headerlink href=#preparedstatementcrud title="Permanent link">&para;</a></h2> <p>CRUD，即Create（创建）、Read（读取）、Update（更新）和Delete（删除）四个单词的首字母缩写。它代表了一组基本的操作，用于与数据库中的数据进行交互。在软件开发中，特别是涉及到数据库的应用程序开发时，CRUD操作是最常见的数据访问模式之一</p> <h3 id=_5>查询单行单列数据<a class=headerlink href=#_5 title="Permanent link">&para;</a></h3> <p>所谓单行单列，就是结果集中只有一行一列存在实际数据，例如下图中的结果就属于单行单列数据：</p> <p><a class=glightbox href=JDBC基础.assets\image1.png data-type=image data-width=100% data-height=auto data-desc-position=bottom><img src=JDBC基础.assets\image1.png></a></p> <p>代码如下：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-7-1><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>SingleRow_SingleCol</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-7-2><span class=w>    </span><span class=nd>@Test</span>
</span><span id=__span-7-3><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>Test</span><span class=p>()</span><span class=w> </span><span class=kd>throws</span><span class=w> </span><span class=n>Exception</span><span class=p>{</span>
</span><span id=__span-7-4><span class=w>        </span><span class=n>Connection</span><span class=w> </span><span class=n>connection</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>DriverManager</span><span class=p>.</span><span class=na>getConnection</span><span class=p>(</span><span class=s>&quot;jdbc:mysql:///databaseTest&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;root&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;123456&quot;</span><span class=p>);</span>
</span><span id=__span-7-5><span class=w>        </span><span class=n>PreparedStatement</span><span class=w> </span><span class=n>preparedStatement</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>connection</span><span class=p>.</span><span class=na>prepareStatement</span><span class=p>(</span><span class=s>&quot;select count(*) count from t_emp&quot;</span><span class=p>);</span>
</span><span id=__span-7-6><span class=w>        </span><span class=n>ResultSet</span><span class=w> </span><span class=n>resultSet</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>preparedStatement</span><span class=p>.</span><span class=na>executeQuery</span><span class=p>();</span>
</span><span id=__span-7-7><span class=w>        </span><span class=k>if</span><span class=p>(</span><span class=n>resultSet</span><span class=p>.</span><span class=na>next</span><span class=p>())</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-7-8><span class=w>            </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>resultSet</span><span class=p>.</span><span class=na>getInt</span><span class=p>(</span><span class=s>&quot;count&quot;</span><span class=p>));</span>
</span><span id=__span-7-9><span class=w>        </span><span class=p>}</span>
</span><span id=__span-7-10>
</span><span id=__span-7-11><span class=w>        </span><span class=n>resultSet</span><span class=p>.</span><span class=na>close</span><span class=p>();</span>
</span><span id=__span-7-12><span class=w>        </span><span class=n>preparedStatement</span><span class=p>.</span><span class=na>close</span><span class=p>();</span>
</span><span id=__span-7-13><span class=w>        </span><span class=n>connection</span><span class=p>.</span><span class=na>close</span><span class=p>();</span>
</span><span id=__span-7-14><span class=w>    </span><span class=p>}</span>
</span><span id=__span-7-15><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>尽管只有一行数据，因为光标还在表头位置，需要先使用<code>next()</code>判断是否有下一行，即是否有结果，再移动到下一行，即移动到结果行，最后读取数据</p> <p>但是更推荐使用循环进行：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-8-1><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>SingleRow_SingleCol</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-8-2><span class=w>    </span><span class=nd>@Test</span>
</span><span id=__span-8-3><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>Test</span><span class=p>()</span><span class=w> </span><span class=kd>throws</span><span class=w> </span><span class=n>Exception</span><span class=p>{</span>
</span><span id=__span-8-4><span class=w>        </span><span class=n>Connection</span><span class=w> </span><span class=n>connection</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>DriverManager</span><span class=p>.</span><span class=na>getConnection</span><span class=p>(</span><span class=s>&quot;jdbc:mysql:///databaseTest&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;root&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;123456&quot;</span><span class=p>);</span>
</span><span id=__span-8-5><span class=w>        </span><span class=n>PreparedStatement</span><span class=w> </span><span class=n>preparedStatement</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>connection</span><span class=p>.</span><span class=na>prepareStatement</span><span class=p>(</span><span class=s>&quot;select count(*) count from t_emp&quot;</span><span class=p>);</span>
</span><span id=__span-8-6><span class=w>        </span><span class=n>ResultSet</span><span class=w> </span><span class=n>resultSet</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>preparedStatement</span><span class=p>.</span><span class=na>executeQuery</span><span class=p>();</span>
</span><span id=__span-8-7><span class=w>        </span><span class=k>while</span><span class=w> </span><span class=p>(</span><span class=n>resultSet</span><span class=p>.</span><span class=na>next</span><span class=p>())</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-8-8><span class=w>            </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>resultSet</span><span class=p>.</span><span class=na>getInt</span><span class=p>(</span><span class=s>&quot;count&quot;</span><span class=p>));</span>
</span><span id=__span-8-9><span class=w>        </span><span class=p>}</span>
</span><span id=__span-8-10>
</span><span id=__span-8-11><span class=w>        </span><span class=n>resultSet</span><span class=p>.</span><span class=na>close</span><span class=p>();</span>
</span><span id=__span-8-12><span class=w>        </span><span class=n>preparedStatement</span><span class=p>.</span><span class=na>close</span><span class=p>();</span>
</span><span id=__span-8-13><span class=w>        </span><span class=n>connection</span><span class=p>.</span><span class=na>close</span><span class=p>();</span>
</span><span id=__span-8-14><span class=w>    </span><span class=p>}</span>
</span><span id=__span-8-15><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h3 id=_6>查询单行多列数据<a class=headerlink href=#_6 title="Permanent link">&para;</a></h3> <p>所谓单行单列，就是结果集中只有一行、但是有多列存在实际数据，例如下图中的结果就属于单行单列数据：</p> <p><a class=glightbox href=JDBC基础.assets\image2.png data-type=image data-width=100% data-height=auto data-desc-position=bottom><img src=JDBC基础.assets\image2.png></a></p> <p>示例代码：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-9-1><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>SingleRow_MultiCol</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-9-2><span class=w>    </span><span class=nd>@Test</span>
</span><span id=__span-9-3><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>test</span><span class=p>()</span><span class=w> </span><span class=kd>throws</span><span class=w> </span><span class=n>Exception</span><span class=p>{</span>
</span><span id=__span-9-4><span class=w>        </span><span class=n>Connection</span><span class=w> </span><span class=n>connection</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>DriverManager</span><span class=p>.</span><span class=na>getConnection</span><span class=p>(</span><span class=s>&quot;jdbc:mysql:///databaseTest&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;root&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;123456&quot;</span><span class=p>);</span>
</span><span id=__span-9-5><span class=w>        </span><span class=n>PreparedStatement</span><span class=w> </span><span class=n>preparedStatement</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>connection</span><span class=p>.</span><span class=na>prepareStatement</span><span class=p>(</span><span class=s>&quot;select * from t_emp where emp_age = 26&quot;</span><span class=p>);</span>
</span><span id=__span-9-6><span class=w>        </span><span class=n>ResultSet</span><span class=w> </span><span class=n>resultSet</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>preparedStatement</span><span class=p>.</span><span class=na>executeQuery</span><span class=p>();</span>
</span><span id=__span-9-7><span class=w>        </span><span class=k>while</span><span class=w> </span><span class=p>(</span><span class=n>resultSet</span><span class=p>.</span><span class=na>next</span><span class=p>())</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-9-8><span class=w>            </span><span class=kt>int</span><span class=w> </span><span class=n>empId</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>resultSet</span><span class=p>.</span><span class=na>getInt</span><span class=p>(</span><span class=s>&quot;emp_id&quot;</span><span class=p>);</span>
</span><span id=__span-9-9><span class=w>            </span><span class=n>String</span><span class=w> </span><span class=n>empName</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>resultSet</span><span class=p>.</span><span class=na>getString</span><span class=p>(</span><span class=s>&quot;emp_name&quot;</span><span class=p>);</span>
</span><span id=__span-9-10><span class=w>            </span><span class=kt>double</span><span class=w> </span><span class=n>empSalary</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>resultSet</span><span class=p>.</span><span class=na>getDouble</span><span class=p>(</span><span class=s>&quot;emp_salary&quot;</span><span class=p>);</span>
</span><span id=__span-9-11><span class=w>            </span><span class=kt>int</span><span class=w> </span><span class=n>empAge</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>resultSet</span><span class=p>.</span><span class=na>getInt</span><span class=p>(</span><span class=s>&quot;emp_age&quot;</span><span class=p>);</span>
</span><span id=__span-9-12><span class=w>            </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>empId</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=s>&quot;\t&quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>empName</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=s>&quot;\t&quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>empSalary</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=s>&quot;\t&quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>empAge</span><span class=p>);</span>
</span><span id=__span-9-13><span class=w>        </span><span class=p>}</span>
</span><span id=__span-9-14>
</span><span id=__span-9-15><span class=w>        </span><span class=n>resultSet</span><span class=p>.</span><span class=na>close</span><span class=p>();</span>
</span><span id=__span-9-16><span class=w>        </span><span class=n>preparedStatement</span><span class=p>.</span><span class=na>close</span><span class=p>();</span>
</span><span id=__span-9-17><span class=w>        </span><span class=n>connection</span><span class=p>.</span><span class=na>close</span><span class=p>();</span>
</span><span id=__span-9-18><span class=w>    </span><span class=p>}</span>
</span><span id=__span-9-19><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>与单行单列一样可以将<code>while</code>替换成<code>if</code>进行判断</p> <h3 id=_7>查询多行多列数据<a class=headerlink href=#_7 title="Permanent link">&para;</a></h3> <p>见基础六大步骤部分的代码演示</p> <h3 id=_8>新增<a class=headerlink href=#_8 title="Permanent link">&para;</a></h3> <p>示例代码：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-10-1><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>InsertNew</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-10-2><span class=w>    </span><span class=nd>@Test</span>
</span><span id=__span-10-3><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>test</span><span class=p>()</span><span class=w> </span><span class=kd>throws</span><span class=w> </span><span class=n>Exception</span><span class=p>{</span>
</span><span id=__span-10-4><span class=w>        </span><span class=n>Connection</span><span class=w> </span><span class=n>connection</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>DriverManager</span><span class=p>.</span><span class=na>getConnection</span><span class=p>(</span><span class=s>&quot;jdbc:mysql:///databaseTest&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;root&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;123456&quot;</span><span class=p>);</span>
</span><span id=__span-10-5><span class=w>        </span><span class=n>PreparedStatement</span><span class=w> </span><span class=n>preparedStatement</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>connection</span><span class=p>.</span><span class=na>prepareStatement</span><span class=p>(</span><span class=s>&quot;insert into t_emp (emp_name,emp_salary,emp_age)values  (?, ?,?)&quot;</span><span class=p>);</span>
</span><span id=__span-10-6><span class=w>        </span><span class=n>preparedStatement</span><span class=p>.</span><span class=na>setString</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=s>&quot;张三&quot;</span><span class=p>);</span>
</span><span id=__span-10-7><span class=w>        </span><span class=n>preparedStatement</span><span class=p>.</span><span class=na>setDouble</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span><span class=w> </span><span class=mf>564.35</span><span class=p>);</span>
</span><span id=__span-10-8><span class=w>        </span><span class=n>preparedStatement</span><span class=p>.</span><span class=na>setInt</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span><span class=w> </span><span class=mi>18</span><span class=p>);</span>
</span><span id=__span-10-9><span class=w>        </span><span class=kt>int</span><span class=w> </span><span class=n>resultSet</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>preparedStatement</span><span class=p>.</span><span class=na>executeUpdate</span><span class=p>();</span>
</span><span id=__span-10-10>
</span><span id=__span-10-11><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>resultSet</span><span class=p>);</span>
</span><span id=__span-10-12>
</span><span id=__span-10-13><span class=w>        </span><span class=n>preparedStatement</span><span class=p>.</span><span class=na>close</span><span class=p>();</span>
</span><span id=__span-10-14><span class=w>        </span><span class=n>connection</span><span class=p>.</span><span class=na>close</span><span class=p>();</span>
</span><span id=__span-10-15><span class=w>    </span><span class=p>}</span>
</span><span id=__span-10-16><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>对于新增来说，除了在调用<code>prepareStatement</code>时传递的SQL语句不同以外，还需要注意获取结果的方法也不同，前面执行查询时<code>executeQuery()</code>方法，而这里执行插入是<code>executeUpdate()</code>，而对于这个方法，其返回值是受影响的行数，而不是一个集合</p> <h3 id=_9>修改<a class=headerlink href=#_9 title="Permanent link">&para;</a></h3> <p>示例代码：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-11-1><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>UpdateExisted</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-11-2><span class=w>    </span><span class=nd>@Test</span>
</span><span id=__span-11-3><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>test</span><span class=p>()</span><span class=w> </span><span class=kd>throws</span><span class=w> </span><span class=n>Exception</span><span class=p>{</span>
</span><span id=__span-11-4><span class=w>        </span><span class=n>Connection</span><span class=w> </span><span class=n>connection</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>DriverManager</span><span class=p>.</span><span class=na>getConnection</span><span class=p>(</span><span class=s>&quot;jdbc:mysql:///databaseTest&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;root&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;123456&quot;</span><span class=p>);</span>
</span><span id=__span-11-5><span class=w>        </span><span class=n>PreparedStatement</span><span class=w> </span><span class=n>preparedStatement</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>connection</span><span class=p>.</span><span class=na>prepareStatement</span><span class=p>(</span><span class=s>&quot;update t_emp set emp_salary = 1000 where emp_age = 26&quot;</span><span class=p>);</span>
</span><span id=__span-11-6><span class=w>        </span><span class=kt>int</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>preparedStatement</span><span class=p>.</span><span class=na>executeUpdate</span><span class=p>();</span>
</span><span id=__span-11-7>
</span><span id=__span-11-8><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>i</span><span class=p>);</span>
</span><span id=__span-11-9>
</span><span id=__span-11-10><span class=w>        </span><span class=n>preparedStatement</span><span class=p>.</span><span class=na>close</span><span class=p>();</span>
</span><span id=__span-11-11><span class=w>        </span><span class=n>connection</span><span class=p>.</span><span class=na>close</span><span class=p>();</span>
</span><span id=__span-11-12><span class=w>    </span><span class=p>}</span>
</span><span id=__span-11-13><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>对于修改表来说，与新增一样都是对表中的数据进行操作，所以执行修改依旧是调用<code>executeUpdate()</code>方法，同样该方法的返回值是受影响的行数</p> <h3 id=_10>删除<a class=headerlink href=#_10 title="Permanent link">&para;</a></h3> <p>示例代码：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-12-1><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>DeleteExisted</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-12-2><span class=w>    </span><span class=nd>@Test</span>
</span><span id=__span-12-3><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>test</span><span class=p>()</span><span class=w> </span><span class=kd>throws</span><span class=w> </span><span class=n>Exception</span><span class=p>{</span>
</span><span id=__span-12-4><span class=w>        </span><span class=n>Connection</span><span class=w> </span><span class=n>connection</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>DriverManager</span><span class=p>.</span><span class=na>getConnection</span><span class=p>(</span><span class=s>&quot;jdbc:mysql:///databaseTest&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;root&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;123456&quot;</span><span class=p>);</span>
</span><span id=__span-12-5><span class=w>        </span><span class=n>PreparedStatement</span><span class=w> </span><span class=n>preparedStatement</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>connection</span><span class=p>.</span><span class=na>prepareStatement</span><span class=p>(</span><span class=s>&quot;delete from t_emp where emp_name = &#39;张三&#39;&quot;</span><span class=p>);</span>
</span><span id=__span-12-6><span class=w>        </span><span class=kt>int</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>preparedStatement</span><span class=p>.</span><span class=na>executeUpdate</span><span class=p>();</span>
</span><span id=__span-12-7>
</span><span id=__span-12-8><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>i</span><span class=p>);</span>
</span><span id=__span-12-9>
</span><span id=__span-12-10><span class=w>        </span><span class=n>preparedStatement</span><span class=p>.</span><span class=na>close</span><span class=p>();</span>
</span><span id=__span-12-11><span class=w>        </span><span class=n>connection</span><span class=p>.</span><span class=na>close</span><span class=p>();</span>
</span><span id=__span-12-12><span class=w>    </span><span class=p>}</span>
</span><span id=__span-12-13><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>对于修改表来说，与新增一样都是对表中的数据进行操作，所以执行修改依旧是调用<code>executeUpdate()</code>方法，同样该方法的返回值是受影响的行数</p> <h2 id=_11>常见问题<a class=headerlink href=#_11 title="Permanent link">&para;</a></h2> <h3 id=_12>资源管理问题<a class=headerlink href=#_12 title="Permanent link">&para;</a></h3> <p>在使用JDBC的相关资源时，比如<code>Connection</code>、<code>PreparedStatement</code>、<code>ResultSet</code>，使用完毕后，要及时关闭这些资源以释放数据库服务器资源和避免内存泄漏是很重要的</p> <h3 id=sql>SQL语法问题<a class=headerlink href=#sql title="Permanent link">&para;</a></h3> <p><code>java.sql.SQLSyntaxErrorException</code>：SQL语句错误异常，一般有几种可能：</p> <ol> <li>SQL语句有错误，检查SQL语句，建议SQL语句在SQL工具中测试后再复制到Java程序中</li> <li>连接数据库的URL中，数据库名称编写错误，也会报该异常</li> </ol> <h3 id=sql_1>SQL语句未设置参数问题<a class=headerlink href=#sql_1 title="Permanent link">&para;</a></h3> <p><code>java.sql.SQLException：No value specified for parameter 1</code>：在使用预编译SQL语句时，如果有<code>?</code>占位符，要为每一个占位符赋值，否则报该错误</p> <h3 id=_13>用户名或密码错误问题<a class=headerlink href=#_13 title="Permanent link">&para;</a></h3> <p>在连接数据库的URL中，如果IP或端口写错了，会报如下异常：</p> <p><code>com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure</code></p> <aside class=md-source-file> <span class=md-source-file__fact> <span class=md-icon title=最后更新> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">2024年9月29日</span> </span> </aside> <form class=md-feedback name=feedback hidden> <fieldset> <legend class=md-feedback__title> 页面有帮助吗？ </legend> <div class=md-feedback__inner> <div class=md-feedback__list> <button class="md-feedback__icon md-icon" type=submit title=页面对我有帮助 data-md-value=1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M5 9v12H1V9zm4 12a2 2 0 0 1-2-2V9c0-.55.22-1.05.59-1.41L14.17 1l1.06 1.06c.27.27.44.64.44 1.05l-.03.32L14.69 8H21a2 2 0 0 1 2 2v2c0 .26-.05.5-.14.73l-3.02 7.05C19.54 20.5 18.83 21 18 21zm0-2h9.03L21 12v-2h-8.79l1.13-5.32L9 9.03z"/></svg> </button> <button class="md-feedback__icon md-icon" type=submit title=页面没有帮助到我 data-md-value=0> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 15V3h4v12zM15 3a2 2 0 0 1 2 2v10c0 .55-.22 1.05-.59 1.41L9.83 23l-1.06-1.06c-.27-.27-.44-.64-.44-1.06l.03-.31.95-4.57H3a2 2 0 0 1-2-2v-2c0-.26.05-.5.14-.73l3.02-7.05C4.46 3.5 5.17 3 6 3zm0 2H5.97L3 12v2h8.78l-1.13 5.32L15 14.97z"/></svg> </button> </div> <div class=md-feedback__note> <div data-md-value=1 hidden> 谢谢你的反馈！ </div> <div data-md-value=0 hidden> 谢谢你的反馈！联系<a href=https://www.help-doc.top/author/contact/contact.html>作者</a>提供更详细的信息 </div> </div> </div> </fieldset> </form> <!-- Waline 评论系统 --> <div id=waline></div> <!-- 评论系统 --> <!-- Waline 评论系统 --> <div id=waline></div> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-footer-copyright__highlight> Copyright &copy; 2024-2025 柯懒不是柯南 </div> </div> <div class="md-footer-love md-typeset"> 一闪一闪亮晶晶，不及<span class=love-highlight>小亮</span><span class=love-heart>♥</span>照我心。To Li Liang </div> <div class=md-social> <a href=https://github.com/H0308 target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> <a href=https://www.help-doc.top/author/contact/contact.html target=_blank rel=noopener title=www.help-doc.top class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M433.754 420.445c-11.526 1.393-44.86-52.741-44.86-52.741 0 31.345-16.136 72.247-51.051 101.786 16.842 5.192 54.843 19.167 45.803 34.421-7.316 12.343-125.51 7.881-159.632 4.037-34.122 3.844-152.316 8.306-159.632-4.037-9.045-15.25 28.918-29.214 45.783-34.415-34.92-29.539-51.059-70.445-51.059-101.792 0 0-33.334 54.134-44.859 52.741-5.37-.65-12.424-29.644 9.347-99.704 10.261-33.024 21.995-60.478 40.144-105.779C60.683 98.063 108.982.006 224 0c113.737.006 163.156 96.133 160.264 214.963 18.118 45.223 29.912 72.85 40.144 105.778 21.768 70.06 14.716 99.053 9.346 99.704"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../..", "features": ["navigation.indexes", "navigation.prune", "navigation.tabs", "search.highlight", "content.code.copy"], "search": "../../../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}, "version": null}</script> <script src=../../../assets/javascripts/bundle.c8b220af.min.js></script> <script src=../../../javascripts/katex.min.js></script> <script src=../../../javascripts/other.min.js></script> <script src=../../../javascripts/copyright.min.js></script> <script src=../../../javascripts/waline.min.js></script> <script src=https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/katex.min.js></script> <script src=https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/contrib/auto-render.min.js></script> <script src=https://cdn.jsdelivr.net/npm/mermaid@11.5.0/dist/mermaid.min.js></script> <script src=../../../assets/javascripts/toggle-sidebar.js async></script> <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body> </html>