<!doctype html><html lang=zh class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=canonical href=https://www.help-doc.top/algorithm/recursion-binary-tree/binary-tree-bst/binary-tree-bst.html><link rel=prev href=../binary-tree-basic/binary-tree-basic.html><link rel=next href=../recursion-in-regular/recursion-in-regular.html><link rel=icon href=../../../images/favicon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.12"><title>二叉搜索树相关题目 - 柯懒的知识库</title><link rel=stylesheet href=../../../assets/stylesheets/main.2afb09e1.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.06af60db.min.css><link rel=stylesheet href=../../../css/timeline.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/katex.min.css><script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-9XWRGNRRSY"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-9XWRGNRRSY",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-9XWRGNRRSY",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script><link rel=stylesheet href=../../../stylesheets/colors.min.css><link rel=stylesheet href=../../../stylesheets/theme2.min.css media="screen and (max-width: 1199px)"><link rel=stylesheet href=../../../stylesheets/theme2.min.css media="screen and (min-width: 1200px)" id=theme2-desktop><link rel=stylesheet href=../../../stylesheets/theme1.min.css media="screen and (min-width: 1200px)" id=theme1-desktop><link rel=stylesheet href=../../../stylesheets/print.min.css><link rel=stylesheet href=../../../stylesheets/font-dongguanti.min.css id=font-dongguanti><link rel=stylesheet href=../../../stylesheets/font-oppoti.min.css id=font-oppoti disabled><link rel=stylesheet href=../../../stylesheets/font-jiangchengti.min.css id=font-jiangchengti disabled><link rel=stylesheet href=../../../stylesheets/font-lxgw.min.css id=font-lxgw disabled><link rel=stylesheet href=../../../stylesheets/code-font-dejavu-sans-mono.min.css id=code-font-dejavu-sans-mono><link rel=stylesheet href=../../../stylesheets/code-font-zsft-hk.min.css id=code-font-zsft-hk disabled><link rel=stylesheet href=../../../stylesheets/code-font-google-sans-code.min.css id=code-font-google-sans-code disabled><link rel=stylesheet href=https://unpkg.com/@waline/client@v3/dist/waline.css><link rel=stylesheet href=../../../stylesheets/waline.min.css><script src=../../../javascripts/start.min.js></script> <link href="../../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../../../assets/javascripts/glightbox.min.js"></script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=white data-md-color-accent=cyan> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#_1 class=md-skip> 跳转至 </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=页眉> <a href=../../../index.html title=柯懒的知识库 class="md-header__button md-logo" aria-label=柯懒的知识库 data-md-component=logo> <img src=../../../assets/logo.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> 柯懒的知识库 </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> 二叉搜索树相关题目 </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary=white data-md-color-accent=cyan aria-label type=radio name=__palette id=__palette_1> </form> <div class=header-avatar> <img src=../../../author/作者.assets/20250206-200653.jpg alt=头像> <div class=avatar-dropdown> <p><strong>柯懒不是柯南</strong></p> <a href=../../../author/contact/contact.html class=avatar-dropdown-item>联系作者</a> <div class=avatar-dropdown-divider></div> <a href=../../../author/about/about.html class=avatar-dropdown-item>关于作者</a> <div class=avatar-dropdown-divider></div> <a href=https://github.com/H0308 class=avatar-dropdown-item>Github仓库</a> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=搜索 placeholder=搜索 autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=查找> <button type=reset class="md-search__icon md-icon" title=清空当前内容 aria-label=清空当前内容 tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> 正在初始化搜索引擎 </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> </nav> </header> <div class=toolbar-toggle-btn id=toolbarToggleBtn onclick=toggleToolbar()> <div class=toggle-icon> <svg class=toggle-arrow-icon viewbox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg width=16 height=16> <path d="M346.538667 1024L170.666667 853.333333l341.333333-341.333333-341.333333-341.333333 175.872-170.666667L853.333333 512z" fill=currentColor></path> </svg> </div> </div> <div class=floating-toolbar id=floatingToolbar> <div class="toolbar-item font-switcher"> <div class=toolbar-icon> <svg class=font-icon viewbox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg width=20 height=20> <path d="M913.408 1024l-66.56 0q-29.696 0-51.2-5.12t-36.864-15.872-26.112-27.136-19.968-37.888q-15.36-38.912-28.16-70.656t-22.016-55.296q-11.264-26.624-20.48-49.152l-254.976 0q-7.168 23.552-17.408 51.2-8.192 23.552-21.504 56.832t-30.72 72.192q-20.48 46.08-47.104 63.488t-60.416 17.408l-70.656 0q-45.056 0-60.928-19.968t2.56-68.096q18.432-46.08 43.008-108.544t52.224-132.608 57.344-143.872 57.344-144.384q65.536-164.864 137.216-343.04 7.168-17.408 18.432-31.744 10.24-11.264 27.136-21.504t42.496-10.24q26.624 0 43.52 10.752t28.16 24.064q12.288 15.36 19.456 33.792 72.704 180.224 138.24 345.088 27.648 70.656 57.344 143.872t56.832 142.336 51.2 129.536 41.472 104.448q14.336 34.816 4.096 62.464t-43.008 27.648zM616.448 634.88l-97.28-347.136-1.024 0-108.544 347.136 206.848 0z" fill=currentColor></path> </svg> </div> <div class=toolbar-label>内容字体</div> <div class=font-dropdown-toolbar> <div class=font-current-toolbar onclick=toggleFontDropdownToolbar()> <span class=current-font-name-toolbar>东观体</span> <svg class=dropdown-arrow-icon viewbox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg width=12 height=12> <path d="M878.592 250.88q29.696 0 48.128 11.264t24.576 29.696 0 41.472-26.624 45.568q-82.944 92.16-159.744 180.224t-148.48 164.864q-19.456 20.48-45.568 31.744t-53.76 11.776-53.248-8.704-43.008-28.672q-39.936-44.032-82.944-90.112l-88.064-92.16q-43.008-46.08-85.504-90.624t-79.36-86.528q-17.408-19.456-22.528-40.448t1.024-38.4 23.552-28.672 45.056-11.264q35.84 0 98.816-0.512t137.728-0.512l153.6 0 150.528 0 125.952 0 79.872 0z" fill=currentColor></path> </svg> </div> <div class=font-options-toolbar> <div class=font-option-toolbar data-font=dongguanti onclick="selectFontToolbar('dongguanti')">上图东观体 </div> <div class=font-option-toolbar data-font=oppoti onclick="selectFontToolbar('oppoti')">OPPO Sans </div> <div class=font-option-toolbar data-font=jiangchengti onclick="selectFontToolbar('jiangchengti')"> 江城黑体</div> <div class=font-option-toolbar data-font=lxgw onclick="selectFontToolbar('lxgw')">霞鹜臻楷</div> </div> </div> </div> <div class="toolbar-item code-font-switcher"> <div class=toolbar-icon> <svg t=1753672111433 class="icon code-font-icon" viewbox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg p-id=5148 width=20 height=20> <path d="M941.709938 0H82.290062A82.290062 82.290062 0 0 0 0 82.290062v859.419876A82.290062 82.290062 0 0 0 82.290062 1022.53923h859.419876A82.290062 82.290062 0 0 0 1022.53923 941.709938V82.290062A82.290062 82.290062 0 0 0 941.709938 0zM188.439372 553.631954a40.901569 40.901569 0 0 1-29.215406-70.116975L292.154066 351.558726 159.223966 218.628626a40.901569 40.901569 0 0 1 58.430813-57.94389l160.197813 162.145507a40.901569 40.901569 0 0 1 0 57.943889l-160.197813 160.684736a40.901569 40.901569 0 0 1-29.215407 12.173086z m443.587257 0H405.120304a40.901569 40.901569 0 0 1 0-82.290061H633.000476a40.901569 40.901569 0 0 1 0 82.290061z" fill=currentColor p-id=5149></path> </svg> </div> <div class=toolbar-label>代码字体</div> <div class=code-font-dropdown-toolbar> <div class=code-font-current-toolbar onclick=toggleCodeFontDropdownToolbar()> <span class=current-code-font-name-toolbar>DejaVu Sans Mono</span> <svg class=dropdown-arrow-icon viewbox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg width=12 height=12> <path d="M878.592 250.88q29.696 0 48.128 11.264t24.576 29.696 0 41.472-26.624 45.568q-82.944 92.16-159.744 180.224t-148.48 164.864q-19.456 20.48-45.568 31.744t-53.76 11.776-53.248-8.704-43.008-28.672q-39.936-44.032-82.944-90.112l-88.064-92.16q-43.008-46.08-85.504-90.624t-79.36-86.528q-17.408-19.456-22.528-40.448t1.024-38.4 23.552-28.672 45.056-11.264q35.84 0 98.816-0.512t137.728-0.512l153.6 0 150.528 0 125.952 0 79.872 0z" fill=currentColor></path> </svg> </div> <div class=code-font-options-toolbar> <div class=code-font-option-toolbar data-code-font=dejavu onclick="selectCodeFontToolbar('dejavu')"> DejaVu Sans Mono</div> <div class=code-font-option-toolbar data-code-font=google-sans-code onclick="selectCodeFontToolbar('google-sans-code')"> Google Sans Code</div> <div class=code-font-option-toolbar data-code-font=zsft onclick="selectCodeFontToolbar('zsft')"> JetBrains Mono</div> </div> </div> </div> <div class="toolbar-item theme-switcher" onclick=switchTheme()> <div class=toolbar-icon> <svg class=theme-icon viewbox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg width=20 height=20> <path d="M876.572788 522.301623c-1.886977 12.375865-9.657964 30.331819-35.880185 45.48903-56.489572 32.697703-150.21828 83.990926-174.010149 96.958262-13.143345 24.431435-66.067718 122.221646-98.141204 178.503487-16.117073 28.124548-36.055171 34.041304-50.030463 34.041304-0.031722 0-0.031722 0-0.031722 0-14.613836 0-29.1806-6.460132-43.234687-19.218714-47.183626-42.643216-125.994576-117.105115-146.013515-136.083351-27.757181-4.732791-138.338718-23.743774-200.584388-35.752272-17.924231-3.533476-32.649608-14.07046-40.372499-29.084409-5.78782-11.256368-10.281157-30.05962 1.471514-55.658647 26.989701-59.047838 74.126254-157.557432 85.957721-182.196599-3.437286-27.117614-16.996093-135.060045-23.760147-198.905142-1.886977-17.460674 3.901867-35.096333 15.829524-48.351218 12.791327-14.278191 30.667463-21.48943 49.854455-19.426445 63.669088 6.332219 173.259042 19.426445 200.584388 22.705118 24.335245-11.879562 121.085776-58.936297 180.133613-86.34146 9.91379-4.573155 19.85828-6.92369 29.596062-6.92369 28.748764 0 52.172243 20.642133 58.328453 51.421136 12.599969 62.997799 30.93864 166.70272 35.639708 193.484689 18.851347 19.682271 91.953272 96.031147 135.060045 143.07151C872.72004 487.125473 879.307062 504.71406 876.572788 522.301623L876.572788 522.301623zM825.375755 499.085876C776.017604 445.314205 687.245791 352.977193 686.365748 352.017332c-2.942005-3.069919-4.956895-6.971785-5.676279-11.208273-0.207731-1.215688-22.193465-127.001509-36.551474-198.936865-0.799202-3.917216-4.285606-16.836457-16.196891-16.836457-3.453658 0-7.30743 1.006933-11.464099 2.942005-67.282383 31.179117-183.955662 88.180342-185.170327 88.771813-3.693112 1.790786-7.850805 2.558265-11.975752 2.01489-1.295506-0.224104-133.63765-16.165168-205.988468-23.424502-0.079818 0-0.207731 0-0.287549 0-7.30743 0-11.128455 2.89391-13.319353 5.40408-3.677762 4.124947-5.644557 9.91379-5.068436 15.110139 7.674796 72.623018 24.255427 202.934922 24.463158 204.325595 0.511653 4.109598-0.159636 8.266267-1.966795 11.960403-0.591471 1.215688-57.657164 120.04712-88.339977 187.201589-3.565199 7.754614-4.41352 14.214746-2.350534 18.131963 1.935072 3.725858 6.588045 5.820566 10.360975 6.53995 70.719668 13.718443 204.644867 36.519752 206.036563 36.727483 4.189416 0.671289 8.058536 2.686179 11.112082 5.580089 1.006933 0.87902 96.414887 91.281983 150.090367 139.889027 8.314363 7.563256 13.143345 8.106632 14.437827 8.106632 3.485381 0 8.314363-4.621251 12.727882-12.391215 36.343743-63.828724 100.011808-181.988868 100.636025-183.155437 1.983167-3.64604 5.004991-6.667863 8.650007-8.650007 1.134847-0.671289 114.418936-62.373583 178.6314-99.516528 8.698103-5.036713 14.278191-10.568706 14.94948-14.854313C834.681702 511.845481 831.49922 505.800811 825.375755 499.085876L825.375755 499.085876zM935.333076 935.670256c-4.157693 4.157693-9.689686 6.299473-15.141862 6.299473-5.548366 0-11.048637-2.142803-15.238053-6.299473l-171.915441-171.915441c-8.362458-8.394181-8.362458-21.98471 0-30.426987 8.394181-8.394181 21.98471-8.394181 30.379914 0l171.915441 171.915441C943.727257 913.684522 943.727257 927.275052 935.333076 935.670256L935.333076 935.670256z" fill=currentColor></path> </svg> </div> <div class=toolbar-label>主题切换</div> </div> <div class="toolbar-item back-to-top" onclick=scrollToTop()> <div class=toolbar-icon> <svg class=back-to-top-icon viewbox="0 0 1024 1024" xmlns=http://www.w3.org/2000/svg> <path d="M882.688 624.128l-336.896-583.68c-15.872-27.136-54.784-27.136-70.656 0L138.24 624.128c-15.872 27.136 4.096 61.44 35.328 61.44H317.44c22.528 0 40.96 18.432 40.96 40.96v239.616c0 22.528 18.432 40.96 40.96 40.96h223.232c22.528 0 40.96-18.432 40.96-40.96v-239.616c0-22.528 18.432-40.96 40.96-40.96h143.872c30.208 0 50.176-34.304 34.304-61.44z"> </path> </svg> </div> <div class=toolbar-label>返回顶部</div> </div> </div> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=标签 data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../../index.html class=md-tabs__link> 主页 </a> </li> <li class=md-tabs__item> <a href=../../../intro/intro.html class=md-tabs__link> 网站介绍 </a> </li> <li class=md-tabs__item> <a href=../../../timeline/timeline.html class=md-tabs__link> 网站时间线 </a> </li> <li class=md-tabs__item> <a href=../../../languages/index.html class=md-tabs__link> 编程语言 </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../../../data-structure-algo/index.html class=md-tabs__link> 数据结构与算法 </a> </li> <li class=md-tabs__item> <a href=../../../Linux/index.html class=md-tabs__link> Linux </a> </li> <li class=md-tabs__item> <a href=../../../front-end/index.html class=md-tabs__link> 前端 </a> </li> <li class=md-tabs__item> <a href=../../../MySQL/index.html class=md-tabs__link> MySQL </a> </li> <li class=md-tabs__item> <a href=../../../JavaEE/index.html class=md-tabs__link> JavaEE应用开发 </a> </li> <li class=md-tabs__item> <a href=../../../other/index.html class=md-tabs__link> 扩展知识 </a> </li> <li class=md-tabs__item> <a href=../../../tooltips/index.html class=md-tabs__link> 工具帮助 </a> </li> <li class=md-tabs__item> <a href=../../../test-encrypt/test-encrypt.html class=md-tabs__link> 测试加密功能 </a> </li> <li class=md-tabs__item> <a href=../../../projects/index.html class=md-tabs__link> 项目 </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=导航栏 data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../../index.html title=柯懒的知识库 class="md-nav__button md-logo" aria-label=柯懒的知识库 data-md-component=logo> <img src=../../../assets/logo.png alt=logo> </a> 柯懒的知识库 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../index.html class=md-nav__link> <span class=md-ellipsis> 主页 </span> </a> </li> <li class=md-nav__item> <a href=../../../intro/intro.html class=md-nav__link> <span class=md-ellipsis> 网站介绍 </span> </a> </li> <li class=md-nav__item> <a href=../../../timeline/timeline.html class=md-nav__link> <span class=md-ellipsis> 网站时间线 </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../languages/index.html class=md-nav__link> <span class=md-ellipsis> 编程语言 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5 checked> <div class="md-nav__link md-nav__container"> <a href=../../../data-structure-algo/index.html class="md-nav__link "> <span class=md-ellipsis> 数据结构与算法 </span> </a> <label class="md-nav__link " for=__nav_5 id=__nav_5_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=true> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> 数据结构与算法 </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../data-structure/index.html class=md-nav__link> <span class=md-ellipsis> 数据结构 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_3 checked> <div class="md-nav__link md-nav__container"> <a href=../../index.html class="md-nav__link "> <span class=md-ellipsis> 算法 </span> </a> <label class="md-nav__link " for=__nav_5_3 id=__nav_5_3_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_3_label aria-expanded=true> <label class=md-nav__title for=__nav_5_3> <span class="md-nav__icon md-icon"></span> 算法 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../common/common.html class=md-nav__link> <span class=md-ellipsis> 算法比赛常用内容 </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../array-basic/array-concept/array-concept.html class=md-nav__link> <span class=md-ellipsis> 数组基础篇 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../list/list-concept/list-concept.html class=md-nav__link> <span class=md-ellipsis> 链表篇 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../hash-table/hash-table-concept/hash-table-concept.html class=md-nav__link> <span class=md-ellipsis> 哈希表篇 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../string/string-basic/string-basic.html class=md-nav__link> <span class=md-ellipsis> 字符串篇 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class=md-nav__item> <a href=../../two-pointers/two-pointers.html class=md-nav__link> <span class=md-ellipsis> 双指针 </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../stack-queue/stack-queue-concept/stack-queue-concept.html class=md-nav__link> <span class=md-ellipsis> 栈和队列篇 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_3_9 checked> <label class=md-nav__link for=__nav_5_3_9 id=__nav_5_3_9_label tabindex=0> <span class=md-ellipsis> 递归与二叉树篇 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_5_3_9_label aria-expanded=true> <label class=md-nav__title for=__nav_5_3_9> <span class="md-nav__icon md-icon"></span> 递归与二叉树篇 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../recursion-intro/recursion-intro.html class=md-nav__link> <span class=md-ellipsis> 递归介绍 </span> </a> </li> <li class=md-nav__item> <a href=../binary-tree-concept/binary-tree-concept.html class=md-nav__link> <span class=md-ellipsis> 二叉树理论基础 </span> </a> </li> <li class=md-nav__item> <a href=../binary-tree-traversal/binary-tree-traversal.html class=md-nav__link> <span class=md-ellipsis> 二叉树遍历相关题目 </span> </a> </li> <li class=md-nav__item> <a href=../binary-tree-basic/binary-tree-basic.html class=md-nav__link> <span class=md-ellipsis> 二叉树基础题目 </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> 二叉搜索树相关题目 </span> <span class="md-nav__icon md-icon"></span> </label> <a href=binary-tree-bst.html class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> 二叉搜索树相关题目 </span> </a> <nav class="md-nav md-nav--secondary" aria-label=本节目录> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> 本节目录 </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#_2 class=md-nav__link> <span class=md-ellipsis> 本篇介绍 </span> </a> </li> <li class=md-nav__item> <a href=#700 class=md-nav__link> <span class=md-ellipsis> 力扣700.二叉搜索树中的搜索 </span> </a> </li> <li class=md-nav__item> <a href=#98 class=md-nav__link> <span class=md-ellipsis> 力扣98.验证二叉搜索树 </span> </a> </li> <li class=md-nav__item> <a href=#530 class=md-nav__link> <span class=md-ellipsis> 力扣530.二叉搜索树的最小绝对差 </span> </a> </li> <li class=md-nav__item> <a href=#501 class=md-nav__link> <span class=md-ellipsis> 力扣501.二叉搜索树中的众数 </span> </a> </li> <li class=md-nav__item> <a href=#235 class=md-nav__link> <span class=md-ellipsis> 力扣235.二叉搜索树的最近公共祖先 </span> </a> </li> <li class=md-nav__item> <a href=#701 class=md-nav__link> <span class=md-ellipsis> 力扣701.二叉搜索树中的插入操作 </span> </a> </li> <li class=md-nav__item> <a href=#450 class=md-nav__link> <span class=md-ellipsis> 力扣450.删除二叉搜索树中的节点 </span> </a> </li> <li class=md-nav__item> <a href=#669 class=md-nav__link> <span class=md-ellipsis> 力扣669.修剪二叉搜索树 </span> </a> </li> <li class=md-nav__item> <a href=#108 class=md-nav__link> <span class=md-ellipsis> 力扣108.将有序数组转换为二叉搜索树 </span> </a> </li> <li class=md-nav__item> <a href=#538 class=md-nav__link> <span class=md-ellipsis> 力扣538.把二叉搜索树转换为累加树 </span> </a> </li> <li class=md-nav__item> <a href=#lcr155 class=md-nav__link> <span class=md-ellipsis> 力扣LCR155.将二叉搜索树转化为排序的双向链表 </span> </a> </li> <li class=md-nav__item> <a href=#230k class=md-nav__link> <span class=md-ellipsis> 力扣230.二叉搜索树中第K小的元素 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../recursion-in-regular/recursion-in-regular.html class=md-nav__link> <span class=md-ellipsis> 常规题目中的递归 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../backtracking/backtracking-concept/backtracking-concept.html class=md-nav__link> <span class=md-ellipsis> 回溯篇 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../greedy/greedy-concept/greedy-concept.html class=md-nav__link> <span class=md-ellipsis> 贪心篇 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../dp/dp-concept/dp-concept.html class=md-nav__link> <span class=md-ellipsis> 动态规划篇 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../other/kmp/kmp.html class=md-nav__link> <span class=md-ellipsis> 其他算法 </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../Linux/index.html class=md-nav__link> <span class=md-ellipsis> Linux </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../front-end/index.html class=md-nav__link> <span class=md-ellipsis> 前端 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../MySQL/index.html class=md-nav__link> <span class=md-ellipsis> MySQL </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../JavaEE/index.html class=md-nav__link> <span class=md-ellipsis> JavaEE应用开发 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../other/index.html class=md-nav__link> <span class=md-ellipsis> 扩展知识 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../tooltips/index.html class=md-nav__link> <span class=md-ellipsis> 工具帮助 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../test-encrypt/test-encrypt.html class=md-nav__link> <span class=md-ellipsis> 测试加密功能 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../projects/index.html class=md-nav__link> <span class=md-ellipsis> 项目 </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label=本节目录> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> 本节目录 </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#_2 class=md-nav__link> <span class=md-ellipsis> 本篇介绍 </span> </a> </li> <li class=md-nav__item> <a href=#700 class=md-nav__link> <span class=md-ellipsis> 力扣700.二叉搜索树中的搜索 </span> </a> </li> <li class=md-nav__item> <a href=#98 class=md-nav__link> <span class=md-ellipsis> 力扣98.验证二叉搜索树 </span> </a> </li> <li class=md-nav__item> <a href=#530 class=md-nav__link> <span class=md-ellipsis> 力扣530.二叉搜索树的最小绝对差 </span> </a> </li> <li class=md-nav__item> <a href=#501 class=md-nav__link> <span class=md-ellipsis> 力扣501.二叉搜索树中的众数 </span> </a> </li> <li class=md-nav__item> <a href=#235 class=md-nav__link> <span class=md-ellipsis> 力扣235.二叉搜索树的最近公共祖先 </span> </a> </li> <li class=md-nav__item> <a href=#701 class=md-nav__link> <span class=md-ellipsis> 力扣701.二叉搜索树中的插入操作 </span> </a> </li> <li class=md-nav__item> <a href=#450 class=md-nav__link> <span class=md-ellipsis> 力扣450.删除二叉搜索树中的节点 </span> </a> </li> <li class=md-nav__item> <a href=#669 class=md-nav__link> <span class=md-ellipsis> 力扣669.修剪二叉搜索树 </span> </a> </li> <li class=md-nav__item> <a href=#108 class=md-nav__link> <span class=md-ellipsis> 力扣108.将有序数组转换为二叉搜索树 </span> </a> </li> <li class=md-nav__item> <a href=#538 class=md-nav__link> <span class=md-ellipsis> 力扣538.把二叉搜索树转换为累加树 </span> </a> </li> <li class=md-nav__item> <a href=#lcr155 class=md-nav__link> <span class=md-ellipsis> 力扣LCR155.将二叉搜索树转化为排序的双向链表 </span> </a> </li> <li class=md-nav__item> <a href=#230k class=md-nav__link> <span class=md-ellipsis> 力扣230.二叉搜索树中第K小的元素 </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=_1>二叉搜索树相关题目<a class=headerlink href=#_1 title="Permanent link">&para;</a></h1> <div style="margin-top: -30px; font-size: 0.75em; opacity: 0.7;"> <p><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10h-2a8 8 0 0 1-8 8 8 8 0 0 1-8-8 8 8 0 0 1 8-8zm6.78 1a.7.7 0 0 0-.48.2l-1.22 1.21 2.5 2.5L20.8 5.7c.26-.26.26-.7 0-.95L19.25 3.2c-.13-.13-.3-.2-.47-.2m-2.41 2.12L9 12.5V15h2.5l7.37-7.38z"/></svg></span> 约 4215 个字 <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6m80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3l89.3 89.4-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3"/></svg></span> 753 行代码 <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 17H7V3h14m0-2H7a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2M3 5H1v16a2 2 0 0 0 2 2h16v-2H3m12.96-10.71-2.75 3.54-1.96-2.36L8.5 15h11z"/></svg></span> 22 张图片 <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 20c4.42 0 8-3.58 8-8s-3.58-8-8-8-8 3.58-8 8 3.58 8 8 8m0-18c5.5 0 10 4.5 10 10s-4.5 10-10 10C6.47 22 2 17.5 2 12S6.5 2 12 2m.5 11H11V7h1.5v4.26l3.7-2.13.75 1.3z"/></svg></span> 预计阅读时间 23 分钟</p> </div> <h2 id=_2>本篇介绍<a class=headerlink href=#_2 title="Permanent link">&para;</a></h2> <p>二叉搜索树是一种特殊的二叉树，其有下面的特性：</p> <ol> <li>中序遍历的结果是升序</li> <li>任意节点左子树的所有节点的值都比其根节点的值小</li> <li>任意节点右子树的所有节点的值都比其根节点的值大</li> </ol> <p>根据上面的特性，有些题目虽然可以使用通用的解法，但是如果是二叉搜索树就会有更简洁且高效的解法</p> <h2 id=700>力扣700.二叉搜索树中的搜索<a class=headerlink href=#700 title="Permanent link">&para;</a></h2> <p><a href=https://leetcode.cn/problems/search-in-a-binary-search-tree/description/ >力扣700.二叉搜索树中的搜索</a></p> <p><strong>问题描述：</strong></p> <div class="admonition quote"> <p class=admonition-title>Quote</p> <p>给定二叉搜索树（BST）的根节点<code>root</code>和一个整数值<code>val</code>。</p> <p>你需要在BST中找到节点值等于<code>val</code>的节点。 返回以该节点为根的子树。如果节点不存在，则返回<code>null</code>。</p> <p>示例 1:</p> <p><a class=glightbox href="4. 二叉搜索树相关题目.assets\searchBST1.jpg" data-type=image data-width=100% data-height=auto data-desc-position=bottom><img src="4. 二叉搜索树相关题目.assets\searchBST1.jpg"></a></p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><span class=n>输入</span><span class=err>：</span><span class=n>root</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>[</span><span class=mi>4</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>7</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>3</span><span class=p>],</span><span class=w> </span><span class=n>val</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>2</span>
</span><span id=__span-0-2><span class=n>输出</span><span class=err>：</span><span class=p>[</span><span class=mi>2</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>3</span><span class=p>]</span>
</span></code></pre></div></td></tr></table></div> <p>示例 2:</p> <p><a class=glightbox href="4. 二叉搜索树相关题目.assets\searchBST2.jpg" data-type=image data-width=100% data-height=auto data-desc-position=bottom><img src="4. 二叉搜索树相关题目.assets\searchBST2.jpg"></a></p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-1-1><span class=n>输入</span><span class=err>：</span><span class=n>root</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>[</span><span class=mi>4</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>7</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>3</span><span class=p>],</span><span class=w> </span><span class=n>val</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>5</span>
</span><span id=__span-1-2><span class=n>输出</span><span class=err>：</span><span class=p>[]</span>
</span></code></pre></div></td></tr></table></div> </div> <p><strong>思路分析：</strong></p> <p>本题的基本思路是根据二叉搜索树的特性进行折半查找，但是需要注意，本题虽然说返回的是以查找到的节点的子树，实际上还是返回指定的节点，只是在后台会用这个根节点遍历整棵子树，这一点是不需要刷题者关心的问题</p> <p><strong>参考代码：</strong></p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-2-1><span class=k>class</span><span class=w> </span><span class=nc>Solution700</span>
</span><span id=__span-2-2><span class=p>{</span>
</span><span id=__span-2-3><span class=k>public</span><span class=o>:</span>
</span><span id=__span-2-4><span class=w>    </span><span class=n>TreeNode</span><span class=w> </span><span class=o>*</span><span class=n>searchBST</span><span class=p>(</span><span class=n>TreeNode</span><span class=w> </span><span class=o>*</span><span class=n>root</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>val</span><span class=p>)</span>
</span><span id=__span-2-5><span class=w>    </span><span class=p>{</span>
</span><span id=__span-2-6><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=o>!</span><span class=n>root</span><span class=p>)</span>
</span><span id=__span-2-7><span class=w>            </span><span class=k>return</span><span class=w> </span><span class=k>nullptr</span><span class=p>;</span>
</span><span id=__span-2-8>
</span><span id=__span-2-9><span class=w>        </span><span class=k>else</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>root</span><span class=o>-&gt;</span><span class=n>left</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=n>val</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>root</span><span class=o>-&gt;</span><span class=n>val</span><span class=p>)</span>
</span><span id=__span-2-10><span class=w>            </span><span class=k>return</span><span class=w> </span><span class=n>searchBST</span><span class=p>(</span><span class=n>root</span><span class=o>-&gt;</span><span class=n>left</span><span class=p>,</span><span class=w> </span><span class=n>val</span><span class=p>);</span>
</span><span id=__span-2-11><span class=w>        </span><span class=k>else</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>root</span><span class=o>-&gt;</span><span class=n>right</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=n>val</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=n>root</span><span class=o>-&gt;</span><span class=n>val</span><span class=p>)</span>
</span><span id=__span-2-12><span class=w>            </span><span class=k>return</span><span class=w> </span><span class=n>searchBST</span><span class=p>(</span><span class=n>root</span><span class=o>-&gt;</span><span class=n>right</span><span class=p>,</span><span class=w> </span><span class=n>val</span><span class=p>);</span>
</span><span id=__span-2-13>
</span><span id=__span-2-14><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>root</span><span class=o>-&gt;</span><span class=n>val</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>val</span><span class=w> </span><span class=o>?</span><span class=w> </span><span class=n>root</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=k>nullptr</span><span class=p>;</span>
</span><span id=__span-2-15><span class=w>    </span><span class=p>}</span>
</span><span id=__span-2-16><span class=p>};</span>
</span></code></pre></div></td></tr></table></div> <h2 id=98>力扣98.验证二叉搜索树<a class=headerlink href=#98 title="Permanent link">&para;</a></h2> <p><a href=https://leetcode.cn/problems/validate-binary-search-tree/description/ >力扣98.验证二叉搜索树</a></p> <p><strong>问题描述：</strong></p> <div class="admonition quote"> <p class=admonition-title>Quote</p> <p>给你一个二叉树的根节点<code>root</code>，判断其是否是一个有效的二叉搜索树。</p> <p>有效二叉搜索树定义如下：</p> <ul> <li>节点的左子树只包含小于当前节点的数。</li> <li>节点的右子树只包含大于当前节点的数。</li> <li>所有左子树和右子树自身必须也是二叉搜索树。</li> </ul> <p>示例 1：</p> <p><a class=glightbox href="4. 二叉搜索树相关题目.assets\isvalidBST1.jpg" data-type=image data-width=100% data-height=auto data-desc-position=bottom><img src="4. 二叉搜索树相关题目.assets\isvalidBST1.jpg"></a></p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-3-1><span class=n>输入</span><span class=err>：</span><span class=n>root</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>[</span><span class=mi>2</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>3</span><span class=p>]</span>
</span><span id=__span-3-2><span class=n>输出</span><span class=err>：</span><span class=nb>true</span>
</span></code></pre></div></td></tr></table></div> <p>示例 2：</p> <p><a class=glightbox href="4. 二叉搜索树相关题目.assets\isvalidBST2.jpg" data-type=image data-width=100% data-height=auto data-desc-position=bottom><img src="4. 二叉搜索树相关题目.assets\isvalidBST2.jpg"></a></p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-4-1><span class=n>输入</span><span class=err>：</span><span class=n>root</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>[</span><span class=mi>5</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>4</span><span class=p>,</span><span class=n>null</span><span class=p>,</span><span class=n>null</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=mi>6</span><span class=p>]</span>
</span><span id=__span-4-2><span class=n>输出</span><span class=err>：</span><span class=nb>false</span>
</span><span id=__span-4-3><span class=n>解释</span><span class=err>：</span><span class=n>根节点的值是</span><span class=w> </span><span class=mi>5</span><span class=w> </span><span class=err>，</span><span class=n>但是右子节点的值是</span><span class=w> </span><span class=mi>4</span><span class=w> </span><span class=err>。</span>
</span></code></pre></div></td></tr></table></div> </div> <p><strong>思路分析：</strong></p> <ol> <li> <p>解法1：中序遍历有序+额外空间</p> <p>本题最直接的思路就是根据题目给出的规则模拟，但是不能仅仅只判断单棵子树是否满足二叉搜索树的条件，例如下面的一棵树：</p> <div class="language-text highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Text Only</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-5-1>      5
</span><span id=__span-5-2>  4       6
</span><span id=__span-5-3>       3     7
</span></code></pre></div></td></tr></table></div> <p>这棵树根节点为5，其左子树是4，4&lt;5，右子树为6，6&gt;5，当前子树满足二叉搜索树的条件 再看根节点为6的子树，左子树为3，3&lt;6，右子树为7，7&gt;6，当前子树满足二叉搜索树的条件 但是二叉搜索树除了叫「搜索树」，还叫「排序树」，即其中序遍历的结果是一个升序排序 很明显，当前子树如果进行中序遍历，结果是45367，不满足排序树的特点，所以其不是二叉搜索树 通过上面的例子可以看成，仅仅只判断每一棵子树是否是二叉搜索树不一定保证本题可以通过 最简单的做法就是将二叉树的中序遍历结果插入到数组中，判断数组中的元素是否是升序，如果是那么当前树就是二叉搜索树，否则就不是</p> </li> <li> <p>解法2：双指针</p> <p>使用一个节点记录前一个节点的数值，在遍历二叉树的过程中直接进行比较</p> </li> <li> <p>解法3：双指针+剪枝</p> <p>双指针方案写法和上面的双指针一致，但是如果判断左子树节点不符合就可以直接返回而不再需要再去根节点和右子树，所以可以通过这一步减少一些判断过程，这个优化过程也被称为剪枝</p> </li> </ol> <p><strong>参考代码：</strong></p> <div class="tabbed-set tabbed-alternate" data-tabs=1:3><input checked=checked id=__tabbed_1_1 name=__tabbed_1 type=radio><input id=__tabbed_1_2 name=__tabbed_1 type=radio><input id=__tabbed_1_3 name=__tabbed_1 type=radio><div class=tabbed-labels><label for=__tabbed_1_1>中序遍历有序+额外空间</label><label for=__tabbed_1_2>双指针</label><label for=__tabbed_1_3>双指针+剪枝</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-6-1><span class=k>class</span><span class=w> </span><span class=nc>Solution98_1</span>
</span><span id=__span-6-2><span class=p>{</span>
</span><span id=__span-6-3><span class=k>public</span><span class=o>:</span>
</span><span id=__span-6-4><span class=w>    </span><span class=kt>void</span><span class=w> </span><span class=n>traversal</span><span class=p>(</span><span class=n>TreeNode</span><span class=o>*</span><span class=w> </span><span class=n>root</span><span class=p>,</span><span class=w> </span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span><span class=w> </span><span class=n>ret</span><span class=p>)</span>
</span><span id=__span-6-5><span class=w>    </span><span class=p>{</span>
</span><span id=__span-6-6><span class=w>        </span><span class=k>if</span><span class=p>(</span><span class=o>!</span><span class=n>root</span><span class=p>)</span>
</span><span id=__span-6-7><span class=w>            </span><span class=k>return</span><span class=p>;</span>
</span><span id=__span-6-8>
</span><span id=__span-6-9><span class=w>        </span><span class=n>traversal</span><span class=p>(</span><span class=n>root</span><span class=o>-&gt;</span><span class=n>left</span><span class=p>,</span><span class=w> </span><span class=n>ret</span><span class=p>);</span>
</span><span id=__span-6-10><span class=w>        </span><span class=n>ret</span><span class=p>.</span><span class=n>push_back</span><span class=p>(</span><span class=n>root</span><span class=o>-&gt;</span><span class=n>val</span><span class=p>);</span>
</span><span id=__span-6-11><span class=w>        </span><span class=n>traversal</span><span class=p>(</span><span class=n>root</span><span class=o>-&gt;</span><span class=n>right</span><span class=p>,</span><span class=w> </span><span class=n>ret</span><span class=p>);</span>
</span><span id=__span-6-12><span class=w>    </span><span class=p>}</span>
</span><span id=__span-6-13>
</span><span id=__span-6-14><span class=w>    </span><span class=kt>bool</span><span class=w> </span><span class=n>isValidBST</span><span class=p>(</span><span class=n>TreeNode</span><span class=w> </span><span class=o>*</span><span class=n>root</span><span class=p>)</span>
</span><span id=__span-6-15><span class=w>    </span><span class=p>{</span>
</span><span id=__span-6-16><span class=w>        </span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span><span class=w> </span><span class=n>ret</span><span class=p>;</span>
</span><span id=__span-6-17>
</span><span id=__span-6-18><span class=w>        </span><span class=n>traversal</span><span class=p>(</span><span class=n>root</span><span class=p>,</span><span class=w> </span><span class=n>ret</span><span class=p>);</span>
</span><span id=__span-6-19>
</span><span id=__span-6-20><span class=w>        </span><span class=k>for</span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>ret</span><span class=p>.</span><span class=n>size</span><span class=p>()</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=mi>1</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=o>++</span><span class=p>)</span>
</span><span id=__span-6-21><span class=w>            </span><span class=k>if</span><span class=p>(</span><span class=n>ret</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=n>ret</span><span class=p>[</span><span class=n>i</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>1</span><span class=p>])</span>
</span><span id=__span-6-22><span class=w>                </span><span class=k>return</span><span class=w> </span><span class=nb>false</span><span class=p>;</span>
</span><span id=__span-6-23>
</span><span id=__span-6-24><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=nb>true</span><span class=p>;</span>
</span><span id=__span-6-25><span class=w>    </span><span class=p>}</span>
</span><span id=__span-6-26><span class=p>};</span>
</span></code></pre></div></td></tr></table></div> </div> <div class=tabbed-block> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-7-1><span class=k>class</span><span class=w> </span><span class=nc>Solution98_2</span>
</span><span id=__span-7-2><span class=p>{</span>
</span><span id=__span-7-3><span class=k>public</span><span class=o>:</span>
</span><span id=__span-7-4><span class=w>    </span><span class=n>TreeNode</span><span class=o>*</span><span class=w> </span><span class=n>pre</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>nullptr</span><span class=p>;</span>
</span><span id=__span-7-5><span class=w>    </span><span class=kt>bool</span><span class=w> </span><span class=nf>isValidBST</span><span class=p>(</span><span class=n>TreeNode</span><span class=w> </span><span class=o>*</span><span class=n>root</span><span class=p>)</span>
</span><span id=__span-7-6><span class=w>    </span><span class=p>{</span>
</span><span id=__span-7-7><span class=w>        </span><span class=k>if</span><span class=p>(</span><span class=o>!</span><span class=n>root</span><span class=p>)</span>
</span><span id=__span-7-8><span class=w>            </span><span class=k>return</span><span class=w> </span><span class=nb>true</span><span class=p>;</span>
</span><span id=__span-7-9>
</span><span id=__span-7-10><span class=w>        </span><span class=kt>bool</span><span class=w> </span><span class=n>left</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>isValidBST</span><span class=p>(</span><span class=n>root</span><span class=o>-&gt;</span><span class=n>left</span><span class=p>);</span>
</span><span id=__span-7-11><span class=w>        </span><span class=k>if</span><span class=p>(</span><span class=n>pre</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=n>pre</span><span class=o>-&gt;</span><span class=n>val</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=n>root</span><span class=o>-&gt;</span><span class=n>val</span><span class=p>)</span>
</span><span id=__span-7-12><span class=w>            </span><span class=k>return</span><span class=w> </span><span class=nb>false</span><span class=p>;</span>
</span><span id=__span-7-13>
</span><span id=__span-7-14><span class=w>        </span><span class=c1>// 更新pre为前一个节点</span>
</span><span id=__span-7-15><span class=w>        </span><span class=n>pre</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>root</span><span class=p>;</span>
</span><span id=__span-7-16><span class=w>        </span><span class=kt>bool</span><span class=w> </span><span class=n>right</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>isValidBST</span><span class=p>(</span><span class=n>root</span><span class=o>-&gt;</span><span class=n>right</span><span class=p>);</span>
</span><span id=__span-7-17>
</span><span id=__span-7-18><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>left</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=n>right</span><span class=p>;</span>
</span><span id=__span-7-19><span class=w>    </span><span class=p>}</span>
</span><span id=__span-7-20><span class=p>};</span>
</span></code></pre></div></td></tr></table></div> </div> <div class=tabbed-block> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-8-1><span class=k>class</span><span class=w> </span><span class=nc>Solution98_3</span>
</span><span id=__span-8-2><span class=p>{</span>
</span><span id=__span-8-3><span class=k>public</span><span class=o>:</span>
</span><span id=__span-8-4><span class=w>    </span><span class=n>TreeNode</span><span class=o>*</span><span class=w> </span><span class=n>pre</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>nullptr</span><span class=p>;</span>
</span><span id=__span-8-5><span class=w>    </span><span class=kt>bool</span><span class=w> </span><span class=nf>isValidBST</span><span class=p>(</span><span class=n>TreeNode</span><span class=w> </span><span class=o>*</span><span class=n>root</span><span class=p>)</span>
</span><span id=__span-8-6><span class=w>    </span><span class=p>{</span>
</span><span id=__span-8-7><span class=w>        </span><span class=k>if</span><span class=p>(</span><span class=o>!</span><span class=n>root</span><span class=p>)</span>
</span><span id=__span-8-8><span class=w>            </span><span class=k>return</span><span class=w> </span><span class=nb>true</span><span class=p>;</span>
</span><span id=__span-8-9>
</span><span id=__span-8-10><span class=w>        </span><span class=kt>bool</span><span class=w> </span><span class=n>left</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>isValidBST</span><span class=p>(</span><span class=n>root</span><span class=o>-&gt;</span><span class=n>left</span><span class=p>);</span>
</span><span id=__span-8-11><span class=w>        </span><span class=c1>// 剪枝</span>
</span><span id=__span-8-12><span class=w>        </span><span class=k>if</span><span class=p>(</span><span class=o>!</span><span class=n>left</span><span class=p>)</span>
</span><span id=__span-8-13><span class=w>            </span><span class=k>return</span><span class=w> </span><span class=nb>false</span><span class=p>;</span>
</span><span id=__span-8-14><span class=w>        </span><span class=k>if</span><span class=p>(</span><span class=n>pre</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=n>pre</span><span class=o>-&gt;</span><span class=n>val</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=n>root</span><span class=o>-&gt;</span><span class=n>val</span><span class=p>)</span>
</span><span id=__span-8-15><span class=w>            </span><span class=k>return</span><span class=w> </span><span class=nb>false</span><span class=p>;</span>
</span><span id=__span-8-16>
</span><span id=__span-8-17><span class=w>        </span><span class=c1>// 更新pre为前一个节点</span>
</span><span id=__span-8-18><span class=w>        </span><span class=n>pre</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>root</span><span class=p>;</span>
</span><span id=__span-8-19><span class=w>        </span><span class=kt>bool</span><span class=w> </span><span class=n>right</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>isValidBST</span><span class=p>(</span><span class=n>root</span><span class=o>-&gt;</span><span class=n>right</span><span class=p>);</span>
</span><span id=__span-8-20>
</span><span id=__span-8-21><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>left</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=n>right</span><span class=p>;</span>
</span><span id=__span-8-22><span class=w>    </span><span class=p>}</span>
</span><span id=__span-8-23><span class=p>};</span>
</span></code></pre></div></td></tr></table></div> </div> </div> </div> <h2 id=530>力扣530.二叉搜索树的最小绝对差<a class=headerlink href=#530 title="Permanent link">&para;</a></h2> <p><a href=https://leetcode.cn/problems/minimum-absolute-difference-in-bst/description/ >力扣530.二叉搜索树的最小绝对差</a></p> <p><strong>问题描述：</strong></p> <div class="admonition quote"> <p class=admonition-title>Quote</p> <p>给你一个二叉搜索树的根节点<code>root</code>，返回树中任意两不同节点值之间的最小差值。</p> <p>差值是一个正数，其数值等于两值之差的绝对值。</p> <p>示例 1：</p> <p><a class=glightbox href="4. 二叉搜索树相关题目.assets\bst1.jpg" data-type=image data-width=100% data-height=auto data-desc-position=bottom><img src="4. 二叉搜索树相关题目.assets\bst1.jpg"></a></p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-9-1><span class=n>输入</span><span class=err>：</span><span class=n>root</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>[</span><span class=mi>4</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>6</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>3</span><span class=p>]</span>
</span><span id=__span-9-2><span class=n>输出</span><span class=err>：</span><span class=mi>1</span>
</span></code></pre></div></td></tr></table></div> <p>示例 2：</p> <p><a class=glightbox href="4. 二叉搜索树相关题目.assets\bst2.jpg" data-type=image data-width=100% data-height=auto data-desc-position=bottom><img src="4. 二叉搜索树相关题目.assets\bst2.jpg"></a></p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-10-1><span class=n>输入</span><span class=err>：</span><span class=n>root</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>0</span><span class=p>,</span><span class=mi>48</span><span class=p>,</span><span class=n>null</span><span class=p>,</span><span class=n>null</span><span class=p>,</span><span class=mi>12</span><span class=p>,</span><span class=mi>49</span><span class=p>]</span>
</span><span id=__span-10-2><span class=n>输出</span><span class=err>：</span><span class=mi>1</span>
</span></code></pre></div></td></tr></table></div> </div> <p><strong>思路分析：</strong></p> <p>本题的基本思路是当前节点值减去前一个节点值，取<code>minVal</code>和该值的最小值即可</p> <p><strong>参考代码：</strong></p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-11-1><span class=k>class</span><span class=w> </span><span class=nc>Solution530</span>
</span><span id=__span-11-2><span class=p>{</span>
</span><span id=__span-11-3><span class=k>public</span><span class=o>:</span>
</span><span id=__span-11-4><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>minVal</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>INT_MAX</span><span class=p>;</span>
</span><span id=__span-11-5><span class=w>    </span><span class=n>TreeNode</span><span class=w> </span><span class=o>*</span><span class=n>prev</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>nullptr</span><span class=p>;</span>
</span><span id=__span-11-6>
</span><span id=__span-11-7><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=nf>getMinimumDifference</span><span class=p>(</span><span class=n>TreeNode</span><span class=w> </span><span class=o>*</span><span class=n>root</span><span class=p>)</span>
</span><span id=__span-11-8><span class=w>    </span><span class=p>{</span>
</span><span id=__span-11-9><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=o>!</span><span class=n>root</span><span class=p>)</span>
</span><span id=__span-11-10><span class=w>            </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-11-11>
</span><span id=__span-11-12><span class=w>        </span><span class=n>getMinimumDifference</span><span class=p>(</span><span class=n>root</span><span class=o>-&gt;</span><span class=n>left</span><span class=p>);</span>
</span><span id=__span-11-13><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>prev</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=n>prev</span><span class=o>-&gt;</span><span class=n>val</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=n>root</span><span class=o>-&gt;</span><span class=n>val</span><span class=p>)</span>
</span><span id=__span-11-14><span class=w>            </span><span class=n>minVal</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>min</span><span class=p>(</span><span class=n>minVal</span><span class=p>,</span><span class=w> </span><span class=n>abs</span><span class=p>(</span><span class=n>root</span><span class=o>-&gt;</span><span class=n>val</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=n>prev</span><span class=o>-&gt;</span><span class=n>val</span><span class=p>));</span>
</span><span id=__span-11-15><span class=w>        </span><span class=n>prev</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>root</span><span class=p>;</span>
</span><span id=__span-11-16><span class=w>        </span><span class=n>getMinimumDifference</span><span class=p>(</span><span class=n>root</span><span class=o>-&gt;</span><span class=n>right</span><span class=p>);</span>
</span><span id=__span-11-17>
</span><span id=__span-11-18><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>minVal</span><span class=p>;</span>
</span><span id=__span-11-19><span class=w>    </span><span class=p>}</span>
</span><span id=__span-11-20><span class=p>};</span>
</span></code></pre></div></td></tr></table></div> <h2 id=501>力扣501.二叉搜索树中的众数<a class=headerlink href=#501 title="Permanent link">&para;</a></h2> <p><a href=https://leetcode.cn/problems/find-mode-in-binary-search-tree/description/ >力扣501.二叉搜索树中的众数</a></p> <p><strong>问题描述：</strong></p> <div class="admonition quote"> <p class=admonition-title>Quote</p> <p>给你一个含重复值的二叉搜索树（BST）的根节点<code>root</code>，找出并返回BST中的所有众数（即，出现频率最高的元素）。</p> <p>如果树中有不止一个众数，可以按 任意顺序 返回。</p> <p>假定BST满足如下定义：</p> <ul> <li>结点左子树中所含节点的值小于等于当前节点的值</li> <li>结点右子树中所含节点的值大于等于当前节点的值</li> <li>左子树和右子树都是二叉搜索树</li> </ul> <p>示例 1：</p> <p><a class=glightbox href="4. 二叉搜索树相关题目.assets\mode-tree.jpg" data-type=image data-width=100% data-height=auto data-desc-position=bottom><img src="4. 二叉搜索树相关题目.assets\mode-tree.jpg"></a></p> <p>输入：root = [1,null,2,2] 输出：[2] 示例 2：</p> <p>输入：root = [0] 输出：[0]</p> </div> <p><strong>思路分析：</strong></p> <ol> <li> <p>解法1：中序遍历有序+个数统计</p> <p>本题最直观的思路就是遍历二叉搜索树，将元素依次插入vector，遍历vector使用哈希表统计元素出现的次数，找出出现次数最大的所有元素，这个思路适合于普通的二叉树，所以也同样适合于二叉搜索树</p> </li> <li> <p>解法2：双指针</p> <p>根据二叉搜索树的特性可以保证相同的元素出现在一起，类比有序数组。注意下面示例代码里面的一些处理技巧</p> </li> </ol> <p><strong>参考代码：</strong></p> <div class="tabbed-set tabbed-alternate" data-tabs=2:2><input checked=checked id=__tabbed_2_1 name=__tabbed_2 type=radio><input id=__tabbed_2_2 name=__tabbed_2 type=radio><div class=tabbed-labels><label for=__tabbed_2_1>中序遍历有序+个数统计</label><label for=__tabbed_2_2>双指针</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span>
<span class=normal>39</span>
<span class=normal>40</span>
<span class=normal>41</span>
<span class=normal>42</span>
<span class=normal>43</span>
<span class=normal>44</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-12-1><span class=k>class</span><span class=w> </span><span class=nc>Solution501_1</span>
</span><span id=__span-12-2><span class=p>{</span>
</span><span id=__span-12-3><span class=k>public</span><span class=o>:</span>
</span><span id=__span-12-4><span class=w>    </span><span class=kt>void</span><span class=w> </span><span class=n>traversal</span><span class=p>(</span><span class=n>TreeNode</span><span class=w> </span><span class=o>*</span><span class=n>root</span><span class=p>,</span><span class=w> </span><span class=n>unordered_map</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=o>&gt;</span><span class=w> </span><span class=o>&amp;</span><span class=n>countMap</span><span class=p>)</span>
</span><span id=__span-12-5><span class=w>    </span><span class=p>{</span>
</span><span id=__span-12-6><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=o>!</span><span class=n>root</span><span class=p>)</span>
</span><span id=__span-12-7><span class=w>            </span><span class=k>return</span><span class=p>;</span>
</span><span id=__span-12-8>
</span><span id=__span-12-9><span class=w>        </span><span class=n>traversal</span><span class=p>(</span><span class=n>root</span><span class=o>-&gt;</span><span class=n>left</span><span class=p>,</span><span class=w> </span><span class=n>countMap</span><span class=p>);</span>
</span><span id=__span-12-10><span class=w>        </span><span class=c1>// 统计出现频率</span>
</span><span id=__span-12-11><span class=w>        </span><span class=n>countMap</span><span class=p>[</span><span class=n>root</span><span class=o>-&gt;</span><span class=n>val</span><span class=p>]</span><span class=o>++</span><span class=p>;</span>
</span><span id=__span-12-12><span class=w>        </span><span class=n>traversal</span><span class=p>(</span><span class=n>root</span><span class=o>-&gt;</span><span class=n>right</span><span class=p>,</span><span class=w> </span><span class=n>countMap</span><span class=p>);</span>
</span><span id=__span-12-13><span class=w>    </span><span class=p>}</span>
</span><span id=__span-12-14>
</span><span id=__span-12-15><span class=w>    </span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span><span class=w> </span><span class=n>findMode</span><span class=p>(</span><span class=n>TreeNode</span><span class=w> </span><span class=o>*</span><span class=n>root</span><span class=p>)</span>
</span><span id=__span-12-16><span class=w>    </span><span class=p>{</span>
</span><span id=__span-12-17>
</span><span id=__span-12-18><span class=w>        </span><span class=n>unordered_map</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=o>&gt;</span><span class=w> </span><span class=n>countMap</span><span class=p>;</span>
</span><span id=__span-12-19><span class=w>        </span><span class=n>traversal</span><span class=p>(</span><span class=n>root</span><span class=p>,</span><span class=w> </span><span class=n>countMap</span><span class=p>);</span>
</span><span id=__span-12-20>
</span><span id=__span-12-21><span class=w>        </span><span class=kt>int</span><span class=w> </span><span class=n>maxCount</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-12-22><span class=w>        </span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span><span class=w> </span><span class=n>ret</span><span class=p>;</span>
</span><span id=__span-12-23><span class=w>        </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=k>auto</span><span class=w> </span><span class=o>&amp;</span><span class=n>kv</span><span class=o>:</span><span class=w> </span><span class=n>countMap</span><span class=p>)</span>
</span><span id=__span-12-24><span class=w>        </span><span class=p>{</span>
</span><span id=__span-12-25><span class=w>            </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>kv</span><span class=p>.</span><span class=n>second</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=n>maxCount</span><span class=p>)</span>
</span><span id=__span-12-26><span class=w>                </span><span class=n>maxCount</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>kv</span><span class=p>.</span><span class=n>second</span><span class=p>;</span>
</span><span id=__span-12-27><span class=w>        </span><span class=p>}</span>
</span><span id=__span-12-28>
</span><span id=__span-12-29><span class=w>        </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=k>auto</span><span class=w> </span><span class=o>&amp;</span><span class=n>kv</span><span class=o>:</span><span class=w> </span><span class=n>countMap</span><span class=p>)</span>
</span><span id=__span-12-30><span class=w>        </span><span class=p>{</span>
</span><span id=__span-12-31><span class=w>            </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>kv</span><span class=p>.</span><span class=n>second</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>maxCount</span><span class=p>)</span>
</span><span id=__span-12-32><span class=w>                </span><span class=n>ret</span><span class=p>.</span><span class=n>push_back</span><span class=p>(</span><span class=n>kv</span><span class=p>.</span><span class=n>first</span><span class=p>);</span>
</span><span id=__span-12-33><span class=w>        </span><span class=p>}</span>
</span><span id=__span-12-34>
</span><span id=__span-12-35><span class=w>        </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=k>auto</span><span class=w> </span><span class=o>&amp;</span><span class=n>kv</span><span class=o>:</span><span class=w> </span><span class=n>countMap</span><span class=p>)</span>
</span><span id=__span-12-36><span class=w>        </span><span class=p>{</span>
</span><span id=__span-12-37><span class=w>            </span><span class=c1>// 注意使用find确保当前插入的元素不存在于结果集中</span>
</span><span id=__span-12-38><span class=w>            </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>kv</span><span class=p>.</span><span class=n>second</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>maxCount</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=n>kv</span><span class=p>.</span><span class=n>first</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=n>ret</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=n>find</span><span class=p>(</span><span class=n>ret</span><span class=p>.</span><span class=n>begin</span><span class=p>(),</span><span class=w> </span><span class=n>ret</span><span class=p>.</span><span class=n>end</span><span class=p>(),</span><span class=w> </span><span class=n>kv</span><span class=p>.</span><span class=n>first</span><span class=p>)</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>ret</span><span class=p>.</span><span class=n>end</span><span class=p>())</span>
</span><span id=__span-12-39><span class=w>                </span><span class=n>ret</span><span class=p>.</span><span class=n>push_back</span><span class=p>(</span><span class=n>kv</span><span class=p>.</span><span class=n>first</span><span class=p>);</span>
</span><span id=__span-12-40><span class=w>        </span><span class=p>}</span>
</span><span id=__span-12-41>
</span><span id=__span-12-42><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>ret</span><span class=p>;</span>
</span><span id=__span-12-43><span class=w>    </span><span class=p>}</span>
</span><span id=__span-12-44><span class=p>};</span>
</span></code></pre></div></td></tr></table></div> </div> <div class=tabbed-block> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span>
<span class=normal>39</span>
<span class=normal>40</span>
<span class=normal>41</span>
<span class=normal>42</span>
<span class=normal>43</span>
<span class=normal>44</span>
<span class=normal>45</span>
<span class=normal>46</span>
<span class=normal>47</span>
<span class=normal>48</span>
<span class=normal>49</span>
<span class=normal>50</span>
<span class=normal>51</span>
<span class=normal>52</span>
<span class=normal>53</span>
<span class=normal>54</span>
<span class=normal>55</span>
<span class=normal>56</span>
<span class=normal>57</span>
<span class=normal>58</span>
<span class=normal>59</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-13-1><span class=k>class</span><span class=w> </span><span class=nc>Solution501_2</span>
</span><span id=__span-13-2><span class=p>{</span>
</span><span id=__span-13-3><span class=k>public</span><span class=o>:</span>
</span><span id=__span-13-4><span class=w>    </span><span class=c1>// 记录最大频率</span>
</span><span id=__span-13-5><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>maxCount</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-13-6><span class=w>    </span><span class=c1>// 记录当前元素出现的频率</span>
</span><span id=__span-13-7><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>count</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-13-8><span class=w>    </span><span class=c1>// 结果集</span>
</span><span id=__span-13-9><span class=w>    </span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span><span class=w> </span><span class=n>ret</span><span class=p>;</span>
</span><span id=__span-13-10><span class=w>    </span><span class=c1>// 上一个节点</span>
</span><span id=__span-13-11><span class=w>    </span><span class=n>TreeNode</span><span class=w> </span><span class=o>*</span><span class=n>prev</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>nullptr</span><span class=p>;</span>
</span><span id=__span-13-12>
</span><span id=__span-13-13><span class=w>    </span><span class=kt>void</span><span class=w> </span><span class=nf>traversal</span><span class=p>(</span><span class=n>TreeNode</span><span class=w> </span><span class=o>*</span><span class=n>root</span><span class=p>)</span>
</span><span id=__span-13-14><span class=w>    </span><span class=p>{</span>
</span><span id=__span-13-15><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=o>!</span><span class=n>root</span><span class=p>)</span>
</span><span id=__span-13-16><span class=w>            </span><span class=k>return</span><span class=p>;</span>
</span><span id=__span-13-17>
</span><span id=__span-13-18><span class=w>        </span><span class=c1>// 中序遍历</span>
</span><span id=__span-13-19><span class=w>        </span><span class=n>traversal</span><span class=p>(</span><span class=n>root</span><span class=o>-&gt;</span><span class=n>left</span><span class=p>);</span>
</span><span id=__span-13-20>
</span><span id=__span-13-21><span class=w>        </span><span class=c1>// 中间处理</span>
</span><span id=__span-13-22><span class=w>        </span><span class=c1>// 统计当前元素出现频率</span>
</span><span id=__span-13-23><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>prev</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=k>nullptr</span><span class=p>)</span><span class=w> </span><span class=c1>// 前一个为空元素，说明当前元素一定为新出现的元素，count更新为1</span>
</span><span id=__span-13-24><span class=w>            </span><span class=n>count</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=p>;</span>
</span><span id=__span-13-25><span class=w>        </span><span class=k>else</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>prev</span><span class=o>-&gt;</span><span class=n>val</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>root</span><span class=o>-&gt;</span><span class=n>val</span><span class=p>)</span><span class=w> </span><span class=c1>// 前一个元素和当前元素相等，说明一定是重复元素</span>
</span><span id=__span-13-26><span class=w>            </span><span class=n>count</span><span class=o>++</span><span class=p>;</span>
</span><span id=__span-13-27><span class=w>        </span><span class=k>else</span>
</span><span id=__span-13-28><span class=w>            </span><span class=n>count</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=p>;</span><span class=w> </span><span class=c1>// 前一个元素和当前元素不相等，说明遇到新元素，count更新为1</span>
</span><span id=__span-13-29><span class=w>        </span><span class=c1>// 更新prev</span>
</span><span id=__span-13-30><span class=w>        </span><span class=n>prev</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>root</span><span class=p>;</span>
</span><span id=__span-13-31>
</span><span id=__span-13-32><span class=w>        </span><span class=c1>// 如果count与maxCount相等，说明此时找到了最大出现频率的元素</span>
</span><span id=__span-13-33><span class=w>        </span><span class=c1>// 更新结果集</span>
</span><span id=__span-13-34><span class=w>        </span><span class=c1>// 使用if确保只插入一次满足最大出现频率的元素</span>
</span><span id=__span-13-35><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>count</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>maxCount</span><span class=p>)</span>
</span><span id=__span-13-36><span class=w>            </span><span class=n>ret</span><span class=p>.</span><span class=n>push_back</span><span class=p>(</span><span class=n>root</span><span class=o>-&gt;</span><span class=n>val</span><span class=p>);</span>
</span><span id=__span-13-37>
</span><span id=__span-13-38><span class=w>        </span><span class=c1>// 如果count大于maxCount说明前面已经更新的结果集有误，此时更新maxCount和结果集</span>
</span><span id=__span-13-39><span class=w>        </span><span class=c1>// 通过第二次的更新一定可以满足在当前状态下结果集中是当前出现频率最大的</span>
</span><span id=__span-13-40><span class=w>        </span><span class=c1>// 如果下一次有不同的值但是出现频率与最大频率相同，那么会因为上面的if插入到结果集而不会更新结果集</span>
</span><span id=__span-13-41><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>count</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=n>maxCount</span><span class=p>)</span>
</span><span id=__span-13-42><span class=w>        </span><span class=p>{</span>
</span><span id=__span-13-43><span class=w>            </span><span class=n>maxCount</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>count</span><span class=p>;</span>
</span><span id=__span-13-44><span class=w>            </span><span class=c1>// 清空上一次的结果集</span>
</span><span id=__span-13-45><span class=w>            </span><span class=n>ret</span><span class=p>.</span><span class=n>clear</span><span class=p>();</span>
</span><span id=__span-13-46><span class=w>            </span><span class=c1>// 重新更新结果集</span>
</span><span id=__span-13-47><span class=w>            </span><span class=n>ret</span><span class=p>.</span><span class=n>push_back</span><span class=p>(</span><span class=n>root</span><span class=o>-&gt;</span><span class=n>val</span><span class=p>);</span>
</span><span id=__span-13-48><span class=w>        </span><span class=p>}</span>
</span><span id=__span-13-49>
</span><span id=__span-13-50><span class=w>        </span><span class=n>traversal</span><span class=p>(</span><span class=n>root</span><span class=o>-&gt;</span><span class=n>right</span><span class=p>);</span>
</span><span id=__span-13-51><span class=w>    </span><span class=p>}</span>
</span><span id=__span-13-52>
</span><span id=__span-13-53><span class=w>    </span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span><span class=w> </span><span class=n>findMode</span><span class=p>(</span><span class=n>TreeNode</span><span class=w> </span><span class=o>*</span><span class=n>root</span><span class=p>)</span>
</span><span id=__span-13-54><span class=w>    </span><span class=p>{</span>
</span><span id=__span-13-55><span class=w>        </span><span class=n>traversal</span><span class=p>(</span><span class=n>root</span><span class=p>);</span>
</span><span id=__span-13-56>
</span><span id=__span-13-57><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>ret</span><span class=p>;</span>
</span><span id=__span-13-58><span class=w>    </span><span class=p>}</span>
</span><span id=__span-13-59><span class=p>};</span>
</span></code></pre></div></td></tr></table></div> </div> </div> </div> <h2 id=235>力扣235.二叉搜索树的最近公共祖先<a class=headerlink href=#235 title="Permanent link">&para;</a></h2> <p><a href=https://leetcode.cn/problems/lowest-common-ancestor-of-a-binary-search-tree/description/ >力扣235.二叉搜索树的最近公共祖先</a></p> <p><strong>问题描述：</strong></p> <div class="admonition quote"> <p class=admonition-title>Quote</p> <p>给定一个二叉搜索树, 找到该树中两个指定节点的最近公共祖先。</p> <p>百度百科中最近公共祖先的定义为：“对于有根树T的两个结点<code>p</code>、<code>q</code>，最近公共祖先表示为一个结点<code>x</code>，满足<code>x</code>是<code>p</code>、<code>q</code>的祖先且<code>x</code>的深度尽可能大（一个节点也可以是它自己的祖先）。”</p> <p>例如，给定如下二叉搜索树: <code>root = [6,2,8,0,4,7,9,null,null,3,5]</code></p> <p><a class=glightbox href="4. 二叉搜索树相关题目.assets\binarysearchtree_improved.png" data-type=image data-width=100% data-height=auto data-desc-position=bottom><img src="4. 二叉搜索树相关题目.assets\binarysearchtree_improved.png"></a></p> <p>示例 1:</p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-14-1><span class=nl>输入</span><span class=p>:</span><span class=w> </span><span class=n>root</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>[</span><span class=mi>6</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>8</span><span class=p>,</span><span class=mi>0</span><span class=p>,</span><span class=mi>4</span><span class=p>,</span><span class=mi>7</span><span class=p>,</span><span class=mi>9</span><span class=p>,</span><span class=n>null</span><span class=p>,</span><span class=n>null</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=mi>5</span><span class=p>],</span><span class=w> </span><span class=n>p</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>2</span><span class=p>,</span><span class=w> </span><span class=n>q</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>8</span>
</span><span id=__span-14-2><span class=nl>输出</span><span class=p>:</span><span class=w> </span><span class=mi>6</span><span class=w> </span>
</span><span id=__span-14-3><span class=nl>解释</span><span class=p>:</span><span class=w> </span><span class=n>节点</span><span class=w> </span><span class=mi>2</span><span class=w> </span><span class=n>和节点</span><span class=w> </span><span class=mi>8</span><span class=w> </span><span class=n>的最近公共祖先是</span><span class=w> </span><span class=mi>6</span><span class=err>。</span>
</span></code></pre></div></td></tr></table></div> <p>示例 2:</p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-15-1><span class=nl>输入</span><span class=p>:</span><span class=w> </span><span class=n>root</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>[</span><span class=mi>6</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>8</span><span class=p>,</span><span class=mi>0</span><span class=p>,</span><span class=mi>4</span><span class=p>,</span><span class=mi>7</span><span class=p>,</span><span class=mi>9</span><span class=p>,</span><span class=n>null</span><span class=p>,</span><span class=n>null</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=mi>5</span><span class=p>],</span><span class=w> </span><span class=n>p</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>2</span><span class=p>,</span><span class=w> </span><span class=n>q</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>4</span>
</span><span id=__span-15-2><span class=nl>输出</span><span class=p>:</span><span class=w> </span><span class=mi>2</span>
</span><span id=__span-15-3><span class=nl>解释</span><span class=p>:</span><span class=w> </span><span class=n>节点</span><span class=w> </span><span class=mi>2</span><span class=w> </span><span class=n>和节点</span><span class=w> </span><span class=mi>4</span><span class=w> </span><span class=n>的最近公共祖先是</span><span class=w> </span><span class=mi>2</span><span class=p>,</span><span class=w> </span><span class=n>因为根据定义最近公共祖先节点可以为节点本身</span><span class=err>。</span>
</span></code></pre></div></td></tr></table></div> </div> <p><strong>思路分析：</strong></p> <ol> <li> <p>解法1：针对任何二叉树</p> <p>第一种写法和<a href=https://www.help-doc.top/algorithm/recursion-binary-tree/binary-tree-basic/binary-tree-basic.html#236>二叉树基础题目篇：力扣236</a>的写法2一模一样，因为二叉搜索树本质也是二叉树</p> </li> <li> <p>解法2：二叉搜索树</p> <p>第二种解法就略有不同，因为需要用到二叉搜索树的特性：左子树所有节点均小于根节点，右子树所有节点均大于根节点可以分出下面的三种情况：</p> <ol> <li>当前节点大于<code>p</code>和<code>q</code>，说明最近公共祖先在左子树</li> <li>当前节点小于<code>p</code>和<code>q</code>，说明最近公共祖先在右子树</li> <li>当前节点介于<code>p</code>和<code>q</code>，说明当前节点就是最近公共祖先</li> </ol> <p>注意，不会出现「当前节点介于<code>p</code>和<code>q</code>，说明当前节点不是最近公共祖先」的情况，因为一旦当前节点介于<code>p</code>和<code>q</code>，则左子树一定小于当前节点，右子树一定大于当前节点，那么当前节点不论是向左遍历还是向右遍历都会出现错过一个节点的情况</p> </li> </ol> <p><strong>参考代码：</strong></p> <div class="tabbed-set tabbed-alternate" data-tabs=3:2><input checked=checked id=__tabbed_3_1 name=__tabbed_3 type=radio><input id=__tabbed_3_2 name=__tabbed_3 type=radio><div class=tabbed-labels><label for=__tabbed_3_1>一般二叉树</label><label for=__tabbed_3_2>利用二叉搜索树特性</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-16-1><span class=k>class</span><span class=w> </span><span class=nc>Solution235_1</span>
</span><span id=__span-16-2><span class=p>{</span>
</span><span id=__span-16-3><span class=k>public</span><span class=o>:</span>
</span><span id=__span-16-4><span class=w>    </span><span class=n>TreeNode</span><span class=w> </span><span class=o>*</span><span class=n>lowestCommonAncestor</span><span class=p>(</span><span class=n>TreeNode</span><span class=w> </span><span class=o>*</span><span class=n>root</span><span class=p>,</span><span class=w> </span><span class=n>TreeNode</span><span class=w> </span><span class=o>*</span><span class=n>p</span><span class=p>,</span><span class=w> </span><span class=n>TreeNode</span><span class=w> </span><span class=o>*</span><span class=n>q</span><span class=p>)</span>
</span><span id=__span-16-5><span class=w>    </span><span class=p>{</span>
</span><span id=__span-16-6><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>root</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>p</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>root</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>q</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>root</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=k>nullptr</span><span class=p>)</span>
</span><span id=__span-16-7><span class=w>            </span><span class=k>return</span><span class=w> </span><span class=n>root</span><span class=p>;</span>
</span><span id=__span-16-8>
</span><span id=__span-16-9><span class=w>        </span><span class=n>TreeNode</span><span class=w> </span><span class=o>*</span><span class=n>left</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>lowestCommonAncestor</span><span class=p>(</span><span class=n>root</span><span class=o>-&gt;</span><span class=n>left</span><span class=p>,</span><span class=w> </span><span class=n>p</span><span class=p>,</span><span class=w> </span><span class=n>q</span><span class=p>);</span>
</span><span id=__span-16-10><span class=w>        </span><span class=n>TreeNode</span><span class=w> </span><span class=o>*</span><span class=n>right</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>lowestCommonAncestor</span><span class=p>(</span><span class=n>root</span><span class=o>-&gt;</span><span class=n>right</span><span class=p>,</span><span class=w> </span><span class=n>p</span><span class=p>,</span><span class=w> </span><span class=n>q</span><span class=p>);</span>
</span><span id=__span-16-11>
</span><span id=__span-16-12><span class=w>        </span><span class=c1>// 如果左孩子不为空，右孩子也不为空，说明当前函数栈帧的root的值就是最近公共祖先</span>
</span><span id=__span-16-13><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>left</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=n>right</span><span class=p>)</span>
</span><span id=__span-16-14><span class=w>            </span><span class=k>return</span><span class=w> </span><span class=n>root</span><span class=p>;</span>
</span><span id=__span-16-15><span class=w>        </span><span class=k>else</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=o>!</span><span class=n>left</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=n>right</span><span class=p>)</span><span class=w> </span><span class=c1>// 如果左为空，右不为空，说明还没有找到最近公共祖先，只找到了一棵子树的根</span>
</span><span id=__span-16-16><span class=w>            </span><span class=k>return</span><span class=w> </span><span class=n>right</span><span class=p>;</span>
</span><span id=__span-16-17><span class=w>        </span><span class=k>else</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>left</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=o>!</span><span class=n>right</span><span class=p>)</span><span class=w> </span><span class=c1>// 同上面的情况</span>
</span><span id=__span-16-18><span class=w>            </span><span class=k>return</span><span class=w> </span><span class=n>left</span><span class=p>;</span>
</span><span id=__span-16-19>
</span><span id=__span-16-20><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=k>nullptr</span><span class=p>;</span>
</span><span id=__span-16-21><span class=w>    </span><span class=p>}</span>
</span><span id=__span-16-22><span class=p>};</span>
</span></code></pre></div></td></tr></table></div> </div> <div class=tabbed-block> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-17-1><span class=k>class</span><span class=w> </span><span class=nc>Solution235_2</span>
</span><span id=__span-17-2><span class=p>{</span>
</span><span id=__span-17-3><span class=k>public</span><span class=o>:</span>
</span><span id=__span-17-4><span class=w>    </span><span class=n>TreeNode</span><span class=w> </span><span class=o>*</span><span class=n>lowestCommonAncestor</span><span class=p>(</span><span class=n>TreeNode</span><span class=w> </span><span class=o>*</span><span class=n>root</span><span class=p>,</span><span class=w> </span><span class=n>TreeNode</span><span class=w> </span><span class=o>*</span><span class=n>p</span><span class=p>,</span><span class=w> </span><span class=n>TreeNode</span><span class=w> </span><span class=o>*</span><span class=n>q</span><span class=p>)</span>
</span><span id=__span-17-5><span class=w>    </span><span class=p>{</span>
</span><span id=__span-17-6><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=o>!</span><span class=n>root</span><span class=p>)</span>
</span><span id=__span-17-7><span class=w>            </span><span class=k>return</span><span class=w> </span><span class=n>root</span><span class=p>;</span>
</span><span id=__span-17-8>
</span><span id=__span-17-9><span class=w>        </span><span class=c1>// 如果当前节点的值在p值和q值之间，则说明一定是最进公共祖先，因为如果p和q不在同一个子树</span>
</span><span id=__span-17-10><span class=w>        </span><span class=c1>// 那么根据二叉搜索树定义就会出现：</span>
</span><span id=__span-17-11><span class=w>        </span><span class=c1>// 1. p和q都在当前节点左侧</span>
</span><span id=__span-17-12><span class=w>        </span><span class=c1>// 2. p和q都在当前节点右侧</span>
</span><span id=__span-17-13>
</span><span id=__span-17-14><span class=w>        </span><span class=c1>// 当前节点比p和q都大，走左子树继续找</span>
</span><span id=__span-17-15><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>root</span><span class=o>-&gt;</span><span class=n>val</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=n>p</span><span class=o>-&gt;</span><span class=n>val</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=n>root</span><span class=o>-&gt;</span><span class=n>val</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=n>q</span><span class=o>-&gt;</span><span class=n>val</span><span class=p>)</span>
</span><span id=__span-17-16><span class=w>        </span><span class=p>{</span>
</span><span id=__span-17-17><span class=w>            </span><span class=n>TreeNode</span><span class=w> </span><span class=o>*</span><span class=n>left</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>lowestCommonAncestor</span><span class=p>(</span><span class=n>root</span><span class=o>-&gt;</span><span class=n>left</span><span class=p>,</span><span class=w> </span><span class=n>p</span><span class=p>,</span><span class=w> </span><span class=n>q</span><span class=p>);</span>
</span><span id=__span-17-18><span class=w>            </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>left</span><span class=p>)</span>
</span><span id=__span-17-19><span class=w>                </span><span class=k>return</span><span class=w> </span><span class=n>left</span><span class=p>;</span>
</span><span id=__span-17-20><span class=w>        </span><span class=p>}</span>
</span><span id=__span-17-21>
</span><span id=__span-17-22><span class=w>        </span><span class=c1>// 当前节点比p和q都小，走右子树继续找</span>
</span><span id=__span-17-23><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>root</span><span class=o>-&gt;</span><span class=n>val</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>p</span><span class=o>-&gt;</span><span class=n>val</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=n>root</span><span class=o>-&gt;</span><span class=n>val</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>q</span><span class=o>-&gt;</span><span class=n>val</span><span class=p>)</span>
</span><span id=__span-17-24><span class=w>        </span><span class=p>{</span>
</span><span id=__span-17-25><span class=w>            </span><span class=n>TreeNode</span><span class=w> </span><span class=o>*</span><span class=n>right</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>lowestCommonAncestor</span><span class=p>(</span><span class=n>root</span><span class=o>-&gt;</span><span class=n>right</span><span class=p>,</span><span class=w> </span><span class=n>p</span><span class=p>,</span><span class=w> </span><span class=n>q</span><span class=p>);</span>
</span><span id=__span-17-26><span class=w>            </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>right</span><span class=p>)</span>
</span><span id=__span-17-27><span class=w>                </span><span class=k>return</span><span class=w> </span><span class=n>right</span><span class=p>;</span>
</span><span id=__span-17-28><span class=w>        </span><span class=p>}</span>
</span><span id=__span-17-29>
</span><span id=__span-17-30><span class=w>        </span><span class=c1>// 如果不满足上面三个if，说明当前节点就在p和q中间，即为最近公共祖先</span>
</span><span id=__span-17-31><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>root</span><span class=p>;</span>
</span><span id=__span-17-32><span class=w>    </span><span class=p>}</span>
</span><span id=__span-17-33><span class=p>};</span>
</span></code></pre></div></td></tr></table></div> </div> </div> </div> <h2 id=701>力扣701.二叉搜索树中的插入操作<a class=headerlink href=#701 title="Permanent link">&para;</a></h2> <p><a href=https://leetcode.cn/problems/insert-into-a-binary-search-tree/description/ >力扣701.二叉搜索树中的插入操作</a></p> <p><strong>问题描述：</strong></p> <div class="admonition quote"> <p class=admonition-title>Quote</p> <p>给定二叉搜索树（BST）的根节点<code>root</code>和要插入树中的值<code>value</code>，将值插入二叉搜索树。返回插入后二叉搜索树的根节点。输入数据保证新值和原始二叉搜索树中的任意节点值都不同。</p> <p>注意，可能存在多种有效的插入方式，只要树在插入后仍保持为二叉搜索树即可。你可以返回任意有效的结果。</p> <p>示例 1：</p> <p><a class=glightbox href="4. 二叉搜索树相关题目.assets\insertbst.jpg" data-type=image data-width=100% data-height=auto data-desc-position=bottom><img src="4. 二叉搜索树相关题目.assets\insertbst.jpg"></a></p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-18-1><span class=n>输入</span><span class=err>：</span><span class=n>root</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>[</span><span class=mi>4</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>7</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>3</span><span class=p>],</span><span class=w> </span><span class=n>val</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>5</span>
</span><span id=__span-18-2><span class=n>输出</span><span class=err>：</span><span class=p>[</span><span class=mi>4</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>7</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=mi>5</span><span class=p>]</span>
</span></code></pre></div></td></tr></table></div> <p>解释：另一个满足题目要求可以通过的树是：</p> <p><a class=glightbox href="4. 二叉搜索树相关题目.assets\bst.jpg" data-type=image data-width=100% data-height=auto data-desc-position=bottom><img src="4. 二叉搜索树相关题目.assets\bst.jpg"></a></p> <p>示例 2：</p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-19-1><span class=n>输入</span><span class=err>：</span><span class=n>root</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>[</span><span class=mi>40</span><span class=p>,</span><span class=mi>20</span><span class=p>,</span><span class=mi>60</span><span class=p>,</span><span class=mi>10</span><span class=p>,</span><span class=mi>30</span><span class=p>,</span><span class=mi>50</span><span class=p>,</span><span class=mi>70</span><span class=p>],</span><span class=w> </span><span class=n>val</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>25</span>
</span><span id=__span-19-2><span class=n>输出</span><span class=err>：</span><span class=p>[</span><span class=mi>40</span><span class=p>,</span><span class=mi>20</span><span class=p>,</span><span class=mi>60</span><span class=p>,</span><span class=mi>10</span><span class=p>,</span><span class=mi>30</span><span class=p>,</span><span class=mi>50</span><span class=p>,</span><span class=mi>70</span><span class=p>,</span><span class=n>null</span><span class=p>,</span><span class=n>null</span><span class=p>,</span><span class=mi>25</span><span class=p>]</span>
</span></code></pre></div></td></tr></table></div> <p>示例 3：</p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-20-1><span class=n>输入</span><span class=err>：</span><span class=n>root</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>[</span><span class=mi>4</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>7</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=n>null</span><span class=p>,</span><span class=n>null</span><span class=p>,</span><span class=n>null</span><span class=p>,</span><span class=n>null</span><span class=p>,</span><span class=n>null</span><span class=p>,</span><span class=n>null</span><span class=p>],</span><span class=w> </span><span class=n>val</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>5</span>
</span><span id=__span-20-2><span class=n>输出</span><span class=err>：</span><span class=p>[</span><span class=mi>4</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>7</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=mi>5</span><span class=p>]</span>
</span></code></pre></div></td></tr></table></div> </div> <p><strong>思路分析：</strong></p> <p>二叉搜索树的插入相对容易，只需要根据二叉搜索树的性质遍历二叉树找到合适的插入位置插入节点即可</p> <p><strong>参考代码：</strong></p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-21-1><span class=k>class</span><span class=w> </span><span class=nc>Solution701</span>
</span><span id=__span-21-2><span class=p>{</span>
</span><span id=__span-21-3><span class=k>public</span><span class=o>:</span>
</span><span id=__span-21-4><span class=w>    </span><span class=n>TreeNode</span><span class=w> </span><span class=o>*</span><span class=n>insertIntoBST</span><span class=p>(</span><span class=n>TreeNode</span><span class=w> </span><span class=o>*</span><span class=n>root</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>val</span><span class=p>)</span>
</span><span id=__span-21-5><span class=w>    </span><span class=p>{</span>
</span><span id=__span-21-6><span class=w>        </span><span class=c1>// 根节点为空，则当前节点作为根节点</span>
</span><span id=__span-21-7><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=o>!</span><span class=n>root</span><span class=p>)</span>
</span><span id=__span-21-8><span class=w>            </span><span class=k>return</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>TreeNode</span><span class=p>(</span><span class=n>val</span><span class=p>);</span>
</span><span id=__span-21-9>
</span><span id=__span-21-10><span class=w>        </span><span class=n>TreeNode</span><span class=w> </span><span class=o>*</span><span class=n>cur</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>root</span><span class=p>;</span>
</span><span id=__span-21-11><span class=w>        </span><span class=c1>// 记录前一个节点</span>
</span><span id=__span-21-12><span class=w>        </span><span class=n>TreeNode</span><span class=w> </span><span class=o>*</span><span class=n>prev</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>nullptr</span><span class=p>;</span>
</span><span id=__span-21-13><span class=w>        </span><span class=k>while</span><span class=w> </span><span class=p>(</span><span class=n>cur</span><span class=p>)</span>
</span><span id=__span-21-14><span class=w>        </span><span class=p>{</span>
</span><span id=__span-21-15><span class=w>            </span><span class=c1>// 当前节点的值小于val，走到右子树</span>
</span><span id=__span-21-16><span class=w>            </span><span class=n>prev</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>cur</span><span class=p>;</span>
</span><span id=__span-21-17><span class=w>            </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>cur</span><span class=o>-&gt;</span><span class=n>val</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>val</span><span class=p>)</span>
</span><span id=__span-21-18><span class=w>                </span><span class=n>cur</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>cur</span><span class=o>-&gt;</span><span class=n>right</span><span class=p>;</span>
</span><span id=__span-21-19><span class=w>            </span><span class=k>else</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>cur</span><span class=o>-&gt;</span><span class=n>val</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=n>val</span><span class=p>)</span><span class=w> </span><span class=c1>// 当前节点的值小于val，走到左子树</span>
</span><span id=__span-21-20><span class=w>                </span><span class=n>cur</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>cur</span><span class=o>-&gt;</span><span class=n>left</span><span class=p>;</span>
</span><span id=__span-21-21><span class=w>        </span><span class=p>}</span>
</span><span id=__span-21-22>
</span><span id=__span-21-23><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>val</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>prev</span><span class=o>-&gt;</span><span class=n>val</span><span class=p>)</span>
</span><span id=__span-21-24><span class=w>            </span><span class=n>prev</span><span class=o>-&gt;</span><span class=n>left</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>TreeNode</span><span class=p>(</span><span class=n>val</span><span class=p>);</span>
</span><span id=__span-21-25><span class=w>        </span><span class=k>else</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>val</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=n>prev</span><span class=o>-&gt;</span><span class=n>val</span><span class=p>)</span>
</span><span id=__span-21-26><span class=w>            </span><span class=n>prev</span><span class=o>-&gt;</span><span class=n>right</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>TreeNode</span><span class=p>(</span><span class=n>val</span><span class=p>);</span>
</span><span id=__span-21-27>
</span><span id=__span-21-28><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>root</span><span class=p>;</span>
</span><span id=__span-21-29><span class=w>    </span><span class=p>}</span>
</span><span id=__span-21-30><span class=p>};</span>
</span></code></pre></div></td></tr></table></div> <h2 id=450>力扣450.删除二叉搜索树中的节点<a class=headerlink href=#450 title="Permanent link">&para;</a></h2> <p><a href=https://leetcode.cn/problems/delete-node-in-a-bst/description/ >力扣450.删除二叉搜索树中的节点</a></p> <p><strong>问题描述：</strong></p> <div class="admonition quote"> <p class=admonition-title>Quote</p> <p>给定一个二叉搜索树的根节点<code>root</code>和一个值<code>key</code>，删除二叉搜索树中的<code>key</code>对应的节点，并保证二叉搜索树的性质不变。返回二叉搜索树（有可能被更新）的根节点的引用。</p> <p>一般来说，删除节点可分为两个步骤：</p> <ol> <li>首先找到需要删除的节点；</li> <li>如果找到了，删除它。</li> </ol> <p>示例 1:</p> <p><a class=glightbox href="4. 二叉搜索树相关题目.assets\del_node_1.jpg" data-type=image data-width=100% data-height=auto data-desc-position=bottom><img src="4. 二叉搜索树相关题目.assets\del_node_1.jpg"></a></p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-22-1><span class=n>输入</span><span class=err>：</span><span class=n>root</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>[</span><span class=mi>5</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=mi>6</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>4</span><span class=p>,</span><span class=n>null</span><span class=p>,</span><span class=mi>7</span><span class=p>],</span><span class=w> </span><span class=n>key</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>3</span>
</span><span id=__span-22-2><span class=n>输出</span><span class=err>：</span><span class=p>[</span><span class=mi>5</span><span class=p>,</span><span class=mi>4</span><span class=p>,</span><span class=mi>6</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=n>null</span><span class=p>,</span><span class=n>null</span><span class=p>,</span><span class=mi>7</span><span class=p>]</span>
</span></code></pre></div></td></tr></table></div> <p>解释：给定需要删除的节点值是 3，所以我们首先找到 3 这个节点，然后删除它。 一个正确的答案是<code>[5,4,6,2,null,null,7]</code>，如上图所示。 另一个正确答案是<code>[5,2,6,null,4,null,7]</code>，如下图所示。</p> <p><a class=glightbox href="4. 二叉搜索树相关题目.assets\del_node_supp.jpg" data-type=image data-width=100% data-height=auto data-desc-position=bottom><img src="4. 二叉搜索树相关题目.assets\del_node_supp.jpg"></a></p> <p>示例 2:</p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-23-1><span class=nl>输入</span><span class=p>:</span><span class=w> </span><span class=n>root</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>[</span><span class=mi>5</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=mi>6</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>4</span><span class=p>,</span><span class=n>null</span><span class=p>,</span><span class=mi>7</span><span class=p>],</span><span class=w> </span><span class=n>key</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span>
</span><span id=__span-23-2><span class=nl>输出</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=mi>5</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=mi>6</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>4</span><span class=p>,</span><span class=n>null</span><span class=p>,</span><span class=mi>7</span><span class=p>]</span>
</span><span id=__span-23-3><span class=nl>解释</span><span class=p>:</span><span class=w> </span><span class=n>二叉树不包含值为</span><span class=w> </span><span class=mi>0</span><span class=w> </span><span class=n>的节点</span>
</span></code></pre></div></td></tr></table></div> <p>示例 3:</p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-24-1><span class=nl>输入</span><span class=p>:</span><span class=w> </span><span class=n>root</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>[],</span><span class=w> </span><span class=n>key</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span>
</span><span id=__span-24-2><span class=nl>输出</span><span class=p>:</span><span class=w> </span><span class=p>[]</span>
</span></code></pre></div></td></tr></table></div> </div> <p><strong>思路分析：</strong></p> <p>见<a href=https://www.help-doc.top/data-structure/binary-search-tree/binary-search-tree.html#_8>数据结构：二叉搜索树篇</a></p> <p><strong>参考代码：</strong></p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>  1</span>
<span class=normal>  2</span>
<span class=normal>  3</span>
<span class=normal>  4</span>
<span class=normal>  5</span>
<span class=normal>  6</span>
<span class=normal>  7</span>
<span class=normal>  8</span>
<span class=normal>  9</span>
<span class=normal> 10</span>
<span class=normal> 11</span>
<span class=normal> 12</span>
<span class=normal> 13</span>
<span class=normal> 14</span>
<span class=normal> 15</span>
<span class=normal> 16</span>
<span class=normal> 17</span>
<span class=normal> 18</span>
<span class=normal> 19</span>
<span class=normal> 20</span>
<span class=normal> 21</span>
<span class=normal> 22</span>
<span class=normal> 23</span>
<span class=normal> 24</span>
<span class=normal> 25</span>
<span class=normal> 26</span>
<span class=normal> 27</span>
<span class=normal> 28</span>
<span class=normal> 29</span>
<span class=normal> 30</span>
<span class=normal> 31</span>
<span class=normal> 32</span>
<span class=normal> 33</span>
<span class=normal> 34</span>
<span class=normal> 35</span>
<span class=normal> 36</span>
<span class=normal> 37</span>
<span class=normal> 38</span>
<span class=normal> 39</span>
<span class=normal> 40</span>
<span class=normal> 41</span>
<span class=normal> 42</span>
<span class=normal> 43</span>
<span class=normal> 44</span>
<span class=normal> 45</span>
<span class=normal> 46</span>
<span class=normal> 47</span>
<span class=normal> 48</span>
<span class=normal> 49</span>
<span class=normal> 50</span>
<span class=normal> 51</span>
<span class=normal> 52</span>
<span class=normal> 53</span>
<span class=normal> 54</span>
<span class=normal> 55</span>
<span class=normal> 56</span>
<span class=normal> 57</span>
<span class=normal> 58</span>
<span class=normal> 59</span>
<span class=normal> 60</span>
<span class=normal> 61</span>
<span class=normal> 62</span>
<span class=normal> 63</span>
<span class=normal> 64</span>
<span class=normal> 65</span>
<span class=normal> 66</span>
<span class=normal> 67</span>
<span class=normal> 68</span>
<span class=normal> 69</span>
<span class=normal> 70</span>
<span class=normal> 71</span>
<span class=normal> 72</span>
<span class=normal> 73</span>
<span class=normal> 74</span>
<span class=normal> 75</span>
<span class=normal> 76</span>
<span class=normal> 77</span>
<span class=normal> 78</span>
<span class=normal> 79</span>
<span class=normal> 80</span>
<span class=normal> 81</span>
<span class=normal> 82</span>
<span class=normal> 83</span>
<span class=normal> 84</span>
<span class=normal> 85</span>
<span class=normal> 86</span>
<span class=normal> 87</span>
<span class=normal> 88</span>
<span class=normal> 89</span>
<span class=normal> 90</span>
<span class=normal> 91</span>
<span class=normal> 92</span>
<span class=normal> 93</span>
<span class=normal> 94</span>
<span class=normal> 95</span>
<span class=normal> 96</span>
<span class=normal> 97</span>
<span class=normal> 98</span>
<span class=normal> 99</span>
<span class=normal>100</span>
<span class=normal>101</span>
<span class=normal>102</span>
<span class=normal>103</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-25-1><span class=k>class</span><span class=w> </span><span class=nc>Solution450</span>
</span><span id=__span-25-2><span class=p>{</span>
</span><span id=__span-25-3><span class=k>public</span><span class=o>:</span>
</span><span id=__span-25-4><span class=w>    </span><span class=c1>// 判断查找的节点是否存在于BST中</span>
</span><span id=__span-25-5><span class=w>    </span><span class=kt>bool</span><span class=w> </span><span class=n>find</span><span class=p>(</span><span class=n>TreeNode</span><span class=w> </span><span class=o>*</span><span class=n>root</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>key</span><span class=p>)</span>
</span><span id=__span-25-6><span class=w>    </span><span class=p>{</span>
</span><span id=__span-25-7><span class=w>        </span><span class=n>TreeNode</span><span class=w> </span><span class=o>*</span><span class=n>cur</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>root</span><span class=p>;</span>
</span><span id=__span-25-8><span class=w>        </span><span class=k>while</span><span class=w> </span><span class=p>(</span><span class=n>cur</span><span class=p>)</span>
</span><span id=__span-25-9><span class=w>        </span><span class=p>{</span>
</span><span id=__span-25-10><span class=w>            </span><span class=c1>// 当前节点偏大，走左子树</span>
</span><span id=__span-25-11><span class=w>            </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>cur</span><span class=o>-&gt;</span><span class=n>val</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=n>key</span><span class=p>)</span>
</span><span id=__span-25-12><span class=w>                </span><span class=n>cur</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>cur</span><span class=o>-&gt;</span><span class=n>left</span><span class=p>;</span>
</span><span id=__span-25-13><span class=w>            </span><span class=k>else</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>cur</span><span class=o>-&gt;</span><span class=n>val</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>key</span><span class=p>)</span><span class=w> </span><span class=c1>// 当前节点偏小，走右子树</span>
</span><span id=__span-25-14><span class=w>                </span><span class=n>cur</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>cur</span><span class=o>-&gt;</span><span class=n>right</span><span class=p>;</span>
</span><span id=__span-25-15><span class=w>            </span><span class=k>else</span>
</span><span id=__span-25-16><span class=w>                </span><span class=k>return</span><span class=w> </span><span class=nb>true</span><span class=p>;</span><span class=w> </span><span class=c1>// 找到返回true</span>
</span><span id=__span-25-17><span class=w>        </span><span class=p>}</span>
</span><span id=__span-25-18>
</span><span id=__span-25-19><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=nb>false</span><span class=p>;</span><span class=w> </span><span class=c1>// 循环走完说明没找到</span>
</span><span id=__span-25-20><span class=w>    </span><span class=p>}</span>
</span><span id=__span-25-21><span class=w>    </span><span class=n>TreeNode</span><span class=w> </span><span class=o>*</span><span class=n>deleteNode</span><span class=p>(</span><span class=n>TreeNode</span><span class=w> </span><span class=o>*</span><span class=n>root</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>key</span><span class=p>)</span>
</span><span id=__span-25-22><span class=w>    </span><span class=p>{</span>
</span><span id=__span-25-23><span class=w>        </span><span class=c1>// 根节点为空不执行或者不存在指定的key则返回空删除</span>
</span><span id=__span-25-24><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=o>!</span><span class=n>root</span><span class=p>)</span>
</span><span id=__span-25-25><span class=w>            </span><span class=k>return</span><span class=w> </span><span class=k>nullptr</span><span class=p>;</span>
</span><span id=__span-25-26>
</span><span id=__span-25-27><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=o>!</span><span class=n>find</span><span class=p>(</span><span class=n>root</span><span class=p>,</span><span class=w> </span><span class=n>key</span><span class=p>))</span>
</span><span id=__span-25-28><span class=w>            </span><span class=k>return</span><span class=w> </span><span class=n>root</span><span class=p>;</span>
</span><span id=__span-25-29>
</span><span id=__span-25-30><span class=w>        </span><span class=c1>// 先查找到指定节点</span>
</span><span id=__span-25-31><span class=w>        </span><span class=n>TreeNode</span><span class=w> </span><span class=o>*</span><span class=n>cur</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>root</span><span class=p>;</span>
</span><span id=__span-25-32><span class=w>        </span><span class=n>TreeNode</span><span class=w> </span><span class=o>*</span><span class=n>prev</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>prev</span><span class=p>;</span>
</span><span id=__span-25-33>
</span><span id=__span-25-34><span class=w>        </span><span class=k>while</span><span class=w> </span><span class=p>(</span><span class=n>cur</span><span class=p>)</span>
</span><span id=__span-25-35><span class=w>        </span><span class=p>{</span>
</span><span id=__span-25-36><span class=w>            </span><span class=c1>// 记录当前节点</span>
</span><span id=__span-25-37><span class=w>            </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>cur</span><span class=o>-&gt;</span><span class=n>val</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=n>key</span><span class=p>)</span>
</span><span id=__span-25-38><span class=w>            </span><span class=p>{</span>
</span><span id=__span-25-39><span class=w>                </span><span class=c1>// 注意prev的位置要在if里面</span>
</span><span id=__span-25-40><span class=w>                </span><span class=c1>// 防止出现下一次cur为待删除的节点时，prev也变成了当前待删除的节点</span>
</span><span id=__span-25-41><span class=w>                </span><span class=n>prev</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>cur</span><span class=p>;</span>
</span><span id=__span-25-42><span class=w>                </span><span class=n>cur</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>cur</span><span class=o>-&gt;</span><span class=n>left</span><span class=p>;</span>
</span><span id=__span-25-43><span class=w>            </span><span class=p>}</span>
</span><span id=__span-25-44><span class=w>            </span><span class=k>else</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>cur</span><span class=o>-&gt;</span><span class=n>val</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>key</span><span class=p>)</span>
</span><span id=__span-25-45><span class=w>            </span><span class=p>{</span>
</span><span id=__span-25-46><span class=w>                </span><span class=n>prev</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>cur</span><span class=p>;</span>
</span><span id=__span-25-47><span class=w>                </span><span class=n>cur</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>cur</span><span class=o>-&gt;</span><span class=n>right</span><span class=p>;</span>
</span><span id=__span-25-48><span class=w>            </span><span class=p>}</span>
</span><span id=__span-25-49><span class=w>            </span><span class=k>else</span><span class=w> </span><span class=c1>// 相等时执行删除</span>
</span><span id=__span-25-50><span class=w>            </span><span class=p>{</span>
</span><span id=__span-25-51><span class=w>                </span><span class=c1>// 第一种和第二种情况</span>
</span><span id=__span-25-52><span class=w>                </span><span class=c1>// 如果当前节点的左孩子为空</span>
</span><span id=__span-25-53><span class=w>                </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=o>!</span><span class=n>cur</span><span class=o>-&gt;</span><span class=n>left</span><span class=p>)</span>
</span><span id=__span-25-54><span class=w>                </span><span class=p>{</span>
</span><span id=__span-25-55><span class=w>                    </span><span class=c1>// 注意根节点为待删除的数值时需要单独考虑</span>
</span><span id=__span-25-56><span class=w>                    </span><span class=k>if</span><span class=p>(</span><span class=n>cur</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>root</span><span class=p>)</span>
</span><span id=__span-25-57><span class=w>                        </span><span class=n>root</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>cur</span><span class=o>-&gt;</span><span class=n>right</span><span class=p>;</span>
</span><span id=__span-25-58><span class=w>                    </span><span class=k>else</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>prev</span><span class=o>-&gt;</span><span class=n>left</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>cur</span><span class=p>)</span><span class=w> </span><span class=c1>// 判断当前节点是其父亲节点的左孩子还是右孩子</span>
</span><span id=__span-25-59><span class=w>                        </span><span class=n>prev</span><span class=o>-&gt;</span><span class=n>left</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>cur</span><span class=o>-&gt;</span><span class=n>right</span><span class=p>;</span>
</span><span id=__span-25-60><span class=w>                    </span><span class=k>else</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>prev</span><span class=o>-&gt;</span><span class=n>right</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>cur</span><span class=p>)</span>
</span><span id=__span-25-61><span class=w>                        </span><span class=n>prev</span><span class=o>-&gt;</span><span class=n>right</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>cur</span><span class=o>-&gt;</span><span class=n>right</span><span class=p>;</span>
</span><span id=__span-25-62><span class=w>                    </span><span class=k>delete</span><span class=w> </span><span class=n>cur</span><span class=p>;</span>
</span><span id=__span-25-63><span class=w>                </span><span class=p>}</span>
</span><span id=__span-25-64><span class=w>                </span><span class=k>else</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=o>!</span><span class=n>cur</span><span class=o>-&gt;</span><span class=n>right</span><span class=p>)</span>
</span><span id=__span-25-65><span class=w>                </span><span class=p>{</span>
</span><span id=__span-25-66><span class=w>                    </span><span class=c1>// 注意根节点为待删除的数值时需要单独考虑</span>
</span><span id=__span-25-67><span class=w>                    </span><span class=k>if</span><span class=p>(</span><span class=n>cur</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>root</span><span class=p>)</span>
</span><span id=__span-25-68><span class=w>                        </span><span class=n>root</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>cur</span><span class=o>-&gt;</span><span class=n>left</span><span class=p>;</span>
</span><span id=__span-25-69><span class=w>                    </span><span class=k>else</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>prev</span><span class=o>-&gt;</span><span class=n>left</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>cur</span><span class=p>)</span>
</span><span id=__span-25-70><span class=w>                        </span><span class=n>prev</span><span class=o>-&gt;</span><span class=n>left</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>cur</span><span class=o>-&gt;</span><span class=n>left</span><span class=p>;</span>
</span><span id=__span-25-71><span class=w>                    </span><span class=k>else</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>prev</span><span class=o>-&gt;</span><span class=n>right</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>cur</span><span class=p>)</span>
</span><span id=__span-25-72><span class=w>                        </span><span class=n>prev</span><span class=o>-&gt;</span><span class=n>right</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>cur</span><span class=o>-&gt;</span><span class=n>left</span><span class=p>;</span>
</span><span id=__span-25-73><span class=w>                    </span><span class=k>delete</span><span class=w> </span><span class=n>cur</span><span class=p>;</span>
</span><span id=__span-25-74><span class=w>                </span><span class=p>}</span>
</span><span id=__span-25-75><span class=w>                </span><span class=k>else</span>
</span><span id=__span-25-76><span class=w>                </span><span class=p>{</span>
</span><span id=__span-25-77><span class=w>                    </span><span class=c1>// 第三种情况</span>
</span><span id=__span-25-78><span class=w>                    </span><span class=c1>// 先找到待删除节点的右孩子的最左孩子</span>
</span><span id=__span-25-79><span class=w>                    </span><span class=n>TreeNode</span><span class=w> </span><span class=o>*</span><span class=n>replaceNode</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>cur</span><span class=o>-&gt;</span><span class=n>right</span><span class=p>;</span>
</span><span id=__span-25-80><span class=w>                    </span><span class=n>TreeNode</span><span class=w> </span><span class=o>*</span><span class=n>replaceNodePrev</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>cur</span><span class=p>;</span>
</span><span id=__span-25-81>
</span><span id=__span-25-82><span class=w>                    </span><span class=k>while</span><span class=w> </span><span class=p>(</span><span class=n>replaceNode</span><span class=o>-&gt;</span><span class=n>left</span><span class=p>)</span>
</span><span id=__span-25-83><span class=w>                    </span><span class=p>{</span>
</span><span id=__span-25-84><span class=w>                        </span><span class=n>replaceNodePrev</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>replaceNode</span><span class=p>;</span>
</span><span id=__span-25-85><span class=w>                        </span><span class=n>replaceNode</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>replaceNode</span><span class=o>-&gt;</span><span class=n>left</span><span class=p>;</span>
</span><span id=__span-25-86><span class=w>                    </span><span class=p>}</span>
</span><span id=__span-25-87>
</span><span id=__span-25-88><span class=w>                    </span><span class=c1>// 将待删除节点的值替换为右孩子的最左孩子的值</span>
</span><span id=__span-25-89><span class=w>                    </span><span class=n>cur</span><span class=o>-&gt;</span><span class=n>val</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>replaceNode</span><span class=o>-&gt;</span><span class=n>val</span><span class=p>;</span>
</span><span id=__span-25-90><span class=w>                    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>replaceNode</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>replaceNodePrev</span><span class=o>-&gt;</span><span class=n>left</span><span class=p>)</span>
</span><span id=__span-25-91><span class=w>                        </span><span class=n>replaceNodePrev</span><span class=o>-&gt;</span><span class=n>left</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>replaceNode</span><span class=o>-&gt;</span><span class=n>right</span><span class=p>;</span>
</span><span id=__span-25-92><span class=w>                    </span><span class=k>else</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>replaceNode</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>replaceNodePrev</span><span class=o>-&gt;</span><span class=n>right</span><span class=p>)</span>
</span><span id=__span-25-93><span class=w>                        </span><span class=n>replaceNodePrev</span><span class=o>-&gt;</span><span class=n>right</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>replaceNode</span><span class=o>-&gt;</span><span class=n>right</span><span class=p>;</span>
</span><span id=__span-25-94>
</span><span id=__span-25-95><span class=w>                    </span><span class=k>delete</span><span class=w> </span><span class=n>replaceNode</span><span class=p>;</span>
</span><span id=__span-25-96><span class=w>                </span><span class=p>}</span>
</span><span id=__span-25-97><span class=w>                </span><span class=k>break</span><span class=p>;</span>
</span><span id=__span-25-98><span class=w>            </span><span class=p>}</span>
</span><span id=__span-25-99><span class=w>        </span><span class=p>}</span>
</span><span id=__span-25-100>
</span><span id=__span-25-101><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>root</span><span class=p>;</span>
</span><span id=__span-25-102><span class=w>    </span><span class=p>}</span>
</span><span id=__span-25-103><span class=p>};</span>
</span></code></pre></div></td></tr></table></div> <h2 id=669>力扣669.修剪二叉搜索树<a class=headerlink href=#669 title="Permanent link">&para;</a></h2> <p><a href=https://leetcode.cn/problems/trim-a-binary-search-tree/description/ >力扣669.修剪二叉搜索树</a></p> <p><strong>问题描述：</strong></p> <div class="admonition quote"> <p class=admonition-title>Quote</p> <p>给你二叉搜索树的根节点<code>root</code>，同时给定最小边界<code>low</code>和最大边界<code>high</code>。通过修剪二叉搜索树，使得所有节点的值在<code>[low, high]</code>中。修剪树不应该改变保留在树中的元素的相对结构 (即，如果没有被移除，原有的父代子代关系都应当保留)。可以证明，存在唯一的答案。</p> <p>所以结果应当返回修剪好的二叉搜索树的新的根节点。注意，根节点可能会根据给定的边界发生改变。</p> <p>示例 1：</p> <p><a class=glightbox href="4. 二叉搜索树相关题目.assets\trim1.jpg" data-type=image data-width=100% data-height=auto data-desc-position=bottom><img src="4. 二叉搜索树相关题目.assets\trim1.jpg"></a></p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-26-1><span class=n>输入</span><span class=err>：</span><span class=n>root</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>0</span><span class=p>,</span><span class=mi>2</span><span class=p>],</span><span class=w> </span><span class=n>low</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=n>high</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>2</span>
</span><span id=__span-26-2><span class=n>输出</span><span class=err>：</span><span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=n>null</span><span class=p>,</span><span class=mi>2</span><span class=p>]</span>
</span></code></pre></div></td></tr></table></div> <p>示例 2：</p> <p><a class=glightbox href="4. 二叉搜索树相关题目.assets\trim2.jpg" data-type=image data-width=100% data-height=auto data-desc-position=bottom><img src="4. 二叉搜索树相关题目.assets\trim2.jpg"></a></p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-27-1><span class=n>输入</span><span class=err>：</span><span class=n>root</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>[</span><span class=mi>3</span><span class=p>,</span><span class=mi>0</span><span class=p>,</span><span class=mi>4</span><span class=p>,</span><span class=n>null</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=n>null</span><span class=p>,</span><span class=n>null</span><span class=p>,</span><span class=mi>1</span><span class=p>],</span><span class=w> </span><span class=n>low</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=n>high</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>3</span>
</span><span id=__span-27-2><span class=n>输出</span><span class=err>：</span><span class=p>[</span><span class=mi>3</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=n>null</span><span class=p>,</span><span class=mi>1</span><span class=p>]</span>
</span></code></pre></div></td></tr></table></div> </div> <p><strong>思路分析：</strong></p> <p>本题不可以使用二叉树删除节点的逻辑，因为题目提到了不能修改二叉树的父子关系，而在二叉树删除节点的过程中会涉及到挪动节点，从而导致父子关系改变。本题的正确做法是：直接删除指定节点，如果当前节点不在要求的<code>[low, high]</code>中，就找到其对应的子树继续遍历：</p> <ol> <li>如果当前节点小于<code>low</code>，因为是二叉搜索树，所以其左子树的全部节点一定也小于<code>low</code>，此时只需要向右子树递归判断找到满足条件的子树返回</li> <li>如果当前节点大于<code>high</code>，因为是二叉搜索树，所以其左子树的全部节点一定也大于<code>high</code>，此时只需要向左子树递归判断找到满足条件的子树返回</li> </ol> <p><strong>参考代码：</strong></p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-28-1><span class=k>class</span><span class=w> </span><span class=nc>Solution669</span>
</span><span id=__span-28-2><span class=p>{</span>
</span><span id=__span-28-3><span class=k>public</span><span class=o>:</span>
</span><span id=__span-28-4><span class=w>    </span><span class=n>TreeNode</span><span class=w> </span><span class=o>*</span><span class=n>trimBST</span><span class=p>(</span><span class=n>TreeNode</span><span class=w> </span><span class=o>*</span><span class=n>root</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>low</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>high</span><span class=p>)</span>
</span><span id=__span-28-5><span class=w>    </span><span class=p>{</span>
</span><span id=__span-28-6><span class=w>        </span><span class=c1>// 如果节点为空，直接返回空</span>
</span><span id=__span-28-7><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=o>!</span><span class=n>root</span><span class=p>)</span>
</span><span id=__span-28-8><span class=w>            </span><span class=k>return</span><span class=w> </span><span class=k>nullptr</span><span class=p>;</span>
</span><span id=__span-28-9>
</span><span id=__span-28-10><span class=w>        </span><span class=c1>// 如果当前节点小于low，因为是二叉搜索树，所以其左子树的全部节点一定也小于low</span>
</span><span id=__span-28-11><span class=w>        </span><span class=c1>// 此时只需要向右子树递归判断找到满足条件的子树返回</span>
</span><span id=__span-28-12><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>root</span><span class=o>-&gt;</span><span class=n>val</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>low</span><span class=p>)</span>
</span><span id=__span-28-13><span class=w>            </span><span class=k>return</span><span class=w> </span><span class=n>trimBST</span><span class=p>(</span><span class=n>root</span><span class=o>-&gt;</span><span class=n>right</span><span class=p>,</span><span class=w> </span><span class=n>low</span><span class=p>,</span><span class=w> </span><span class=n>high</span><span class=p>);</span><span class=w> </span><span class=c1>// 直接返回子树给当前节点的父亲节点相当于删除当前节点</span>
</span><span id=__span-28-14><span class=w>        </span><span class=k>else</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>root</span><span class=o>-&gt;</span><span class=n>val</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=n>high</span><span class=p>)</span><span class=w> </span><span class=c1>// 否则向左遍历</span>
</span><span id=__span-28-15><span class=w>            </span><span class=k>return</span><span class=w> </span><span class=n>trimBST</span><span class=p>(</span><span class=n>root</span><span class=o>-&gt;</span><span class=n>left</span><span class=p>,</span><span class=w> </span><span class=n>low</span><span class=p>,</span><span class=w> </span><span class=n>high</span><span class=p>);</span>
</span><span id=__span-28-16>
</span><span id=__span-28-17><span class=w>        </span><span class=c1>// 链接子树</span>
</span><span id=__span-28-18><span class=w>        </span><span class=c1>// 如果不满足上面的条件，说明当前节点在[low, high]之内，继续向下遍历</span>
</span><span id=__span-28-19><span class=w>        </span><span class=n>root</span><span class=o>-&gt;</span><span class=n>left</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>trimBST</span><span class=p>(</span><span class=n>root</span><span class=o>-&gt;</span><span class=n>left</span><span class=p>,</span><span class=w> </span><span class=n>low</span><span class=p>,</span><span class=w> </span><span class=n>high</span><span class=p>);</span>
</span><span id=__span-28-20><span class=w>        </span><span class=n>root</span><span class=o>-&gt;</span><span class=n>right</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>trimBST</span><span class=p>(</span><span class=n>root</span><span class=o>-&gt;</span><span class=n>right</span><span class=p>,</span><span class=w> </span><span class=n>low</span><span class=p>,</span><span class=w> </span><span class=n>high</span><span class=p>);</span>
</span><span id=__span-28-21>
</span><span id=__span-28-22><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>root</span><span class=p>;</span>
</span><span id=__span-28-23><span class=w>    </span><span class=p>}</span>
</span><span id=__span-28-24><span class=p>};</span>
</span></code></pre></div></td></tr></table></div> <h2 id=108>力扣108.将有序数组转换为二叉搜索树<a class=headerlink href=#108 title="Permanent link">&para;</a></h2> <p><a href=https://leetcode.cn/problems/convert-sorted-array-to-binary-search-tree/description/ >力扣108.将有序数组转换为二叉搜索树</a></p> <p><strong>问题描述：</strong></p> <div class="admonition quote"> <p class=admonition-title>Quote</p> <p>给你一个整数数组<code>nums</code>，其中元素已经按升序排列，请你将其转换为一棵平衡二叉搜索树。</p> <p>示例 1：</p> <p><a class=glightbox href="4. 二叉搜索树相关题目.assets\btree1.jpg" data-type=image data-width=100% data-height=auto data-desc-position=bottom><img src="4. 二叉搜索树相关题目.assets\btree1.jpg"></a></p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-29-1><span class=n>输入</span><span class=err>：</span><span class=n>nums</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>[</span><span class=mi>-10</span><span class=p>,</span><span class=mi>-3</span><span class=p>,</span><span class=mi>0</span><span class=p>,</span><span class=mi>5</span><span class=p>,</span><span class=mi>9</span><span class=p>]</span>
</span><span id=__span-29-2><span class=n>输出</span><span class=err>：</span><span class=p>[</span><span class=mi>0</span><span class=p>,</span><span class=mi>-3</span><span class=p>,</span><span class=mi>9</span><span class=p>,</span><span class=mi>-10</span><span class=p>,</span><span class=n>null</span><span class=p>,</span><span class=mi>5</span><span class=p>]</span>
</span></code></pre></div></td></tr></table></div> <p>解释：<code>[0,-10,5,null,-3,null,9]</code>也将被视为正确答案：</p> <p><a class=glightbox href="4. 二叉搜索树相关题目.assets\btree2.jpg" data-type=image data-width=100% data-height=auto data-desc-position=bottom><img src="4. 二叉搜索树相关题目.assets\btree2.jpg"></a></p> <p>示例 2：</p> <p><a class=glightbox href="4. 二叉搜索树相关题目.assets\btree.jpg" data-type=image data-width=100% data-height=auto data-desc-position=bottom><img src="4. 二叉搜索树相关题目.assets\btree.jpg"></a></p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-30-1><span class=n>输入</span><span class=err>：</span><span class=n>nums</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>3</span><span class=p>]</span>
</span><span id=__span-30-2><span class=n>输出</span><span class=err>：</span><span class=p>[</span><span class=mi>3</span><span class=p>,</span><span class=mi>1</span><span class=p>]</span>
</span><span id=__span-30-3><span class=n>解释</span><span class=err>：</span><span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=n>null</span><span class=p>,</span><span class=mi>3</span><span class=p>]</span><span class=w> </span><span class=n>和</span><span class=w> </span><span class=p>[</span><span class=mi>3</span><span class=p>,</span><span class=mi>1</span><span class=p>]</span><span class=w> </span><span class=n>都是高度平衡二叉搜索树</span><span class=err>。</span>
</span></code></pre></div></td></tr></table></div> </div> <p><strong>思路分析：</strong></p> <p>本题不可以直接使用二叉搜索树的节点插入方法，因为这个方法没有考虑到平衡的情况从而导致二叉树变为单链表。因为本题的数组是升序排序的，所以默认情况下所有的节点也就是二叉搜索树的中序遍历结果</p> <p>需要注意的是，本题已经提到了二叉搜索树最后的结构可以不同，所以可以直接取中间值作为根节点，这样就可以保证左右子树的高度最大不会超过1</p> <p><strong>参考代码：</strong></p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-31-1><span class=k>class</span><span class=w> </span><span class=nc>Solution108</span>
</span><span id=__span-31-2><span class=p>{</span>
</span><span id=__span-31-3><span class=k>public</span><span class=o>:</span>
</span><span id=__span-31-4><span class=w>    </span><span class=n>TreeNode</span><span class=w> </span><span class=o>*</span><span class=n>sortedArrayToBST</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span><span class=w> </span><span class=o>&amp;</span><span class=n>nums</span><span class=p>)</span>
</span><span id=__span-31-5><span class=w>    </span><span class=p>{</span>
</span><span id=__span-31-6><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>nums</span><span class=p>.</span><span class=n>size</span><span class=p>()</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=mi>0</span><span class=p>)</span>
</span><span id=__span-31-7><span class=w>            </span><span class=k>return</span><span class=w> </span><span class=k>nullptr</span><span class=p>;</span>
</span><span id=__span-31-8>
</span><span id=__span-31-9><span class=w>        </span><span class=c1>// 取出中间值作为根节点</span>
</span><span id=__span-31-10><span class=w>        </span><span class=kt>int</span><span class=w> </span><span class=n>mid</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=n>nums</span><span class=p>.</span><span class=n>size</span><span class=p>()</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=mi>1</span><span class=p>)</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=mi>2</span><span class=p>;</span>
</span><span id=__span-31-11><span class=w>        </span><span class=n>TreeNode</span><span class=w> </span><span class=o>*</span><span class=n>root</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>TreeNode</span><span class=p>(</span><span class=n>nums</span><span class=p>[</span><span class=n>mid</span><span class=p>]);</span>
</span><span id=__span-31-12>
</span><span id=__span-31-13><span class=w>        </span><span class=c1>// 根据根节点位置构造左子树和右子树——左闭右开区间</span>
</span><span id=__span-31-14><span class=w>        </span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span><span class=w> </span><span class=n>left</span><span class=p>(</span><span class=n>nums</span><span class=p>.</span><span class=n>begin</span><span class=p>(),</span><span class=w> </span><span class=n>nums</span><span class=p>.</span><span class=n>begin</span><span class=p>()</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>mid</span><span class=p>);</span>
</span><span id=__span-31-15><span class=w>        </span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span><span class=w> </span><span class=n>right</span><span class=p>(</span><span class=n>nums</span><span class=p>.</span><span class=n>begin</span><span class=p>()</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>mid</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=n>nums</span><span class=p>.</span><span class=n>end</span><span class=p>());</span>
</span><span id=__span-31-16>
</span><span id=__span-31-17><span class=w>        </span><span class=n>root</span><span class=o>-&gt;</span><span class=n>left</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>sortedArrayToBST</span><span class=p>(</span><span class=n>left</span><span class=p>);</span>
</span><span id=__span-31-18><span class=w>        </span><span class=n>root</span><span class=o>-&gt;</span><span class=n>right</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>sortedArrayToBST</span><span class=p>(</span><span class=n>right</span><span class=p>);</span>
</span><span id=__span-31-19>
</span><span id=__span-31-20><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>root</span><span class=p>;</span>
</span><span id=__span-31-21><span class=w>    </span><span class=p>}</span>
</span><span id=__span-31-22><span class=p>};</span>
</span></code></pre></div></td></tr></table></div> <h2 id=538>力扣538.把二叉搜索树转换为累加树<a class=headerlink href=#538 title="Permanent link">&para;</a></h2> <p><a href=https://leetcode.cn/problems/convert-bst-to-greater-tree/description/ >力扣538.把二叉搜索树转换为累加树</a></p> <p><strong>问题描述：</strong></p> <div class="admonition quote"> <p class=admonition-title>Quote</p> <p>给出二叉搜索树的根节点，该树的节点值各不相同，请你将其转换为累加树（Greater Sum Tree），使每个节点<code>node</code>的新值等于原树中大于或等于<code>node.val</code>的值之和。</p> <p>提醒一下，二叉搜索树满足下列约束条件：</p> <ul> <li>节点的左子树仅包含键小于节点键的节点。</li> <li>节点的右子树仅包含键大于节点键的节点。</li> <li>左右子树也必须是二叉搜索树。</li> </ul> <p>注意：本题和<a href=https://leetcode-cn.com/problems/binary-search-tree-to-greater-sum-tree/ >1038.从二叉搜索树到更大和树</a>相同</p> <p>示例 1：</p> <p><a class=glightbox href="4. 二叉搜索树相关题目.assets\tree.png" data-type=image data-width=100% data-height=auto data-desc-position=bottom><img src="4. 二叉搜索树相关题目.assets\tree.png"></a></p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-32-1><span class=n>输入</span><span class=err>：</span><span class=p>[</span><span class=mi>4</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>6</span><span class=p>,</span><span class=mi>0</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>5</span><span class=p>,</span><span class=mi>7</span><span class=p>,</span><span class=n>null</span><span class=p>,</span><span class=n>null</span><span class=p>,</span><span class=n>null</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=n>null</span><span class=p>,</span><span class=n>null</span><span class=p>,</span><span class=n>null</span><span class=p>,</span><span class=mi>8</span><span class=p>]</span>
</span><span id=__span-32-2><span class=n>输出</span><span class=err>：</span><span class=p>[</span><span class=mi>30</span><span class=p>,</span><span class=mi>36</span><span class=p>,</span><span class=mi>21</span><span class=p>,</span><span class=mi>36</span><span class=p>,</span><span class=mi>35</span><span class=p>,</span><span class=mi>26</span><span class=p>,</span><span class=mi>15</span><span class=p>,</span><span class=n>null</span><span class=p>,</span><span class=n>null</span><span class=p>,</span><span class=n>null</span><span class=p>,</span><span class=mi>33</span><span class=p>,</span><span class=n>null</span><span class=p>,</span><span class=n>null</span><span class=p>,</span><span class=n>null</span><span class=p>,</span><span class=mi>8</span><span class=p>]</span>
</span></code></pre></div></td></tr></table></div> <p>示例 2：</p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-33-1><span class=n>输入</span><span class=err>：</span><span class=n>root</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>[</span><span class=mi>0</span><span class=p>,</span><span class=n>null</span><span class=p>,</span><span class=mi>1</span><span class=p>]</span>
</span><span id=__span-33-2><span class=n>输出</span><span class=err>：</span><span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=n>null</span><span class=p>,</span><span class=mi>1</span><span class=p>]</span>
</span></code></pre></div></td></tr></table></div> <p>示例 3：</p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-34-1><span class=n>输入</span><span class=err>：</span><span class=n>root</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>0</span><span class=p>,</span><span class=mi>2</span><span class=p>]</span>
</span><span id=__span-34-2><span class=n>输出</span><span class=err>：</span><span class=p>[</span><span class=mi>3</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=mi>2</span><span class=p>]</span>
</span></code></pre></div></td></tr></table></div> <p>示例 4：</p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-35-1><span class=n>输入</span><span class=err>：</span><span class=n>root</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>[</span><span class=mi>3</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>4</span><span class=p>,</span><span class=mi>1</span><span class=p>]</span>
</span><span id=__span-35-2><span class=n>输出</span><span class=err>：</span><span class=p>[</span><span class=mi>7</span><span class=p>,</span><span class=mi>9</span><span class=p>,</span><span class=mi>4</span><span class=p>,</span><span class=mi>10</span><span class=p>]</span>
</span></code></pre></div></td></tr></table></div> </div> <p><strong>思路分析：</strong></p> <ol> <li> <p>解法1：中序遍历有序计算和+额外空间</p> <p>本题的基本思路是使用中序遍历将结果存放到数组中，再计算该数组的后缀和，将后缀和与原节点进行映射，最后使用对应节点的后缀和覆盖原树的节点即可</p> </li> <li> <p>解法2：双指针（遍历时累加）</p> <p>在解法1中，将二叉搜索树转换为数组的过程是为了更好得理解从后向前遍历，但是因为转换数组之后节点和元素之和不对应，所以还需要一个哈希表来记录元素和后缀和的映射，导致整个代码的思路虽然清晰，但是空间复杂度比较高。理解了解法1的过程，实际上就可以直接使用双指针在原树上进行修改，但是修改的过程应该是右中左，保证倒序。使用两个指针，其中一个指针表示前一个数值（即已经计算过后缀和的结果），另一个指针就是递归过程中的<code>root</code>，记录当前节点的值，在遍历过程中，当前节点加上前一个节点的数值即可</p> </li> </ol> <p><strong>参考代码：</strong></p> <div class="tabbed-set tabbed-alternate" data-tabs=4:2><input checked=checked id=__tabbed_4_1 name=__tabbed_4 type=radio><input id=__tabbed_4_2 name=__tabbed_4 type=radio><div class=tabbed-labels><label for=__tabbed_4_1>中序遍历有序计算和+额外空间</label><label for=__tabbed_4_2>双指针（遍历时累加）</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span>
<span class=normal>39</span>
<span class=normal>40</span>
<span class=normal>41</span>
<span class=normal>42</span>
<span class=normal>43</span>
<span class=normal>44</span>
<span class=normal>45</span>
<span class=normal>46</span>
<span class=normal>47</span>
<span class=normal>48</span>
<span class=normal>49</span>
<span class=normal>50</span>
<span class=normal>51</span>
<span class=normal>52</span>
<span class=normal>53</span>
<span class=normal>54</span>
<span class=normal>55</span>
<span class=normal>56</span>
<span class=normal>57</span>
<span class=normal>58</span>
<span class=normal>59</span>
<span class=normal>60</span>
<span class=normal>61</span>
<span class=normal>62</span>
<span class=normal>63</span>
<span class=normal>64</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-36-1><span class=k>class</span><span class=w> </span><span class=nc>Solution538_1</span>
</span><span id=__span-36-2><span class=p>{</span>
</span><span id=__span-36-3><span class=k>public</span><span class=o>:</span>
</span><span id=__span-36-4><span class=w>    </span><span class=kt>void</span><span class=w> </span><span class=n>traversal</span><span class=p>(</span><span class=n>TreeNode</span><span class=w> </span><span class=o>*</span><span class=n>root</span><span class=p>,</span><span class=w> </span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span><span class=w> </span><span class=o>&amp;</span><span class=n>nums</span><span class=p>)</span>
</span><span id=__span-36-5><span class=w>    </span><span class=p>{</span>
</span><span id=__span-36-6><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=o>!</span><span class=n>root</span><span class=p>)</span>
</span><span id=__span-36-7><span class=w>            </span><span class=k>return</span><span class=p>;</span>
</span><span id=__span-36-8>
</span><span id=__span-36-9><span class=w>        </span><span class=n>traversal</span><span class=p>(</span><span class=n>root</span><span class=o>-&gt;</span><span class=n>left</span><span class=p>,</span><span class=w> </span><span class=n>nums</span><span class=p>);</span>
</span><span id=__span-36-10><span class=w>        </span><span class=n>nums</span><span class=p>.</span><span class=n>push_back</span><span class=p>(</span><span class=n>root</span><span class=o>-&gt;</span><span class=n>val</span><span class=p>);</span>
</span><span id=__span-36-11><span class=w>        </span><span class=n>traversal</span><span class=p>(</span><span class=n>root</span><span class=o>-&gt;</span><span class=n>right</span><span class=p>,</span><span class=w> </span><span class=n>nums</span><span class=p>);</span>
</span><span id=__span-36-12><span class=w>    </span><span class=p>}</span>
</span><span id=__span-36-13>
</span><span id=__span-36-14><span class=w>    </span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span><span class=w> </span><span class=n>calSum</span><span class=p>(</span><span class=k>const</span><span class=w> </span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span><span class=w> </span><span class=o>&amp;</span><span class=n>nums</span><span class=p>)</span>
</span><span id=__span-36-15><span class=w>    </span><span class=p>{</span>
</span><span id=__span-36-16><span class=w>        </span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span><span class=w> </span><span class=n>ret</span><span class=p>(</span><span class=n>nums</span><span class=p>.</span><span class=n>size</span><span class=p>());</span>
</span><span id=__span-36-17><span class=w>        </span><span class=n>partial_sum</span><span class=p>(</span><span class=n>nums</span><span class=p>.</span><span class=n>rbegin</span><span class=p>(),</span><span class=w> </span><span class=n>nums</span><span class=p>.</span><span class=n>rend</span><span class=p>(),</span><span class=w> </span><span class=n>ret</span><span class=p>.</span><span class=n>begin</span><span class=p>());</span>
</span><span id=__span-36-18>
</span><span id=__span-36-19><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>ret</span><span class=p>;</span>
</span><span id=__span-36-20><span class=w>    </span><span class=p>}</span>
</span><span id=__span-36-21>
</span><span id=__span-36-22><span class=w>    </span><span class=kt>void</span><span class=w> </span><span class=n>_convertBST</span><span class=p>(</span><span class=n>TreeNode</span><span class=w> </span><span class=o>*</span><span class=n>root</span><span class=p>,</span><span class=w> </span><span class=n>unordered_map</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=o>&gt;</span><span class=w> </span><span class=o>&amp;</span><span class=n>sum_node</span><span class=p>)</span>
</span><span id=__span-36-23><span class=w>    </span><span class=p>{</span>
</span><span id=__span-36-24><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=o>!</span><span class=n>root</span><span class=p>)</span>
</span><span id=__span-36-25><span class=w>            </span><span class=k>return</span><span class=p>;</span>
</span><span id=__span-36-26>
</span><span id=__span-36-27><span class=w>        </span><span class=n>_convertBST</span><span class=p>(</span><span class=n>root</span><span class=o>-&gt;</span><span class=n>left</span><span class=p>,</span><span class=w> </span><span class=n>sum_node</span><span class=p>);</span>
</span><span id=__span-36-28><span class=w>        </span><span class=n>root</span><span class=o>-&gt;</span><span class=n>val</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>sum_node</span><span class=p>[</span><span class=n>root</span><span class=o>-&gt;</span><span class=n>val</span><span class=p>];</span>
</span><span id=__span-36-29><span class=w>        </span><span class=n>_convertBST</span><span class=p>(</span><span class=n>root</span><span class=o>-&gt;</span><span class=n>right</span><span class=p>,</span><span class=w> </span><span class=n>sum_node</span><span class=p>);</span>
</span><span id=__span-36-30><span class=w>    </span><span class=p>}</span>
</span><span id=__span-36-31>
</span><span id=__span-36-32><span class=w>    </span><span class=kt>void</span><span class=w> </span><span class=n>findSum</span><span class=p>(</span><span class=k>const</span><span class=w> </span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span><span class=w> </span><span class=o>&amp;</span><span class=n>nums</span><span class=p>,</span><span class=w> </span><span class=k>const</span><span class=w> </span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span><span class=w> </span><span class=o>&amp;</span><span class=n>partialSum</span><span class=p>,</span><span class=w> </span><span class=n>unordered_map</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=o>&gt;</span><span class=w> </span><span class=o>&amp;</span><span class=n>sum_node</span><span class=p>)</span>
</span><span id=__span-36-33><span class=w>    </span><span class=p>{</span>
</span><span id=__span-36-34><span class=w>        </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>nums</span><span class=p>.</span><span class=n>size</span><span class=p>();</span><span class=w> </span><span class=n>i</span><span class=o>++</span><span class=p>)</span>
</span><span id=__span-36-35><span class=w>            </span><span class=n>sum_node</span><span class=p>[</span><span class=n>nums</span><span class=p>[</span><span class=n>i</span><span class=p>]]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>partialSum</span><span class=p>[</span><span class=n>i</span><span class=p>];</span>
</span><span id=__span-36-36><span class=w>    </span><span class=p>}</span>
</span><span id=__span-36-37>
</span><span id=__span-36-38><span class=w>    </span><span class=n>TreeNode</span><span class=w> </span><span class=o>*</span><span class=n>convertBST</span><span class=p>(</span><span class=n>TreeNode</span><span class=w> </span><span class=o>*</span><span class=n>root</span><span class=p>)</span>
</span><span id=__span-36-39><span class=w>    </span><span class=p>{</span>
</span><span id=__span-36-40><span class=w>        </span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span><span class=w> </span><span class=n>nums</span><span class=p>;</span>
</span><span id=__span-36-41>
</span><span id=__span-36-42><span class=w>        </span><span class=c1>// 获取中序遍历结果</span>
</span><span id=__span-36-43><span class=w>        </span><span class=n>traversal</span><span class=p>(</span><span class=n>root</span><span class=p>,</span><span class=w> </span><span class=n>nums</span><span class=p>);</span>
</span><span id=__span-36-44>
</span><span id=__span-36-45><span class=w>        </span><span class=c1>// 找到根节点所在下标</span>
</span><span id=__span-36-46><span class=w>        </span><span class=kt>int</span><span class=w> </span><span class=n>rootIndex</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-36-47><span class=w>        </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>nums</span><span class=p>.</span><span class=n>size</span><span class=p>();</span><span class=w> </span><span class=n>i</span><span class=o>++</span><span class=p>)</span>
</span><span id=__span-36-48><span class=w>            </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>nums</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>root</span><span class=o>-&gt;</span><span class=n>val</span><span class=p>)</span>
</span><span id=__span-36-49><span class=w>                </span><span class=n>rootIndex</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>i</span><span class=p>;</span>
</span><span id=__span-36-50>
</span><span id=__span-36-51><span class=w>        </span><span class=c1>// 计算后缀和</span>
</span><span id=__span-36-52><span class=w>        </span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span><span class=w> </span><span class=n>partialSum</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>calSum</span><span class=p>(</span><span class=n>nums</span><span class=p>);</span>
</span><span id=__span-36-53><span class=w>        </span><span class=n>reverse</span><span class=p>(</span><span class=n>partialSum</span><span class=p>.</span><span class=n>begin</span><span class=p>(),</span><span class=w> </span><span class=n>partialSum</span><span class=p>.</span><span class=n>end</span><span class=p>());</span>
</span><span id=__span-36-54>
</span><span id=__span-36-55><span class=w>        </span><span class=c1>// 将后缀和与原先树的节点建立映射关系</span>
</span><span id=__span-36-56><span class=w>        </span><span class=n>unordered_map</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=o>&gt;</span><span class=w> </span><span class=n>sum_node</span><span class=p>;</span>
</span><span id=__span-36-57><span class=w>        </span><span class=n>findSum</span><span class=p>(</span><span class=n>nums</span><span class=p>,</span><span class=w> </span><span class=n>partialSum</span><span class=p>,</span><span class=w> </span><span class=n>sum_node</span><span class=p>);</span>
</span><span id=__span-36-58>
</span><span id=__span-36-59><span class=w>        </span><span class=c1>// 遍历覆盖原树</span>
</span><span id=__span-36-60><span class=w>        </span><span class=n>_convertBST</span><span class=p>(</span><span class=n>root</span><span class=p>,</span><span class=w> </span><span class=n>sum_node</span><span class=p>);</span>
</span><span id=__span-36-61>
</span><span id=__span-36-62><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>root</span><span class=p>;</span>
</span><span id=__span-36-63><span class=w>    </span><span class=p>}</span>
</span><span id=__span-36-64><span class=p>};</span>
</span></code></pre></div></td></tr></table></div> </div> <div class=tabbed-block> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-37-1><span class=k>class</span><span class=w> </span><span class=nc>Solution538_2</span>
</span><span id=__span-37-2><span class=p>{</span>
</span><span id=__span-37-3><span class=k>public</span><span class=o>:</span>
</span><span id=__span-37-4><span class=w>    </span><span class=c1>// 使用变量记录前一个节点计算出的总和</span>
</span><span id=__span-37-5><span class=w>    </span><span class=c1>// 使用使用数值记录，防止空指针解引用错误以及额外空指针处理逻辑</span>
</span><span id=__span-37-6><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>prev</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-37-7>
</span><span id=__span-37-8><span class=w>    </span><span class=n>TreeNode</span><span class=w> </span><span class=o>*</span><span class=nf>convertBST</span><span class=p>(</span><span class=n>TreeNode</span><span class=w> </span><span class=o>*</span><span class=n>root</span><span class=p>)</span>
</span><span id=__span-37-9><span class=w>    </span><span class=p>{</span>
</span><span id=__span-37-10><span class=w>        </span><span class=c1>// 节点为空，返回0</span>
</span><span id=__span-37-11><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=o>!</span><span class=n>root</span><span class=p>)</span>
</span><span id=__span-37-12><span class=w>            </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-37-13>
</span><span id=__span-37-14><span class=w>        </span><span class=c1>// 使用右中左遍历</span>
</span><span id=__span-37-15><span class=w>        </span><span class=n>root</span><span class=o>-&gt;</span><span class=n>right</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>convertBST</span><span class=p>(</span><span class=n>root</span><span class=o>-&gt;</span><span class=n>right</span><span class=p>);</span>
</span><span id=__span-37-16><span class=w>        </span><span class=n>root</span><span class=o>-&gt;</span><span class=n>val</span><span class=w> </span><span class=o>+=</span><span class=w> </span><span class=n>prev</span><span class=p>;</span>
</span><span id=__span-37-17><span class=w>        </span><span class=n>prev</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>root</span><span class=o>-&gt;</span><span class=n>val</span><span class=p>;</span>
</span><span id=__span-37-18><span class=w>        </span><span class=n>root</span><span class=o>-&gt;</span><span class=n>left</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>convertBST</span><span class=p>(</span><span class=n>root</span><span class=o>-&gt;</span><span class=n>left</span><span class=p>);</span>
</span><span id=__span-37-19>
</span><span id=__span-37-20><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>root</span><span class=p>;</span>
</span><span id=__span-37-21><span class=w>    </span><span class=p>}</span>
</span><span id=__span-37-22><span class=p>};</span>
</span></code></pre></div></td></tr></table></div> </div> </div> </div> <h2 id=lcr155>力扣LCR155.将二叉搜索树转化为排序的双向链表<a class=headerlink href=#lcr155 title="Permanent link">&para;</a></h2> <p><a href=https://leetcode.cn/problems/er-cha-sou-suo-shu-yu-shuang-xiang-lian-biao-lcof/description/ >力扣LCR155.将二叉搜索树转化为排序的双向链表</a></p> <p><strong>问题描述：</strong></p> <div class="admonition quote"> <p class=admonition-title>Quote</p> <p>将一个二叉搜索树就地转化为一个已排序的双向循环链表 。</p> <p>对于双向循环列表，你可以将左右孩子指针作为双向循环链表的前驱和后继指针，第一个节点的前驱是最后一个节点，最后一个节点的后继是第一个节点。</p> <p>特别地，我们希望可以就地完成转换操作。当转化完成以后，树中节点的左指针需要指向前驱，树中节点的右指针需要指向后继。还需要返回链表中最小元素的指针。</p> <p>示例 1：</p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-38-1><span class=n>输入</span><span class=err>：</span><span class=n>root</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>[</span><span class=mi>4</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>5</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>3</span><span class=p>]</span><span class=w> </span>
</span></code></pre></div></td></tr></table></div> <p><a class=glightbox href="4. 二叉搜索树相关题目.assets\bstdllreturndll.png" data-type=image data-width=100% data-height=auto data-desc-position=bottom><img src="4. 二叉搜索树相关题目.assets\bstdllreturndll.png"></a></p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-39-1><span class=n>输出</span><span class=err>：</span><span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=mi>4</span><span class=p>,</span><span class=mi>5</span><span class=p>]</span>
</span></code></pre></div></td></tr></table></div> <p>解释：下图显示了转化后的二叉搜索树，实线表示后继关系，虚线表示前驱关系。</p> <p><a class=glightbox href="4. 二叉搜索树相关题目.assets\bstdllreturnbst.png" data-type=image data-width=100% data-height=auto data-desc-position=bottom><img src="4. 二叉搜索树相关题目.assets\bstdllreturnbst.png"></a></p> <p>示例 2：</p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-40-1><span class=n>输入</span><span class=err>：</span><span class=n>root</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>[</span><span class=mi>2</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>3</span><span class=p>]</span>
</span><span id=__span-40-2><span class=n>输出</span><span class=err>：</span><span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>]</span>
</span></code></pre></div></td></tr></table></div> <p>示例 3：</p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-41-1><span class=n>输入</span><span class=err>：</span><span class=n>root</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>[]</span>
</span><span id=__span-41-2><span class=n>输出</span><span class=err>：</span><span class=p>[]</span>
</span><span id=__span-41-3><span class=n>解释</span><span class=err>：</span><span class=n>输入是空树</span><span class=err>，</span><span class=n>所以输出也是空链表</span><span class=err>。</span>
</span></code></pre></div></td></tr></table></div> <p>示例 4：</p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-42-1><span class=n>输入</span><span class=err>：</span><span class=n>root</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>[</span><span class=mi>1</span><span class=p>]</span>
</span><span id=__span-42-2><span class=n>输出</span><span class=err>：</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span>
</span></code></pre></div></td></tr></table></div> </div> <p><strong>问题描述：</strong></p> <ol> <li> <p>解法1：异地处理</p> <p>异地处理只需要将二叉搜索树进行中序遍历，再根据中序遍历的结果数组创建链表即可</p> </li> <li> <p>解法2：双指针（原地处理）</p> <p>需要一个节点单独<code>prev</code>记录之前的一个节点，中序遍历过程中，将当前节点的前驱指针指向<code>prev</code>，<code>prev</code>的后继指向当前节点即可完成链接，注意<code>prev</code>不为空的情况，处理完中间的所有节点后，需要额外处理第一个节点和最后一个节点链接</p> </li> </ol> <p><strong>参考代码：</strong></p> <div class="tabbed-set tabbed-alternate" data-tabs=5:2><input checked=checked id=__tabbed_5_1 name=__tabbed_5 type=radio><input id=__tabbed_5_2 name=__tabbed_5 type=radio><div class=tabbed-labels><label for=__tabbed_5_1>异地处理</label><label for=__tabbed_5_2>双指针（原地处理）</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span>
<span class=normal>39</span>
<span class=normal>40</span>
<span class=normal>41</span>
<span class=normal>42</span>
<span class=normal>43</span>
<span class=normal>44</span>
<span class=normal>45</span>
<span class=normal>46</span>
<span class=normal>47</span>
<span class=normal>48</span>
<span class=normal>49</span>
<span class=normal>50</span>
<span class=normal>51</span>
<span class=normal>52</span>
<span class=normal>53</span>
<span class=normal>54</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-43-1><span class=k>class</span><span class=w> </span><span class=nc>SolutionLCR155_1</span>
</span><span id=__span-43-2><span class=p>{</span>
</span><span id=__span-43-3><span class=k>public</span><span class=o>:</span>
</span><span id=__span-43-4><span class=w>    </span><span class=kt>void</span><span class=w> </span><span class=n>traversal</span><span class=p>(</span><span class=n>Node</span><span class=w> </span><span class=o>*</span><span class=n>root</span><span class=p>,</span><span class=w> </span><span class=n>vector</span><span class=o>&lt;</span><span class=n>Node</span><span class=w> </span><span class=o>*&gt;</span><span class=w> </span><span class=o>&amp;</span><span class=n>nodes</span><span class=p>)</span>
</span><span id=__span-43-5><span class=w>    </span><span class=p>{</span>
</span><span id=__span-43-6><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=o>!</span><span class=n>root</span><span class=p>)</span>
</span><span id=__span-43-7><span class=w>            </span><span class=k>return</span><span class=p>;</span>
</span><span id=__span-43-8>
</span><span id=__span-43-9><span class=w>        </span><span class=n>traversal</span><span class=p>(</span><span class=n>root</span><span class=o>-&gt;</span><span class=n>left</span><span class=p>,</span><span class=w> </span><span class=n>nodes</span><span class=p>);</span>
</span><span id=__span-43-10><span class=w>        </span><span class=n>nodes</span><span class=p>.</span><span class=n>push_back</span><span class=p>(</span><span class=n>root</span><span class=p>);</span>
</span><span id=__span-43-11><span class=w>        </span><span class=n>traversal</span><span class=p>(</span><span class=n>root</span><span class=o>-&gt;</span><span class=n>right</span><span class=p>,</span><span class=w> </span><span class=n>nodes</span><span class=p>);</span>
</span><span id=__span-43-12><span class=w>    </span><span class=p>}</span>
</span><span id=__span-43-13>
</span><span id=__span-43-14><span class=w>    </span><span class=n>Node</span><span class=w> </span><span class=o>*</span><span class=n>treeToDoublyList</span><span class=p>(</span><span class=n>Node</span><span class=w> </span><span class=o>*</span><span class=n>root</span><span class=p>)</span>
</span><span id=__span-43-15><span class=w>    </span><span class=p>{</span>
</span><span id=__span-43-16><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=o>!</span><span class=n>root</span><span class=p>)</span>
</span><span id=__span-43-17><span class=w>            </span><span class=k>return</span><span class=w> </span><span class=k>nullptr</span><span class=p>;</span>
</span><span id=__span-43-18>
</span><span id=__span-43-19><span class=w>        </span><span class=n>vector</span><span class=o>&lt;</span><span class=n>Node</span><span class=w> </span><span class=o>*&gt;</span><span class=w> </span><span class=n>nodes</span><span class=p>;</span>
</span><span id=__span-43-20><span class=w>        </span><span class=n>traversal</span><span class=p>(</span><span class=n>root</span><span class=p>,</span><span class=w> </span><span class=n>nodes</span><span class=p>);</span>
</span><span id=__span-43-21>
</span><span id=__span-43-22><span class=w>        </span><span class=c1>// 构建链表</span>
</span><span id=__span-43-23><span class=w>        </span><span class=n>Node</span><span class=w> </span><span class=o>*</span><span class=n>prev</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>nullptr</span><span class=p>;</span>
</span><span id=__span-43-24><span class=w>        </span><span class=n>Node</span><span class=w> </span><span class=o>*</span><span class=n>dummy</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>Node</span><span class=p>(</span><span class=mi>0</span><span class=p>);</span>
</span><span id=__span-43-25><span class=w>        </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=k>auto</span><span class=w> </span><span class=o>&amp;</span><span class=n>node</span><span class=o>:</span><span class=w> </span><span class=n>nodes</span><span class=p>)</span>
</span><span id=__span-43-26><span class=w>        </span><span class=p>{</span>
</span><span id=__span-43-27><span class=w>            </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=o>!</span><span class=n>dummy</span><span class=o>-&gt;</span><span class=n>right</span><span class=p>)</span>
</span><span id=__span-43-28><span class=w>            </span><span class=p>{</span>
</span><span id=__span-43-29><span class=w>                </span><span class=n>dummy</span><span class=o>-&gt;</span><span class=n>right</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>node</span><span class=p>;</span>
</span><span id=__span-43-30><span class=w>                </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>nodes</span><span class=p>.</span><span class=n>size</span><span class=p>()</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=mi>1</span><span class=p>)</span>
</span><span id=__span-43-31><span class=w>                </span><span class=p>{</span>
</span><span id=__span-43-32><span class=w>                    </span><span class=n>node</span><span class=o>-&gt;</span><span class=n>left</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>node</span><span class=p>;</span>
</span><span id=__span-43-33><span class=w>                    </span><span class=n>node</span><span class=o>-&gt;</span><span class=n>right</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>node</span><span class=p>;</span>
</span><span id=__span-43-34><span class=w>                    </span><span class=k>return</span><span class=w> </span><span class=n>node</span><span class=p>;</span>
</span><span id=__span-43-35><span class=w>                </span><span class=p>}</span>
</span><span id=__span-43-36><span class=w>            </span><span class=p>}</span>
</span><span id=__span-43-37><span class=w>            </span><span class=k>else</span>
</span><span id=__span-43-38><span class=w>            </span><span class=p>{</span>
</span><span id=__span-43-39><span class=w>                </span><span class=n>dummy</span><span class=o>-&gt;</span><span class=n>right</span><span class=o>-&gt;</span><span class=n>left</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>node</span><span class=p>;</span>
</span><span id=__span-43-40><span class=w>                </span><span class=n>node</span><span class=o>-&gt;</span><span class=n>right</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>dummy</span><span class=o>-&gt;</span><span class=n>right</span><span class=p>;</span>
</span><span id=__span-43-41><span class=w>            </span><span class=p>}</span>
</span><span id=__span-43-42>
</span><span id=__span-43-43><span class=w>            </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>prev</span><span class=p>)</span>
</span><span id=__span-43-44><span class=w>            </span><span class=p>{</span>
</span><span id=__span-43-45><span class=w>                </span><span class=n>prev</span><span class=o>-&gt;</span><span class=n>right</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>node</span><span class=p>;</span>
</span><span id=__span-43-46><span class=w>                </span><span class=n>node</span><span class=o>-&gt;</span><span class=n>left</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>prev</span><span class=p>;</span>
</span><span id=__span-43-47><span class=w>            </span><span class=p>}</span>
</span><span id=__span-43-48>
</span><span id=__span-43-49><span class=w>            </span><span class=n>prev</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>node</span><span class=p>;</span>
</span><span id=__span-43-50><span class=w>        </span><span class=p>}</span>
</span><span id=__span-43-51>
</span><span id=__span-43-52><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>dummy</span><span class=o>-&gt;</span><span class=n>right</span><span class=p>;</span>
</span><span id=__span-43-53><span class=w>    </span><span class=p>}</span>
</span><span id=__span-43-54><span class=p>};</span>
</span></code></pre></div></td></tr></table></div> </div> <div class=tabbed-block> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span>
<span class=normal>39</span>
<span class=normal>40</span>
<span class=normal>41</span>
<span class=normal>42</span>
<span class=normal>43</span>
<span class=normal>44</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-44-1><span class=k>class</span><span class=w> </span><span class=nc>SolutionLCR155_2</span>
</span><span id=__span-44-2><span class=p>{</span>
</span><span id=__span-44-3><span class=k>public</span><span class=o>:</span>
</span><span id=__span-44-4><span class=w>    </span><span class=n>Node</span><span class=w> </span><span class=o>*</span><span class=n>prev</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>nullptr</span><span class=p>;</span>
</span><span id=__span-44-5>
</span><span id=__span-44-6><span class=w>    </span><span class=kt>void</span><span class=w> </span><span class=nf>_treeToDoublyList</span><span class=p>(</span><span class=n>Node</span><span class=w> </span><span class=o>*</span><span class=n>root</span><span class=p>)</span>
</span><span id=__span-44-7><span class=w>    </span><span class=p>{</span>
</span><span id=__span-44-8><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=o>!</span><span class=n>root</span><span class=p>)</span>
</span><span id=__span-44-9><span class=w>            </span><span class=k>return</span><span class=p>;</span>
</span><span id=__span-44-10>
</span><span id=__span-44-11><span class=w>        </span><span class=n>_treeToDoublyList</span><span class=p>(</span><span class=n>root</span><span class=o>-&gt;</span><span class=n>left</span><span class=p>);</span>
</span><span id=__span-44-12>
</span><span id=__span-44-13><span class=w>        </span><span class=n>root</span><span class=o>-&gt;</span><span class=n>left</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>prev</span><span class=p>;</span>
</span><span id=__span-44-14><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>prev</span><span class=p>)</span>
</span><span id=__span-44-15><span class=w>            </span><span class=n>prev</span><span class=o>-&gt;</span><span class=n>right</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>root</span><span class=p>;</span>
</span><span id=__span-44-16><span class=w>        </span><span class=n>prev</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>root</span><span class=p>;</span>
</span><span id=__span-44-17>
</span><span id=__span-44-18><span class=w>        </span><span class=n>_treeToDoublyList</span><span class=p>(</span><span class=n>root</span><span class=o>-&gt;</span><span class=n>right</span><span class=p>);</span>
</span><span id=__span-44-19><span class=w>    </span><span class=p>}</span>
</span><span id=__span-44-20>
</span><span id=__span-44-21><span class=w>    </span><span class=n>Node</span><span class=w> </span><span class=o>*</span><span class=nf>treeToDoublyList</span><span class=p>(</span><span class=n>Node</span><span class=w> </span><span class=o>*</span><span class=n>root</span><span class=p>)</span>
</span><span id=__span-44-22><span class=w>    </span><span class=p>{</span>
</span><span id=__span-44-23><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=o>!</span><span class=n>root</span><span class=p>)</span>
</span><span id=__span-44-24><span class=w>            </span><span class=k>return</span><span class=w> </span><span class=k>nullptr</span><span class=p>;</span>
</span><span id=__span-44-25>
</span><span id=__span-44-26><span class=w>        </span><span class=c1>// 找到最左节点作为头节点</span>
</span><span id=__span-44-27><span class=w>        </span><span class=n>Node</span><span class=w> </span><span class=o>*</span><span class=n>head</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>root</span><span class=p>;</span>
</span><span id=__span-44-28><span class=w>        </span><span class=k>while</span><span class=w> </span><span class=p>(</span><span class=n>head</span><span class=o>-&gt;</span><span class=n>left</span><span class=p>)</span>
</span><span id=__span-44-29><span class=w>        </span><span class=p>{</span>
</span><span id=__span-44-30><span class=w>            </span><span class=n>head</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>head</span><span class=o>-&gt;</span><span class=n>left</span><span class=p>;</span>
</span><span id=__span-44-31><span class=w>        </span><span class=p>}</span>
</span><span id=__span-44-32>
</span><span id=__span-44-33><span class=w>        </span><span class=c1>// 找到头结点后再修改</span>
</span><span id=__span-44-34><span class=w>        </span><span class=c1>// 也可以考虑在找到头结点之前修改</span>
</span><span id=__span-44-35><span class=w>        </span><span class=c1>// 此时就是通过链表向前遍历找到头结点head，而不是通过树的遍历</span>
</span><span id=__span-44-36><span class=w>        </span><span class=n>_treeToDoublyList</span><span class=p>(</span><span class=n>root</span><span class=p>);</span>
</span><span id=__span-44-37>
</span><span id=__span-44-38><span class=w>        </span><span class=c1>// 头尾相连</span>
</span><span id=__span-44-39><span class=w>        </span><span class=n>head</span><span class=o>-&gt;</span><span class=n>left</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>prev</span><span class=p>;</span>
</span><span id=__span-44-40><span class=w>        </span><span class=n>prev</span><span class=o>-&gt;</span><span class=n>right</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>head</span><span class=p>;</span>
</span><span id=__span-44-41>
</span><span id=__span-44-42><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>head</span><span class=p>;</span>
</span><span id=__span-44-43><span class=w>    </span><span class=p>}</span>
</span><span id=__span-44-44><span class=p>};</span>
</span></code></pre></div></td></tr></table></div> </div> </div> </div> <h2 id=230k>力扣230.二叉搜索树中第K小的元素<a class=headerlink href=#230k title="Permanent link">&para;</a></h2> <p><a href=https://leetcode.cn/problems/kth-smallest-element-in-a-bst/description/ >力扣230.二叉搜索树中第K小的元素</a></p> <p><strong>问题描述：</strong></p> <div class="admonition quote"> <p class=admonition-title>Quote</p> <p>给定一个二叉搜索树的根节点<code>root</code>，和一个整数<code>k</code>，请你设计一个算法查找其中第<code>k</code>小的元素（从1开始计数）。</p> <p>示例 1：</p> <p><a class=glightbox href="4. 二叉搜索树相关题目.assets\kthtree1.jpg" data-type=image data-width=100% data-height=auto data-desc-position=bottom><img src="4. 二叉搜索树相关题目.assets\kthtree1.jpg"></a></p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-45-1><span class=n>输入</span><span class=err>：</span><span class=n>root</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>[</span><span class=mi>3</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>4</span><span class=p>,</span><span class=n>null</span><span class=p>,</span><span class=mi>2</span><span class=p>],</span><span class=w> </span><span class=n>k</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span>
</span><span id=__span-45-2><span class=n>输出</span><span class=err>：</span><span class=mi>1</span>
</span></code></pre></div></td></tr></table></div> <p>示例 2：</p> <p><a class=glightbox href="4. 二叉搜索树相关题目.assets\kthtree2.jpg" data-type=image data-width=100% data-height=auto data-desc-position=bottom><img src="4. 二叉搜索树相关题目.assets\kthtree2.jpg"></a></p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-46-1><span class=n>输入</span><span class=err>：</span><span class=n>root</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>[</span><span class=mi>5</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=mi>6</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>4</span><span class=p>,</span><span class=n>null</span><span class=p>,</span><span class=n>null</span><span class=p>,</span><span class=mi>1</span><span class=p>],</span><span class=w> </span><span class=n>k</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>3</span>
</span><span id=__span-46-2><span class=n>输出</span><span class=err>：</span><span class=mi>3</span>
</span></code></pre></div></td></tr></table></div> </div> <p><strong>思路分析：</strong></p> <ol> <li> <p>解法1：前序遍历+TopK问题（针对一般树解法）</p> <p>将元素遍历插入到小堆中，取出第<code>k</code>个小的元素即可</p> </li> <li> <p>解法2：中序遍历（利用二叉搜索树中序遍历有序）</p> <p>因为二叉搜索树中序遍历结果是升序，所以最小的元素在最前面，第<code>k</code>个小的元素会在第<code>k</code>的位置，只需要通过一个count记录当前遍历的次数即可，再用一个变量<code>minVal</code>记录最小值，本题中将<code>count</code>和<code>minVal</code>设为全局变量最方便。因为一旦找到了第k个较小值，就没必要再遍历后面的节点，此时也可以利用到这个条件进行剪枝</p> </li> </ol> <p><strong>参考代码：</strong></p> <div class="tabbed-set tabbed-alternate" data-tabs=6:2><input checked=checked id=__tabbed_6_1 name=__tabbed_6 type=radio><input id=__tabbed_6_2 name=__tabbed_6 type=radio><div class=tabbed-labels><label for=__tabbed_6_1>前序遍历+TopK问题（针对一般树解法）</label><label for=__tabbed_6_2>中序遍历（利用二叉搜索树中序遍历有序）</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-47-1><span class=c1>// 不可以使用Lambda作为模版参数</span>
</span><span id=__span-47-2><span class=c1>// auto compare = [](TreeNode* root1, TreeNode* root2)-&gt;bool{return root1-&gt;val &gt; root2-&gt;val;};</span>
</span><span id=__span-47-3><span class=c1>// using compare = function&lt;bool(TreeNode* root1, TreeNode* root2)&gt;;</span>
</span><span id=__span-47-4><span class=c1>// compare cmp = [](TreeNode* root1, TreeNode* root2)-&gt;bool{return root1-&gt;val &gt; root2-&gt;val;};</span>
</span><span id=__span-47-5><span class=k>struct</span><span class=w> </span><span class=nc>Compare</span>
</span><span id=__span-47-6><span class=p>{</span>
</span><span id=__span-47-7><span class=w>    </span><span class=kt>bool</span><span class=w> </span><span class=nf>operator</span><span class=p>()(</span><span class=n>TreeNode</span><span class=w> </span><span class=o>*</span><span class=n>root1</span><span class=p>,</span><span class=w> </span><span class=n>TreeNode</span><span class=w> </span><span class=o>*</span><span class=n>root2</span><span class=p>)</span>
</span><span id=__span-47-8><span class=w>    </span><span class=p>{</span>
</span><span id=__span-47-9><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>root1</span><span class=o>-&gt;</span><span class=n>val</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=n>root2</span><span class=o>-&gt;</span><span class=n>val</span><span class=p>;</span>
</span><span id=__span-47-10><span class=w>    </span><span class=p>}</span>
</span><span id=__span-47-11><span class=p>};</span>
</span><span id=__span-47-12>
</span><span id=__span-47-13><span class=k>class</span><span class=w> </span><span class=nc>Solution230_1</span>
</span><span id=__span-47-14><span class=p>{</span>
</span><span id=__span-47-15><span class=k>public</span><span class=o>:</span>
</span><span id=__span-47-16><span class=w>    </span><span class=kt>void</span><span class=w> </span><span class=n>dfs</span><span class=p>(</span><span class=n>TreeNode</span><span class=w> </span><span class=o>*</span><span class=n>root</span><span class=p>,</span><span class=w> </span><span class=n>priority_queue</span><span class=o>&lt;</span><span class=n>TreeNode</span><span class=w> </span><span class=o>*</span><span class=p>,</span><span class=w> </span><span class=n>vector</span><span class=o>&lt;</span><span class=n>TreeNode</span><span class=w> </span><span class=o>*&gt;</span><span class=p>,</span><span class=w> </span><span class=n>Compare</span><span class=o>&gt;</span><span class=w> </span><span class=o>&amp;</span><span class=n>pq</span><span class=p>)</span>
</span><span id=__span-47-17><span class=w>    </span><span class=p>{</span>
</span><span id=__span-47-18><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=o>!</span><span class=n>root</span><span class=p>)</span>
</span><span id=__span-47-19><span class=w>            </span><span class=k>return</span><span class=p>;</span>
</span><span id=__span-47-20>
</span><span id=__span-47-21><span class=w>        </span><span class=n>pq</span><span class=p>.</span><span class=n>push</span><span class=p>(</span><span class=n>root</span><span class=p>);</span>
</span><span id=__span-47-22><span class=w>        </span><span class=n>dfs</span><span class=p>(</span><span class=n>root</span><span class=o>-&gt;</span><span class=n>left</span><span class=p>,</span><span class=w> </span><span class=n>pq</span><span class=p>);</span>
</span><span id=__span-47-23><span class=w>        </span><span class=n>dfs</span><span class=p>(</span><span class=n>root</span><span class=o>-&gt;</span><span class=n>right</span><span class=p>,</span><span class=w> </span><span class=n>pq</span><span class=p>);</span>
</span><span id=__span-47-24><span class=w>    </span><span class=p>}</span>
</span><span id=__span-47-25>
</span><span id=__span-47-26><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>kthSmallest</span><span class=p>(</span><span class=n>TreeNode</span><span class=w> </span><span class=o>*</span><span class=n>root</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>k</span><span class=p>)</span>
</span><span id=__span-47-27><span class=w>    </span><span class=p>{</span>
</span><span id=__span-47-28><span class=w>        </span><span class=n>priority_queue</span><span class=o>&lt;</span><span class=n>TreeNode</span><span class=w> </span><span class=o>*</span><span class=p>,</span><span class=w> </span><span class=n>vector</span><span class=o>&lt;</span><span class=n>TreeNode</span><span class=w> </span><span class=o>*&gt;</span><span class=p>,</span><span class=w> </span><span class=n>Compare</span><span class=o>&gt;</span><span class=w> </span><span class=n>pq</span><span class=p>;</span>
</span><span id=__span-47-29><span class=w>        </span><span class=n>dfs</span><span class=p>(</span><span class=n>root</span><span class=p>,</span><span class=w> </span><span class=n>pq</span><span class=p>);</span>
</span><span id=__span-47-30>
</span><span id=__span-47-31><span class=w>        </span><span class=c1>// 弹出k个元素，再取出堆顶元素</span>
</span><span id=__span-47-32><span class=w>        </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>k</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=o>++</span><span class=p>)</span>
</span><span id=__span-47-33><span class=w>            </span><span class=n>pq</span><span class=p>.</span><span class=n>pop</span><span class=p>();</span>
</span><span id=__span-47-34>
</span><span id=__span-47-35><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>pq</span><span class=p>.</span><span class=n>top</span><span class=p>()</span><span class=o>-&gt;</span><span class=n>val</span><span class=p>;</span>
</span><span id=__span-47-36><span class=w>    </span><span class=p>}</span>
</span><span id=__span-47-37><span class=p>};</span>
</span></code></pre></div></td></tr></table></div> </div> <div class=tabbed-block> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-48-1><span class=k>class</span><span class=w> </span><span class=nc>Solution230_2</span>
</span><span id=__span-48-2><span class=p>{</span>
</span><span id=__span-48-3><span class=k>public</span><span class=o>:</span>
</span><span id=__span-48-4><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>minVal</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>INT_MAX</span><span class=p>;</span>
</span><span id=__span-48-5><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>count</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-48-6>
</span><span id=__span-48-7><span class=w>    </span><span class=kt>void</span><span class=w> </span><span class=nf>dfs</span><span class=p>(</span><span class=n>TreeNode</span><span class=w> </span><span class=o>*</span><span class=n>root</span><span class=p>)</span>
</span><span id=__span-48-8><span class=w>    </span><span class=p>{</span>
</span><span id=__span-48-9><span class=w>        </span><span class=c1>// 如果节点为空或者count为0就不需要向后遍历</span>
</span><span id=__span-48-10><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=o>!</span><span class=n>root</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=o>!</span><span class=n>count</span><span class=p>)</span>
</span><span id=__span-48-11><span class=w>            </span><span class=k>return</span><span class=p>;</span>
</span><span id=__span-48-12>
</span><span id=__span-48-13><span class=w>        </span><span class=n>dfs</span><span class=p>(</span><span class=n>root</span><span class=o>-&gt;</span><span class=n>left</span><span class=p>);</span>
</span><span id=__span-48-14><span class=w>        </span><span class=n>count</span><span class=o>--</span><span class=p>;</span>
</span><span id=__span-48-15><span class=w>        </span><span class=c1>// count为0时，说明找到了第k小的元素</span>
</span><span id=__span-48-16><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>count</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=mi>0</span><span class=p>)</span>
</span><span id=__span-48-17><span class=w>            </span><span class=n>minVal</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>root</span><span class=o>-&gt;</span><span class=n>val</span><span class=p>;</span>
</span><span id=__span-48-18><span class=w>        </span><span class=n>dfs</span><span class=p>(</span><span class=n>root</span><span class=o>-&gt;</span><span class=n>right</span><span class=p>);</span>
</span><span id=__span-48-19><span class=w>    </span><span class=p>}</span>
</span><span id=__span-48-20>
</span><span id=__span-48-21><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=nf>kthSmallest</span><span class=p>(</span><span class=n>TreeNode</span><span class=w> </span><span class=o>*</span><span class=n>root</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>k</span><span class=p>)</span>
</span><span id=__span-48-22><span class=w>    </span><span class=p>{</span>
</span><span id=__span-48-23><span class=w>        </span><span class=n>count</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>k</span><span class=p>;</span>
</span><span id=__span-48-24><span class=w>        </span><span class=n>dfs</span><span class=p>(</span><span class=n>root</span><span class=p>);</span>
</span><span id=__span-48-25>
</span><span id=__span-48-26><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>minVal</span><span class=p>;</span>
</span><span id=__span-48-27><span class=w>    </span><span class=p>}</span>
</span><span id=__span-48-28><span class=p>};</span>
</span></code></pre></div></td></tr></table></div> </div> </div> </div> <aside class=md-source-file> <span class=md-source-file__fact> <span class=md-icon title=最后更新> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">2025年7月29日</span> </span> </aside> <form class=md-feedback name=feedback hidden> <fieldset> <legend class=md-feedback__title> 页面有帮助吗？ </legend> <div class=md-feedback__inner> <div class=md-feedback__list> <button class="md-feedback__icon md-icon" type=submit title=页面对我有帮助 data-md-value=1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M5 9v12H1V9zm4 12a2 2 0 0 1-2-2V9c0-.55.22-1.05.59-1.41L14.17 1l1.06 1.06c.27.27.44.64.44 1.05l-.03.32L14.69 8H21a2 2 0 0 1 2 2v2c0 .26-.05.5-.14.73l-3.02 7.05C19.54 20.5 18.83 21 18 21zm0-2h9.03L21 12v-2h-8.79l1.13-5.32L9 9.03z"/></svg> </button> <button class="md-feedback__icon md-icon" type=submit title=页面没有帮助到我 data-md-value=0> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 15V3h4v12zM15 3a2 2 0 0 1 2 2v10c0 .55-.22 1.05-.59 1.41L9.83 23l-1.06-1.06c-.27-.27-.44-.64-.44-1.06l.03-.31.95-4.57H3a2 2 0 0 1-2-2v-2c0-.26.05-.5.14-.73l3.02-7.05C4.46 3.5 5.17 3 6 3zm0 2H5.97L3 12v2h8.78l-1.13 5.32L15 14.97z"/></svg> </button> </div> <div class=md-feedback__note> <div data-md-value=1 hidden> 谢谢你的反馈！ </div> <div data-md-value=0 hidden> 谢谢你的反馈！联系<a href=https://www.help-doc.top/author/contact/contact.html>作者</a>提供更详细的信息 </div> </div> </div> </fieldset> </form> <!-- Waline 评论系统 --> <div id=waline></div> <!-- 评论系统 --> <!-- Waline 评论系统 --> <div id=waline></div> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-footer-copyright__highlight> Copyright &copy; 2024-2025 柯懒不是柯南 </div> </div> <div class="md-footer-love md-typeset"> 一闪一闪亮晶晶，不及<span class=love-highlight>小亮</span><span class=love-heart>♥</span>照我心。To Li Liang </div> <div class=md-social> <a href=https://github.com/H0308 target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> <a href=https://www.help-doc.top/author/contact/contact.html target=_blank rel=noopener title=www.help-doc.top class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M433.754 420.445c-11.526 1.393-44.86-52.741-44.86-52.741 0 31.345-16.136 72.247-51.051 101.786 16.842 5.192 54.843 19.167 45.803 34.421-7.316 12.343-125.51 7.881-159.632 4.037-34.122 3.844-152.316 8.306-159.632-4.037-9.045-15.25 28.918-29.214 45.783-34.415-34.92-29.539-51.059-70.445-51.059-101.792 0 0-33.334 54.134-44.859 52.741-5.37-.65-12.424-29.644 9.347-99.704 10.261-33.024 21.995-60.478 40.144-105.779C60.683 98.063 108.982.006 224 0c113.737.006 163.156 96.133 160.264 214.963 18.118 45.223 29.912 72.85 40.144 105.778 21.768 70.06 14.716 99.053 9.346 99.704"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../..", "features": ["navigation.indexes", "navigation.prune", "navigation.tabs", "search.highlight", "content.code.copy"], "search": "../../../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}, "version": null}</script> <script src=../../../assets/javascripts/bundle.c8b220af.min.js></script> <script src=../../../javascripts/katex.min.js></script> <script src=../../../javascripts/other.min.js></script> <script src=../../../javascripts/copyright.min.js></script> <script src=../../../javascripts/waline.min.js></script> <script src=https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/katex.min.js></script> <script src=https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/contrib/auto-render.min.js></script> <script src=https://cdn.jsdelivr.net/npm/mermaid@11.5.0/dist/mermaid.min.js></script> <script src=../../../assets/javascripts/toggle-sidebar.js async></script> <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body> </html>