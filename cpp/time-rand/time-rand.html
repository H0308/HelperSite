<!doctype html><html lang=zh class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=canonical href=https://www.help-doc.top/cpp/time-rand/time-rand.html><link rel=prev href=../new-in-cpp17/new-in-cpp17.html><link rel=next href=../multi-thread/multi-thread.html><link rel=icon href=../../images/favicon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.12"><title>C++时间和随机数相关库 - 柯懒的知识库</title><link rel=stylesheet href=../../assets/stylesheets/main.2afb09e1.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.06af60db.min.css><link rel=stylesheet href=../../css/timeline.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/katex.min.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-9XWRGNRRSY"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-9XWRGNRRSY",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-9XWRGNRRSY",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script><link rel=stylesheet href=../../stylesheets/colors.min.css><link rel=stylesheet href=../../stylesheets/theme2.min.css media="screen and (max-width: 1199px)"><link rel=stylesheet href=../../stylesheets/theme2.min.css media="screen and (min-width: 1200px)" id=theme2-desktop><link rel=stylesheet href=../../stylesheets/theme1.min.css media="screen and (min-width: 1200px)" id=theme1-desktop><link rel=stylesheet href=../../stylesheets/print.min.css><link rel=stylesheet href=../../stylesheets/font-dongguanti.min.css id=font-dongguanti><link rel=stylesheet href=../../stylesheets/font-oppoti.min.css id=font-oppoti disabled><link rel=stylesheet href=../../stylesheets/font-jiangchengti.min.css id=font-jiangchengti disabled><link rel=stylesheet href=../../stylesheets/font-lxgw.min.css id=font-lxgw disabled><link rel=stylesheet href=../../stylesheets/code-font-dejavu-sans-mono.min.css id=code-font-dejavu-sans-mono><link rel=stylesheet href=../../stylesheets/code-font-zsft-hk.min.css id=code-font-zsft-hk disabled><link rel=stylesheet href=../../stylesheets/code-font-google-sans-code.min.css id=code-font-google-sans-code disabled><link rel=stylesheet href=https://unpkg.com/@waline/client@v3/dist/waline.css><link rel=stylesheet href=../../stylesheets/waline.min.css><script src=../../javascripts/start.min.js></script> <link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../../assets/javascripts/glightbox.min.js"></script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=white data-md-color-accent=cyan> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#c class=md-skip> 跳转至 </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=页眉> <a href=../../index.html title=柯懒的知识库 class="md-header__button md-logo" aria-label=柯懒的知识库 data-md-component=logo> <img src=../../assets/logo.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> 柯懒的知识库 </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> C++时间和随机数相关库 </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary=white data-md-color-accent=cyan aria-label type=radio name=__palette id=__palette_1> </form> <!-- 头像元素 - 直接在HTML中定义 --> <div class=header-avatar> <img src=../../author/作者.assets/20250206-200653.jpg alt=头像> <div class=avatar-dropdown> <p><strong>柯懒不是柯南</strong></p> <a href=../../author/contact/contact.html class=avatar-dropdown-item>吵醒柯懒</a> <div class=avatar-dropdown-divider></div> <a href=../../author/about/about.html class=avatar-dropdown-item>柯懒自传</a> <div class=avatar-dropdown-divider></div> <a href=https://github.com/H0308 class=avatar-dropdown-item>柯懒的零食库</a> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=搜索 placeholder=搜索 autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=查找> <button type=reset class="md-search__icon md-icon" title=清空当前内容 aria-label=清空当前内容 tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> 正在初始化搜索引擎 </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> </nav> </header> <!-- 独立的切换按钮 --> <div class=toolbar-toggle-btn id=toolbarToggleBtn onclick=toggleToolbar()> <div class=toggle-icon> <svg class=toggle-arrow-icon viewbox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg width=16 height=16> <path d="M346.538667 1024L170.666667 853.333333l341.333333-341.333333-341.333333-341.333333 175.872-170.666667L853.333333 512z" fill=currentColor></path> </svg> </div> </div> <!-- 右侧固定功能条 - 独立于内容区 --> <div class=floating-toolbar id=floatingToolbar> <!-- 字体切换功能 --> <div class="toolbar-item font-switcher"> <div class=toolbar-icon> <svg class=font-icon viewbox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg width=20 height=20> <path d="M913.408 1024l-66.56 0q-29.696 0-51.2-5.12t-36.864-15.872-26.112-27.136-19.968-37.888q-15.36-38.912-28.16-70.656t-22.016-55.296q-11.264-26.624-20.48-49.152l-254.976 0q-7.168 23.552-17.408 51.2-8.192 23.552-21.504 56.832t-30.72 72.192q-20.48 46.08-47.104 63.488t-60.416 17.408l-70.656 0q-45.056 0-60.928-19.968t2.56-68.096q18.432-46.08 43.008-108.544t52.224-132.608 57.344-143.872 57.344-144.384q65.536-164.864 137.216-343.04 7.168-17.408 18.432-31.744 10.24-11.264 27.136-21.504t42.496-10.24q26.624 0 43.52 10.752t28.16 24.064q12.288 15.36 19.456 33.792 72.704 180.224 138.24 345.088 27.648 70.656 57.344 143.872t56.832 142.336 51.2 129.536 41.472 104.448q14.336 34.816 4.096 62.464t-43.008 27.648zM616.448 634.88l-97.28-347.136-1.024 0-108.544 347.136 206.848 0z" fill=currentColor></path> </svg> </div> <div class=toolbar-label>内容字体</div> <div class=font-dropdown-toolbar> <div class=font-current-toolbar onclick=toggleFontDropdownToolbar()> <span class=current-font-name-toolbar>东观体</span> <svg class=dropdown-arrow-icon viewbox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg width=12 height=12> <path d="M878.592 250.88q29.696 0 48.128 11.264t24.576 29.696 0 41.472-26.624 45.568q-82.944 92.16-159.744 180.224t-148.48 164.864q-19.456 20.48-45.568 31.744t-53.76 11.776-53.248-8.704-43.008-28.672q-39.936-44.032-82.944-90.112l-88.064-92.16q-43.008-46.08-85.504-90.624t-79.36-86.528q-17.408-19.456-22.528-40.448t1.024-38.4 23.552-28.672 45.056-11.264q35.84 0 98.816-0.512t137.728-0.512l153.6 0 150.528 0 125.952 0 79.872 0z" fill=currentColor></path> </svg> </div> <div class=font-options-toolbar> <div class=font-option-toolbar data-font=dongguanti onclick="selectFontToolbar('dongguanti')">上图东观体 </div> <div class=font-option-toolbar data-font=oppoti onclick="selectFontToolbar('oppoti')">OPPO Sans </div> <div class=font-option-toolbar data-font=jiangchengti onclick="selectFontToolbar('jiangchengti')"> 江城黑体</div> <div class=font-option-toolbar data-font=lxgw onclick="selectFontToolbar('lxgw')">霞鹜臻楷</div> </div> </div> </div> <!-- 代码字体切换功能 --> <div class="toolbar-item code-font-switcher"> <div class=toolbar-icon> <svg t=1753672111433 class="icon code-font-icon" viewbox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg p-id=5148 width=20 height=20> <path d="M941.709938 0H82.290062A82.290062 82.290062 0 0 0 0 82.290062v859.419876A82.290062 82.290062 0 0 0 82.290062 1022.53923h859.419876A82.290062 82.290062 0 0 0 1022.53923 941.709938V82.290062A82.290062 82.290062 0 0 0 941.709938 0zM188.439372 553.631954a40.901569 40.901569 0 0 1-29.215406-70.116975L292.154066 351.558726 159.223966 218.628626a40.901569 40.901569 0 0 1 58.430813-57.94389l160.197813 162.145507a40.901569 40.901569 0 0 1 0 57.943889l-160.197813 160.684736a40.901569 40.901569 0 0 1-29.215407 12.173086z m443.587257 0H405.120304a40.901569 40.901569 0 0 1 0-82.290061H633.000476a40.901569 40.901569 0 0 1 0 82.290061z" fill=currentColor p-id=5149></path> </svg> </div> <div class=toolbar-label>代码字体</div> <div class=code-font-dropdown-toolbar> <div class=code-font-current-toolbar onclick=toggleCodeFontDropdownToolbar()> <span class=current-code-font-name-toolbar>DejaVu Sans Mono</span> <svg class=dropdown-arrow-icon viewbox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg width=12 height=12> <path d="M878.592 250.88q29.696 0 48.128 11.264t24.576 29.696 0 41.472-26.624 45.568q-82.944 92.16-159.744 180.224t-148.48 164.864q-19.456 20.48-45.568 31.744t-53.76 11.776-53.248-8.704-43.008-28.672q-39.936-44.032-82.944-90.112l-88.064-92.16q-43.008-46.08-85.504-90.624t-79.36-86.528q-17.408-19.456-22.528-40.448t1.024-38.4 23.552-28.672 45.056-11.264q35.84 0 98.816-0.512t137.728-0.512l153.6 0 150.528 0 125.952 0 79.872 0z" fill=currentColor></path> </svg> </div> <div class=code-font-options-toolbar> <div class=code-font-option-toolbar data-code-font=dejavu onclick="selectCodeFontToolbar('dejavu')"> DejaVu Sans Mono</div> <div class=code-font-option-toolbar data-code-font=google-sans-code onclick="selectCodeFontToolbar('google-sans-code')"> Google Sans Code</div> <div class=code-font-option-toolbar data-code-font=zsft onclick="selectCodeFontToolbar('zsft')"> JetBrains Mono</div> </div> </div> </div> <!-- 主题切换功能 --> <div class="toolbar-item theme-switcher" onclick=switchTheme()> <div class=toolbar-icon> <svg class=theme-icon viewbox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg width=20 height=20> <path d="M876.572788 522.301623c-1.886977 12.375865-9.657964 30.331819-35.880185 45.48903-56.489572 32.697703-150.21828 83.990926-174.010149 96.958262-13.143345 24.431435-66.067718 122.221646-98.141204 178.503487-16.117073 28.124548-36.055171 34.041304-50.030463 34.041304-0.031722 0-0.031722 0-0.031722 0-14.613836 0-29.1806-6.460132-43.234687-19.218714-47.183626-42.643216-125.994576-117.105115-146.013515-136.083351-27.757181-4.732791-138.338718-23.743774-200.584388-35.752272-17.924231-3.533476-32.649608-14.07046-40.372499-29.084409-5.78782-11.256368-10.281157-30.05962 1.471514-55.658647 26.989701-59.047838 74.126254-157.557432 85.957721-182.196599-3.437286-27.117614-16.996093-135.060045-23.760147-198.905142-1.886977-17.460674 3.901867-35.096333 15.829524-48.351218 12.791327-14.278191 30.667463-21.48943 49.854455-19.426445 63.669088 6.332219 173.259042 19.426445 200.584388 22.705118 24.335245-11.879562 121.085776-58.936297 180.133613-86.34146 9.91379-4.573155 19.85828-6.92369 29.596062-6.92369 28.748764 0 52.172243 20.642133 58.328453 51.421136 12.599969 62.997799 30.93864 166.70272 35.639708 193.484689 18.851347 19.682271 91.953272 96.031147 135.060045 143.07151C872.72004 487.125473 879.307062 504.71406 876.572788 522.301623L876.572788 522.301623zM825.375755 499.085876C776.017604 445.314205 687.245791 352.977193 686.365748 352.017332c-2.942005-3.069919-4.956895-6.971785-5.676279-11.208273-0.207731-1.215688-22.193465-127.001509-36.551474-198.936865-0.799202-3.917216-4.285606-16.836457-16.196891-16.836457-3.453658 0-7.30743 1.006933-11.464099 2.942005-67.282383 31.179117-183.955662 88.180342-185.170327 88.771813-3.693112 1.790786-7.850805 2.558265-11.975752 2.01489-1.295506-0.224104-133.63765-16.165168-205.988468-23.424502-0.079818 0-0.207731 0-0.287549 0-7.30743 0-11.128455 2.89391-13.319353 5.40408-3.677762 4.124947-5.644557 9.91379-5.068436 15.110139 7.674796 72.623018 24.255427 202.934922 24.463158 204.325595 0.511653 4.109598-0.159636 8.266267-1.966795 11.960403-0.591471 1.215688-57.657164 120.04712-88.339977 187.201589-3.565199 7.754614-4.41352 14.214746-2.350534 18.131963 1.935072 3.725858 6.588045 5.820566 10.360975 6.53995 70.719668 13.718443 204.644867 36.519752 206.036563 36.727483 4.189416 0.671289 8.058536 2.686179 11.112082 5.580089 1.006933 0.87902 96.414887 91.281983 150.090367 139.889027 8.314363 7.563256 13.143345 8.106632 14.437827 8.106632 3.485381 0 8.314363-4.621251 12.727882-12.391215 36.343743-63.828724 100.011808-181.988868 100.636025-183.155437 1.983167-3.64604 5.004991-6.667863 8.650007-8.650007 1.134847-0.671289 114.418936-62.373583 178.6314-99.516528 8.698103-5.036713 14.278191-10.568706 14.94948-14.854313C834.681702 511.845481 831.49922 505.800811 825.375755 499.085876L825.375755 499.085876zM935.333076 935.670256c-4.157693 4.157693-9.689686 6.299473-15.141862 6.299473-5.548366 0-11.048637-2.142803-15.238053-6.299473l-171.915441-171.915441c-8.362458-8.394181-8.362458-21.98471 0-30.426987 8.394181-8.394181 21.98471-8.394181 30.379914 0l171.915441 171.915441C943.727257 913.684522 943.727257 927.275052 935.333076 935.670256L935.333076 935.670256z" fill=currentColor></path> </svg> </div> <div class=toolbar-label>主题切换</div> </div> <!-- 返回顶部功能 --> <div class="toolbar-item back-to-top" onclick=scrollToTop()> <div class=toolbar-icon> <svg class=back-to-top-icon viewbox="0 0 1024 1024" xmlns=http://www.w3.org/2000/svg> <path d="M882.688 624.128l-336.896-583.68c-15.872-27.136-54.784-27.136-70.656 0L138.24 624.128c-15.872 27.136 4.096 61.44 35.328 61.44H317.44c22.528 0 40.96 18.432 40.96 40.96v239.616c0 22.528 18.432 40.96 40.96 40.96h223.232c22.528 0 40.96-18.432 40.96-40.96v-239.616c0-22.528 18.432-40.96 40.96-40.96h143.872c30.208 0 50.176-34.304 34.304-61.44z"> </path> </svg> </div> <div class=toolbar-label>返回顶部</div> </div> </div> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=标签 data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../index.html class=md-tabs__link> 主页 </a> </li> <li class=md-tabs__item> <a href=../../intro/intro.html class=md-tabs__link> 网站介绍 </a> </li> <li class=md-tabs__item> <a href=../../timeline/timeline.html class=md-tabs__link> 网站时间线 </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../../languages/index.html class=md-tabs__link> 编程语言 </a> </li> <li class=md-tabs__item> <a href=../../data-structure-algo/index.html class=md-tabs__link> 数据结构与算法 </a> </li> <li class=md-tabs__item> <a href=../../Linux/index.html class=md-tabs__link> Linux </a> </li> <li class=md-tabs__item> <a href=../../front-end/index.html class=md-tabs__link> 前端 </a> </li> <li class=md-tabs__item> <a href=../../MySQL/index.html class=md-tabs__link> MySQL </a> </li> <li class=md-tabs__item> <a href=../../JavaEE/index.html class=md-tabs__link> JavaEE应用开发 </a> </li> <li class=md-tabs__item> <a href=../../other/index.html class=md-tabs__link> 扩展知识 </a> </li> <li class=md-tabs__item> <a href=../../tooltips/index.html class=md-tabs__link> 工具帮助 </a> </li> <li class=md-tabs__item> <a href=../../test-encrypt/test-encrypt.html class=md-tabs__link> 测试加密功能 </a> </li> <li class=md-tabs__item> <a href=../../projects/index.html class=md-tabs__link> 项目 </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=导航栏 data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../index.html title=柯懒的知识库 class="md-nav__button md-logo" aria-label=柯懒的知识库 data-md-component=logo> <img src=../../assets/logo.png alt=logo> </a> 柯懒的知识库 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../index.html class=md-nav__link> <span class=md-ellipsis> 主页 </span> </a> </li> <li class=md-nav__item> <a href=../../intro/intro.html class=md-nav__link> <span class=md-ellipsis> 网站介绍 </span> </a> </li> <li class=md-nav__item> <a href=../../timeline/timeline.html class=md-nav__link> <span class=md-ellipsis> 网站时间线 </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4 checked> <div class="md-nav__link md-nav__container"> <a href=../../languages/index.html class="md-nav__link "> <span class=md-ellipsis> 编程语言 </span> </a> <label class="md-nav__link " for=__nav_4 id=__nav_4_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=true> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> 编程语言 </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../c-lang/index.html class=md-nav__link> <span class=md-ellipsis> C语言 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_3 checked> <div class="md-nav__link md-nav__container"> <a href=../index.html class="md-nav__link "> <span class=md-ellipsis> C++ </span> </a> <label class="md-nav__link " for=__nav_4_3 id=__nav_4_3_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_3_label aria-expanded=true> <label class=md-nav__title for=__nav_4_3> <span class="md-nav__icon md-icon"></span> C++ </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../c-to-cpp/c-to-cpp.html class=md-nav__link> <span class=md-ellipsis> C语言过渡C++基础知识 </span> </a> </li> <li class=md-nav__item> <a href=../class-obj/class-obj.html class=md-nav__link> <span class=md-ellipsis> C++类和对象 </span> </a> </li> <li class=md-nav__item> <a href=../member-func/member-func.html class=md-nav__link> <span class=md-ellipsis> C++默认成员函数 </span> </a> </li> <li class=md-nav__item> <a href=../class-obj-other/class-obj-other.html class=md-nav__link> <span class=md-ellipsis> C++类和对象相关内容 </span> </a> </li> <li class=md-nav__item> <a href=../memory/memory.html class=md-nav__link> <span class=md-ellipsis> C++内存管理 </span> </a> </li> <li class=md-nav__item> <a href=../template/template.html class=md-nav__link> <span class=md-ellipsis> C++模版 </span> </a> </li> <li class=md-nav__item> <a href=../stl-intro-string/stl-intro-string.html class=md-nav__link> <span class=md-ellipsis> C++STL简介与string类 </span> </a> </li> <li class=md-nav__item> <a href=../sim-string/sim-string.html class=md-nav__link> <span class=md-ellipsis> string类模拟实现 </span> </a> </li> <li class=md-nav__item> <a href=../vector/vector.html class=md-nav__link> <span class=md-ellipsis> vector类 </span> </a> </li> <li class=md-nav__item> <a href=../sim-vector/sim-vector.html class=md-nav__link> <span class=md-ellipsis> vector类模拟实现 </span> </a> </li> <li class=md-nav__item> <a href=../list/list.html class=md-nav__link> <span class=md-ellipsis> list类 </span> </a> </li> <li class=md-nav__item> <a href=../sim-list/sim-list.html class=md-nav__link> <span class=md-ellipsis> list类模拟实现 </span> </a> </li> <li class=md-nav__item> <a href=../stack/stack.html class=md-nav__link> <span class=md-ellipsis> stack类 </span> </a> </li> <li class=md-nav__item> <a href=../queue-priority-queue/queue-priority-queue.html class=md-nav__link> <span class=md-ellipsis> queue与priority_queue类 </span> </a> </li> <li class=md-nav__item> <a href=../sim-stack-queue/sim-stack-queue.html class=md-nav__link> <span class=md-ellipsis> stack和queue模拟实现 </span> </a> </li> <li class=md-nav__item> <a href=../sim-priority-queue/sim-priority-queue.html class=md-nav__link> <span class=md-ellipsis> priority_queue模拟实现 </span> </a> </li> <li class=md-nav__item> <a href=../reverse-iterator/reverse-iterator.html class=md-nav__link> <span class=md-ellipsis> 反向迭代器设计 </span> </a> </li> <li class=md-nav__item> <a href=../extend/extend.html class=md-nav__link> <span class=md-ellipsis> C++继承 </span> </a> </li> <li class=md-nav__item> <a href=../polymorphic/polymorphic.html class=md-nav__link> <span class=md-ellipsis> C++多态 </span> </a> </li> <li class=md-nav__item> <a href=../set/set.html class=md-nav__link> <span class=md-ellipsis> set类 </span> </a> </li> <li class=md-nav__item> <a href=../map/map.html class=md-nav__link> <span class=md-ellipsis> map类 </span> </a> </li> <li class=md-nav__item> <a href=../sim-map-set/sim-map-set.html class=md-nav__link> <span class=md-ellipsis> map和set类模拟实现 </span> </a> </li> <li class=md-nav__item> <a href=../sim-unordered-map-set/sim-unordered-map-set.html class=md-nav__link> <span class=md-ellipsis> unordered_map和unordered_set类模拟实现 </span> </a> </li> <li class=md-nav__item> <a href=../bitset/bitset.html class=md-nav__link> <span class=md-ellipsis> bitset类 </span> </a> </li> <li class=md-nav__item> <a href=../initializer-list/initializer-list.html class=md-nav__link> <span class=md-ellipsis> initializer_list类 </span> </a> </li> <li class=md-nav__item> <a href=../new-in-cpp11/new-in-cpp11.html class=md-nav__link> <span class=md-ellipsis> C++ 11相关新特性 </span> </a> </li> <li class=md-nav__item> <a href=../exception/exception.html class=md-nav__link> <span class=md-ellipsis> C++异常 </span> </a> </li> <li class=md-nav__item> <a href=../smart-ptr/smart-ptr.html class=md-nav__link> <span class=md-ellipsis> C++智能指针 </span> </a> </li> <li class=md-nav__item> <a href=../special-class-design/special-class-design.html class=md-nav__link> <span class=md-ellipsis> 特殊类设计 </span> </a> </li> <li class=md-nav__item> <a href=../type-cast/type-cast.html class=md-nav__link> <span class=md-ellipsis> C++中的类型转换 </span> </a> </li> <li class=md-nav__item> <a href=../cppio/cppio.html class=md-nav__link> <span class=md-ellipsis> C++ IO流 </span> </a> </li> <li class=md-nav__item> <a href=../new-in-cpp17/new-in-cpp17.html class=md-nav__link> <span class=md-ellipsis> C++ 17相关新特性 </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> C++时间和随机数相关库 </span> <span class="md-nav__icon md-icon"></span> </label> <a href=time-rand.html class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> C++时间和随机数相关库 </span> </a> <nav class="md-nav md-nav--secondary" aria-label=本节目录> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> 本节目录 </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#ratio class=md-nav__link> <span class=md-ellipsis> 基础：编译时有理数算术（&lt;ratio&gt;） </span> </a> <nav class=md-nav aria-label="基础：编译时有理数算术（<ratio>）"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#ratio_1 class=md-nav__link> <span class=md-ellipsis> 编译时有理数与ratio </span> </a> </li> <li class=md-nav__item> <a href=#_1 class=md-nav__link> <span class=md-ellipsis> 基本介绍 </span> </a> </li> <li class=md-nav__item> <a href=#_2 class=md-nav__link> <span class=md-ellipsis> 成员变量 </span> </a> </li> <li class=md-nav__item> <a href=#ratio_2 class=md-nav__link> <span class=md-ellipsis> 预定义Ratio类型 </span> </a> </li> <li class=md-nav__item> <a href=#ratio_3 class=md-nav__link> <span class=md-ellipsis> Ratio算术 </span> </a> </li> <li class=md-nav__item> <a href=#ratio_4 class=md-nav__link> <span class=md-ellipsis> Ratio比较 </span> </a> </li> <li class=md-nav__item> <a href=#_3 class=md-nav__link> <span class=md-ellipsis> 示例代码 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#chrono class=md-nav__link> <span class=md-ellipsis> 时间工具（&lt;chrono&gt;） </span> </a> <nav class=md-nav aria-label="时间工具（<chrono>）"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#clocks class=md-nav__link> <span class=md-ellipsis> 时钟（Clocks） </span> </a> <nav class=md-nav aria-label=时钟（Clocks）> <ul class=md-nav__list> <li class=md-nav__item> <a href=#system_clock class=md-nav__link> <span class=md-ellipsis> system_clock 成员 </span> </a> </li> <li class=md-nav__item> <a href=#steady_clock class=md-nav__link> <span class=md-ellipsis> steady_clock 成员 </span> </a> </li> <li class=md-nav__item> <a href=#high_resolution_clock class=md-nav__link> <span class=md-ellipsis> high_resolution_clock 成员 </span> </a> </li> <li class=md-nav__item> <a href=#_4 class=md-nav__link> <span class=md-ellipsis> 示例代码 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#durations class=md-nav__link> <span class=md-ellipsis> 时间段（Durations） </span> </a> <nav class=md-nav aria-label=时间段（Durations）> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_5 class=md-nav__link> <span class=md-ellipsis> 成员函数 </span> </a> </li> <li class=md-nav__item> <a href=#duration class=md-nav__link> <span class=md-ellipsis> 预定义Duration类型 </span> </a> </li> <li class=md-nav__item> <a href=#duration_1 class=md-nav__link> <span class=md-ellipsis> Duration运算 </span> </a> </li> <li class=md-nav__item> <a href=#duration_2 class=md-nav__link> <span class=md-ellipsis> duration类型转换 </span> </a> </li> <li class=md-nav__item> <a href=#_6 class=md-nav__link> <span class=md-ellipsis> 示例代码 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#time-points class=md-nav__link> <span class=md-ellipsis> 时间点（Time Points） </span> </a> </li> <li class=md-nav__item> <a href=#c14 class=md-nav__link> <span class=md-ellipsis> C++14 时间字面量 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#random class=md-nav__link> <span class=md-ellipsis> 随机数生成（&lt;random&gt;） </span> </a> <nav class=md-nav aria-label="随机数生成（<random>）"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#engines class=md-nav__link> <span class=md-ellipsis> 随机数引擎（Engines） </span> </a> </li> <li class=md-nav__item> <a href=#distributions class=md-nav__link> <span class=md-ellipsis> 随机数分布（Distributions） </span> </a> </li> <li class=md-nav__item> <a href=#utilities class=md-nav__link> <span class=md-ellipsis> 随机数工具（Utilities） </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../multi-thread/multi-thread.html class=md-nav__link> <span class=md-ellipsis> C++并发支持库 </span> </a> </li> <li class=md-nav__item> <a href=../format/format.html class=md-nav__link> <span class=md-ellipsis> C++中的格式化字符串 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../Java/index.html class=md-nav__link> <span class=md-ellipsis> Java </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../python/index.html class=md-nav__link> <span class=md-ellipsis> Python </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../data-structure-algo/index.html class=md-nav__link> <span class=md-ellipsis> 数据结构与算法 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../Linux/index.html class=md-nav__link> <span class=md-ellipsis> Linux </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../front-end/index.html class=md-nav__link> <span class=md-ellipsis> 前端 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../MySQL/index.html class=md-nav__link> <span class=md-ellipsis> MySQL </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../JavaEE/index.html class=md-nav__link> <span class=md-ellipsis> JavaEE应用开发 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../other/index.html class=md-nav__link> <span class=md-ellipsis> 扩展知识 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../tooltips/index.html class=md-nav__link> <span class=md-ellipsis> 工具帮助 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../test-encrypt/test-encrypt.html class=md-nav__link> <span class=md-ellipsis> 测试加密功能 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../projects/index.html class=md-nav__link> <span class=md-ellipsis> 项目 </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label=本节目录> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> 本节目录 </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#ratio class=md-nav__link> <span class=md-ellipsis> 基础：编译时有理数算术（&lt;ratio&gt;） </span> </a> <nav class=md-nav aria-label="基础：编译时有理数算术（<ratio>）"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#ratio_1 class=md-nav__link> <span class=md-ellipsis> 编译时有理数与ratio </span> </a> </li> <li class=md-nav__item> <a href=#_1 class=md-nav__link> <span class=md-ellipsis> 基本介绍 </span> </a> </li> <li class=md-nav__item> <a href=#_2 class=md-nav__link> <span class=md-ellipsis> 成员变量 </span> </a> </li> <li class=md-nav__item> <a href=#ratio_2 class=md-nav__link> <span class=md-ellipsis> 预定义Ratio类型 </span> </a> </li> <li class=md-nav__item> <a href=#ratio_3 class=md-nav__link> <span class=md-ellipsis> Ratio算术 </span> </a> </li> <li class=md-nav__item> <a href=#ratio_4 class=md-nav__link> <span class=md-ellipsis> Ratio比较 </span> </a> </li> <li class=md-nav__item> <a href=#_3 class=md-nav__link> <span class=md-ellipsis> 示例代码 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#chrono class=md-nav__link> <span class=md-ellipsis> 时间工具（&lt;chrono&gt;） </span> </a> <nav class=md-nav aria-label="时间工具（<chrono>）"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#clocks class=md-nav__link> <span class=md-ellipsis> 时钟（Clocks） </span> </a> <nav class=md-nav aria-label=时钟（Clocks）> <ul class=md-nav__list> <li class=md-nav__item> <a href=#system_clock class=md-nav__link> <span class=md-ellipsis> system_clock 成员 </span> </a> </li> <li class=md-nav__item> <a href=#steady_clock class=md-nav__link> <span class=md-ellipsis> steady_clock 成员 </span> </a> </li> <li class=md-nav__item> <a href=#high_resolution_clock class=md-nav__link> <span class=md-ellipsis> high_resolution_clock 成员 </span> </a> </li> <li class=md-nav__item> <a href=#_4 class=md-nav__link> <span class=md-ellipsis> 示例代码 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#durations class=md-nav__link> <span class=md-ellipsis> 时间段（Durations） </span> </a> <nav class=md-nav aria-label=时间段（Durations）> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_5 class=md-nav__link> <span class=md-ellipsis> 成员函数 </span> </a> </li> <li class=md-nav__item> <a href=#duration class=md-nav__link> <span class=md-ellipsis> 预定义Duration类型 </span> </a> </li> <li class=md-nav__item> <a href=#duration_1 class=md-nav__link> <span class=md-ellipsis> Duration运算 </span> </a> </li> <li class=md-nav__item> <a href=#duration_2 class=md-nav__link> <span class=md-ellipsis> duration类型转换 </span> </a> </li> <li class=md-nav__item> <a href=#_6 class=md-nav__link> <span class=md-ellipsis> 示例代码 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#time-points class=md-nav__link> <span class=md-ellipsis> 时间点（Time Points） </span> </a> </li> <li class=md-nav__item> <a href=#c14 class=md-nav__link> <span class=md-ellipsis> C++14 时间字面量 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#random class=md-nav__link> <span class=md-ellipsis> 随机数生成（&lt;random&gt;） </span> </a> <nav class=md-nav aria-label="随机数生成（<random>）"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#engines class=md-nav__link> <span class=md-ellipsis> 随机数引擎（Engines） </span> </a> </li> <li class=md-nav__item> <a href=#distributions class=md-nav__link> <span class=md-ellipsis> 随机数分布（Distributions） </span> </a> </li> <li class=md-nav__item> <a href=#utilities class=md-nav__link> <span class=md-ellipsis> 随机数工具（Utilities） </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=c>C++时间和随机数相关库<a class=headerlink href=#c title="Permanent link">&para;</a></h1> <div style="margin-top: -30px; font-size: 0.75em; opacity: 0.7;"> <p><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10h-2a8 8 0 0 1-8 8 8 8 0 0 1-8-8 8 8 0 0 1 8-8zm6.78 1a.7.7 0 0 0-.48.2l-1.22 1.21 2.5 2.5L20.8 5.7c.26-.26.26-.7 0-.95L19.25 3.2c-.13-.13-.3-.2-.47-.2m-2.41 2.12L9 12.5V15h2.5l7.37-7.38z"/></svg></span> 约 2667 个字 <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6m80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3l89.3 89.4-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3"/></svg></span> 346 行代码 <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 17H7V3h14m0-2H7a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2M3 5H1v16a2 2 0 0 0 2 2h16v-2H3m12.96-10.71-2.75 3.54-1.96-2.36L8.5 15h11z"/></svg></span> 1 张图片 <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 20c4.42 0 8-3.58 8-8s-3.58-8-8-8-8 3.58-8 8 3.58 8 8 8m0-18c5.5 0 10 4.5 10 10s-4.5 10-10 10C6.47 22 2 17.5 2 12S6.5 2 12 2m.5 11H11V7h1.5v4.26l3.7-2.13.75 1.3z"/></svg></span> 预计阅读时间 13 分钟</p> </div> <h2 id=ratio>基础：编译时有理数算术（<code>&lt;ratio&gt;</code>）<a class=headerlink href=#ratio title="Permanent link">&para;</a></h2> <h3 id=ratio_1>编译时有理数与<code>ratio</code><a class=headerlink href=#ratio_1 title="Permanent link">&para;</a></h3> <p>在接下来介绍<code>ratio</code>类之前，先了解何为「编译时有理数」</p> <p>「编译时有理数」指的是其值在程序<strong>编译期间</strong>就已经确定并且可以进行计算的有理数（分数）</p> <p>在C++中，<code>std::ratio</code>就是用来表示这种编译时有理数的工具。关键点在于：</p> <ol> <li><strong>模板定义</strong>：<code>std::ratio&lt;Num, Den&gt;</code>使用模板参数<code>Num</code>（分子）和<code>Den</code>（分母）来定义一个分数。这些参数<strong>必须是编译时就能确定的整数常量</strong></li> <li><strong>类型表示</strong>：<code>std::ratio&lt;1, 1000&gt;</code>本身是一个<strong>类型</strong>，而不是一个运行时变量。它的值（1/1000）是这个类型的一个属性</li> <li><strong>编译期计算</strong>：所有涉及<code>std::ratio</code>的算术（如<code>std::ratio_add</code>）和比较（如 <code>std::ratio_less</code>）操作都在<strong>编译时</strong>完成。编译器会计算出结果，并生成一个新的 <code>std::ratio</code>类型</li> <li><strong>无运行时开销</strong>：由于计算在编译时完成，直接操作<code>std::ratio</code>类型本身（例如，确定<code>std::milli::num</code>和<code>std::milli::den</code>）在运行时没有计算开销</li> <li><strong>用于元编程和常量</strong>：它们非常适合用于模板元编程和定义固定的、在编译时就需要确定的常量比例，就像<code>&lt;chrono&gt;</code>库中定义时间单位（毫秒、微秒等）那样</li> </ol> <p>简单来说，它是一种在编译代码时由编译器处理和计算的分数表示方法，而不是等到程序运行时再计算</p> <h3 id=_1>基本介绍<a class=headerlink href=#_1 title="Permanent link">&para;</a></h3> <p><code>&lt;chrono&gt;</code>库广泛使用<code>&lt;ratio&gt;</code>库来表示编译时的分数，这对于定义时间单位（例如秒、毫秒）至关重要</p> <p><code>std::ratio</code> 是一个模板类，用于表示编译时的有理数 <code>Num / Den</code></p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><span class=k>template</span><span class=w> </span><span class=o>&lt;</span><span class=n>std</span><span class=o>::</span><span class=kt>intmax_t</span><span class=w> </span><span class=n>Num</span><span class=p>,</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=kt>intmax_t</span><span class=w> </span><span class=n>Den</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=o>&gt;</span>
</span><span id=__span-0-2><span class=k>class</span><span class=w> </span><span class=nc>ratio</span><span class=p>;</span>
</span></code></pre></div></td></tr></table></div> <p>其中 <code>Num</code> 是分子（numerator），<code>Den</code> 是分母（denominator），分母必须非零，且分数会自动约简</p> <h3 id=_2>成员变量<a class=headerlink href=#_2 title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th style="text-align: left;">成员</th> <th style="text-align: left;">类型</th> <th style="text-align: left;">描述</th> </tr> </thead> <tbody> <tr> <td style="text-align: left;"><code>num</code></td> <td style="text-align: left;"><code>std::intmax_t</code></td> <td style="text-align: left;">约简后的分子</td> </tr> <tr> <td style="text-align: left;"><code>den</code></td> <td style="text-align: left;"><code>std::intmax_t</code></td> <td style="text-align: left;">约简后的分母</td> </tr> </tbody> </table> <p>关于类型的定义，可以在<a href=https://legacy.cplusplus.com/reference/cstdint/ >C语言头文件<code>&lt;stdint.h&gt;</code></a>中查看</p> <h3 id=ratio_2>预定义Ratio类型<a class=headerlink href=#ratio_2 title="Permanent link">&para;</a></h3> <p>标准库提供了一些常用的<a href=javascript:; class=custom-tooltip data-title="国际单位制（法语：Système International d'Unités，简称SI），源于公制（又称米制），是世界上最普遍采用的标准度量系统">SI单位</a>前缀的 <code>ratio</code> 类型别名，例如（由小到大） <code>std::atto</code>、<code>std::femto</code>、<code>std::pico</code>、<code>std::nano</code>、<code>std::micro</code>、<code>std::milli</code>、<code>std::centi</code>、<code>std::deci</code>、<code>std::deca</code>、<code>std::hecto</code>、<code>std::kilo</code>、<code>std::mega</code>、<code>std::giga</code>、<code>std::tera</code>、<code>std::peta</code> 和 <code>std::exa</code></p> <p>单位对照表如下：</p> <p><a class=glightbox href="34. C++时间和随机数相关库.assets/image-20250415150812879.png" data-type=image data-width=100% data-height=auto data-desc-position=bottom><img src="34. C++时间和随机数相关库.assets/image-20250415150812879.png"></a></p> <h3 id=ratio_3>Ratio算术<a class=headerlink href=#ratio_3 title="Permanent link">&para;</a></h3> <p><code>&lt;ratio&gt;</code>提供了编译时算术运算的类型别名，包括如下：</p> <ol> <li><code>std::ratio_add</code>（加法）</li> <li><code>std::ratio_subtract</code>（减法）</li> <li><code>std::ratio_multiply</code>（乘法）</li> <li><code>std::ratio_divide</code>（除法）</li> </ol> <h3 id=ratio_4>Ratio比较<a class=headerlink href=#ratio_4 title="Permanent link">&para;</a></h3> <p><code>&lt;ratio&gt;</code>提供了编译时比较运算的类型别名，包括 1. <code>std::ratio_equal</code>（等于） 2. <code>std::ratio_not_equal</code>（不等于） 3. <code>std::ratio_less</code>（小于） 4. <code>std::ratio_less_equal</code>（小于等于） 5. <code>std::ratio_greater</code>（大于） 6. <code>std::ratio_greater_equal</code>（大于等于）</p> <h3 id=_3>示例代码<a class=headerlink href=#_3 title="Permanent link">&para;</a></h3> <div class="language-cpp highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-1-1><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;iostream&gt;</span>
</span><span id=__span-1-2><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;ratio&gt;</span>
</span><span id=__span-1-3>
</span><span id=__span-1-4><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>()</span><span class=w> </span>
</span><span id=__span-1-5><span class=p>{</span>
</span><span id=__span-1-6><span class=w>    </span><span class=c1>// 定义ratio类型</span>
</span><span id=__span-1-7><span class=w>    </span><span class=k>using</span><span class=w> </span><span class=n>one_third</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>ratio</span><span class=o>&lt;</span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=o>&gt;</span><span class=p>;</span>
</span><span id=__span-1-8><span class=w>    </span><span class=k>using</span><span class=w> </span><span class=n>two_fourths</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>ratio</span><span class=o>&lt;</span><span class=mi>2</span><span class=p>,</span><span class=w> </span><span class=mi>4</span><span class=o>&gt;</span><span class=p>;</span><span class=w> </span><span class=c1>// 会被约简为1/2</span>
</span><span id=__span-1-9>
</span><span id=__span-1-10><span class=w>    </span><span class=c1>// 访问num和den</span>
</span><span id=__span-1-11><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;one_third: &quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>one_third</span><span class=o>::</span><span class=n>num</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;/&quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>one_third</span><span class=o>::</span><span class=n>den</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-1-12><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;two_fourths: &quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>two_fourths</span><span class=o>::</span><span class=n>num</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;/&quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>two_fourths</span><span class=o>::</span><span class=n>den</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-1-13>
</span><span id=__span-1-14><span class=w>    </span><span class=c1>// Ratio算术</span>
</span><span id=__span-1-15><span class=w>    </span><span class=k>using</span><span class=w> </span><span class=n>sum</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>ratio_add</span><span class=o>&lt;</span><span class=n>one_third</span><span class=p>,</span><span class=w> </span><span class=n>two_fourths</span><span class=o>&gt;</span><span class=p>;</span><span class=w> </span><span class=c1>// 1/3 + 1/2 = 5/6</span>
</span><span id=__span-1-16><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;Sum: &quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>sum</span><span class=o>::</span><span class=n>num</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;/&quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>sum</span><span class=o>::</span><span class=n>den</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-1-17>
</span><span id=__span-1-18><span class=w>    </span><span class=k>using</span><span class=w> </span><span class=n>product</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>ratio_multiply</span><span class=o>&lt;</span><span class=n>one_third</span><span class=p>,</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>kilo</span><span class=o>&gt;</span><span class=p>;</span><span class=w> </span><span class=c1>// (1/3) * (1000/1) = 1000/3</span>
</span><span id=__span-1-19><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;Product: &quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>product</span><span class=o>::</span><span class=n>num</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;/&quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>product</span><span class=o>::</span><span class=n>den</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-1-20>
</span><span id=__span-1-21><span class=w>    </span><span class=c1>// Ratio比较</span>
</span><span id=__span-1-22><span class=w>    </span><span class=c1>// 比较1/3和1/2</span>
</span><span id=__span-1-23><span class=w>    </span><span class=kt>bool</span><span class=w> </span><span class=n>less</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>ratio_less</span><span class=o>&lt;</span><span class=n>one_third</span><span class=p>,</span><span class=w> </span><span class=n>two_fourths</span><span class=o>&gt;::</span><span class=n>value</span><span class=p>;</span>
</span><span id=__span-1-24><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;Is 1/3 less than 1/2? &quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>boolalpha</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>less</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span><span class=w> </span><span class=c1>// 输出rue</span>
</span><span id=__span-1-25>
</span><span id=__span-1-26><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-1-27><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h2 id=chrono>时间工具（<code>&lt;chrono&gt;</code>）<a class=headerlink href=#chrono title="Permanent link">&para;</a></h2> <p><code>&lt;chrono&gt;</code> 库提供了处理时间的三大核心组件：时钟（Clocks）、时间段（Durations）和时间点（Time points）</p> <h3 id=clocks>时钟（Clocks）<a class=headerlink href=#clocks title="Permanent link">&para;</a></h3> <p>时钟提供了对当前时间点的访问，C++标准库定义了三种主要时钟：</p> <ol> <li><code>std::chrono::system_clock</code>代表系统范围的实时时钟（挂钟时间），它是唯一可以映射到C风格<code>time_t</code>的时钟，但不一定是单调递增的</li> <li><code>std::chrono::steady_clock</code>代表单调递增的时钟，时间点永不减少，最适合用于测量时间间隔</li> <li><code>std::chrono::high_resolution_clock</code>提供具有最小可用时钟周期的时钟，通常是 <code>system_clock</code>或<code>steady_clock</code>的别名</li> </ol> <div class="admonition note"> <p class=admonition-title>单调递增时钟与非单调递增时钟</p> <ul> <li><strong>单调递增的时钟就像一个</strong>秒表计数器**：它只管从某个起点开始一直往前数时间，不受外界干扰，非常适合测量经过了多长时间</li> <li><strong>不单调递增的时钟就像</strong>电脑右下角的系统时间**：它显示的是当前的“挂钟时间”，这个时间可能会因为人为修改、网络同步、夏令时等原因向前或向后跳变</li> </ul> </div> <h4 id=system_clock><code>system_clock</code> 成员<a class=headerlink href=#system_clock title="Permanent link">&para;</a></h4> <ol> <li><code>now() noexcept</code>：（静态）返回表示当前时间的<code>time_point</code></li> <li><code>to_time_t(const time_point&amp; t) noexcept</code>：（静态）将<code>time_point</code>转换为 <code>std::time_t</code></li> <li><code>from_time_t(std::time_t t) noexcept</code>：（静态）将<code>std::time_t</code>转换为 <code>time_point</code></li> <li><code>is_steady</code>：（静态）<code>false</code>，表示时钟不是单调递增的</li> </ol> <h4 id=steady_clock><code>steady_clock</code> 成员<a class=headerlink href=#steady_clock title="Permanent link">&para;</a></h4> <ol> <li><code>now() noexcept</code>：（静态）返回表示当前时间的<code>time_point</code></li> <li><code>is_steady</code>：（静态）<code>true</code>，表示时钟是单调递增的</li> </ol> <h4 id=high_resolution_clock><code>high_resolution_clock</code> 成员<a class=headerlink href=#high_resolution_clock title="Permanent link">&para;</a></h4> <ol> <li><code>now() noexcept</code>：（静态）返回表示当前时间的<code>time_point</code></li> <li><code>is_steady</code>：（静态）取决于它所别名的时钟</li> </ol> <h4 id=_4>示例代码<a class=headerlink href=#_4 title="Permanent link">&para;</a></h4> <div class="language-cpp highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span>
<span class=normal>39</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-2-1><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;iostream&gt;</span>
</span><span id=__span-2-2><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;chrono&gt;</span>
</span><span id=__span-2-3><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;ctime&gt;</span><span class=c1> // for std::time_t, std::gmtime, std::put_time</span>
</span><span id=__span-2-4><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;iomanip&gt;</span><span class=c1> // for std::put_time</span>
</span><span id=__span-2-5><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;thread&gt;</span><span class=c1> // for std::this_thread::sleep_for</span>
</span><span id=__span-2-6>
</span><span id=__span-2-7><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>()</span><span class=w> </span>
</span><span id=__span-2-8><span class=p>{</span>
</span><span id=__span-2-9><span class=w>    </span><span class=c1>// --- system_clock ---</span>
</span><span id=__span-2-10><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>chrono</span><span class=o>::</span><span class=n>system_clock</span><span class=o>::</span><span class=n>time_point</span><span class=w> </span><span class=n>sys_now</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>chrono</span><span class=o>::</span><span class=n>system_clock</span><span class=o>::</span><span class=n>now</span><span class=p>();</span>
</span><span id=__span-2-11><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=kt>time_t</span><span class=w> </span><span class=n>sys_now_c</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>chrono</span><span class=o>::</span><span class=n>system_clock</span><span class=o>::</span><span class=n>to_time_t</span><span class=p>(</span><span class=n>sys_now</span><span class=p>);</span>
</span><span id=__span-2-12><span class=w>    </span><span class=c1>// 将 time_t 转换为 UTC 时间结构</span>
</span><span id=__span-2-13><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>tm</span><span class=w> </span><span class=n>sys_now_tm</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=o>*</span><span class=n>std</span><span class=o>::</span><span class=n>gmtime</span><span class=p>(</span><span class=o>&amp;</span><span class=n>sys_now_c</span><span class=p>);</span>
</span><span id=__span-2-14><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;System clock time: &quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>put_time</span><span class=p>(</span><span class=o>&amp;</span><span class=n>sys_now_tm</span><span class=p>,</span><span class=w> </span><span class=s>&quot;%Y-%m-%d %H:%M:%S UTC&quot;</span><span class=p>)</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-2-15>
</span><span id=__span-2-16><span class=w>    </span><span class=c1>// --- steady_clock ---</span>
</span><span id=__span-2-17><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>chrono</span><span class=o>::</span><span class=n>steady_clock</span><span class=o>::</span><span class=n>time_point</span><span class=w> </span><span class=n>steady_start</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>chrono</span><span class=o>::</span><span class=n>steady_clock</span><span class=o>::</span><span class=n>now</span><span class=p>();</span>
</span><span id=__span-2-18><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;Starting steady clock measurement...&quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-2-19><span class=w>    </span><span class=c1>// 模拟一些工作</span>
</span><span id=__span-2-20><span class=w>    </span><span class=c1>// 线程睡眠</span>
</span><span id=__span-2-21><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>this_thread</span><span class=o>::</span><span class=n>sleep_for</span><span class=p>(</span><span class=n>std</span><span class=o>::</span><span class=n>chrono</span><span class=o>::</span><span class=n>milliseconds</span><span class=p>(</span><span class=mi>150</span><span class=p>));</span>
</span><span id=__span-2-22><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>chrono</span><span class=o>::</span><span class=n>steady_clock</span><span class=o>::</span><span class=n>time_point</span><span class=w> </span><span class=n>steady_end</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>chrono</span><span class=o>::</span><span class=n>steady_clock</span><span class=o>::</span><span class=n>now</span><span class=p>();</span>
</span><span id=__span-2-23><span class=w>    </span><span class=c1>// 计算时间差 (duration)</span>
</span><span id=__span-2-24><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>chrono</span><span class=o>::</span><span class=n>duration</span><span class=o>&lt;</span><span class=kt>double</span><span class=p>,</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>milli</span><span class=o>&gt;</span><span class=w> </span><span class=n>elapsed_ms</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>steady_end</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=n>steady_start</span><span class=p>;</span>
</span><span id=__span-2-25><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;Elapsed time (steady_clock): &quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>elapsed_ms</span><span class=p>.</span><span class=n>count</span><span class=p>()</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot; ms&quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-2-26>
</span><span id=__span-2-27><span class=w>    </span><span class=c1>// --- high_resolution_clock ---</span>
</span><span id=__span-2-28><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>chrono</span><span class=o>::</span><span class=n>high_resolution_clock</span><span class=o>::</span><span class=n>time_point</span><span class=w> </span><span class=n>high_res_now</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>chrono</span><span class=o>::</span><span class=n>high_resolution_clock</span><span class=o>::</span><span class=n>now</span><span class=p>();</span>
</span><span id=__span-2-29><span class=w>    </span><span class=c1>// high_resolution_clock通常没有直接转换为time_t的方法，因为它可能是 steady_clock</span>
</span><span id=__span-2-30><span class=w>    </span><span class=c1>// 但我们可以获取自纪元以来的时间</span>
</span><span id=__span-2-31><span class=w>    </span><span class=k>auto</span><span class=w> </span><span class=n>high_res_epoch</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>high_res_now</span><span class=p>.</span><span class=n>time_since_epoch</span><span class=p>();</span>
</span><span id=__span-2-32><span class=w>    </span><span class=c1>// 将其转换为纳秒</span>
</span><span id=__span-2-33><span class=w>    </span><span class=kt>long</span><span class=w> </span><span class=kt>long</span><span class=w> </span><span class=n>ns</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>chrono</span><span class=o>::</span><span class=n>duration_cast</span><span class=o>&lt;</span><span class=n>std</span><span class=o>::</span><span class=n>chrono</span><span class=o>::</span><span class=n>nanoseconds</span><span class=o>&gt;</span><span class=p>(</span><span class=n>high_res_epoch</span><span class=p>).</span><span class=n>count</span><span class=p>();</span>
</span><span id=__span-2-34><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;High resolution clock (nanoseconds since epoch): &quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>ns</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-2-35><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;High resolution clock is steady: &quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>boolalpha</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>chrono</span><span class=o>::</span><span class=n>high_resolution_clock</span><span class=o>::</span><span class=n>is_steady</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-2-36>
</span><span id=__span-2-37>
</span><span id=__span-2-38><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-2-39><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <div class="admonition note"> <p class=admonition-title><code>put_time</code>函数</p> <p><code>std::put_time</code>是C++标准库<code>&lt;iomanip&gt;</code>中的一个<strong>输出流操纵符（output stream manipulator）</strong></p> <p>它的作用是：</p> <ol> <li><strong>接收一个指向<code>std::tm</code>结构体的指针</strong>：<code>std::tm</code>结构体包含了年、月、日、时、分、秒等日历时间信息</li> <li><strong>接收一个格式化字符串</strong>：这个字符串指定了如何将<code>std::tm</code>中的时间信息转换成文本表示。它使用与C语言函数<code>strftime</code>相同的格式代码（例如<code>%Y</code>代表四位数年份，<code>%m</code>代表月份，<code>%d</code>代表日期，<code>%H</code>代表小时（24小时制），<code>%M</code>代表分钟，<code>%S</code>代表秒）</li> <li><strong>格式化时间</strong>：根据提供的格式字符串，将<code>std::tm</code>结构体中的时间信息格式化成一个字符串</li> <li><strong>插入到输出流</strong>：将格式化后的时间字符串插入到它所应用的输出流中（例如 <code>std::cout</code>）</li> </ol> </div> <h3 id=durations>时间段（Durations）<a class=headerlink href=#durations title="Permanent link">&para;</a></h3> <p><code>std::chrono::duration</code> 表示一个时间间隔，由一个计数值和一个表示计数的单位（例如秒、毫秒）的<code>ratio</code>组成</p> <p><div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-3-1><span class=k>template</span><span class=w> </span><span class=o>&lt;</span><span class=k>class</span><span class=w> </span><span class=nc>Rep</span><span class=p>,</span><span class=w> </span><span class=k>class</span><span class=w> </span><span class=nc>Period</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>ratio</span><span class=o>&lt;</span><span class=mi>1</span><span class=o>&gt;&gt;</span>
</span><span id=__span-3-2><span class=k>class</span><span class=w> </span><span class=nc>duration</span><span class=p>;</span>
</span></code></pre></div></td></tr></table></div> 其中 <code>Rep</code> 是用于表示计数值的算术类型（例如 <code>int</code>、<code>long</code>、<code>double</code>），<code>Period</code> 是一个<code>std::ratio</code>类型，表示每个计数值代表的秒数（例如<code>std::milli</code>表示每个计数值是<span class=arithmatex>\(\frac{1}{1000}\)</span>秒）</p> <h4 id=_5>成员函数<a class=headerlink href=#_5 title="Permanent link">&para;</a></h4> <table> <thead> <tr> <th style="text-align: left;">成员</th> <th style="text-align: left;">描述</th> </tr> </thead> <tbody> <tr> <td style="text-align: left;"><code>count()</code></td> <td style="text-align: left;">返回<code>duration</code>的计数值</td> </tr> <tr> <td style="text-align: left;"><code>zero()</code></td> <td style="text-align: left;">（静态 C++11/14）返回零长度的duration</td> </tr> <tr> <td style="text-align: left;"><code>min()</code></td> <td style="text-align: left;">（静态 C++11/14）返回可表示的最小duration</td> </tr> <tr> <td style="text-align: left;"><code>max()</code></td> <td style="text-align: left;">（静态 C++11/14）返回可表示的最大duration</td> </tr> </tbody> </table> <h4 id=duration>预定义Duration类型<a class=headerlink href=#duration title="Permanent link">&para;</a></h4> <p>标准库提供了常用的<code>duration</code>类型别名，包括：</p> <ol> <li><code>std::chrono::nanoseconds</code></li> <li><code>std::chrono::microseconds</code></li> <li><code>std::chrono::milliseconds</code></li> <li><code>std::chrono::seconds</code></li> <li><code>std::chrono::minutes</code></li> <li><code>std::chrono::hours</code></li> <li><code>std::chrono::days</code>（C++20）</li> <li><code>std::chrono::weeks</code>（C++20）</li> <li><code>std::chrono::months</code>（C++20）</li> <li><code>std::chrono::years</code>（C++20）</li> </ol> <h4 id=duration_1>Duration运算<a class=headerlink href=#duration_1 title="Permanent link">&para;</a></h4> <p>Duration支持算术运算（<code>+</code>、<code>-</code>、<code>*</code>（与数值）、<code>/</code>（与数值或<code>duration</code>）、<code>%</code>（与数值或<code>duration</code>）和比较运算（<code>==</code>、<code>!=</code>、<code>&lt;</code>、<code>&lt;=</code>、<code>&gt;</code>、<code>&gt;=</code>），比较会自动处理不同单位的转换</p> <h4 id=duration_2><code>duration</code>类型转换<a class=headerlink href=#duration_2 title="Permanent link">&para;</a></h4> <p><code>std::chrono::duration_cast</code> 用于在不同类型的<code>duration</code>之间进行显式转换，转换可能会截断（不会四舍五入）</p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-4-1><span class=k>template</span><span class=w> </span><span class=o>&lt;</span><span class=k>class</span><span class=w> </span><span class=nc>ToDuration</span><span class=p>,</span><span class=w> </span><span class=k>class</span><span class=w> </span><span class=nc>Rep</span><span class=p>,</span><span class=w> </span><span class=k>class</span><span class=w> </span><span class=nc>Period</span><span class=o>&gt;</span>
</span><span id=__span-4-2><span class=k>constexpr</span><span class=w> </span><span class=n>ToDuration</span><span class=w> </span><span class=n>duration_cast</span><span class=p>(</span><span class=k>const</span><span class=w> </span><span class=n>duration</span><span class=o>&lt;</span><span class=n>Rep</span><span class=p>,</span><span class=w> </span><span class=n>Period</span><span class=o>&gt;&amp;</span><span class=w> </span><span class=n>d</span><span class=p>);</span>
</span></code></pre></div></td></tr></table></div> <h4 id=_6>示例代码<a class=headerlink href=#_6 title="Permanent link">&para;</a></h4> <div class="language-cpp highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span>
<span class=normal>39</span>
<span class=normal>40</span>
<span class=normal>41</span>
<span class=normal>42</span>
<span class=normal>43</span>
<span class=normal>44</span>
<span class=normal>45</span>
<span class=normal>46</span>
<span class=normal>47</span>
<span class=normal>48</span>
<span class=normal>49</span>
<span class=normal>50</span>
<span class=normal>51</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-5-1><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;iostream&gt;</span>
</span><span id=__span-5-2><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;chrono&gt;</span>
</span><span id=__span-5-3>
</span><span id=__span-5-4><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>()</span><span class=w> </span>
</span><span id=__span-5-5><span class=p>{</span>
</span><span id=__span-5-6><span class=w>    </span><span class=c1>// 创建 durations</span>
</span><span id=__span-5-7><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>chrono</span><span class=o>::</span><span class=n>seconds</span><span class=w> </span><span class=n>s</span><span class=p>(</span><span class=mi>5</span><span class=p>);</span><span class=w>                     </span><span class=c1>// 5 秒</span>
</span><span id=__span-5-8><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>chrono</span><span class=o>::</span><span class=n>milliseconds</span><span class=w> </span><span class=n>ms</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>chrono</span><span class=o>::</span><span class=n>milliseconds</span><span class=p>(</span><span class=mi>1500</span><span class=p>);</span><span class=w> </span><span class=c1>// 1500 毫秒</span>
</span><span id=__span-5-9><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>chrono</span><span class=o>::</span><span class=n>duration</span><span class=o>&lt;</span><span class=kt>double</span><span class=p>,</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>ratio</span><span class=o>&lt;</span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=o>&gt;&gt;</span><span class=w> </span><span class=n>third_of_sec</span><span class=p>(</span><span class=mf>1.0</span><span class=p>);</span><span class=w> </span><span class=c1>// 1/3 秒</span>
</span><span id=__span-5-10>
</span><span id=__span-5-11><span class=w>    </span><span class=c1>// 访问count()</span>
</span><span id=__span-5-12><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;Seconds count: &quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>s</span><span class=p>.</span><span class=n>count</span><span class=p>()</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-5-13><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;Milliseconds count: &quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>ms</span><span class=p>.</span><span class=n>count</span><span class=p>()</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-5-14><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;Third of second count: &quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>third_of_sec</span><span class=p>.</span><span class=n>count</span><span class=p>()</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-5-15>
</span><span id=__span-5-16><span class=w>    </span><span class=c1>// Duration 算术</span>
</span><span id=__span-5-17><span class=w>    </span><span class=k>auto</span><span class=w> </span><span class=n>total_ms</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>s</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>ms</span><span class=p>;</span><span class=w> </span><span class=c1>// 5s + 1500ms = 6500ms</span>
</span><span id=__span-5-18><span class=w>    </span><span class=c1>// 注意：结果类型是两个操作数周期的最大公约数，表示类型是std::common_type</span>
</span><span id=__span-5-19><span class=w>    </span><span class=c1>// 在这里，结果类型可能是milliseconds或更精细的类型</span>
</span><span id=__span-5-20><span class=w>    </span><span class=c1>// 为了明确，我们通常使用duration_cast</span>
</span><span id=__span-5-21><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>chrono</span><span class=o>::</span><span class=n>milliseconds</span><span class=w> </span><span class=n>total_ms_casted</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>chrono</span><span class=o>::</span><span class=n>duration_cast</span><span class=o>&lt;</span><span class=n>std</span><span class=o>::</span><span class=n>chrono</span><span class=o>::</span><span class=n>milliseconds</span><span class=o>&gt;</span><span class=p>(</span><span class=n>s</span><span class=p>)</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>ms</span><span class=p>;</span>
</span><span id=__span-5-22><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;Total milliseconds: &quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>total_ms_casted</span><span class=p>.</span><span class=n>count</span><span class=p>()</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-5-23>
</span><span id=__span-5-24><span class=w>    </span><span class=k>auto</span><span class=w> </span><span class=n>half_s</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>s</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=mi>2</span><span class=p>;</span><span class=w> </span><span class=c1>// 结果是2秒 (整数除法)</span>
</span><span id=__span-5-25><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;Half of 5 seconds (integer division): &quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>half_s</span><span class=p>.</span><span class=n>count</span><span class=p>()</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-5-26>
</span><span id=__span-5-27><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>chrono</span><span class=o>::</span><span class=n>duration</span><span class=o>&lt;</span><span class=kt>double</span><span class=o>&gt;</span><span class=w> </span><span class=n>s_double</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>s</span><span class=p>;</span><span class=w> </span><span class=c1>// 隐式转换为double类型的秒</span>
</span><span id=__span-5-28><span class=w>    </span><span class=k>auto</span><span class=w> </span><span class=n>precise_half_s</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>s_double</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=mf>2.0</span><span class=p>;</span><span class=w> </span><span class=c1>// 结果是2.5秒</span>
</span><span id=__span-5-29><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;Half of 5 seconds (double division): &quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>precise_half_s</span><span class=p>.</span><span class=n>count</span><span class=p>()</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-5-30>
</span><span id=__span-5-31><span class=w>    </span><span class=c1>// Duration比较</span>
</span><span id=__span-5-32><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>ms</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>s</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-5-33><span class=w>        </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;1500 ms is less than 5 s&quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-5-34><span class=w>    </span><span class=p>}</span>
</span><span id=__span-5-35>
</span><span id=__span-5-36><span class=w>    </span><span class=c1>// duration_cast</span>
</span><span id=__span-5-37><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>chrono</span><span class=o>::</span><span class=n>seconds</span><span class=w> </span><span class=n>ms_to_s</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>chrono</span><span class=o>::</span><span class=n>duration_cast</span><span class=o>&lt;</span><span class=n>std</span><span class=o>::</span><span class=n>chrono</span><span class=o>::</span><span class=n>seconds</span><span class=o>&gt;</span><span class=p>(</span><span class=n>ms</span><span class=p>);</span><span class=w> </span><span class=c1>// 1500ms -&gt; 1s (截断)</span>
</span><span id=__span-5-38><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;1500 ms casted to seconds: &quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>ms_to_s</span><span class=p>.</span><span class=n>count</span><span class=p>()</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-5-39>
</span><span id=__span-5-40><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>chrono</span><span class=o>::</span><span class=n>microseconds</span><span class=w> </span><span class=n>s_to_us</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>chrono</span><span class=o>::</span><span class=n>duration_cast</span><span class=o>&lt;</span><span class=n>std</span><span class=o>::</span><span class=n>chrono</span><span class=o>::</span><span class=n>microseconds</span><span class=o>&gt;</span><span class=p>(</span><span class=n>s</span><span class=p>);</span><span class=w> </span><span class=c1>// 5s -&gt; 5,000,000 us</span>
</span><span id=__span-5-41><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;5 s casted to microseconds: &quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>s_to_us</span><span class=p>.</span><span class=n>count</span><span class=p>()</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-5-42>
</span><span id=__span-5-43><span class=w>    </span><span class=c1>// C++14 字面量 (需要 using namespace std::chrono_literals)</span>
</span><span id=__span-5-44><span class=w>    </span><span class=k>using</span><span class=w> </span><span class=k>namespace</span><span class=w> </span><span class=nn>std</span><span class=o>::</span><span class=nn>chrono_literals</span><span class=p>;</span>
</span><span id=__span-5-45><span class=w>    </span><span class=k>auto</span><span class=w> </span><span class=n>literal_duration</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=n>h</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>30</span><span class=n>min</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>5</span><span class=n>s</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>100</span><span class=n>ms</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>20u</span><span class=n>s</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>300</span><span class=n>ns</span><span class=p>;</span>
</span><span id=__span-5-46><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;Literal duration in nanoseconds: &quot;</span>
</span><span id=__span-5-47><span class=w>              </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>chrono</span><span class=o>::</span><span class=n>duration_cast</span><span class=o>&lt;</span><span class=n>std</span><span class=o>::</span><span class=n>chrono</span><span class=o>::</span><span class=n>nanoseconds</span><span class=o>&gt;</span><span class=p>(</span><span class=n>literal_duration</span><span class=p>).</span><span class=n>count</span><span class=p>()</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-5-48>
</span><span id=__span-5-49>
</span><span id=__span-5-50><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-5-51><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h3 id=time-points>时间点（Time Points）<a class=headerlink href=#time-points title="Permanent link">&para;</a></h3> <p><code>std::chrono::time_point</code> 表示一个特定的时间点，它关联到一个时钟，并表示为从该时钟纪元（epoch）开始的一段 <code>duration</code> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-6-1><span class=k>template</span><span class=w> </span><span class=o>&lt;</span><span class=k>class</span><span class=w> </span><span class=nc>Clock</span><span class=p>,</span><span class=w> </span><span class=k>class</span><span class=w> </span><span class=nc>Duration</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>typename</span><span class=w> </span><span class=nc>Clock</span><span class=o>::</span><span class=n>duration</span><span class=o>&gt;</span>
</span><span id=__span-6-2><span class=k>class</span><span class=w> </span><span class=nc>time_point</span><span class=p>;</span>
</span></code></pre></div></td></tr></table></div> 其中 <code>Clock</code> 是关联的时钟类型（例如 <code>system_clock</code>、<code>steady_clock</code>），<code>Duration</code> 是用于表示从纪元开始的时间间隔的 <code>duration</code> 类型（默认为关联时钟的 <code>duration</code> 类型）</p> <p><strong>成员函数</strong></p> <table> <thead> <tr> <th style="text-align: left;">成员</th> <th style="text-align: left;">描述</th> </tr> </thead> <tbody> <tr> <td style="text-align: left;"><code>time_since_epoch()</code></td> <td style="text-align: left;">返回从关联时钟的纪元开始到此时间点的 <code>duration</code></td> </tr> <tr> <td style="text-align: left;"><code>min()</code></td> <td style="text-align: left;">（静态 C++11/14）返回可表示的最早时间点</td> </tr> <tr> <td style="text-align: left;"><code>max()</code></td> <td style="text-align: left;">（静态 C++11/14）返回可表示的最晚时间点</td> </tr> </tbody> </table> <p><strong>Time Point 运算</strong></p> <p>Time Point 支持与 <code>duration</code> 的加减运算（<code>time_point + duration</code>、<code>time_point - duration</code>），以及相同类型时钟的 <code>time_point</code> 之间的减法（<code>time_point - time_point</code>，结果为 <code>duration</code>）和比较运算（<code>==</code>、<code>!=</code>、<code>&lt;</code>、<code>&lt;=</code>、<code>&gt;</code>、<code>&gt;=</code>）</p> <p><strong><code>std::chrono::time_point_cast</code></strong></p> <p><code>std::chrono::time_point_cast</code> 用于在具有相同关联时钟但不同 <code>duration</code> 类型的 <code>time_point</code> 之间进行显式转换 <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-7-1><span class=k>template</span><span class=w> </span><span class=o>&lt;</span><span class=k>class</span><span class=w> </span><span class=nc>ToDuration</span><span class=p>,</span><span class=w> </span><span class=k>class</span><span class=w> </span><span class=nc>Clock</span><span class=p>,</span><span class=w> </span><span class=k>class</span><span class=w> </span><span class=nc>Duration</span><span class=o>&gt;</span>
</span><span id=__span-7-2><span class=k>constexpr</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>chrono</span><span class=o>::</span><span class=n>time_point</span><span class=o>&lt;</span><span class=n>Clock</span><span class=p>,</span><span class=w> </span><span class=n>ToDuration</span><span class=o>&gt;</span>
</span><span id=__span-7-3><span class=n>time_point_cast</span><span class=p>(</span><span class=k>const</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>chrono</span><span class=o>::</span><span class=n>time_point</span><span class=o>&lt;</span><span class=n>Clock</span><span class=p>,</span><span class=w> </span><span class=n>Duration</span><span class=o>&gt;&amp;</span><span class=w> </span><span class=n>tp</span><span class=p>);</span>
</span></code></pre></div></td></tr></table></div></p> <p><strong>代码示例</strong></p> <div class="language-cpp highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span>
<span class=normal>39</span>
<span class=normal>40</span>
<span class=normal>41</span>
<span class=normal>42</span>
<span class=normal>43</span>
<span class=normal>44</span>
<span class=normal>45</span>
<span class=normal>46</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-8-1><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;iostream&gt;</span>
</span><span id=__span-8-2><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;chrono&gt;</span>
</span><span id=__span-8-3><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;thread&gt;</span><span class=c1> // for sleep_for</span>
</span><span id=__span-8-4>
</span><span id=__span-8-5><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-8-6><span class=w>    </span><span class=k>using</span><span class=w> </span><span class=k>namespace</span><span class=w> </span><span class=nn>std</span><span class=o>::</span><span class=nn>chrono</span><span class=p>;</span><span class=w> </span><span class=c1>// 方便使用 chrono 下的类型</span>
</span><span id=__span-8-7>
</span><span id=__span-8-8><span class=w>    </span><span class=c1>// 获取当前时间点</span>
</span><span id=__span-8-9><span class=w>    </span><span class=n>system_clock</span><span class=o>::</span><span class=n>time_point</span><span class=w> </span><span class=n>tp_sys_now</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>system_clock</span><span class=o>::</span><span class=n>now</span><span class=p>();</span>
</span><span id=__span-8-10><span class=w>    </span><span class=n>steady_clock</span><span class=o>::</span><span class=n>time_point</span><span class=w> </span><span class=n>tp_steady_now</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>steady_clock</span><span class=o>::</span><span class=n>now</span><span class=p>();</span>
</span><span id=__span-8-11>
</span><span id=__span-8-12><span class=w>    </span><span class=c1>// 获取自纪元以来的时间</span>
</span><span id=__span-8-13><span class=w>    </span><span class=k>auto</span><span class=w> </span><span class=n>sys_epoch_duration</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>tp_sys_now</span><span class=p>.</span><span class=n>time_since_epoch</span><span class=p>();</span>
</span><span id=__span-8-14><span class=w>    </span><span class=k>auto</span><span class=w> </span><span class=n>steady_epoch_duration</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>tp_steady_now</span><span class=p>.</span><span class=n>time_since_epoch</span><span class=p>();</span>
</span><span id=__span-8-15>
</span><span id=__span-8-16><span class=w>    </span><span class=c1>// 转换为特定单位</span>
</span><span id=__span-8-17><span class=w>    </span><span class=kt>long</span><span class=w> </span><span class=kt>long</span><span class=w> </span><span class=n>sys_ms_count</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>duration_cast</span><span class=o>&lt;</span><span class=n>milliseconds</span><span class=o>&gt;</span><span class=p>(</span><span class=n>sys_epoch_duration</span><span class=p>).</span><span class=n>count</span><span class=p>();</span>
</span><span id=__span-8-18><span class=w>    </span><span class=kt>long</span><span class=w> </span><span class=kt>long</span><span class=w> </span><span class=n>steady_ns_count</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>duration_cast</span><span class=o>&lt;</span><span class=n>nanoseconds</span><span class=o>&gt;</span><span class=p>(</span><span class=n>steady_epoch_duration</span><span class=p>).</span><span class=n>count</span><span class=p>();</span>
</span><span id=__span-8-19>
</span><span id=__span-8-20><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;System clock time_point (ms since epoch): &quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>sys_ms_count</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-8-21><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;Steady clock time_point (ns since epoch): &quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>steady_ns_count</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-8-22>
</span><span id=__span-8-23><span class=w>    </span><span class=c1>// Time point 算术</span>
</span><span id=__span-8-24><span class=w>    </span><span class=n>system_clock</span><span class=o>::</span><span class=n>time_point</span><span class=w> </span><span class=n>tp_sys_later</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>tp_sys_now</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>minutes</span><span class=p>(</span><span class=mi>10</span><span class=p>);</span><span class=w> </span><span class=c1>// 10 分钟后的时间点</span>
</span><span id=__span-8-25><span class=w>    </span><span class=k>auto</span><span class=w> </span><span class=n>diff_duration</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>tp_sys_later</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=n>tp_sys_now</span><span class=p>;</span><span class=w> </span><span class=c1>// 计算差值，结果是 duration</span>
</span><span id=__span-8-26><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;Difference is: &quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>duration_cast</span><span class=o>&lt;</span><span class=n>seconds</span><span class=o>&gt;</span><span class=p>(</span><span class=n>diff_duration</span><span class=p>).</span><span class=n>count</span><span class=p>()</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot; seconds&quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-8-27>
</span><span id=__span-8-28><span class=w>    </span><span class=c1>// Time point 比较</span>
</span><span id=__span-8-29><span class=w>    </span><span class=n>steady_clock</span><span class=o>::</span><span class=n>time_point</span><span class=w> </span><span class=n>tp_steady_start</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>steady_clock</span><span class=o>::</span><span class=n>now</span><span class=p>();</span>
</span><span id=__span-8-30><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>this_thread</span><span class=o>::</span><span class=n>sleep_for</span><span class=p>(</span><span class=mi>50</span><span class=n>ms</span><span class=p>);</span><span class=w> </span><span class=c1>// 暂停 50 毫秒</span>
</span><span id=__span-8-31><span class=w>    </span><span class=n>steady_clock</span><span class=o>::</span><span class=n>time_point</span><span class=w> </span><span class=n>tp_steady_end</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>steady_clock</span><span class=o>::</span><span class=n>now</span><span class=p>();</span>
</span><span id=__span-8-32>
</span><span id=__span-8-33><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>tp_steady_end</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=n>tp_steady_start</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-8-34><span class=w>        </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;Steady clock time point increased.&quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-8-35><span class=w>    </span><span class=p>}</span>
</span><span id=__span-8-36>
</span><span id=__span-8-37><span class=w>    </span><span class=c1>// time_point_cast</span>
</span><span id=__span-8-38><span class=w>    </span><span class=c1>// 将 system_clock 的 time_point 精度改为秒</span>
</span><span id=__span-8-39><span class=w>    </span><span class=n>time_point</span><span class=o>&lt;</span><span class=n>system_clock</span><span class=p>,</span><span class=w> </span><span class=n>seconds</span><span class=o>&gt;</span><span class=w> </span><span class=n>tp_sys_seconds</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>time_point_cast</span><span class=o>&lt;</span><span class=n>seconds</span><span class=o>&gt;</span><span class=p>(</span><span class=n>tp_sys_now</span><span class=p>);</span>
</span><span id=__span-8-40><span class=w>    </span><span class=c1>// 再次获取自纪元以来的时间 (以秒为单位)</span>
</span><span id=__span-8-41><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;System clock time_point (seconds since epoch): &quot;</span>
</span><span id=__span-8-42><span class=w>              </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>tp_sys_seconds</span><span class=p>.</span><span class=n>time_since_epoch</span><span class=p>().</span><span class=n>count</span><span class=p>()</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-8-43>
</span><span id=__span-8-44>
</span><span id=__span-8-45><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-8-46><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h3 id=c14>C++14 时间字面量<a class=headerlink href=#c14 title="Permanent link">&para;</a></h3> <p>C++14 引入了方便的字面量来创建 <code>duration</code> 对象，例如 <code>h</code>（小时）、<code>min</code>（分钟）、<code>s</code>（秒）、<code>ms</code>（毫秒）、<code>us</code>（微秒）和 <code>ns</code>（纳秒），使用时需要 <code>using namespace std::chrono_literals;</code> 或 <code>using namespace std::literals::chrono_literals;</code> <div class="language-cpp highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-9-1><span class=k>using</span><span class=w> </span><span class=k>namespace</span><span class=w> </span><span class=nn>std</span><span class=o>::</span><span class=nn>chrono_literals</span><span class=p>;</span>
</span><span id=__span-9-2><span class=k>auto</span><span class=w> </span><span class=n>my_duration</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>2</span><span class=n>h</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>45</span><span class=n>min</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>10</span><span class=n>s</span><span class=p>;</span>
</span><span id=__span-9-3><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;Duration in seconds: &quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>my_duration</span><span class=p>.</span><span class=n>count</span><span class=p>()</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span><span class=w> </span><span class=c1>// 输出 9910</span>
</span></code></pre></div></td></tr></table></div></p> <h2 id=random>随机数生成（<code>&lt;random&gt;</code>）<a class=headerlink href=#random title="Permanent link">&para;</a></h2> <p><code>&lt;random&gt;</code> 库提供了一套用于生成伪随机数的组件，主要包括引擎（Engines，生成原始伪随机整数序列）、分布（Distributions，将引擎序列转换为特定统计属性的随机数）和工具（Utilities，例如种子生成器）</p> <h3 id=engines>随机数引擎（Engines）<a class=headerlink href=#engines title="Permanent link">&para;</a></h3> <p>引擎是函数对象，调用 <code>operator()</code> 会返回序列中的下一个伪随机数</p> <p><strong>常用引擎</strong></p> <p>常用的引擎包括 <code>linear_congruential_engine</code>（线性同余生成器，速度快但随机性一般，常用别名 <code>minstd_rand0</code>、<code>minstd_rand</code>）、<code>mersenne_twister_engine</code>（梅森旋转算法，高质量随机数，常用别名 <code>mt19937</code>、<code>mt19937_64</code>）和 <code>subtract_with_carry_engine</code>（带借位减法生成器，常用别名 <code>ranlux24_base</code>、<code>ranlux48_base</code>）</p> <p><strong>引擎通用成员</strong></p> <p>引擎通常包含接受种子值进行初始化的构造函数、生成下一个随机数的 <code>operator()</code>、使用新种子重新初始化的 <code>seed()</code> 方法、返回生成范围的静态 <code>min()</code> 和 <code>max()</code> 方法，以及跳过序列中若干数字的 <code>discard(n)</code> 方法</p> <p><strong><code>std::random_device</code></strong></p> <p><code>std::random_device</code> 是一个特殊的随机数生成器，它尝试从硬件（或其他非确定性来源）获取熵来生成随机数，通常用于为伪随机数引擎提供种子，其 <code>operator()</code> 返回一个随机数，<code>entropy()</code> 返回熵的估计值（位数，若为零则可能使用伪随机数引擎作为后备）</p> <p><strong>代码示例（引擎和 seeding）</strong></p> <div class="language-cpp highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span>
<span class=normal>39</span>
<span class=normal>40</span>
<span class=normal>41</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-10-1><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;iostream&gt;</span>
</span><span id=__span-10-2><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;random&gt;</span>
</span><span id=__span-10-3><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;vector&gt;</span>
</span><span id=__span-10-4><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;numeric&gt;</span><span class=c1> // for std::iota</span>
</span><span id=__span-10-5><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;algorithm&gt;</span><span class=c1> // for std::shuffle</span>
</span><span id=__span-10-6>
</span><span id=__span-10-7><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-10-8><span class=w>    </span><span class=c1>// --- 使用 random_device 获取种子 ---</span>
</span><span id=__span-10-9><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>random_device</span><span class=w> </span><span class=n>rd</span><span class=p>;</span><span class=w> </span><span class=c1>// 获取一个随机设备</span>
</span><span id=__span-10-10><span class=w>    </span><span class=kt>unsigned</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>seed</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>rd</span><span class=p>();</span><span class=w> </span><span class=c1>// 用它生成一个种子</span>
</span><span id=__span-10-11><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;Seed generated by random_device: &quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>seed</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-10-12><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;random_device entropy: &quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>rd</span><span class=p>.</span><span class=n>entropy</span><span class=p>()</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-10-13>
</span><span id=__span-10-14><span class=w>    </span><span class=c1>// --- 创建和使用引擎 ---</span>
</span><span id=__span-10-15><span class=w>    </span><span class=c1>// 使用 random_device 的种子初始化梅森旋转引擎</span>
</span><span id=__span-10-16><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>mt19937</span><span class=w> </span><span class=n>engine</span><span class=p>(</span><span class=n>seed</span><span class=p>);</span>
</span><span id=__span-10-17>
</span><span id=__span-10-18><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;Generating 5 numbers using mt19937:&quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-10-19><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=mi>5</span><span class=p>;</span><span class=w> </span><span class=o>++</span><span class=n>i</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-10-20><span class=w>        </span><span class=c1>// 调用 operator() 生成原始随机整数</span>
</span><span id=__span-10-21><span class=w>        </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>engine</span><span class=p>()</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot; &quot;</span><span class=p>;</span>
</span><span id=__span-10-22><span class=w>    </span><span class=p>}</span>
</span><span id=__span-10-23><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-10-24>
</span><span id=__span-10-25><span class=w>    </span><span class=c1>// 引擎的范围</span>
</span><span id=__span-10-26><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;mt19937 min: &quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>engine</span><span class=p>.</span><span class=n>min</span><span class=p>()</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-10-27><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;mt19937 max: &quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>engine</span><span class=p>.</span><span class=n>max</span><span class=p>()</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-10-28>
</span><span id=__span-10-29><span class=w>    </span><span class=c1>// discard</span>
</span><span id=__span-10-30><span class=w>    </span><span class=n>engine</span><span class=p>.</span><span class=n>discard</span><span class=p>(</span><span class=mi>10</span><span class=p>);</span><span class=w> </span><span class=c1>// 跳过 10 个数</span>
</span><span id=__span-10-31><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;Next number after discarding 10: &quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>engine</span><span class=p>()</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-10-32>
</span><span id=__span-10-33><span class=w>    </span><span class=c1>// 重新 seeding</span>
</span><span id=__span-10-34><span class=w>    </span><span class=n>engine</span><span class=p>.</span><span class=n>seed</span><span class=p>(</span><span class=mi>12345</span><span class=p>);</span><span class=w> </span><span class=c1>// 使用固定种子</span>
</span><span id=__span-10-35><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;First number after seeding with 12345: &quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>engine</span><span class=p>()</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-10-36><span class=w>    </span><span class=n>engine</span><span class=p>.</span><span class=n>seed</span><span class=p>(</span><span class=mi>12345</span><span class=p>);</span><span class=w> </span><span class=c1>// 再次使用相同种子</span>
</span><span id=__span-10-37><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;First number after seeding with 12345 again: &quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>engine</span><span class=p>()</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span><span class=w> </span><span class=c1>// 输出应与上一个相同</span>
</span><span id=__span-10-38>
</span><span id=__span-10-39>
</span><span id=__span-10-40><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-10-41><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h3 id=distributions>随机数分布（Distributions）<a class=headerlink href=#distributions title="Permanent link">&para;</a></h3> <p>分布是函数对象，它接受一个引擎作为输入，并使用引擎生成的原始随机数来产生符合特定概率分布的随机数</p> <p><strong>通用成员</strong></p> <p>分布通常包含接受分布参数（例如范围、均值、标准差等）的构造函数、接受引擎引用并返回符合分布随机数的 <code>operator()</code>、重置分布内部状态的 <code>reset()</code> 方法、获取或设置分布参数对象的 <code>param()</code> 方法、返回分布可能生成范围的 <code>min()</code> 和 <code>max()</code> 方法，以及访问特定分布参数的函数（例如 <code>mean()</code>、<code>stddev()</code>、<code>p()</code>、<code>lambda()</code> 等）</p> <p><strong>常用分布类别</strong></p> <p>常用的分布类别包括：</p> <ul> <li><strong>均匀分布（Uniform Distributions）</strong>：例如 <code>std::uniform_int_distribution</code>（整数）和 <code>std::uniform_real_distribution</code>（浮点数）</li> <li><strong>伯努利分布（Bernoulli Distributions）</strong>：例如 <code>std::bernoulli_distribution</code>、<code>std::binomial_distribution</code>、<code>std::negative_binomial_distribution</code> 和 <code>std::geometric_distribution</code></li> <li><strong>泊松分布（Poisson Distributions）</strong>：例如 <code>std::poisson_distribution</code>、<code>std::exponential_distribution</code>、<code>std::gamma_distribution</code>、<code>std::weibull_distribution</code> 和 <code>std::extreme_value_distribution</code></li> <li><strong>正态分布（Normal Distributions）</strong>：例如 <code>std::normal_distribution</code>、<code>std::lognormal_distribution</code>、<code>std::chi_squared_distribution</code>、<code>std::cauchy_distribution</code>、<code>std::fisher_f_distribution</code> 和 <code>std::student_t_distribution</code></li> <li><strong>抽样分布（Sampling Distributions）</strong>：例如 <code>std::discrete_distribution</code>、<code>std::piecewise_constant_distribution</code> 和 <code>std::piecewise_linear_distribution</code></li> </ul> <p><strong>代码示例（引擎与分布结合）</strong></p> <div class="language-cpp highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span>
<span class=normal>39</span>
<span class=normal>40</span>
<span class=normal>41</span>
<span class=normal>42</span>
<span class=normal>43</span>
<span class=normal>44</span>
<span class=normal>45</span>
<span class=normal>46</span>
<span class=normal>47</span>
<span class=normal>48</span>
<span class=normal>49</span>
<span class=normal>50</span>
<span class=normal>51</span>
<span class=normal>52</span>
<span class=normal>53</span>
<span class=normal>54</span>
<span class=normal>55</span>
<span class=normal>56</span>
<span class=normal>57</span>
<span class=normal>58</span>
<span class=normal>59</span>
<span class=normal>60</span>
<span class=normal>61</span>
<span class=normal>62</span>
<span class=normal>63</span>
<span class=normal>64</span>
<span class=normal>65</span>
<span class=normal>66</span>
<span class=normal>67</span>
<span class=normal>68</span>
<span class=normal>69</span>
<span class=normal>70</span>
<span class=normal>71</span>
<span class=normal>72</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-11-1><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;iostream&gt;</span>
</span><span id=__span-11-2><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;random&gt;</span>
</span><span id=__span-11-3><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;vector&gt;</span>
</span><span id=__span-11-4><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;map&gt;</span>
</span><span id=__span-11-5><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;iomanip&gt;</span><span class=c1> // for std::fixed, std::setprecision</span>
</span><span id=__span-11-6>
</span><span id=__span-11-7><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-11-8><span class=w>    </span><span class=c1>// --- 设置引擎 ---</span>
</span><span id=__span-11-9><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>random_device</span><span class=w> </span><span class=n>rd</span><span class=p>;</span>
</span><span id=__span-11-10><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>mt19937</span><span class=w> </span><span class=n>gen</span><span class=p>(</span><span class=n>rd</span><span class=p>());</span><span class=w> </span><span class=c1>// 使用 random_device 播种</span>
</span><span id=__span-11-11>
</span><span id=__span-11-12><span class=w>    </span><span class=c1>// --- 均匀分布 ---</span>
</span><span id=__span-11-13><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>uniform_int_distribution</span><span class=o>&lt;&gt;</span><span class=w> </span><span class=n>distrib_int</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=mi>6</span><span class=p>);</span><span class=w> </span><span class=c1>// [1, 6] 整数</span>
</span><span id=__span-11-14><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>uniform_real_distribution</span><span class=o>&lt;&gt;</span><span class=w> </span><span class=n>distrib_real</span><span class=p>(</span><span class=mf>0.0</span><span class=p>,</span><span class=w> </span><span class=mf>1.0</span><span class=p>);</span><span class=w> </span><span class=c1>// [0.0, 1.0) 浮点数</span>
</span><span id=__span-11-15>
</span><span id=__span-11-16><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;Rolling a die 5 times: &quot;</span><span class=p>;</span>
</span><span id=__span-11-17><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=mi>5</span><span class=p>;</span><span class=w> </span><span class=o>++</span><span class=n>i</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-11-18><span class=w>        </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>distrib_int</span><span class=p>(</span><span class=n>gen</span><span class=p>)</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot; &quot;</span><span class=p>;</span><span class=w> </span><span class=c1>// 使用引擎生成符合分布的数</span>
</span><span id=__span-11-19><span class=w>    </span><span class=p>}</span>
</span><span id=__span-11-20><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-11-21>
</span><span id=__span-11-22><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;Generating 5 random doubles [0.0, 1.0): &quot;</span><span class=p>;</span>
</span><span id=__span-11-23><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>fixed</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>setprecision</span><span class=p>(</span><span class=mi>4</span><span class=p>);</span><span class=w> </span><span class=c1>// 设置输出格式</span>
</span><span id=__span-11-24><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=mi>5</span><span class=p>;</span><span class=w> </span><span class=o>++</span><span class=n>i</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-11-25><span class=w>        </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>distrib_real</span><span class=p>(</span><span class=n>gen</span><span class=p>)</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot; &quot;</span><span class=p>;</span>
</span><span id=__span-11-26><span class=w>    </span><span class=p>}</span>
</span><span id=__span-11-27><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-11-28>
</span><span id=__span-11-29><span class=w>    </span><span class=c1>// --- 正态分布 ---</span>
</span><span id=__span-11-30><span class=w>    </span><span class=kt>double</span><span class=w> </span><span class=n>mean</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mf>5.0</span><span class=p>;</span>
</span><span id=__span-11-31><span class=w>    </span><span class=kt>double</span><span class=w> </span><span class=n>stddev</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mf>2.0</span><span class=p>;</span>
</span><span id=__span-11-32><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>normal_distribution</span><span class=o>&lt;&gt;</span><span class=w> </span><span class=n>distrib_normal</span><span class=p>(</span><span class=n>mean</span><span class=p>,</span><span class=w> </span><span class=n>stddev</span><span class=p>);</span>
</span><span id=__span-11-33>
</span><span id=__span-11-34><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;Generating 10 numbers from normal distribution (mean=5.0, stddev=2.0):&quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-11-35><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>map</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=o>&gt;</span><span class=w> </span><span class=n>hist</span><span class=p>;</span><span class=w> </span><span class=c1>// 用于统计直方图</span>
</span><span id=__span-11-36><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=mi>10000</span><span class=p>;</span><span class=w> </span><span class=o>++</span><span class=n>i</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-11-37><span class=w>        </span><span class=kt>double</span><span class=w> </span><span class=n>num</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>distrib_normal</span><span class=p>(</span><span class=n>gen</span><span class=p>);</span>
</span><span id=__span-11-38><span class=w>        </span><span class=o>++</span><span class=n>hist</span><span class=p>[</span><span class=n>std</span><span class=o>::</span><span class=n>round</span><span class=p>(</span><span class=n>num</span><span class=p>)];</span><span class=w> </span><span class=c1>// 四舍五入并计数</span>
</span><span id=__span-11-39><span class=w>    </span><span class=p>}</span>
</span><span id=__span-11-40><span class=w>    </span><span class=c1>// 简单打印直方图</span>
</span><span id=__span-11-41><span class=w>    </span><span class=k>for</span><span class=p>(</span><span class=k>auto</span><span class=w> </span><span class=k>const</span><span class=o>&amp;</span><span class=w> </span><span class=p>[</span><span class=n>val</span><span class=p>,</span><span class=w> </span><span class=n>count</span><span class=p>]</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=n>hist</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-11-42><span class=w>        </span><span class=c1>// 限制输出范围，避免过多输出</span>
</span><span id=__span-11-43><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>val</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=mi>0</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=n>val</span><span class=w> </span><span class=o>&lt;=</span><span class=w> </span><span class=mi>10</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-11-44><span class=w>             </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>setw</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>val</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;: &quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>string</span><span class=p>(</span><span class=n>count</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=mi>100</span><span class=p>,</span><span class=w> </span><span class=sc>&#39;*&#39;</span><span class=p>)</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=sc>&#39;\n&#39;</span><span class=p>;</span>
</span><span id=__span-11-45><span class=w>        </span><span class=p>}</span>
</span><span id=__span-11-46><span class=w>    </span><span class=p>}</span>
</span><span id=__span-11-47>
</span><span id=__span-11-48>
</span><span id=__span-11-49><span class=w>    </span><span class=c1>// --- 离散分布 ---</span>
</span><span id=__span-11-50><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>double</span><span class=o>&gt;</span><span class=w> </span><span class=n>weights</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span><span class=mf>10.0</span><span class=p>,</span><span class=w> </span><span class=mf>20.0</span><span class=p>,</span><span class=w> </span><span class=mf>70.0</span><span class=p>};</span><span class=w> </span><span class=c1>// 权重对应索引 0, 1, 2</span>
</span><span id=__span-11-51><span class=w>    </span><span class=c1>// 索引 0 的概率是 10/(10+20+70) = 10%</span>
</span><span id=__span-11-52><span class=w>    </span><span class=c1>// 索引 1 的概率是 20/(10+20+70) = 20%</span>
</span><span id=__span-11-53><span class=w>    </span><span class=c1>// 索引 2 的概率是 70/(10+20+70) = 70%</span>
</span><span id=__span-11-54><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>discrete_distribution</span><span class=o>&lt;&gt;</span><span class=w> </span><span class=n>distrib_discrete</span><span class=p>(</span><span class=n>weights</span><span class=p>.</span><span class=n>begin</span><span class=p>(),</span><span class=w> </span><span class=n>weights</span><span class=p>.</span><span class=n>end</span><span class=p>());</span>
</span><span id=__span-11-55>
</span><span id=__span-11-56><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;Generating 10 numbers from discrete distribution (weights 10, 20, 70): &quot;</span><span class=p>;</span>
</span><span id=__span-11-57><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>map</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=o>&gt;</span><span class=w> </span><span class=n>discrete_counts</span><span class=p>;</span>
</span><span id=__span-11-58><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=mi>1000</span><span class=p>;</span><span class=w> </span><span class=o>++</span><span class=n>i</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-11-59><span class=w>        </span><span class=n>discrete_counts</span><span class=p>[</span><span class=n>distrib_discrete</span><span class=p>(</span><span class=n>gen</span><span class=p>)]</span><span class=o>++</span><span class=p>;</span>
</span><span id=__span-11-60><span class=w>    </span><span class=p>}</span>
</span><span id=__span-11-61><span class=w>     </span><span class=k>for</span><span class=p>(</span><span class=k>auto</span><span class=w> </span><span class=k>const</span><span class=o>&amp;</span><span class=w> </span><span class=p>[</span><span class=n>val</span><span class=p>,</span><span class=w> </span><span class=n>count</span><span class=p>]</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=n>discrete_counts</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-11-62><span class=w>        </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;Index &quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>val</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;: &quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>count</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot; times &quot;</span><span class=p>;</span>
</span><span id=__span-11-63><span class=w>    </span><span class=p>}</span>
</span><span id=__span-11-64><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-11-65>
</span><span id=__span-11-66><span class=w>    </span><span class=c1>// 访问分布参数</span>
</span><span id=__span-11-67><span class=w>    </span><span class=k>auto</span><span class=w> </span><span class=n>params</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>distrib_normal</span><span class=p>.</span><span class=n>param</span><span class=p>();</span>
</span><span id=__span-11-68><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;Normal distribution mean: &quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>params</span><span class=p>.</span><span class=n>mean</span><span class=p>()</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;, stddev: &quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>params</span><span class=p>.</span><span class=n>stddev</span><span class=p>()</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-11-69>
</span><span id=__span-11-70>
</span><span id=__span-11-71><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-11-72><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h3 id=utilities>随机数工具（Utilities）<a class=headerlink href=#utilities title="Permanent link">&para;</a></h3> <p><code>&lt;random&gt;</code> 库还提供了一些工具：<code>std::seed_seq</code> 用于从一系列整数生成高质量的种子序列，特别适合初始化需要多个种子值的引擎或多个不同的引擎；<code>std::generate_canonical&lt;RealType, bits&gt;(engine)</code> 用于生成一个 <code>[0, 1)</code> 范围内具有指定位数随机性（精度）的浮点数；<code>std::shuffle(first, last, engine)</code> 用于使用给定的引擎随机打乱指定范围内的元素，是 <code>std::random_shuffle</code>（C++17 中弃用）的推荐替代品</p> <p><strong>代码示例（Utilities）</strong></p> <div class="language-cpp highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span>
<span class=normal>39</span>
<span class=normal>40</span>
<span class=normal>41</span>
<span class=normal>42</span>
<span class=normal>43</span>
<span class=normal>44</span>
<span class=normal>45</span>
<span class=normal>46</span>
<span class=normal>47</span>
<span class=normal>48</span>
<span class=normal>49</span>
<span class=normal>50</span>
<span class=normal>51</span>
<span class=normal>52</span>
<span class=normal>53</span>
<span class=normal>54</span>
<span class=normal>55</span>
<span class=normal>56</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-12-1><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;iostream&gt;</span>
</span><span id=__span-12-2><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;random&gt;</span>
</span><span id=__span-12-3><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;vector&gt;</span>
</span><span id=__span-12-4><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;numeric&gt;</span><span class=c1>   // for std::iota</span>
</span><span id=__span-12-5><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;algorithm&gt;</span><span class=c1> // for std::shuffle, std::copy</span>
</span><span id=__span-12-6><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;iterator&gt;</span><span class=c1>  // for std::ostream_iterator</span>
</span><span id=__span-12-7><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;array&gt;</span><span class=c1>     // for std::array</span>
</span><span id=__span-12-8>
</span><span id=__span-12-9><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-12-10><span class=w>    </span><span class=c1>// --- seed_seq ---</span>
</span><span id=__span-12-11><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>seed_seq</span><span class=w> </span><span class=n>sseq</span><span class=p>{</span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=mi>2</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>,</span><span class=w> </span><span class=mi>4</span><span class=p>,</span><span class=w> </span><span class=mi>5</span><span class=p>};</span><span class=w> </span><span class=c1>// 从整数列表创建 seed_seq</span>
</span><span id=__span-12-12><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>array</span><span class=o>&lt;</span><span class=n>std</span><span class=o>::</span><span class=kt>uint32_t</span><span class=p>,</span><span class=w> </span><span class=mi>8</span><span class=o>&gt;</span><span class=w> </span><span class=n>seeds</span><span class=p>;</span><span class=w> </span><span class=c1>// 准备接收生成的种子</span>
</span><span id=__span-12-13><span class=w>    </span><span class=n>sseq</span><span class=p>.</span><span class=n>generate</span><span class=p>(</span><span class=n>seeds</span><span class=p>.</span><span class=n>begin</span><span class=p>(),</span><span class=w> </span><span class=n>seeds</span><span class=p>.</span><span class=n>end</span><span class=p>());</span><span class=w> </span><span class=c1>// 生成种子序列</span>
</span><span id=__span-12-14>
</span><span id=__span-12-15><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;Generated seeds using seed_seq: &quot;</span><span class=p>;</span>
</span><span id=__span-12-16><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=n>std</span><span class=o>::</span><span class=kt>uint32_t</span><span class=w> </span><span class=n>seed</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=n>seeds</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-12-17><span class=w>        </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>seed</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot; &quot;</span><span class=p>;</span>
</span><span id=__span-12-18><span class=w>    </span><span class=p>}</span>
</span><span id=__span-12-19><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-12-20>
</span><span id=__span-12-21><span class=w>    </span><span class=c1>// 使用 seed_seq 初始化引擎</span>
</span><span id=__span-12-22><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>mt19937</span><span class=w> </span><span class=n>engine_from_sseq</span><span class=p>(</span><span class=n>sseq</span><span class=p>);</span>
</span><span id=__span-12-23><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;First number from engine seeded by seed_seq: &quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>engine_from_sseq</span><span class=p>()</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-12-24>
</span><span id=__span-12-25><span class=w>    </span><span class=c1>// --- generate_canonical ---</span>
</span><span id=__span-12-26><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>random_device</span><span class=w> </span><span class=n>rd_canon</span><span class=p>;</span>
</span><span id=__span-12-27><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>mt19937</span><span class=w> </span><span class=n>gen_canon</span><span class=p>(</span><span class=n>rd_canon</span><span class=p>());</span>
</span><span id=__span-12-28><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;Generating 5 canonical doubles [0, 1): &quot;</span><span class=p>;</span>
</span><span id=__span-12-29><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>fixed</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>setprecision</span><span class=p>(</span><span class=mi>10</span><span class=p>);</span>
</span><span id=__span-12-30><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=mi>5</span><span class=p>;</span><span class=w> </span><span class=o>++</span><span class=n>i</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-12-31><span class=w>        </span><span class=c1>// 生成具有 64 位随机性的 double</span>
</span><span id=__span-12-32><span class=w>        </span><span class=kt>double</span><span class=w> </span><span class=n>canonical_rand</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>generate_canonical</span><span class=o>&lt;</span><span class=kt>double</span><span class=p>,</span><span class=w> </span><span class=mi>64</span><span class=o>&gt;</span><span class=p>(</span><span class=n>gen_canon</span><span class=p>);</span>
</span><span id=__span-12-33><span class=w>        </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>canonical_rand</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot; &quot;</span><span class=p>;</span>
</span><span id=__span-12-34><span class=w>    </span><span class=p>}</span>
</span><span id=__span-12-35><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-12-36>
</span><span id=__span-12-37><span class=w>    </span><span class=c1>// --- shuffle ---</span>
</span><span id=__span-12-38><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span><span class=w> </span><span class=n>v</span><span class=p>(</span><span class=mi>10</span><span class=p>);</span>
</span><span id=__span-12-39><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>iota</span><span class=p>(</span><span class=n>v</span><span class=p>.</span><span class=n>begin</span><span class=p>(),</span><span class=w> </span><span class=n>v</span><span class=p>.</span><span class=n>end</span><span class=p>(),</span><span class=w> </span><span class=mi>1</span><span class=p>);</span><span class=w> </span><span class=c1>// 用 1, 2, ..., 10 填充向量</span>
</span><span id=__span-12-40>
</span><span id=__span-12-41><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;Original vector: &quot;</span><span class=p>;</span>
</span><span id=__span-12-42><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>copy</span><span class=p>(</span><span class=n>v</span><span class=p>.</span><span class=n>begin</span><span class=p>(),</span><span class=w> </span><span class=n>v</span><span class=p>.</span><span class=n>end</span><span class=p>(),</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>ostream_iterator</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span><span class=p>(</span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=p>,</span><span class=w> </span><span class=s>&quot; &quot;</span><span class=p>));</span>
</span><span id=__span-12-43><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-12-44>
</span><span id=__span-12-45><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>random_device</span><span class=w> </span><span class=n>rd_shuffle</span><span class=p>;</span>
</span><span id=__span-12-46><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>mt19937</span><span class=w> </span><span class=n>g_shuffle</span><span class=p>(</span><span class=n>rd_shuffle</span><span class=p>());</span>
</span><span id=__span-12-47>
</span><span id=__span-12-48><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>shuffle</span><span class=p>(</span><span class=n>v</span><span class=p>.</span><span class=n>begin</span><span class=p>(),</span><span class=w> </span><span class=n>v</span><span class=p>.</span><span class=n>end</span><span class=p>(),</span><span class=w> </span><span class=n>g_shuffle</span><span class=p>);</span><span class=w> </span><span class=c1>// 使用引擎打乱向量</span>
</span><span id=__span-12-49>
</span><span id=__span-12-50><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;Shuffled vector: &quot;</span><span class=p>;</span>
</span><span id=__span-12-51><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>copy</span><span class=p>(</span><span class=n>v</span><span class=p>.</span><span class=n>begin</span><span class=p>(),</span><span class=w> </span><span class=n>v</span><span class=p>.</span><span class=n>end</span><span class=p>(),</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>ostream_iterator</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span><span class=p>(</span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=p>,</span><span class=w> </span><span class=s>&quot; &quot;</span><span class=p>));</span>
</span><span id=__span-12-52><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-12-53>
</span><span id=__span-12-54>
</span><span id=__span-12-55><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-12-56><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <aside class=md-source-file> <span class=md-source-file__fact> <span class=md-icon title=最后更新> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">2025年4月15日</span> </span> </aside> <form class=md-feedback name=feedback hidden> <fieldset> <legend class=md-feedback__title> 页面有帮助吗？ </legend> <div class=md-feedback__inner> <div class=md-feedback__list> <button class="md-feedback__icon md-icon" type=submit title=页面对我有帮助 data-md-value=1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M5 9v12H1V9zm4 12a2 2 0 0 1-2-2V9c0-.55.22-1.05.59-1.41L14.17 1l1.06 1.06c.27.27.44.64.44 1.05l-.03.32L14.69 8H21a2 2 0 0 1 2 2v2c0 .26-.05.5-.14.73l-3.02 7.05C19.54 20.5 18.83 21 18 21zm0-2h9.03L21 12v-2h-8.79l1.13-5.32L9 9.03z"/></svg> </button> <button class="md-feedback__icon md-icon" type=submit title=页面没有帮助到我 data-md-value=0> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 15V3h4v12zM15 3a2 2 0 0 1 2 2v10c0 .55-.22 1.05-.59 1.41L9.83 23l-1.06-1.06c-.27-.27-.44-.64-.44-1.06l.03-.31.95-4.57H3a2 2 0 0 1-2-2v-2c0-.26.05-.5.14-.73l3.02-7.05C4.46 3.5 5.17 3 6 3zm0 2H5.97L3 12v2h8.78l-1.13 5.32L15 14.97z"/></svg> </button> </div> <div class=md-feedback__note> <div data-md-value=1 hidden> 谢谢你的反馈！ </div> <div data-md-value=0 hidden> 谢谢你的反馈！联系<a href=https://www.help-doc.top/author/contact/contact.html>作者</a>提供更详细的信息 </div> </div> </div> </fieldset> </form> <!-- Waline 评论系统 --> <div id=waline></div> <!-- 阅读进度条 - 直接在HTML中定义 --> <div class=reading-progress></div> <!-- 滚动指示器 - 直接在HTML中定义 --> <div class=scroll-indicator></div> <!-- 评论系统 --> <!-- Waline 评论系统 --> <div id=waline></div> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-footer-copyright__highlight> Copyright &copy; 2024-2025 柯懒不是柯南 </div> </div> <div class="md-footer-love md-typeset"> 一闪一闪亮晶晶，不及<span class=love-highlight>小亮</span><span class=love-heart>♥</span>照我心。To Li Liang </div> <div class=md-social> <a href=https://github.com/H0308 target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> <a href=https://www.help-doc.top/author/contact/contact.html target=_blank rel=noopener title=www.help-doc.top class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M433.754 420.445c-11.526 1.393-44.86-52.741-44.86-52.741 0 31.345-16.136 72.247-51.051 101.786 16.842 5.192 54.843 19.167 45.803 34.421-7.316 12.343-125.51 7.881-159.632 4.037-34.122 3.844-152.316 8.306-159.632-4.037-9.045-15.25 28.918-29.214 45.783-34.415-34.92-29.539-51.059-70.445-51.059-101.792 0 0-33.334 54.134-44.859 52.741-5.37-.65-12.424-29.644 9.347-99.704 10.261-33.024 21.995-60.478 40.144-105.779C60.683 98.063 108.982.006 224 0c113.737.006 163.156 96.133 160.264 214.963 18.118 45.223 29.912 72.85 40.144 105.778 21.768 70.06 14.716 99.053 9.346 99.704"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["navigation.indexes", "navigation.prune", "navigation.tabs", "search.highlight", "content.code.copy"], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}, "version": null}</script> <script src=../../assets/javascripts/bundle.c8b220af.min.js></script> <script src=../../javascripts/katex.min.js></script> <script src=../../javascripts/other.min.js></script> <script src=../../javascripts/copyright.min.js></script> <script src=../../javascripts/waline.min.js></script> <script src=https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/katex.min.js></script> <script src=https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/contrib/auto-render.min.js></script> <script src=https://cdn.jsdelivr.net/npm/mermaid@11.5.0/dist/mermaid.min.js></script> <script src=../../assets/javascripts/toggle-sidebar.js async></script> <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body> </html>