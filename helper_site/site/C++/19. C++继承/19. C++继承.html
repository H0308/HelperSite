<!doctype html><html lang=zh class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=canonical href=https://www.help-doc.top/C%2B%2B/19.%20C%2B%2B%E7%BB%A7%E6%89%BF/19.%20C%2B%2B%E7%BB%A7%E6%89%BF.html><link rel=prev href=../17.%20%E5%8F%8D%E5%90%91%E8%BF%AD%E4%BB%A3%E5%99%A8%E8%AE%BE%E8%AE%A1/17.%20reverse_iterator%E8%BF%AD%E4%BB%A3%E5%99%A8%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1.html><link rel=next href=../20.%20C%2B%2B%E5%A4%9A%E6%80%81/20.%20C%2B%2B%E5%A4%9A%E6%80%81.html><link rel=icon href=../../images/favicon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.12"><title>C++继承 - 柯懒的知识库</title><link rel=stylesheet href=../../assets/stylesheets/main.2afb09e1.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.06af60db.min.css><link rel=stylesheet href=../../css/timeline.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/katex.min.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-9XWRGNRRSY"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-9XWRGNRRSY",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-9XWRGNRRSY",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script><link rel=stylesheet href=../../stylesheets/theme2.css media="screen and (min-width: 768px) and (max-width: 1199px), screen and (min-width: 768px) and (max-width: 1199px) and (orientation: landscape)"><link rel=stylesheet href=../../stylesheets/theme2.css media="screen and (max-width: 767px)"><link rel=stylesheet href=../../stylesheets/theme1.css media="screen and (min-width: 1200px)"><link rel=stylesheet href=../../stylesheets/print.css><script src=https://cdn.jsdelivr.net/npm/mermaid@11.5.0/dist/mermaid.min.js></script><style>
    @import url("https://static.zeoseven.com/zsft/2/main/result.css");
    /* 江城黑体备用 */
    @import url("https://fontsapi.zeoseven.com/194/main/result.css");
    /* OPPO Sans主字体 */
    @import url("https://fonts.cdnfonts.com/css/opposans");
    /* Dejavu Sans Mono */
    @import url('https://fonts.cdnfonts.com/css/dejavu-sans-mono');
    /* 寒蝉团圆体 Sans */
    @import url("https://fontsapi.zeoseven.com/70/main/result.css");

    @font-face {
        font-family: "OPPOSans";
    }

    @font-face {
        font-family: "JiangChengHeiTi 400W";
    }

    @font-face {
        font-family: "LXGW ZhenKai";
    }

    @font-face {
        font-family: 'DejaVu Sans Mono';
    }

    @font-face {
        font-family: "JetBrains Mono";
        src: url("https://static.zeoseven.com/zsft/hk/main.woff2") format("woff2"),
            url("https://static-host.zeoseven.com/zsft/hk/main.woff2") format("woff2");
    }

    @font-face {
        font-family: "寒蝉团圆体 Sans";
    }

    .md-header__topic .md-ellipsis {
        font-family: "寒蝉团圆体 Sans" !important;
    }

    :root {
        --md-text-font: "OPPOSans", "JiangChengHeiTi 400W", sans-serif;
        --md-header-font: "LXGW ZhenKai", sans-serif;
        --md-code-font: "DejaVu Sans Mono", "JetBrains Mono";
        --code-font-color: #e96900;
    }

    h1+div>p {
        font-family: var(--md-header-font);
    }

    @media screen and (max-width: 1199px) {
        .theme-switch {
            display: none !important;
        }
    }

    .theme-switch {
        display: inline-flex;
        gap: 8px;
        margin-right: 1rem;
        padding: 4px;
    }

    .theme-switch {
        margin-right: 1rem;
    }

    .theme-btn {
        font-family: var(--md-text-font);
        font-size: medium;
        padding: 8px 16px;
        border: none;
        border-radius: 8px 8px;
        color: #fff;
        cursor: pointer;
        min-width: 135px;
        height: 36px;
        position: relative;
        overflow: hidden;
        display: flex;
        align-items: center;
        justify-content: center;
        /* 创建一个横向的渐变，包含两种状态的颜色 */
        background-image: linear-gradient(to right,
                #275796 0%,
                #4da6da 50%,
                #4da6da 50%,
                #00bda4 100%);
        /* 设置背景尺寸为两倍按钮宽度，这样可以容纳两种状态 */
        background-size: 200% 100%;
        /* 初始位置显示右半部分（默认颜色） */
        background-position: 100% 0;
        background-repeat: no-repeat;
        /* 确保背景位置变化有过渡效果 */
        transition: background-position 0.5s cubic-bezier(0.4, 0, 0.2, 1),
            transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .theme-btn .current-theme,
    .theme-btn .target-theme {
        position: absolute;
        width: 100%;
        left: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        z-index: 2;
    }

    .theme-btn .current-theme {
        transform: translateX(0);
        opacity: 1;
        transition-delay: 0ms;
    }

    .theme-btn .target-theme {
        transform: translateX(-100%);
        opacity: 0;
        transition-delay: 0ms;
    }

    .theme-btn:hover {
        transform: scale(1.05);
        /* 悬浮时显示左半部分（悬浮颜色） */
        background-position: 0 0;
    }

    .theme-btn:hover .current-theme {
        transform: translateX(100%);
        opacity: 0;
        transition-delay: 100ms;
    }

    .theme-btn:hover .target-theme {
        transform: translateX(0);
        opacity: 1;
        transition-delay: 200ms;
    }

    .theme-btn:active {
        transform: scale(0.95);
        transition: all 100ms ease;
    }

    .md-content article>*:not(.md-top):not(.md-nav) {
        animation: flyIn 0.6s ease-out forwards;
        opacity: 0;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(1) {
        animation-delay: 0.1s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(2) {
        animation-delay: 0.15s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(3) {
        animation-delay: 0.2s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(4) {
        animation-delay: 0.25s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(5) {
        animation-delay: 0.3s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(6) {
        animation-delay: 0.35s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(7) {
        animation-delay: 0.4s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(8) {
        animation-delay: 0.45s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(9) {
        animation-delay: 0.5s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(10) {
        animation-delay: 0.55s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(11) {
        animation-delay: 0.6s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(12) {
        animation-delay: 0.65s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(13) {
        animation-delay: 0.7s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(14) {
        animation-delay: 0.75s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(15) {
        animation-delay: 0.8s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(16) {
        animation-delay: 0.85s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(17) {
        animation-delay: 0.9s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(18) {
        animation-delay: 0.95s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(19) {
        animation-delay: 1s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(20) {
        animation-delay: 1.05s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(n + 21) {
        animation-delay: 1.1s;
    }

    @keyframes flyIn {
        0% {
            opacity: 0;
            transform: translateY(-20px);
        }

        100% {
            opacity: 1;
            transform: translateY(0);
        }
    }

    @media (prefers-reduced-motion: reduce) {
        .md-content article>*:not(.md-top):not(.md-nav) {
            animation: none !important;
            opacity: 1 !important;
            transform: none !important;
        }
    }

    /* 添加超时后强制显示内容 */
    .md-content article>*:not(.md-top):not(.md-nav) {
        animation: flyIn 0.6s ease-out forwards;
        opacity: 0;
        /* 添加延迟后的备用显示 */
        animation-fill-mode: both;
    }

    /* 确保在3秒后强制显示所有内容 */
    .md-content {
        animation: ensureVisible 0.1s ease-out 3s forwards;
    }

    @keyframes ensureVisible {
        to {
            --force-visible: 1;
        }
    }

    .md-content[style*="--force-visible"] article>*:not(.md-top):not(.md-nav) {
        opacity: 1 !important;
        transform: translateY(0) !important;
    }

    li::marker {
        color: rgba(77, 166, 218, 0.9);
    }

    .md-search__input:hover,
    .md-search__input:focus {
        border-radius: 8px !important;
    }

    .md-search__form {
        border-radius: 8px !important;
    }

    .md-search__output {
        border-radius: 8px !important;
    }

    .md-search__overlay {
        border-radius: 8px !important;
    }

    .md-search-result {
        border-radius: 8px !important;
    }

    .md-search__inner {
        border-radius: 8px !important;
    }

    :not(pre)>code {
        color: #ff7043 !important;
        font-weight: normal;
    }

    .highlight .c1,
    .highlight .cm {
        color: #6a737d;
    }

    .md-typeset .admonition,
    .md-typeset details {
        border-width: 0;
        border-left-width: 4px;
    }

    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
        font-family: var(--md-header-font);
        color: #4da6da !important;
    }

    body {
        font-family: var(--md-text-font);
    }

    pre code {
        color: var(--md-code-fg-color) !important;
    }

    .highlight pre {
        background-color: var(--md-code-bg-color) !important;
    }

    .md-typeset code {
        font-family: var(--md-code-font), var(--md-text-font);
    }

    .md-tabs__item.md-tabs__item--active {
        border-bottom: 2px solid rgba(77, 166, 218, 0.9);
    }

    .md-tabs__list>.md-tabs__item--active>.md-tabs__link {
        color: rgba(77, 166, 218, 0.9) !important;
    }

    .timeline-content::before {
        background-color: #efefef;
    }

    .timeline-card {
        background-color: #efefef !important;
    }

    .changelog-content a {
        color: #4051b5 !important;
        word-break: break-word;
    }

    .changelog-content a:focus,
    .changelog-content a:hover {
        color: #00bda4 !important;
    }

    .changelog-type-pageupdate {
        background-color: rgba(77, 166, 218, 0.9) !important;
    }

    .md-footer-runtime {
        position: relative;
        z-index: 3;
        margin: 0.5rem 0;
        padding: 0.4rem 0;
        font-size: 0.7rem;
        line-height: 1.6;
        color: var(--md-footer-fg-color--light);
        display: flex;
        align-items: center;
    }

    ::selection {
        background: rgba(77, 166, 218, 0.2);
    }

    html {
        scroll-behavior: smooth !important;
        /* 强制启用平滑滚动 */
        scroll-padding-top: 53px;
        /* 设置滚动偏移量,避免标题被导航栏遮挡 */
    }

    strong {
        color: rgb(182 68 180);
    }

    a[href^="#"],
    a[href*="/#"] {
        scroll-behavior: smooth !important;
    }

    .custom-tooltip {
        position: relative;
        display: inline-block;
        cursor: help;
        color: rgba(77, 166, 218, 0.9);
        border-bottom: 1px dashed rgba(77, 166, 218, 0.9);
        text-decoration: none !important;
    }

    .custom-tooltip::before {
        content: attr(data-title);
        position: absolute;
        width: 300px;
        background-color: rgba(51, 51, 51, 0.95);
        color: #fff;
        text-align: left;
        padding: 10px;
        border-radius: 6px;
        bottom: 125%;
        /* 定位在链接上方 */
        left: 50%;
        transform: translateX(-50%);
        z-index: 99999;
        /* 确保显示在最上层 */
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.3s;
        font-weight: normal;
        font-size: 14px;
        line-height: 1.5;
        pointer-events: none;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
        word-wrap: break-word;
        white-space: normal;
    }

    .custom-tooltip::after {
        content: "";
        position: absolute;
        bottom: 100%;
        left: 50%;
        margin-left: -5px;
        border-width: 5px;
        border-style: solid;
        border-color: rgba(51, 51, 51, 0.95) transparent transparent transparent;
        z-index: 99999;
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.3s;
        pointer-events: none;
    }

    .custom-tooltip:hover::before {
        opacity: 1;
        visibility: visible;
    }

    .custom-tooltip:hover::after {
        opacity: 1;
        visibility: visible;
    }

    /* 修改移动设备上的 tooltip 样式，确保不会溢出屏幕 */
    @media (max-width: 767px) {
        .custom-tooltip::before {
            width: calc(100vw - 40px);
            max-width: 250px;
            white-space: normal;
            font-size: 14px;
            left: 50%;
            transform: translateX(-50%);
            bottom: 130%;
            /* 确保不会超出屏幕边缘 */
            box-sizing: border-box;

            /* 新增：定位逻辑调整，防止溢出 */
            position: fixed;
            top: auto;
            bottom: auto;
            left: 20px;
            /* 距离左边缘固定距离 */
            right: 20px;
            /* 距离右边缘固定距离 */
            transform: none;
            margin-top: -120px;
            /* 在目标元素上方显示，可根据需要调整 */
            width: auto;
            /* 宽度由left和right决定 */
        }

        /* 新增：处理靠近页面底部的 tooltip */
        .custom-tooltip:hover::before {
            max-height: 80vh;
            /* 最大高度限制 */
            overflow-y: auto;
            /* 内容过多时可滚动 */
        }
    }

    .md-content a.custom-tooltip::after {
        display: none !important;
    }

    @media screen and (max-width: 767px) {

        /* 移除可能导致问题的现有样式 */
        .md-typeset .arithmatex {
            max-width: 100%;
            overflow-x: hidden;
            text-overflow: ellipsis;
        }

        /* 修改为更有效的样式 */
        .katex-display {
            overflow-x: auto;
            overflow-y: hidden;
            max-width: 100%;
            padding: 0.25em 0;
        }

        /* 对于行内公式的新样式 */
        .katex {
            font-size: 1em !important;
            /* 减小字体大小 */
        }

        /* 调整整体数学公式容器的样式 */
        .md-typeset .arithmatex {
            max-width: 100% !important;
            overflow-x: auto;
            padding: 0.1em 0;
            margin: 0;
            display: block;
        }

        /* 确保行内公式不破坏布局 */
        .katex-inline {
            display: inline-block;
            max-width: 100%;
            overflow-x: auto;
            vertical-align: middle;
            white-space: normal;
            line-break: anywhere;
        }

        /* 添加淡出效果指示可滚动 */
        .katex-display::after {
            content: "";
            position: absolute;
            right: 0;
            top: 0;
            height: 100%;
            width: 20px;
            background: linear-gradient(to right,
                    rgba(255, 255, 255, 0),
                    rgba(255, 255, 255, 0.7));
            pointer-events: none;
        }
    }

    /* 头像样式 - 增强版，添加悬浮区域控制 */
    .header-avatar {
        display: inline-flex;
        align-items: center;
        margin-right: 0.8rem;
        position: relative;
        z-index: 10;
        /* 添加一个内边距以增加可点击区域，但不会影响布局 */
        padding: 3px;
    }

    .header-avatar img {
        width: 36px;
        height: 36px;
        border-radius: 50%;
        object-fit: cover;
        border: 2px solid #fff;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
        transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
        position: relative;
        z-index: 5;
    }

    /* 下拉菜单样式 - 增强版，改进悬浮区域控制 */
    .avatar-dropdown {
        position: absolute;
        top: 100%;
        left: 50%;
        transform: translateX(-50%) translateY(25px) scale(0.95);
        background-color: white;
        border-radius: 12px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.18);
        padding: 45px 0 8px 0;
        /* 增加更多顶部内边距 */
        min-width: 140px;
        opacity: 0;
        visibility: hidden;
        transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
        z-index: 4;
        /* 低于头像 */
        margin-top: -10px;
        /* 让菜单上移覆盖头像下半部分 */
        /* 添加一个缓冲区，防止鼠标离开时闪烁 */
        pointer-events: none;
    }

    /* 悬停效果，修改触发条件和过渡延迟 */
    .header-avatar:hover .avatar-dropdown {
        opacity: 1;
        visibility: visible;
        transform: translateX(-50%) translateY(15px) scale(1);
        /* 添加延迟以防止闪烁 */
        transition-delay: 0.05s;
        pointer-events: auto;
    }

    /* 添加间隙区域保持悬停状态 */
    .avatar-dropdown::after {
        content: "";
        position: absolute;
        top: -20px;
        /* 创建顶部缓冲区 */
        left: 0;
        width: 100%;
        height: 20px;
        background: transparent;
    }

    .header-avatar:hover img {
        transform: scale(1.5) translateY(18px);
        /* 放大并稍微向下移动 */
        box-shadow: 0 6px 16px rgba(77, 166, 218, 0.35);
        border-color: rgba(77, 166, 218, 0.8);
        /* 添加延迟以防止闪烁 */
        transition-delay: 0s;
    }

    /* 菜单三角形指示器 - 隐藏，因为视觉上头像已经作为指示器 */
    .avatar-dropdown::before {
        display: none;
    }

    /* 菜单项样式 */
    .avatar-dropdown-item {
        display: block;
        padding: 10px 16px;
        color: #333;
        font-size: 14px;
        text-decoration: none;
        transition: all 0.25s ease;
        text-align: center;
        position: relative;
        white-space: nowrap;
    }

    .avatar-dropdown p {
        padding: 10px 16px;
        color: #333;
        font-size: 16px;
        text-align: center;
        white-space: nowrap;
    }

    .avatar-dropdown-item:hover {
        background-color: rgba(77, 166, 218, 0.08);
        color: rgba(77, 166, 218, 0.9);
    }

    .avatar-dropdown-item:hover::after {
        content: "";
        position: absolute;
        left: 8px;
        width: 3px;
        height: 70%;
        background: rgba(77, 166, 218, 0.9);
        border-radius: 2px;
        top: 15%;
    }

    .avatar-dropdown-divider {
        height: 1px;
        background-color: rgba(0, 0, 0, 0.06);
        margin: 4px 8px;
    }

    /* 响应式设计调整 */
    @media screen and (max-width: 1199px) {
        .theme-switch {
            display: none !important;
        }

        .header-avatar {
            margin-right: 0.5rem;
        }
    }

    /* 响应式设计调整 */
    @media screen and (max-width: 1200px) {
        .header-avatar {
            margin-right: 0.3rem;
            padding: 2px;
        }

        .header-avatar img {
            width: 32px;
            height: 32px;
        }

        /* 调整菜单位置，靠左侧显示 */
        .avatar-dropdown {
            /* 调整left确保显示在左侧 */
            left: -120px;
            transform: translateX(0) translateY(25px) scale(0.95);
            padding-top: 15px;
            margin-top: 0;
            min-width: 130px;
            position: absolute;
            z-index: 100;
        }

        /* 点击时的行为，而不是悬停 */
        .header-avatar:hover .avatar-dropdown {
            transform: translateX(0) translateY(5px) scale(1);
        }

        /* 移动端头像不放大，防止页面移动 */
        .header-avatar:hover img {
            transform: none;
            border-color: rgba(77, 166, 218, 0.8);
            box-shadow: 0 4px 12px rgba(77, 166, 218, 0.3);
        }

        /* 调整导航栏布局 */
        .md-header__inner {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        /* 确保下拉菜单不遮挡其他元素 */
        .avatar-dropdown {
            max-width: 85vw;
        }
    }

    ::-webkit-scrollbar {
        width: 8px;
        height: 8px;
    }

    ::-webkit-scrollbar-track {
        background: #f1f1f1;
        border-radius: 4px;
    }

    ::-webkit-scrollbar-thumb {
        background: #ccc;
        border-radius: 4px;
    }

    ::-webkit-scrollbar-thumb:hover {
        background: #999;
    }

    /* 主题切换蒙版 - 优化结构和性能 */
    .theme-transition-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: #ffffff;
        z-index: 9999;
        opacity: 0;
        visibility: hidden;
        pointer-events: none;
        display: flex;
        align-items: center;
        justify-content: center;
        /* 简化过渡效果，提高性能 */
        transition: opacity 0.3s ease-out, visibility 0.3s ease-out,
            background-color 0.3s ease-out, backdrop-filter 0.3s ease-out;
        backdrop-filter: blur(0px);
    }

    .theme-transition-overlay.active {
        opacity: 1;
        visibility: visible;
        pointer-events: all;
        backdrop-filter: blur(5px);
    }

    /* 主题切换内容容器 - 整合样式 */
    .theme-transition-content {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        gap: 20px;
        transform: scale(0.9);
        opacity: 0;
        transition: transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1),
            opacity 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
    }

    .theme-transition-overlay.active .theme-transition-content {
        transform: scale(1);
        opacity: 1;
    }

    /* 简化加载图标结构，移除不必要的嵌套 */
    .theme-transition-spinner {
        width: 50px;
        height: 50px;
        border: 5px solid rgba(77, 166, 218, 0.2);
        border-top-color: rgba(77, 166, 218, 0.8);
        border-radius: 50%;
        animation: none;
        transition: opacity 0.3s ease;
    }

    .theme-transition-overlay.active .theme-transition-spinner {
        animation: spin 1s linear infinite;
    }

    @keyframes spin {
        to {
            transform: rotate(360deg);
        }
    }

    /* 主题切换文字样式 */
    .theme-transition-text {
        font-family: var(--md-text-font);
        color: rgba(77, 166, 218, 0.9);
        font-size: 16px;
        font-weight: 500;
        text-align: center;
        margin-top: 10px;
    }

    /* 页脚爱情宣言样式 */
    .md-footer-love {
        position: relative;
        font-family: var(--md-header-font);
        font-size: 0.9rem;
        line-height: 1.6;
        margin: 0.5rem 0;
        padding: 0.5rem 1rem;
        color: rgba(255, 255, 255, 0.85);
        text-align: center;
        border-radius: 8px;
        background: linear-gradient(135deg,
                rgba(255, 255, 255, 0.1),
                rgba(255, 255, 255, 0.05));
        backdrop-filter: blur(4px);
        transition: all 0.4s ease;
        overflow: hidden;
        border-left: 3px solid rgba(255, 182, 193, 0.6);
    }

    .md-footer-love:hover {
        background: linear-gradient(135deg,
                rgba(255, 182, 193, 0.2),
                rgba(255, 255, 255, 0.1));
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(255, 182, 193, 0.15);
    }

    /* 添加闪烁星星效果 */
    .md-footer-love::before,
    .md-footer-love::after {
        content: "★";
        position: absolute;
        opacity: 0;
        font-size: 0.8rem;
        color: rgba(255, 223, 223, 0.8);
        animation: twinkle 3s ease-in-out infinite alternate;
    }

    .md-footer-love::before {
        left: 0.5rem;
        top: 0.4rem;
        animation-delay: 0s;
    }

    .md-footer-love::after {
        right: 0.5rem;
        top: 0.4rem;
        animation-delay: 1.5s;
    }

    @keyframes twinkle {
        0% {
            opacity: 0.3;
            transform: scale(0.8);
        }

        50% {
            opacity: 0.9;
            transform: scale(1.2);
        }

        100% {
            opacity: 0.3;
            transform: scale(0.8);
        }
    }

    /* 名字高亮显示 */
    .love-highlight {
        font-weight: 500;
        background: linear-gradient(120deg, #ffb6c1, #ffc0cb);
        background-clip: text;
        -webkit-background-clip: text;
        color: transparent;
        padding: 0 0.2rem;
        position: relative;
        white-space: nowrap;
    }

    /* 添加心跳动画效果 */
    .love-heart {
        display: inline-block;
        font-size: 0.9em;
        color: rgba(255, 182, 193, 0.9);
        transform-origin: center;
        margin: 0 0.2rem;
        animation: heartbeat 1.5s ease-in-out infinite;
    }

    @keyframes heartbeat {
        0% {
            transform: scale(1);
        }

        15% {
            transform: scale(1.25);
        }

        30% {
            transform: scale(1);
        }

        45% {
            transform: scale(1.25);
        }

        60% {
            transform: scale(1);
        }

        100% {
            transform: scale(1);
        }
    }

    /* 添加响应式样式 - 平板设备 */
    @media screen and (max-width: 1199px) {
        .md-footer-love {
            font-size: 0.8rem;
            padding: 0.4rem 0.8rem;
            margin: 0.4rem 0;
        }

        .md-footer-love::before,
        .md-footer-love::after {
            font-size: 0.7rem;
        }
    }

    /* 添加响应式样式 - 移动设备 */
    @media screen and (max-width: 767px) {
        .md-footer-love {
            font-size: 0.75rem;
            padding: 0.3rem 0.5rem;
            margin: 0.3rem 0;
            border-radius: 6px;
            max-width: 90%;
            margin-left: auto;
            margin-right: auto;
            border-left-width: 2px;
        }

        .md-footer-love:hover {
            transform: translateY(-1px);
            box-shadow: 0 2px 8px rgba(255, 182, 193, 0.12);
        }

        .md-footer-love::before,
        .md-footer-love::after {
            font-size: 0.6rem;
        }

        .love-heart {
            font-size: 0.8em;
        }

        /* 在非常小的屏幕上隐藏星星效果 */
        @media screen and (max-width: 360px) {

            .md-footer-love::before,
            .md-footer-love::after {
                display: none;
            }
        }
    }

    /* Atom One Light 语法高亮样式 - 仅覆盖代码块语法高亮 */
    .highlight .hll {
        background-color: #e5e5e6 !important;
    }

    .highlight .c {
        color: #a0a1a7 !important;
    }

    /* Comment */
    .highlight .err {
        color: #ca1243 !important;
    }

    /* Error */
    .highlight .k {
        color: #a626a4 !important;
    }

    /* Keyword */
    .highlight .l {
        color: #986801 !important;
    }

    /* Literal */
    .highlight .n {
        color: #383a42 !important;
    }

    /* Name */
    .highlight .o {
        color: #383a42 !important;
    }

    /* Operator */
    .highlight .p {
        color: #383a42 !important;
    }

    /* Punctuation */
    .highlight .ch {
        color: #a0a1a7 !important;
    }

    /* Comment.Hashbang */
    .highlight .cm {
        color: #a0a1a7 !important;
    }

    /* Comment.Multiline */
    .highlight .cp {
        color: #a626a4 !important;
    }

    /* Comment.Preproc */
    .highlight .cpf {
        color: rgb(80, 161, 79) !important;
    }

    /* Comment.PreprocFile */
    .highlight .c1 {
        color: #a0a1a7 !important;
    }

    /* Comment.Single */
    .highlight .cs {
        color: #a0a1a7 !important;
    }

    /* Comment.Special */
    .highlight .gd {
        color: #ca1243 !important;
    }

    /* Generic.Deleted */
    .highlight .ge {}

    /* Generic.Emph */
    .highlight .gr {
        color: #ca1243 !important;
    }

    /* Generic.Error */
    .highlight .gh {
        color: #0184bc !important;
        font-weight: bold !important;
    }

    /* Generic.Heading */
    .highlight .gi {
        color: #50a14f !important;
    }

    /* Generic.Inserted */
    .highlight .go {
        color: #383a42 !important;
    }

    /* Generic.Output */
    .highlight .gp {
        color: #383a42 !important;
    }

    /* Generic.Prompt */
    .highlight .gs {
        font-weight: bold !important;
    }

    /* Generic.Strong */
    .highlight .gu {
        color: #0997b3 !important;
        font-weight: bold !important;
    }

    /* Generic.Subheading */
    .highlight .gt {
        color: #ca1243 !important;
    }

    /* Generic.Traceback */
    .highlight .kc {
        color: #a626a4 !important;
    }

    /* Keyword.Constant */
    .highlight .kd {
        color: #a626a4 !important;
    }

    /* Keyword.Declaration */
    .highlight .kn {
        color: #a626a4 !important;
    }

    /* Keyword.Namespace */
    .highlight .kp {
        color: #a626a4 !important;
    }

    /* Keyword.Pseudo */
    .highlight .kr {
        color: #a626a4 !important;
    }

    /* Keyword.Reserved */
    .highlight .kt {
        color: #c18401 !important;
    }

    /* Keyword.Type */
    .highlight .ld {
        color: #50a14f !important;
    }

    /* Literal.Date */
    .highlight .m {
        color: #986801 !important;
    }

    /* Literal.Number */
    .highlight .s {
        color: #50a14f !important;
    }

    /* Literal.String */
    .highlight .na {
        color: #c18401 !important;
    }

    /* Name.Attribute */
    .highlight .nb {
        color: #c18401 !important;
    }

    /* Name.Builtin */
    .highlight .nc {
        color: #c18401 !important;
    }

    /* Name.Class */
    .highlight .no {
        color: #ca1243 !important;
    }

    /* Name.Constant */
    .highlight .nd {
        color: #4078f2 !important;
    }

    /* Name.Decorator */
    .highlight .ni {
        color: #383a42 !important;
    }

    /* Name.Entity */
    .highlight .ne {
        color: #ca1243 !important;
    }

    /* Name.Exception */
    .highlight .nf {
        color: #4078f2 !important;
    }

    /* Name.Function */
    .highlight .nl {
        color: #383a42 !important;
    }

    /* Name.Label */
    .highlight .nn {
        color: #383a42 !important;
    }

    /* Name.Namespace */
    .highlight .nx {
        color: #4078f2 !important;
    }

    /* Name.Other */
    .highlight .py {
        color: #383a42 !important;
    }

    /* Name.Property */
    .highlight .nt {
        color: #e45649 !important;
    }

    /* Name.Tag */
    .highlight .nv {
        color: #ca1243 !important;
    }

    /* Name.Variable */
    .highlight .ow {
        color: #a626a4 !important;
    }

    /* Operator.Word */
    .highlight .w {
        color: #383a42 !important;
    }

    /* Text.Whitespace */
    .highlight .mb {
        color: #986801 !important;
    }

    /* Literal.Number.Bin */
    .highlight .mf {
        color: #986801 !important;
    }

    /* Literal.Number.Float */
    .highlight .mh {
        color: #986801 !important;
    }

    /* Literal.Number.Hex */
    .highlight .mi {
        color: #986801 !important;
    }

    /* Literal.Number.Integer */
    .highlight .mo {
        color: #986801 !important;
    }

    /* Literal.Number.Oct */
    .highlight .sa {
        color: #50a14f !important;
    }

    /* Literal.String.Affix */
    .highlight .sb {
        color: #50a14f !important;
    }

    /* Literal.String.Backtick */
    .highlight .sc {
        color: #50a14f !important;
    }

    /* Literal.String.Char */
    .highlight .dl {
        color: #50a14f !important;
    }

    /* Literal.String.Delimiter */
    .highlight .sd {
        color: #a0a1a7 !important;
    }

    /* Literal.String.Doc */
    .highlight .s2 {
        color: #50a14f !important;
    }

    /* Literal.String.Double */
    .highlight .se {
        color: #4078f2 !important;
    }

    /* Literal.String.Escape */
    .highlight .sh {
        color: #50a14f !important;
    }

    /* Literal.String.Heredoc */
    .highlight .si {
        color: #4078f2 !important;
    }

    /* Literal.String.Interpol */
    .highlight .sx {
        color: #50a14f !important;
    }

    /* Literal.String.Other */
    .highlight .sr {
        color: #50a14f !important;
    }

    /* Literal.String.Regex */
    .highlight .s1 {
        color: #50a14f !important;
    }

    /* Literal.String.Single */
    .highlight .ss {
        color: #50a14f !important;
    }

    /* Literal.String.Symbol */
    .highlight .bp {
        color: #c18401 !important;
    }

    /* Name.Builtin.Pseudo */
    .highlight .fm {
        color: #4078f2 !important;
    }

    /* Name.Function.Magic */
    .highlight .vc {
        color: #ca1243 !important;
    }

    /* Name.Variable.Class */
    .highlight .vg {
        color: #ca1243 !important;
    }

    /* Name.Variable.Global */
    .highlight .vi {
        color: #ca1243 !important;
    }

    /* Name.Variable.Instance */
    .highlight .vm {
        color: #ca1243 !important;
    }

    /* Name.Variable.Magic */
    .highlight .il {
        color: #986801 !important;
    }

    /* Literal.Number.Integer.Long */

    /* 特殊语言的额外样式调整 */
    .highlight[data-lang="json"] .nt {
        color: #e45649 !important;
    }

    /* JSON keys */
    .highlight[data-lang="yaml"] .na {
        color: #e45649 !important;
    }

    /* YAML keys */
    .highlight[data-lang="yml"] .na {
        color: #e45649 !important;
    }

    /* YAML keys */
    .highlight[data-lang="xml"] .nt {
        color: #e45649 !important;
    }

    /* XML tags */
    .highlight[data-lang="html"] .nt {
        color: #e45649 !important;
    }

    /* HTML tags */

    /* CSS特殊处理 */
    .highlight[data-lang="css"] .nc {
        color: #c18401 !important;
    }

    /* CSS class selectors */
    .highlight[data-lang="css"] .nf {
        color: #4078f2 !important;
    }

    /* CSS functions */
    .highlight[data-lang="css"] .nt {
        color: #e45649 !important;
    }

    /* CSS element selectors */
    .highlight[data-lang="css"] .nd {
        color: #a626a4 !important;
    }

    /* CSS pseudo-classes */

    /* JavaScript特殊处理 */
    .highlight[data-lang="javascript"] .nx {
        color: #4078f2 !important;
    }

    /* JS functions and variables */
    .highlight[data-lang="js"] .nx {
        color: #4078f2 !important;
    }

    /* JS functions and variables */

    /* Python特殊处理 */
    .highlight[data-lang="python"] .nd {
        color: #4078f2 !important;
    }

    /* Python decorators */
    .highlight[data-lang="python"] .nf {
        color: #4078f2 !important;
    }

    /* Python functions */
    .highlight[data-lang="python"] .nc {
        color: #c18401 !important;
    }

    /* Python classes */

    /* Shell/Bash特殊处理 */
    .highlight[data-lang="bash"] .nv {
        color: #ca1243 !important;
    }

    /* Bash variables */
    .highlight[data-lang="shell"] .nv {
        color: #ca1243 !important;
    }

    /* Shell variables */
    .highlight[data-lang="sh"] .nv {
        color: #ca1243 !important;
    }

    /* Shell variables */

    /* C/C++特殊处理 */
    .highlight[data-lang="c"] .kt {
        color: #a626a4 !important;
    }

    /* C types */
    .highlight[data-lang="cpp"] .kt {
        color: #a626a4 !important;
    }

    /* C++ types */
    .highlight[data-lang="c++"] .kt {
        color: #a626a4 !important;
    }

    /* C++ types */

    /* Java特殊处理 */
    .highlight[data-lang="java"] .nc {
        color: #c18401 !important;
    }

    /* Java classes */
    .highlight[data-lang="java"] .kt {
        color: #a626a4 !important;
    }

    /* Java types */
</style><script>
    document.addEventListener("DOMContentLoaded", () => {
        const searchEl = document.querySelector(".md-search");
        const savedTheme = localStorage.getItem("preferred-theme") || "theme1";

        // 创建头像元素，包含下拉菜单
        const avatarEl = document.createElement("div");
        avatarEl.className = "header-avatar";

        // 创建头像图片和下拉菜单
        avatarEl.innerHTML = `
        <img src="/作者/作者.assets/20250206-200653.jpg" alt="头像">
        <div class="avatar-dropdown">
            <p><strong>柯懒不是柯南</strong></p>
            <a href="/作者/联系作者/作者.html" class="avatar-dropdown-item">吵醒柯懒</a>
            <div class="avatar-dropdown-divider"></div>
            <a href="/作者/关于作者/关于作者.html" class="avatar-dropdown-item">柯懒自传</a>
            <div class="avatar-dropdown-divider"></div>
            <a href="https://github.com/H0308" class="avatar-dropdown-item">柯懒的零食库</a>
        </div>
    `;

        // 创建主题切换按钮
        const themeSwitch = document.createElement("div");
        themeSwitch.className = "theme-switch";
        themeSwitch.innerHTML = `
        <button class="theme-btn" onclick="switchTheme()">
            <span class="current-theme">${savedTheme === "theme1" ? "当前：新版主题" : "当前：原生主题"
            }</span>
            <span class="target-theme">${savedTheme === "theme1"
                ? "切换到：原生主题"
                : "切换到：新版主题"
            }</span>
        </button>
    `;

        // 插入元素
        searchEl.parentNode.insertBefore(avatarEl, searchEl);
        searchEl.parentNode.insertBefore(themeSwitch, searchEl);

        const initialTheme = localStorage.getItem("preferred-theme");
        if (initialTheme) {
            const theme1Link = document.querySelector('link[href*="theme1"]');
            const theme2Link = document.querySelector('link[href*="theme2"]');

            // 关闭过渡动画，直接设置主题
            if (initialTheme === "theme1") {
                theme1Link.removeAttribute("disabled");
                theme2Link.setAttribute("disabled", "true");
            } else {
                theme2Link.removeAttribute("disabled");
                theme1Link.setAttribute("disabled", "true");
            }
        }

        // 添加加载完成后的检测
        setTimeout(() => {
            const hiddenElements = document.querySelectorAll('.md-content article>*[style*="opacity: 0"]');
            hiddenElements.forEach(el => {
                el.style.opacity = '1';
                el.style.transform = 'translateY(0)';
            });
        }, 2000); // 2秒后强制显示所有隐藏元素
    });

    (function initTheme() {
        const savedTheme = localStorage.getItem("preferred-theme");
        if (savedTheme) {
            const theme1Link = document.querySelector('link[href*="theme1"]');
            const theme2Link = document.querySelector('link[href*="theme2"]');
            if (theme1Link && theme2Link) {
                if (savedTheme === "theme1") {
                    theme1Link.removeAttribute("disabled");
                    theme2Link.setAttribute("disabled", "true");
                } else {
                    theme2Link.removeAttribute("disabled");
                    theme1Link.setAttribute("disabled", "true");
                }
            }
        }
    })();

    function switchTheme() {
        // 获取当前和目标主题信息
        const currentTheme =
            localStorage.getItem("preferred-theme") || "theme1";
        const newTheme = currentTheme === "theme1" ? "theme2" : "theme1";
        const targetThemeText = newTheme === "theme1" ? "新版主题" : "原生主题";

        // 获取主题样式链接
        const theme1Link = document.querySelector('link[href*="theme1"]');
        const theme2Link = document.querySelector('link[href*="theme2"]');

        if (!theme1Link || !theme2Link) {
            console.error("无法找到主题样式链接");
            return;
        }

        // 创建和添加过渡覆盖层
        const overlay = document.createElement("div");
        overlay.className = "theme-transition-overlay";
        overlay.innerHTML = `
        <div class="theme-transition-content">
            <div class="theme-transition-spinner"></div>
            <div class="theme-transition-text">正在切换到：${targetThemeText}</div>
        </div>
    `;
        document.body.appendChild(overlay);

        // 确保DOM已更新后再添加active类
        requestAnimationFrame(() => {
            // 激活蒙版
            overlay.classList.add("active");

            // 添加适当的延迟以确保蒙版已完全显示
            setTimeout(() => {
                // 切换主题样式
                if (newTheme === "theme1") {
                    theme1Link.removeAttribute("disabled");
                    theme2Link.setAttribute("disabled", "true");
                } else {
                    theme2Link.removeAttribute("disabled");
                    theme1Link.setAttribute("disabled", "true");
                }

                // 保存主题设置
                localStorage.setItem("preferred-theme", newTheme);

                // 更新切换按钮文本
                updateThemeSwitchButton(newTheme);

                // 给予足够的时间加载主题
                setTimeout(() => {
                    // 平滑淡出效果
                    fadeOutOverlay(overlay);
                }, 2500); // 主题加载时间
            }, 250); // 蒙版显示时间
        });
    }

    // 更新主题切换按钮文本
    function updateThemeSwitchButton(theme) {
        const themeBtn = document.querySelector(".theme-btn");
        if (themeBtn) {
            const currentThemeEl = themeBtn.querySelector(".current-theme");
            const targetThemeEl = themeBtn.querySelector(".target-theme");

            if (currentThemeEl && targetThemeEl) {
                currentThemeEl.textContent =
                    theme === "theme1" ? "当前：新版主题" : "当前：原生主题";
                targetThemeEl.textContent =
                    theme === "theme1"
                        ? "切换到：原生主题"
                        : "切换到：新版主题";
            }
        }
    }

    // 平滑淡出蒙版
    function fadeOutOverlay(overlay) {
        // 先改变背景色，制造渐变效果
        overlay.style.backgroundColor = "rgba(255, 255, 255, 0.85)";

        // 短暂延迟后淡出
        setTimeout(() => {
            overlay.classList.remove("active");

            // 等待淡出动画完成后移除元素
            setTimeout(() => {
                document.body.removeChild(overlay);
            }, 300);
        }, 150);
    }
</script> <link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../../assets/javascripts/glightbox.min.js"></script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=white data-md-color-accent=teal> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#c class=md-skip> 跳转至 </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=页眉> <a href=../../index.html title=柯懒的知识库 class="md-header__button md-logo" aria-label=柯懒的知识库 data-md-component=logo> <img src=../../assets/logo.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> 柯懒的知识库 </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> C++继承 </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary=white data-md-color-accent=teal aria-hidden=true type=radio name=__palette id=__palette_0> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=搜索 placeholder=搜索 autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=查找> <button type=reset class="md-search__icon md-icon" title=清空当前内容 aria-label=清空当前内容 tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> 正在初始化搜索引擎 </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=标签 data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../index.html class=md-tabs__link> 主页 </a> </li> <li class=md-tabs__item> <a href=../../%E7%BD%91%E7%AB%99%E4%BB%8B%E7%BB%8D/%E7%BD%91%E7%AB%99%E4%BB%8B%E7%BB%8D.html class=md-tabs__link> 网站介绍 </a> </li> <li class=md-tabs__item> <a href=../../%E7%BD%91%E7%AB%99%E6%97%B6%E9%97%B4%E7%BA%BF/%E7%BD%91%E7%AB%99%E6%97%B6%E9%97%B4%E7%BA%BF.html class=md-tabs__link> 网站时间线 </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../../C%E8%AF%AD%E8%A8%80/index.html class=md-tabs__link> 编程语言 </a> </li> <li class=md-tabs__item> <a href=../../%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/1.%20%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%92%8C%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/1.%20%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E4%B8%8E%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6.html class=md-tabs__link> 数据结构与算法 </a> </li> <li class=md-tabs__item> <a href=../../Linux/1.%20Linux%E5%B8%B8%E7%94%A8%E9%80%89%E9%A1%B9%E5%92%8C%E6%8C%87%E4%BB%A4/1.%20Linux%E5%B8%B8%E7%94%A8%E9%80%89%E9%A1%B9%E5%92%8C%E6%8C%87%E4%BB%A4.html class=md-tabs__link> Linux </a> </li> <li class=md-tabs__item> <a href=../../HTML%E4%B8%8ECSS/HTML%E7%AC%94%E8%AE%B0/HTML%E7%AC%94%E8%AE%B0.html class=md-tabs__link> 前端 </a> </li> <li class=md-tabs__item> <a href=../../MySQL/MySQL%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8/MySQL%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8.html class=md-tabs__link> MySQL </a> </li> <li class=md-tabs__item> <a href=../../%E5%85%B6%E5%AE%83/Shell%E8%84%9A%E6%9C%AC%E8%AF%AD%E8%A8%80/%E5%85%B3%E4%BA%8EShell.html class=md-tabs__link> 扩展知识 </a> </li> <li class=md-tabs__item> <a href=../../%E5%B7%A5%E5%85%B7%E5%B8%AE%E5%8A%A9/vscode%E4%B8%AD%E6%B7%BB%E5%8A%A0%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5/vscode%E4%B8%AD%E6%B7%BB%E5%8A%A0%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5.html class=md-tabs__link> 工具帮助 </a> </li> <li class=md-tabs__item> <a href=../../%E9%A1%B9%E7%9B%AE/1.%20Boost%E5%BA%93%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E/1.%20Boost%E5%BA%93%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E.html class=md-tabs__link> 项目 </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=导航栏 data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../index.html title=柯懒的知识库 class="md-nav__button md-logo" aria-label=柯懒的知识库 data-md-component=logo> <img src=../../assets/logo.png alt=logo> </a> 柯懒的知识库 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../index.html class=md-nav__link> <span class=md-ellipsis> 主页 </span> </a> </li> <li class=md-nav__item> <a href=../../%E7%BD%91%E7%AB%99%E4%BB%8B%E7%BB%8D/%E7%BD%91%E7%AB%99%E4%BB%8B%E7%BB%8D.html class=md-nav__link> <span class=md-ellipsis> 网站介绍 </span> </a> </li> <li class=md-nav__item> <a href=../../%E7%BD%91%E7%AB%99%E6%97%B6%E9%97%B4%E7%BA%BF/%E7%BD%91%E7%AB%99%E6%97%B6%E9%97%B4%E7%BA%BF.html class=md-nav__link> <span class=md-ellipsis> 网站时间线 </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4 checked> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex> <span class=md-ellipsis> 编程语言 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=true> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> 编程语言 </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../C%E8%AF%AD%E8%A8%80/index.html class=md-nav__link> <span class=md-ellipsis> C语言 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_2 checked> <div class="md-nav__link md-nav__container"> <a href=../index.html class="md-nav__link "> <span class=md-ellipsis> C++ </span> </a> <label class="md-nav__link " for=__nav_4_2 id=__nav_4_2_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_2_label aria-expanded=true> <label class=md-nav__title for=__nav_4_2> <span class="md-nav__icon md-icon"></span> C++ </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../1.%20C%E8%AF%AD%E8%A8%80%E8%BF%87%E6%B8%A1C%2B%2B%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/1.%20C%E8%AF%AD%E8%A8%80%E8%BF%87%E6%B8%A1C%2B%2B%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html class=md-nav__link> <span class=md-ellipsis> C语言过渡C++基础知识 </span> </a> </li> <li class=md-nav__item> <a href=../2.%20C%2B%2B%E7%B1%BB%E5%92%8C%E5%AF%B9%E8%B1%A1/2.%20%E7%B1%BB%E5%92%8C%E5%AF%B9%E8%B1%A1.html class=md-nav__link> <span class=md-ellipsis> C++类和对象 </span> </a> </li> <li class=md-nav__item> <a href=../3.%20C%2B%2B%E9%BB%98%E8%AE%A4%E6%88%90%E5%91%98%E5%87%BD%E6%95%B0/3.%20C%2B%2B%E9%BB%98%E8%AE%A4%E6%88%90%E5%91%98%E5%87%BD%E6%95%B0.html class=md-nav__link> <span class=md-ellipsis> C++默认成员函数 </span> </a> </li> <li class=md-nav__item> <a href=../4.%20C%2B%2B%E7%B1%BB%E5%92%8C%E5%AF%B9%E8%B1%A1%E7%9B%B8%E5%85%B3%E5%86%85%E5%AE%B9/4.%20C%2B%2B%E7%B1%BB%E5%92%8C%E5%AF%B9%E8%B1%A1%E7%9B%B8%E5%85%B3%E5%86%85%E5%AE%B9.html class=md-nav__link> <span class=md-ellipsis> C++类和对象相关内容 </span> </a> </li> <li class=md-nav__item> <a href=../5.%20C%2B%2B%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/5.%20C%2B%2B%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html class=md-nav__link> <span class=md-ellipsis> C++内存管理 </span> </a> </li> <li class=md-nav__item> <a href=../6.%20C%2B%2B%E6%A8%A1%E7%89%88%EF%BC%88%E5%9F%BA%E7%A1%80%EF%BC%89/6.%20C%2B%2B%E6%A8%A1%E7%89%88%EF%BC%88%E5%9F%BA%E7%A1%80%EF%BC%89.html class=md-nav__link> <span class=md-ellipsis> C++模版 </span> </a> </li> <li class=md-nav__item> <a href=../7.%20C%2B%2BSTL%E7%AE%80%E4%BB%8B%E4%B8%8Estring%E7%B1%BB/7.%20C%2B%2BSTL%E7%AE%80%E4%BB%8B%E4%B8%8Estring%E7%B1%BB.html class=md-nav__link> <span class=md-ellipsis> C++STL简介与string类 </span> </a> </li> <li class=md-nav__item> <a href=../8.%20string%E7%B1%BB%E6%A8%A1%E6%8B%9F%E5%AE%9E%E7%8E%B0/8.%20string%E7%B1%BB%E7%9A%84%E6%A8%A1%E6%8B%9F%E5%AE%9E%E7%8E%B0.html class=md-nav__link> <span class=md-ellipsis> string类模拟实现 </span> </a> </li> <li class=md-nav__item> <a href=../9.%20vector%E7%B1%BB/9.%20vector%E7%B1%BB.html class=md-nav__link> <span class=md-ellipsis> vector类 </span> </a> </li> <li class=md-nav__item> <a href=../10.%20vector%E7%B1%BB%E6%A8%A1%E6%8B%9F%E5%AE%9E%E7%8E%B0/10.%20vector%E6%A8%A1%E6%8B%9F%E5%AE%9E%E7%8E%B0.html class=md-nav__link> <span class=md-ellipsis> vector类模拟实现 </span> </a> </li> <li class=md-nav__item> <a href=../11.%20list%E7%B1%BB/11.%20list%E7%B1%BB.html class=md-nav__link> <span class=md-ellipsis> list类 </span> </a> </li> <li class=md-nav__item> <a href=../12.%20list%E6%A8%A1%E6%8B%9F%E5%AE%9E%E7%8E%B0/12.%20list%E7%B1%BB%E6%A8%A1%E6%8B%9F%E5%AE%9E%E7%8E%B0.html class=md-nav__link> <span class=md-ellipsis> list类模拟实现 </span> </a> </li> <li class=md-nav__item> <a href=../13.%20stack%E7%B1%BB/13.%20stack%E7%B1%BB.html class=md-nav__link> <span class=md-ellipsis> stack类 </span> </a> </li> <li class=md-nav__item> <a href=../14.%20queue%E4%B8%8Epriority_queue%E7%B1%BB/14.%20queue%E4%B8%8Epriority_queue%E7%B1%BB.html class=md-nav__link> <span class=md-ellipsis> queue与priority_queue类 </span> </a> </li> <li class=md-nav__item> <a href=../15.%20stack%E5%92%8Cqueue%E6%A8%A1%E6%8B%9F%E5%AE%9E%E7%8E%B0/15.%20stack%E5%92%8Cqueue%E6%A8%A1%E6%8B%9F%E5%AE%9E%E7%8E%B0.html class=md-nav__link> <span class=md-ellipsis> stack和queue模拟实现 </span> </a> </li> <li class=md-nav__item> <a href=../16.%20priority_queue%E6%A8%A1%E6%8B%9F%E5%AE%9E%E7%8E%B0/16.%20priority_queue%E6%A8%A1%E6%8B%9F%E5%AE%9E%E7%8E%B0.html class=md-nav__link> <span class=md-ellipsis> priority_queue模拟实现 </span> </a> </li> <li class=md-nav__item> <a href=../17.%20%E5%8F%8D%E5%90%91%E8%BF%AD%E4%BB%A3%E5%99%A8%E8%AE%BE%E8%AE%A1/17.%20reverse_iterator%E8%BF%AD%E4%BB%A3%E5%99%A8%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1.html class=md-nav__link> <span class=md-ellipsis> 反向迭代器设计 </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> C++继承 </span> <span class="md-nav__icon md-icon"></span> </label> <a href=19.%20C%2B%2B%E7%BB%A7%E6%89%BF.html class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> C++继承 </span> </a> <nav class="md-nav md-nav--secondary" aria-label=目录> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> 目录 </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#c_1 class=md-nav__link> <span class=md-ellipsis> C++继承行为 </span> </a> </li> <li class=md-nav__item> <a href=#_1 class=md-nav__link> <span class=md-ellipsis> 继承权限 </span> </a> </li> <li class=md-nav__item> <a href=#_2 class=md-nav__link> <span class=md-ellipsis> 父类和子类对象赋值转换 </span> </a> </li> <li class=md-nav__item> <a href=#_3 class=md-nav__link> <span class=md-ellipsis> 继承中的作用域 </span> </a> </li> <li class=md-nav__item> <a href=#_4 class=md-nav__link> <span class=md-ellipsis> 子类的默认成员函数 </span> </a> <nav class=md-nav aria-label=子类的默认成员函数> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_5 class=md-nav__link> <span class=md-ellipsis> 构造函数 </span> </a> </li> <li class=md-nav__item> <a href=#_6 class=md-nav__link> <span class=md-ellipsis> 拷贝构造函数 </span> </a> </li> <li class=md-nav__item> <a href=#_7 class=md-nav__link> <span class=md-ellipsis> 赋值运算符重载函数 </span> </a> </li> <li class=md-nav__item> <a href=#_8 class=md-nav__link> <span class=md-ellipsis> 析构函数 </span> </a> </li> <li class=md-nav__item> <a href=#_9 class=md-nav__link> <span class=md-ellipsis> 总结 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_10 class=md-nav__link> <span class=md-ellipsis> 友元与继承 </span> </a> </li> <li class=md-nav__item> <a href=#_11 class=md-nav__link> <span class=md-ellipsis> 静态成员与继承 </span> </a> </li> <li class=md-nav__item> <a href=#_12 class=md-nav__link> <span class=md-ellipsis> 单继承与多继承 </span> </a> <nav class=md-nav aria-label=单继承与多继承> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_13 class=md-nav__link> <span class=md-ellipsis> 多继承介绍 </span> </a> </li> <li class=md-nav__item> <a href=#_14 class=md-nav__link> <span class=md-ellipsis> 菱形继承 </span> </a> </li> <li class=md-nav__item> <a href=#_15 class=md-nav__link> <span class=md-ellipsis> 虚拟继承 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_16 class=md-nav__link> <span class=md-ellipsis> 继承与组合的选择 </span> </a> <nav class=md-nav aria-label=继承与组合的选择> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_17 class=md-nav__link> <span class=md-ellipsis> 组合 </span> </a> </li> <li class=md-nav__item> <a href=#_18 class=md-nav__link> <span class=md-ellipsis> 二者的选择 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../20.%20C%2B%2B%E5%A4%9A%E6%80%81/20.%20C%2B%2B%E5%A4%9A%E6%80%81.html class=md-nav__link> <span class=md-ellipsis> C++多态 </span> </a> </li> <li class=md-nav__item> <a href=../21.%20set%E7%B1%BB/21.%20set%E7%B1%BB.html class=md-nav__link> <span class=md-ellipsis> set类 </span> </a> </li> <li class=md-nav__item> <a href=../22.%20map%E7%B1%BB/22.%20map%E7%B1%BB.html class=md-nav__link> <span class=md-ellipsis> map类 </span> </a> </li> <li class=md-nav__item> <a href=../23.%20map%E5%92%8Cset%E7%B1%BB%E6%A8%A1%E6%8B%9F%E5%AE%9E%E7%8E%B0/23.%20map%E5%92%8Cset%E7%B1%BB%E6%A8%A1%E6%8B%9F%E5%AE%9E%E7%8E%B0.html class=md-nav__link> <span class=md-ellipsis> map和set类模拟实现 </span> </a> </li> <li class=md-nav__item> <a href=../24.%20unordered_map%E5%92%8Cunordered_set%E7%B1%BB%E6%A8%A1%E6%8B%9F%E5%AE%9E%E7%8E%B0/24.%20unordered_map%E5%92%8Cunordered_set%E7%B1%BB%E6%A8%A1%E6%8B%9F%E5%AE%9E%E7%8E%B0.html class=md-nav__link> <span class=md-ellipsis> unordered_map和unordered_set类模拟实现 </span> </a> </li> <li class=md-nav__item> <a href=../31.%20bitset%E7%B1%BB/31.%20bitset%E7%B1%BB.html class=md-nav__link> <span class=md-ellipsis> bitset类 </span> </a> </li> <li class=md-nav__item> <a href=../32.%20initializer_list%E7%B1%BB/32.%20initializer_list%E7%B1%BB.html class=md-nav__link> <span class=md-ellipsis> initializer_list类 </span> </a> </li> <li class=md-nav__item> <a href=../25.%20C%2B%2B11%E7%9B%B8%E5%85%B3%E6%96%B0%E7%89%B9%E6%80%A7/C%2B%2B%2011%E7%9B%B8%E5%85%B3%E6%96%B0%E7%89%B9%E6%80%A7.html class=md-nav__link> <span class=md-ellipsis> C++ 11相关新特性 </span> </a> </li> <li class=md-nav__item> <a href=../26.%20C%2B%2B%E5%BC%82%E5%B8%B8/26.%20C%2B%2B%E5%BC%82%E5%B8%B8.html class=md-nav__link> <span class=md-ellipsis> C++ 异常 </span> </a> </li> <li class=md-nav__item> <a href=../27.%20%E6%99%BA%E8%83%BD%E6%8C%87%E9%92%88/27.%20%E6%99%BA%E8%83%BD%E6%8C%87%E9%92%88.html class=md-nav__link> <span class=md-ellipsis> C++ 智能指针 </span> </a> </li> <li class=md-nav__item> <a href=../28.%20%E7%89%B9%E6%AE%8A%E7%B1%BB%E8%AE%BE%E8%AE%A1/28.%20%E7%89%B9%E6%AE%8A%E7%B1%BB%E8%AE%BE%E8%AE%A1.html class=md-nav__link> <span class=md-ellipsis> 特殊类设计 </span> </a> </li> <li class=md-nav__item> <a href=../29.%20C%2B%2B%E4%B8%AD%E7%9A%84%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2/29.%20C%2B%2B%E4%B8%AD%E7%9A%84%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2.html class=md-nav__link> <span class=md-ellipsis> C++中的类型转换 </span> </a> </li> <li class=md-nav__item> <a href=../30.%20C%2B%2BIO%E6%B5%81/30.%20C%2B%2BIO%E6%B5%81.html class=md-nav__link> <span class=md-ellipsis> C++ IO流 </span> </a> </li> <li class=md-nav__item> <a href=../33.%20C%2B%2B17%E7%9B%B8%E5%85%B3%E6%96%B0%E7%89%B9%E6%80%A7/33.%20C%2B%2B17%E7%9B%B8%E5%85%B3%E6%96%B0%E7%89%B9%E6%80%A7.html class=md-nav__link> <span class=md-ellipsis> C++ 17相关新特性 </span> </a> </li> <li class=md-nav__item> <a href=../34.%20C%2B%2B%E6%97%B6%E9%97%B4%E5%92%8C%E9%9A%8F%E6%9C%BA%E6%95%B0%E7%9B%B8%E5%85%B3%E5%BA%93/34.%20C%2B%2B%E6%97%B6%E9%97%B4%E5%92%8C%E9%9A%8F%E6%9C%BA%E6%95%B0%E7%9B%B8%E5%85%B3%E5%BA%93.html class=md-nav__link> <span class=md-ellipsis> C++时间和随机数相关库 </span> </a> </li> <li class=md-nav__item> <a href=../35.%20C%2B%2B%E5%B9%B6%E5%8F%91%E6%94%AF%E6%8C%81%E5%BA%93/35.%20C%2B%2B%E5%B9%B6%E5%8F%91%E6%94%AF%E6%8C%81%E5%BA%93.html class=md-nav__link> <span class=md-ellipsis> C++并发支持库 </span> </a> </li> <li class=md-nav__item> <a href=../36.%20C%2B%2B%E4%B8%AD%E7%9A%84%E6%A0%BC%E5%BC%8F%E5%8C%96%E5%AD%97%E7%AC%A6%E4%B8%B2/36.%20C%2B%2B%E4%B8%AD%E7%9A%84%E6%A0%BC%E5%BC%8F%E5%8C%96%E5%AD%97%E7%AC%A6%E4%B8%B2.html class=md-nav__link> <span class=md-ellipsis> C++中的格式化字符串 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../Java/1.%20Java%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/Java%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html class=md-nav__link> <span class=md-ellipsis> Java </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../Python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/1.%20Python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/1.%20Python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html class=md-nav__link> <span class=md-ellipsis> Python </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/1.%20%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%92%8C%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/1.%20%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E4%B8%8E%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6.html class=md-nav__link> <span class=md-ellipsis> 数据结构与算法 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../Linux/1.%20Linux%E5%B8%B8%E7%94%A8%E9%80%89%E9%A1%B9%E5%92%8C%E6%8C%87%E4%BB%A4/1.%20Linux%E5%B8%B8%E7%94%A8%E9%80%89%E9%A1%B9%E5%92%8C%E6%8C%87%E4%BB%A4.html class=md-nav__link> <span class=md-ellipsis> Linux </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../HTML%E4%B8%8ECSS/HTML%E7%AC%94%E8%AE%B0/HTML%E7%AC%94%E8%AE%B0.html class=md-nav__link> <span class=md-ellipsis> 前端 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../MySQL/MySQL%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8/MySQL%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8.html class=md-nav__link> <span class=md-ellipsis> MySQL </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../%E5%85%B6%E5%AE%83/Shell%E8%84%9A%E6%9C%AC%E8%AF%AD%E8%A8%80/%E5%85%B3%E4%BA%8EShell.html class=md-nav__link> <span class=md-ellipsis> 扩展知识 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../%E5%B7%A5%E5%85%B7%E5%B8%AE%E5%8A%A9/vscode%E4%B8%AD%E6%B7%BB%E5%8A%A0%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5/vscode%E4%B8%AD%E6%B7%BB%E5%8A%A0%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5.html class=md-nav__link> <span class=md-ellipsis> 工具帮助 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../%E9%A1%B9%E7%9B%AE/1.%20Boost%E5%BA%93%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E/1.%20Boost%E5%BA%93%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E.html class=md-nav__link> <span class=md-ellipsis> 项目 </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label=目录> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> 目录 </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#c_1 class=md-nav__link> <span class=md-ellipsis> C++继承行为 </span> </a> </li> <li class=md-nav__item> <a href=#_1 class=md-nav__link> <span class=md-ellipsis> 继承权限 </span> </a> </li> <li class=md-nav__item> <a href=#_2 class=md-nav__link> <span class=md-ellipsis> 父类和子类对象赋值转换 </span> </a> </li> <li class=md-nav__item> <a href=#_3 class=md-nav__link> <span class=md-ellipsis> 继承中的作用域 </span> </a> </li> <li class=md-nav__item> <a href=#_4 class=md-nav__link> <span class=md-ellipsis> 子类的默认成员函数 </span> </a> <nav class=md-nav aria-label=子类的默认成员函数> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_5 class=md-nav__link> <span class=md-ellipsis> 构造函数 </span> </a> </li> <li class=md-nav__item> <a href=#_6 class=md-nav__link> <span class=md-ellipsis> 拷贝构造函数 </span> </a> </li> <li class=md-nav__item> <a href=#_7 class=md-nav__link> <span class=md-ellipsis> 赋值运算符重载函数 </span> </a> </li> <li class=md-nav__item> <a href=#_8 class=md-nav__link> <span class=md-ellipsis> 析构函数 </span> </a> </li> <li class=md-nav__item> <a href=#_9 class=md-nav__link> <span class=md-ellipsis> 总结 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_10 class=md-nav__link> <span class=md-ellipsis> 友元与继承 </span> </a> </li> <li class=md-nav__item> <a href=#_11 class=md-nav__link> <span class=md-ellipsis> 静态成员与继承 </span> </a> </li> <li class=md-nav__item> <a href=#_12 class=md-nav__link> <span class=md-ellipsis> 单继承与多继承 </span> </a> <nav class=md-nav aria-label=单继承与多继承> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_13 class=md-nav__link> <span class=md-ellipsis> 多继承介绍 </span> </a> </li> <li class=md-nav__item> <a href=#_14 class=md-nav__link> <span class=md-ellipsis> 菱形继承 </span> </a> </li> <li class=md-nav__item> <a href=#_15 class=md-nav__link> <span class=md-ellipsis> 虚拟继承 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_16 class=md-nav__link> <span class=md-ellipsis> 继承与组合的选择 </span> </a> <nav class=md-nav aria-label=继承与组合的选择> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_17 class=md-nav__link> <span class=md-ellipsis> 组合 </span> </a> </li> <li class=md-nav__item> <a href=#_18 class=md-nav__link> <span class=md-ellipsis> 二者的选择 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=c>C++继承<a class=headerlink href=#c title="Permanent link">&para;</a></h1> <div style="margin-top: -30px; font-size: 0.75em; opacity: 0.7;"> <p><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10h-2a8 8 0 0 1-8 8 8 8 0 0 1-8-8 8 8 0 0 1 8-8zm6.78 1a.7.7 0 0 0-.48.2l-1.22 1.21 2.5 2.5L20.8 5.7c.26-.26.26-.7 0-.95L19.25 3.2c-.13-.13-.3-.2-.47-.2m-2.41 2.12L9 12.5V15h2.5l7.37-7.38z"/></svg></span> 约 4245 个字 <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6m80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3l89.3 89.4-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3"/></svg></span> 838 行代码 <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 17H7V3h14m0-2H7a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2M3 5H1v16a2 2 0 0 0 2 2h16v-2H3m12.96-10.71-2.75 3.54-1.96-2.36L8.5 15h11z"/></svg></span> 16 张图片 <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 20c4.42 0 8-3.58 8-8s-3.58-8-8-8-8 3.58-8 8 3.58 8 8 8m0-18c5.5 0 10 4.5 10 10s-4.5 10-10 10C6.47 22 2 17.5 2 12S6.5 2 12 2m.5 11H11V7h1.5v4.26l3.7-2.13.75 1.3z"/></svg></span> 预计阅读时间 25 分钟</p> </div> <h2 id=c_1>C++继承行为<a class=headerlink href=#c_1 title="Permanent link">&para;</a></h2> <p>在C++中，当多个类有共同的成员时，可以考虑使用继承将共同的成员放在单独的类中，剩下的类通过继承获得共用类的成员，这里的共用类通常称为父类，也称为基类，继承父类的类称为子类，也成为派生类</p> <p>在C++中，可以使用下面的语法格式对类进行继承</p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><span class=k>class</span><span class=w> </span><span class=nc>子类名</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=n>继承权限</span><span class=w> </span><span class=n>父类名</span>
</span></code></pre></div></td></tr></table></div> <p>例如，子类学生和老师继承父类人</p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span>
<span class=normal>39</span>
<span class=normal>40</span>
<span class=normal>41</span>
<span class=normal>42</span>
<span class=normal>43</span>
<span class=normal>44</span>
<span class=normal>45</span>
<span class=normal>46</span>
<span class=normal>47</span>
<span class=normal>48</span>
<span class=normal>49</span>
<span class=normal>50</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-1-1><span class=cp>#define _CRT_SECURE_NO_WARNINGS 1</span>
</span><span id=__span-1-2>
</span><span id=__span-1-3><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;iostream&gt;</span>
</span><span id=__span-1-4><span class=k>using</span><span class=w> </span><span class=k>namespace</span><span class=w> </span><span class=nn>std</span><span class=p>;</span>
</span><span id=__span-1-5>
</span><span id=__span-1-6><span class=c1>// 父类</span>
</span><span id=__span-1-7><span class=k>class</span><span class=w> </span><span class=nc>person</span>
</span><span id=__span-1-8><span class=p>{</span>
</span><span id=__span-1-9><span class=k>public</span><span class=o>:</span>
</span><span id=__span-1-10><span class=w>    </span><span class=kt>void</span><span class=w> </span><span class=n>print</span><span class=p>()</span>
</span><span id=__span-1-11><span class=w>    </span><span class=p>{</span>
</span><span id=__span-1-12><span class=w>        </span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>_age</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-1-13><span class=w>        </span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>_name</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-1-14><span class=w>    </span><span class=p>}</span>
</span><span id=__span-1-15>
</span><span id=__span-1-16><span class=k>protected</span><span class=o>:</span>
</span><span id=__span-1-17><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>_age</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>20</span><span class=p>;</span>
</span><span id=__span-1-18><span class=w>    </span><span class=n>string</span><span class=w> </span><span class=n>_name</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;姓名&quot;</span><span class=p>;</span>
</span><span id=__span-1-19><span class=p>};</span>
</span><span id=__span-1-20>
</span><span id=__span-1-21><span class=c1>// 子类</span>
</span><span id=__span-1-22><span class=k>class</span><span class=w> </span><span class=nc>student</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=k>public</span><span class=w> </span><span class=n>person</span>
</span><span id=__span-1-23><span class=p>{</span>
</span><span id=__span-1-24><span class=k>private</span><span class=o>:</span>
</span><span id=__span-1-25><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>_stu_id</span><span class=p>;</span>
</span><span id=__span-1-26><span class=p>};</span>
</span><span id=__span-1-27>
</span><span id=__span-1-28><span class=k>class</span><span class=w> </span><span class=nc>teacher</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=k>public</span><span class=w> </span><span class=n>person</span>
</span><span id=__span-1-29><span class=p>{</span>
</span><span id=__span-1-30><span class=k>private</span><span class=o>:</span>
</span><span id=__span-1-31><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>_tea_id</span><span class=p>;</span>
</span><span id=__span-1-32><span class=p>};</span>
</span><span id=__span-1-33>
</span><span id=__span-1-34><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>()</span>
</span><span id=__span-1-35><span class=p>{</span>
</span><span id=__span-1-36><span class=w>    </span><span class=c1>// 创建子类对象</span>
</span><span id=__span-1-37><span class=w>    </span><span class=n>student</span><span class=w> </span><span class=n>s</span><span class=p>;</span>
</span><span id=__span-1-38><span class=w>    </span><span class=n>teacher</span><span class=w> </span><span class=n>t</span><span class=p>;</span>
</span><span id=__span-1-39>
</span><span id=__span-1-40><span class=w>    </span><span class=c1>// 子类对象可以调用父类方法</span>
</span><span id=__span-1-41><span class=w>    </span><span class=n>s</span><span class=p>.</span><span class=n>print</span><span class=p>();</span>
</span><span id=__span-1-42><span class=w>    </span><span class=n>t</span><span class=p>.</span><span class=n>print</span><span class=p>();</span>
</span><span id=__span-1-43><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-1-44><span class=p>}</span>
</span><span id=__span-1-45>
</span><span id=__span-1-46><span class=n>输出结果</span><span class=err>：</span>
</span><span id=__span-1-47><span class=mi>20</span>
</span><span id=__span-1-48><span class=n>姓名</span>
</span><span id=__span-1-49><span class=mi>20</span>
</span><span id=__span-1-50><span class=n>姓名</span><span class=w>  </span>
</span></code></pre></div></td></tr></table></div> <p>在上面的代码中，尽管子类<code>student</code>和<code>teacher</code>没有<code>print()</code>方法，但是因为继承了<code>person</code>类，<code>person</code>类中有<code>print()</code>方法，所以可以直接调用</p> <p>并且子类也拥有父类的成员变量<code>_age</code>和<code>_name</code></p> <p><a class=glightbox href="19. C++继承.assets\image-20240626093418441.png" data-type=image data-width=100% data-height=auto data-desc-position=bottom><img src="19. C++继承.assets\image-20240626093418441.png"></a></p> <p>当子类不对父类的成员变量进行修改时，子类直接打印父类成员变量的缺省值，而当子类改变父类的成员变量时，则显示改变后的内容，但是不影响<code>teacher</code>和<code>person</code>两个类</p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span>
<span class=normal>39</span>
<span class=normal>40</span>
<span class=normal>41</span>
<span class=normal>42</span>
<span class=normal>43</span>
<span class=normal>44</span>
<span class=normal>45</span>
<span class=normal>46</span>
<span class=normal>47</span>
<span class=normal>48</span>
<span class=normal>49</span>
<span class=normal>50</span>
<span class=normal>51</span>
<span class=normal>52</span>
<span class=normal>53</span>
<span class=normal>54</span>
<span class=normal>55</span>
<span class=normal>56</span>
<span class=normal>57</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-2-1><span class=cp>#define _CRT_SECURE_NO_WARNINGS 1</span>
</span><span id=__span-2-2>
</span><span id=__span-2-3><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;iostream&gt;</span>
</span><span id=__span-2-4><span class=k>using</span><span class=w> </span><span class=k>namespace</span><span class=w> </span><span class=nn>std</span><span class=p>;</span>
</span><span id=__span-2-5>
</span><span id=__span-2-6><span class=c1>// 父类</span>
</span><span id=__span-2-7><span class=k>class</span><span class=w> </span><span class=nc>person</span>
</span><span id=__span-2-8><span class=p>{</span>
</span><span id=__span-2-9><span class=k>public</span><span class=o>:</span>
</span><span id=__span-2-10><span class=w>    </span><span class=kt>void</span><span class=w> </span><span class=n>print</span><span class=p>()</span>
</span><span id=__span-2-11><span class=w>    </span><span class=p>{</span>
</span><span id=__span-2-12><span class=w>        </span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>_age</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-2-13><span class=w>        </span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>_name</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-2-14><span class=w>    </span><span class=p>}</span>
</span><span id=__span-2-15><span class=w>    </span><span class=c1>// 为了类外能够访问到_age和_name，访问权限改为public</span>
</span><span id=__span-2-16><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>_age</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>20</span><span class=p>;</span>
</span><span id=__span-2-17><span class=w>    </span><span class=n>string</span><span class=w> </span><span class=n>_name</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;姓名&quot;</span><span class=p>;</span>
</span><span id=__span-2-18><span class=p>};</span>
</span><span id=__span-2-19>
</span><span id=__span-2-20><span class=c1>// 子类</span>
</span><span id=__span-2-21><span class=k>class</span><span class=w> </span><span class=nc>student</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=k>public</span><span class=w> </span><span class=n>person</span>
</span><span id=__span-2-22><span class=p>{</span>
</span><span id=__span-2-23><span class=k>private</span><span class=o>:</span>
</span><span id=__span-2-24><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>_stu_id</span><span class=p>;</span>
</span><span id=__span-2-25><span class=p>};</span>
</span><span id=__span-2-26>
</span><span id=__span-2-27><span class=k>class</span><span class=w> </span><span class=nc>teacher</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=k>public</span><span class=w> </span><span class=n>person</span>
</span><span id=__span-2-28><span class=p>{</span>
</span><span id=__span-2-29><span class=k>private</span><span class=o>:</span>
</span><span id=__span-2-30><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>_tea_id</span><span class=p>;</span>
</span><span id=__span-2-31><span class=p>};</span>
</span><span id=__span-2-32>
</span><span id=__span-2-33><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>()</span>
</span><span id=__span-2-34><span class=p>{</span>
</span><span id=__span-2-35><span class=w>    </span><span class=c1>// 创建子类对象</span>
</span><span id=__span-2-36><span class=w>    </span><span class=n>student</span><span class=w> </span><span class=n>s</span><span class=p>;</span>
</span><span id=__span-2-37><span class=w>    </span><span class=n>teacher</span><span class=w> </span><span class=n>t</span><span class=p>;</span>
</span><span id=__span-2-38>
</span><span id=__span-2-39><span class=w>    </span><span class=c1>// 改变不影响其他子类和父类</span>
</span><span id=__span-2-40><span class=w>    </span><span class=n>person</span><span class=w> </span><span class=n>p</span><span class=p>;</span>
</span><span id=__span-2-41><span class=w>    </span><span class=n>s</span><span class=p>.</span><span class=n>_name</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;学生&quot;</span><span class=p>;</span>
</span><span id=__span-2-42><span class=w>    </span><span class=n>s</span><span class=p>.</span><span class=n>_age</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>10</span><span class=p>;</span>
</span><span id=__span-2-43><span class=w>    </span><span class=n>s</span><span class=p>.</span><span class=n>print</span><span class=p>();</span>
</span><span id=__span-2-44><span class=w>    </span><span class=n>t</span><span class=p>.</span><span class=n>_name</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;老师&quot;</span><span class=p>;</span>
</span><span id=__span-2-45><span class=w>    </span><span class=n>t</span><span class=p>.</span><span class=n>_age</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>30</span><span class=p>;</span>
</span><span id=__span-2-46><span class=w>    </span><span class=n>t</span><span class=p>.</span><span class=n>print</span><span class=p>();</span>
</span><span id=__span-2-47><span class=w>    </span><span class=n>p</span><span class=p>.</span><span class=n>print</span><span class=p>();</span>
</span><span id=__span-2-48><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-2-49><span class=p>}</span>
</span><span id=__span-2-50>
</span><span id=__span-2-51><span class=n>输出结果</span><span class=err>：</span>
</span><span id=__span-2-52><span class=mi>10</span>
</span><span id=__span-2-53><span class=n>学生</span>
</span><span id=__span-2-54><span class=mi>30</span>
</span><span id=__span-2-55><span class=n>老师</span>
</span><span id=__span-2-56><span class=mi>20</span>
</span><span id=__span-2-57><span class=n>姓名</span>
</span></code></pre></div></td></tr></table></div> <h2 id=_1>继承权限<a class=headerlink href=#_1 title="Permanent link">&para;</a></h2> <p>在C++中，允许子类以不同的继承权限继承父类，分别有<code>public</code>、<code>private</code>和<code>protected</code>三种权限，对应的成员也有三种权限修饰<code>public</code>、<code>private</code>和<code>protected</code></p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>对于<code>class</code>来说，其默认的继承权限是<code>private</code>，所以对于private继承来说，可以省略不写继承权限；对于<code>struct</code>来说，其默认的继承权限<code>public</code>，所以对于public继承来说，可以省略不写继承权限，<strong>但是还是建议写出继承权限</strong></p> </div> <p>三种权限修饰符的所对应的访问范围如下：</p> <ol> <li><code>public</code>：允许类内访问，也允许在类外访问（权限最宽松）</li> <li><code>protected</code>：允许类内和子类访问，但是不允许类外访问</li> <li><code>private</code>：允许类内访问，不允许类外和子类访问（权限最严格）</li> </ol> <p>两组两两组合有九种可能情况，这九种可能情况可以归类为一个公式<code>MIN=(子类继承权限，父类成员权限)</code>，所以对于父类中是<code>private</code>的成员，子类不论是三种继承方式中的任意一种，都无法访问父类的<code>private</code>成员</p> <p>需要注意的是，<strong>不可访问</strong>不等于<strong>没有继承</strong></p> <p>对应父类成员是<code>private</code>时，尽管子类无法访问当父类的<code>private</code>成员，但是子类中依旧有父类<code>private</code>成员的空间</p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-3-1><span class=k>class</span><span class=w> </span><span class=nc>person</span>
</span><span id=__span-3-2><span class=p>{</span>
</span><span id=__span-3-3><span class=k>private</span><span class=o>:</span>
</span><span id=__span-3-4><span class=w>    </span><span class=n>string</span><span class=w> </span><span class=n>_age</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;姓名&quot;</span><span class=p>;</span>
</span><span id=__span-3-5><span class=p>};</span>
</span><span id=__span-3-6>
</span><span id=__span-3-7><span class=k>class</span><span class=w> </span><span class=nc>student</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=k>public</span><span class=w> </span><span class=n>person</span>
</span><span id=__span-3-8><span class=p>{</span>
</span><span id=__span-3-9><span class=k>private</span><span class=o>:</span>
</span><span id=__span-3-10><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>2</span><span class=p>;</span>
</span><span id=__span-3-11><span class=p>};</span>
</span><span id=__span-3-12>
</span><span id=__span-3-13><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>()</span>
</span><span id=__span-3-14><span class=p>{</span>
</span><span id=__span-3-15><span class=w>    </span><span class=n>student</span><span class=w> </span><span class=n>s</span><span class=p>;</span>
</span><span id=__span-3-16>
</span><span id=__span-3-17><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-3-18><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p><a class=glightbox href="19. C++继承.assets\image-20240626103653621-1719369416733-1.png" data-type=image data-width=100% data-height=auto data-desc-position=bottom><img src="19. C++继承.assets\image-20240626103653621-1719369416733-1.png"></a></p> <p>上述可以归结为下面的表格</p> <table> <thead> <tr> <th style="text-align: center;">继承权限/访问权限</th> <th><code>public</code></th> <th><code>protected</code></th> <th><code>private</code></th> </tr> </thead> <tbody> <tr> <td style="text-align: center;"><code>public</code></td> <td>子类<code>public</code>继承父类<code>public</code>成员成为子类<code>public</code>成员</td> <td>子类<code>public</code>继承父类<code>protected</code>成员成为子类<code>protected</code>成员</td> <td>子类<code>public</code>继承父类<code>private</code>成员成为子类<code>private</code>成员</td> </tr> <tr> <td style="text-align: center;"><code>protected</code></td> <td>子类<code>protected</code>继承父类<code>public</code>成员称为子类<code>protected</code>成员</td> <td>子类<code>protected</code>继承父类<code>protected</code>成员成为子类<code>protected</code>成员</td> <td>子类<code>protected</code>继承父类<code>private</code>成员成为子类<code>private</code>成员</td> </tr> <tr> <td style="text-align: center;"><code>private</code></td> <td>子类<code>private</code>继承父类<code>public</code>成员成为子类<code>private</code>成员</td> <td>子类<code>private</code>继承父类<code>protected</code>成员成为子类<code>private</code>成员</td> <td>子类<code>private</code>继承父类<code>private</code>成员成为子类<code>private</code>成员</td> </tr> </tbody> </table> <p>父类成员权限低，子类成员权限高</p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span>
<span class=normal>39</span>
<span class=normal>40</span>
<span class=normal>41</span>
<span class=normal>42</span>
<span class=normal>43</span>
<span class=normal>44</span>
<span class=normal>45</span>
<span class=normal>46</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-4-1><span class=c1>// 父类</span>
</span><span id=__span-4-2><span class=k>class</span><span class=w> </span><span class=nc>person</span>
</span><span id=__span-4-3><span class=p>{</span>
</span><span id=__span-4-4><span class=k>public</span><span class=o>:</span>
</span><span id=__span-4-5><span class=w>    </span><span class=kt>void</span><span class=w> </span><span class=n>print</span><span class=p>()</span>
</span><span id=__span-4-6><span class=w>    </span><span class=p>{</span>
</span><span id=__span-4-7><span class=w>        </span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>_age</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-4-8><span class=w>        </span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>_name</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-4-9><span class=w>    </span><span class=p>}</span>
</span><span id=__span-4-10>
</span><span id=__span-4-11><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>_age</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>20</span><span class=p>;</span>
</span><span id=__span-4-12><span class=w>    </span><span class=n>string</span><span class=w> </span><span class=n>_name</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;姓名&quot;</span><span class=p>;</span>
</span><span id=__span-4-13><span class=p>};</span>
</span><span id=__span-4-14>
</span><span id=__span-4-15><span class=c1>// 子类</span>
</span><span id=__span-4-16><span class=c1>// 父类成员权限低，子类继承权限高</span>
</span><span id=__span-4-17><span class=k>class</span><span class=w> </span><span class=nc>student</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=k>private</span><span class=w> </span><span class=n>person</span>
</span><span id=__span-4-18><span class=p>{</span>
</span><span id=__span-4-19><span class=w>    </span><span class=kt>void</span><span class=w> </span><span class=nf>modify</span><span class=p>()</span>
</span><span id=__span-4-20><span class=w>    </span><span class=p>{</span>
</span><span id=__span-4-21><span class=w>        </span><span class=c1>// 类内访问</span>
</span><span id=__span-4-22><span class=w>        </span><span class=n>_name</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;学生&quot;</span><span class=p>;</span>
</span><span id=__span-4-23><span class=w>    </span><span class=p>}</span>
</span><span id=__span-4-24><span class=k>private</span><span class=o>:</span>
</span><span id=__span-4-25><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>_stu_id</span><span class=p>;</span>
</span><span id=__span-4-26><span class=p>};</span>
</span><span id=__span-4-27>
</span><span id=__span-4-28><span class=k>class</span><span class=w> </span><span class=nc>teacher</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=k>protected</span><span class=w> </span><span class=n>person</span>
</span><span id=__span-4-29><span class=p>{</span>
</span><span id=__span-4-30><span class=k>private</span><span class=o>:</span>
</span><span id=__span-4-31><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>_tea_id</span><span class=p>;</span>
</span><span id=__span-4-32><span class=p>};</span>
</span><span id=__span-4-33>
</span><span id=__span-4-34><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>()</span>
</span><span id=__span-4-35><span class=p>{</span>
</span><span id=__span-4-36><span class=w>    </span><span class=n>student</span><span class=w> </span><span class=n>s</span><span class=p>;</span>
</span><span id=__span-4-37><span class=w>    </span><span class=c1>//s.print(); private修饰，类外无法访问</span>
</span><span id=__span-4-38><span class=w>    </span><span class=n>teacher</span><span class=w> </span><span class=n>t</span><span class=p>;</span>
</span><span id=__span-4-39><span class=w>    </span><span class=c1>//t.print(); protected修饰，类外无法访问</span>
</span><span id=__span-4-40><span class=w>    </span><span class=n>person</span><span class=w> </span><span class=n>p</span><span class=p>;</span>
</span><span id=__span-4-41><span class=w>    </span><span class=n>p</span><span class=p>.</span><span class=n>print</span><span class=p>();</span><span class=c1>// public修饰，类外类内均可以访问</span>
</span><span id=__span-4-42><span class=p>}</span>
</span><span id=__span-4-43>
</span><span id=__span-4-44><span class=n>输出结果</span><span class=err>：</span>
</span><span id=__span-4-45><span class=mi>20</span>
</span><span id=__span-4-46><span class=n>姓名</span>
</span></code></pre></div></td></tr></table></div> <p>父类成员权限高，子类继承权限低</p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span>
<span class=normal>39</span>
<span class=normal>40</span>
<span class=normal>41</span>
<span class=normal>42</span>
<span class=normal>43</span>
<span class=normal>44</span>
<span class=normal>45</span>
<span class=normal>46</span>
<span class=normal>47</span>
<span class=normal>48</span>
<span class=normal>49</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-5-1><span class=c1>// 父类</span>
</span><span id=__span-5-2><span class=k>class</span><span class=w> </span><span class=nc>person</span>
</span><span id=__span-5-3><span class=p>{</span>
</span><span id=__span-5-4><span class=k>private</span><span class=o>:</span>
</span><span id=__span-5-5><span class=w>    </span><span class=kt>void</span><span class=w> </span><span class=n>print</span><span class=p>()</span>
</span><span id=__span-5-6><span class=w>    </span><span class=p>{</span>
</span><span id=__span-5-7><span class=w>        </span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>_age</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-5-8><span class=w>        </span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>_name</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-5-9><span class=w>    </span><span class=p>}</span>
</span><span id=__span-5-10>
</span><span id=__span-5-11><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>_age</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>20</span><span class=p>;</span>
</span><span id=__span-5-12><span class=w>    </span><span class=n>string</span><span class=w> </span><span class=n>_name</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;姓名&quot;</span><span class=p>;</span>
</span><span id=__span-5-13><span class=p>};</span>
</span><span id=__span-5-14>
</span><span id=__span-5-15><span class=c1>// 子类</span>
</span><span id=__span-5-16><span class=c1>// 父类成员权限高，子类继承权限低</span>
</span><span id=__span-5-17><span class=k>class</span><span class=w> </span><span class=nc>student</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=k>private</span><span class=w> </span><span class=n>person</span>
</span><span id=__span-5-18><span class=p>{</span>
</span><span id=__span-5-19><span class=w>    </span><span class=kt>void</span><span class=w> </span><span class=nf>modify</span><span class=p>()</span>
</span><span id=__span-5-20><span class=w>    </span><span class=p>{</span>
</span><span id=__span-5-21><span class=w>        </span><span class=c1>// 类内无法访问</span>
</span><span id=__span-5-22><span class=w>        </span><span class=c1>//print();</span>
</span><span id=__span-5-23><span class=w>        </span><span class=c1>//_name = &quot;学生&quot;;</span>
</span><span id=__span-5-24><span class=w>    </span><span class=p>}</span>
</span><span id=__span-5-25><span class=k>private</span><span class=o>:</span>
</span><span id=__span-5-26><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>_stu_id</span><span class=p>;</span>
</span><span id=__span-5-27><span class=p>};</span>
</span><span id=__span-5-28>
</span><span id=__span-5-29><span class=k>class</span><span class=w> </span><span class=nc>teacher</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=k>protected</span><span class=w> </span><span class=n>person</span>
</span><span id=__span-5-30><span class=p>{</span>
</span><span id=__span-5-31><span class=w>    </span><span class=kt>void</span><span class=w> </span><span class=nf>modify</span><span class=p>()</span>
</span><span id=__span-5-32><span class=w>    </span><span class=p>{</span>
</span><span id=__span-5-33><span class=w>        </span><span class=c1>// 类内无法访问</span>
</span><span id=__span-5-34><span class=w>        </span><span class=c1>//print();</span>
</span><span id=__span-5-35><span class=w>        </span><span class=c1>//_name = &quot;老师&quot;;</span>
</span><span id=__span-5-36><span class=w>    </span><span class=p>}</span>
</span><span id=__span-5-37><span class=k>private</span><span class=o>:</span>
</span><span id=__span-5-38><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>_tea_id</span><span class=p>;</span>
</span><span id=__span-5-39><span class=p>};</span>
</span><span id=__span-5-40>
</span><span id=__span-5-41><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>()</span>
</span><span id=__span-5-42><span class=p>{</span>
</span><span id=__span-5-43><span class=w>    </span><span class=n>student</span><span class=w> </span><span class=n>s</span><span class=p>;</span>
</span><span id=__span-5-44><span class=w>    </span><span class=c1>//s.print(); private继承，但是private修饰父类，类内类外无法访问</span>
</span><span id=__span-5-45><span class=w>    </span><span class=n>teacher</span><span class=w> </span><span class=n>t</span><span class=p>;</span>
</span><span id=__span-5-46><span class=w>    </span><span class=c1>//t.print(); protected继承，但是private修饰父类，类内类外无法访问</span>
</span><span id=__span-5-47><span class=w>    </span><span class=n>person</span><span class=w> </span><span class=n>p</span><span class=p>;</span>
</span><span id=__span-5-48><span class=w>    </span><span class=c1>//p.print();// private修饰，类外类内均无法访问</span>
</span><span id=__span-5-49><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>对于父类成员权限高时，尽管子类和类外都无法直接访问，但是父类内可以访问自己的<code>private</code>成员，如果父类提供一个函数，函数内部访问<code>private</code>成员，而该函数为<code>protected</code>则此时子类可以访问，如果为<code>public</code>，则子类和类外都可以访问，例如：</p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span>
<span class=normal>39</span>
<span class=normal>40</span>
<span class=normal>41</span>
<span class=normal>42</span>
<span class=normal>43</span>
<span class=normal>44</span>
<span class=normal>45</span>
<span class=normal>46</span>
<span class=normal>47</span>
<span class=normal>48</span>
<span class=normal>49</span>
<span class=normal>50</span>
<span class=normal>51</span>
<span class=normal>52</span>
<span class=normal>53</span>
<span class=normal>54</span>
<span class=normal>55</span>
<span class=normal>56</span>
<span class=normal>57</span>
<span class=normal>58</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-6-1><span class=c1>// 父类</span>
</span><span id=__span-6-2><span class=k>class</span><span class=w> </span><span class=nc>person</span>
</span><span id=__span-6-3><span class=p>{</span>
</span><span id=__span-6-4><span class=k>public</span><span class=o>:</span>
</span><span id=__span-6-5><span class=w>    </span><span class=kt>void</span><span class=w> </span><span class=n>print</span><span class=p>()</span>
</span><span id=__span-6-6><span class=w>    </span><span class=p>{</span>
</span><span id=__span-6-7><span class=w>        </span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>_age</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-6-8><span class=w>        </span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>_name</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-6-9><span class=w>    </span><span class=p>}</span>
</span><span id=__span-6-10>
</span><span id=__span-6-11><span class=k>private</span><span class=o>:</span>
</span><span id=__span-6-12><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>_age</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>20</span><span class=p>;</span>
</span><span id=__span-6-13><span class=w>    </span><span class=n>string</span><span class=w> </span><span class=n>_name</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;姓名&quot;</span><span class=p>;</span>
</span><span id=__span-6-14><span class=p>};</span>
</span><span id=__span-6-15>
</span><span id=__span-6-16><span class=c1>// 子类</span>
</span><span id=__span-6-17><span class=c1>// 父类成员权限高，子类继承权限低</span>
</span><span id=__span-6-18><span class=k>class</span><span class=w> </span><span class=nc>student</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=k>protected</span><span class=w> </span><span class=n>person</span>
</span><span id=__span-6-19><span class=p>{</span>
</span><span id=__span-6-20><span class=w>    </span><span class=kt>void</span><span class=w> </span><span class=nf>modify</span><span class=p>()</span>
</span><span id=__span-6-21><span class=w>    </span><span class=p>{</span>
</span><span id=__span-6-22><span class=w>        </span><span class=c1>// private 类内无法访问</span>
</span><span id=__span-6-23><span class=w>        </span><span class=c1>//_name = &quot;学生&quot;;</span>
</span><span id=__span-6-24><span class=w>        </span><span class=c1>// 父类提供public成员函数访问其private成员</span>
</span><span id=__span-6-25><span class=w>        </span><span class=n>print</span><span class=p>();</span>
</span><span id=__span-6-26><span class=w>    </span><span class=p>}</span>
</span><span id=__span-6-27><span class=k>private</span><span class=o>:</span>
</span><span id=__span-6-28><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>_stu_id</span><span class=p>;</span>
</span><span id=__span-6-29><span class=p>};</span>
</span><span id=__span-6-30>
</span><span id=__span-6-31><span class=k>class</span><span class=w> </span><span class=nc>teacher</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=k>public</span><span class=w> </span><span class=n>person</span>
</span><span id=__span-6-32><span class=p>{</span>
</span><span id=__span-6-33><span class=w>    </span><span class=kt>void</span><span class=w> </span><span class=nf>modify</span><span class=p>()</span>
</span><span id=__span-6-34><span class=w>    </span><span class=p>{</span>
</span><span id=__span-6-35><span class=w>        </span><span class=c1>// private 类内无法访问</span>
</span><span id=__span-6-36><span class=w>        </span><span class=c1>//_name = &quot;学生&quot;;</span>
</span><span id=__span-6-37><span class=w>        </span><span class=c1>// 父类提供public成员函数访问其private成员</span>
</span><span id=__span-6-38><span class=w>        </span><span class=n>print</span><span class=p>();</span>
</span><span id=__span-6-39><span class=w>    </span><span class=p>}</span>
</span><span id=__span-6-40><span class=k>private</span><span class=o>:</span>
</span><span id=__span-6-41><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>_tea_id</span><span class=p>;</span>
</span><span id=__span-6-42><span class=p>};</span>
</span><span id=__span-6-43>
</span><span id=__span-6-44><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>()</span>
</span><span id=__span-6-45><span class=p>{</span>
</span><span id=__span-6-46><span class=w>    </span><span class=n>student</span><span class=w> </span><span class=n>s</span><span class=p>;</span>
</span><span id=__span-6-47><span class=w>    </span><span class=c1>//s.print(); protected继承，类外无法访问</span>
</span><span id=__span-6-48><span class=w>    </span><span class=n>teacher</span><span class=w> </span><span class=n>t</span><span class=p>;</span>
</span><span id=__span-6-49><span class=w>    </span><span class=n>t</span><span class=p>.</span><span class=n>print</span><span class=p>();</span><span class=w> </span><span class=c1>// public继承，但是有父类public函数，类内类外都可以访问</span>
</span><span id=__span-6-50><span class=w>    </span><span class=n>person</span><span class=w> </span><span class=n>p</span><span class=p>;</span>
</span><span id=__span-6-51><span class=w>    </span><span class=n>p</span><span class=p>.</span><span class=n>print</span><span class=p>();</span><span class=c1>// public修饰成员函数，类外类内可以访问</span>
</span><span id=__span-6-52><span class=p>}</span>
</span><span id=__span-6-53>
</span><span id=__span-6-54><span class=n>输出结果</span><span class=err>：</span>
</span><span id=__span-6-55><span class=mi>20</span>
</span><span id=__span-6-56><span class=n>姓名</span>
</span><span id=__span-6-57><span class=mi>20</span>
</span><span id=__span-6-58><span class=n>姓名</span>
</span></code></pre></div></td></tr></table></div> <h2 id=_2>父类和子类对象赋值转换<a class=headerlink href=#_2 title="Permanent link">&para;</a></h2> <p>对于赋值运算来说，如果左边的类型和右边的类型不同时，会发生类型转换，类型转换的过程中会产生临时变量且其具有常性，所以有如下的情况：</p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-7-1><span class=cp>#define _CRT_SECURE_NO_WARNINGS 1</span>
</span><span id=__span-7-2>
</span><span id=__span-7-3><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;iostream&gt;</span>
</span><span id=__span-7-4><span class=k>using</span><span class=w> </span><span class=k>namespace</span><span class=w> </span><span class=nn>std</span><span class=p>;</span>
</span><span id=__span-7-5>
</span><span id=__span-7-6><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>()</span>
</span><span id=__span-7-7><span class=p>{</span>
</span><span id=__span-7-8><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>num</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1234</span><span class=p>;</span>
</span><span id=__span-7-9><span class=w>    </span><span class=c1>// 截断</span>
</span><span id=__span-7-10><span class=w>    </span><span class=c1>// 中间会产生临时变量用于接受num截断后的结果，再将结果给num1</span>
</span><span id=__span-7-11><span class=w>    </span><span class=kt>char</span><span class=w> </span><span class=n>num1</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>num</span><span class=p>;</span>
</span><span id=__span-7-12><span class=w>    </span><span class=c1>// 整型提升</span>
</span><span id=__span-7-13><span class=w>    </span><span class=c1>// 中间会产生临时变量用于接受num整型提升后的结果，将结果给num</span>
</span><span id=__span-7-14><span class=w>    </span><span class=n>num</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>num1</span><span class=p>;</span>
</span><span id=__span-7-15><span class=w>    </span><span class=c1>// 因为在转换过程中的临时变量具有常性，所以在给引用赋值时需要使用const引用</span>
</span><span id=__span-7-16><span class=w>    </span><span class=k>const</span><span class=w> </span><span class=kt>int</span><span class=o>&amp;</span><span class=w> </span><span class=n>num2</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>num1</span><span class=p>;</span>
</span><span id=__span-7-17><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-7-18><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p><code>int</code>：四个字节下的1234</p> <p><a class=glightbox href="19. C++继承.assets\image-20240626110747823-1719371269517-4.png" data-type=image data-width=100% data-height=auto data-desc-position=bottom><img src="19. C++继承.assets\image-20240626110747823-1719371269517-4.png" alt=image-20240626110747823></a></p> <p><code>char</code>：一个字节下的1234，截断04，只留下d2</p> <p><a class=glightbox href="19. C++继承.assets\image-20240626110836275-1719371318054-6.png" data-type=image data-width=100% data-height=auto data-desc-position=bottom><img src="19. C++继承.assets\image-20240626110836275-1719371318054-6.png" alt=image-20240626110836275></a></p> <p>将<code>num1</code>赋值给<code>num</code>进行整型提升后：</p> <p><a class=glightbox href="19. C++继承.assets\image-20240626111002834-1719371404597-8.png" data-type=image data-width=100% data-height=auto data-desc-position=bottom><img src="19. C++继承.assets\image-20240626111002834-1719371404597-8.png" alt=image-20240626111002834></a></p> <p>但是上面的效果对于子类和父类有所不同，具体表现为当子类继承父类后，如果将子类对象给父类的对象（包括对象本身、对象的引用和对象的指针）时，此时为父类只能访问子类中继承的部分</p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-8-1><span class=k>class</span><span class=w> </span><span class=nc>person</span>
</span><span id=__span-8-2><span class=p>{</span>
</span><span id=__span-8-3><span class=k>protected</span><span class=o>:</span>
</span><span id=__span-8-4><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>_age</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>10</span><span class=p>;</span>
</span><span id=__span-8-5><span class=w>    </span><span class=n>string</span><span class=w> </span><span class=n>_name</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;姓名&quot;</span><span class=p>;</span>
</span><span id=__span-8-6><span class=w>    </span><span class=n>string</span><span class=w> </span><span class=n>_address</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;地址&quot;</span><span class=p>;</span>
</span><span id=__span-8-7><span class=p>};</span>
</span><span id=__span-8-8>
</span><span id=__span-8-9><span class=k>class</span><span class=w> </span><span class=nc>student</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=k>public</span><span class=w> </span><span class=n>person</span>
</span><span id=__span-8-10><span class=p>{</span>
</span><span id=__span-8-11><span class=k>public</span><span class=o>:</span>
</span><span id=__span-8-12><span class=w>    </span><span class=kt>void</span><span class=w> </span><span class=n>modify</span><span class=p>(</span><span class=n>string</span><span class=w> </span><span class=n>name</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;&quot;</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>age</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>20</span><span class=p>,</span><span class=w> </span><span class=n>string</span><span class=w> </span><span class=n>address</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;&quot;</span><span class=p>)</span>
</span><span id=__span-8-13><span class=w>    </span><span class=p>{</span>
</span><span id=__span-8-14><span class=w>        </span><span class=n>_name</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>name</span><span class=p>;</span>
</span><span id=__span-8-15><span class=w>        </span><span class=n>_age</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>age</span><span class=p>;</span>
</span><span id=__span-8-16><span class=w>        </span><span class=n>_address</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>address</span><span class=p>;</span>
</span><span id=__span-8-17><span class=w>    </span><span class=p>}</span>
</span><span id=__span-8-18><span class=k>private</span><span class=o>:</span>
</span><span id=__span-8-19><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>_stu_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>20</span><span class=p>;</span>
</span><span id=__span-8-20><span class=p>};</span>
</span><span id=__span-8-21>
</span><span id=__span-8-22><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>()</span>
</span><span id=__span-8-23><span class=p>{</span>
</span><span id=__span-8-24><span class=w>    </span><span class=n>person</span><span class=w> </span><span class=n>p</span><span class=p>;</span>
</span><span id=__span-8-25><span class=w>    </span><span class=n>student</span><span class=w> </span><span class=n>s</span><span class=p>;</span>
</span><span id=__span-8-26><span class=w>    </span><span class=n>s</span><span class=p>.</span><span class=n>modify</span><span class=p>(</span><span class=s>&quot;学生&quot;</span><span class=p>,</span><span class=w> </span><span class=mi>18</span><span class=p>,</span><span class=w> </span><span class=s>&quot;未知&quot;</span><span class=p>);</span>
</span><span id=__span-8-27><span class=w>    </span><span class=n>p</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>s</span><span class=p>;</span>
</span><span id=__span-8-28><span class=w>    </span><span class=n>person</span><span class=o>*</span><span class=w> </span><span class=n>ptr</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=o>&amp;</span><span class=n>s</span><span class=p>;</span>
</span><span id=__span-8-29><span class=w>    </span><span class=n>person</span><span class=o>&amp;</span><span class=w> </span><span class=n>pr</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>s</span><span class=p>;</span>
</span><span id=__span-8-30><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-8-31><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>赋值前：</p> <p><a class=glightbox href="19. C++继承.assets\image-20240626113402055-1719372843641-12.png" data-type=image data-width=100% data-height=auto data-desc-position=bottom><img src="19. C++继承.assets\image-20240626113402055-1719372843641-12.png"></a></p> <p>直接赋值后：</p> <p><a class=glightbox href="19. C++继承.assets\image-20240626113519083-1719372921805-14.png" data-type=image data-width=100% data-height=auto data-desc-position=bottom><img src="19. C++继承.assets\image-20240626113519083-1719372921805-14.png"></a></p> <p>指针和引用：</p> <p><a class=glightbox href="19. C++继承.assets\image-20240626113901737-1719373143136-16.png" data-type=image data-width=100% data-height=auto data-desc-position=bottom><img src="19. C++继承.assets\image-20240626113901737-1719373143136-16.png"></a></p> <p>表现为下图的情况：</p> <p><a class=glightbox href="19. C++继承.assets\image-20240626112423785-1719372265107-10.png" data-type=image data-width=100% data-height=auto data-desc-position=bottom><img src="19. C++继承.assets\image-20240626112423785-1719372265107-10.png" style="zoom: 80%;"></a></p> <p>上面的子类赋值给父类，父类访问部分的现象称为赋值兼容转换，这种转换是继承中的一种针对类型转换的特殊处理，也有个形象的说法叫做切割或者切片</p> <p>但是需要注意的是，如果子类对象不能直接赋值给父类引用或者指针就变为了<a href=https://www.help-doc.top/C%2B%2B/20.%20C%2B%2B%E5%A4%9A%E6%80%81/20.%20C%2B%2B%E5%A4%9A%E6%80%81.html#c>多态</a></p> <h2 id=_3>继承中的作用域<a class=headerlink href=#_3 title="Permanent link">&para;</a></h2> <p>目前一共有四种作用域：</p> <ol> <li>类域</li> <li>命名空间域</li> <li>局部域</li> <li>全局域</li> </ol> <p>作用域的影响见下表：</p> <table> <thead> <tr> <th>域/作用</th> <th>语法查找规则顺序（是否影响）</th> <th>生命周期（是否影响）</th> </tr> </thead> <tbody> <tr> <td>类域</td> <td>影响</td> <td><span style="color: red">不影响</span></td> </tr> <tr> <td>命名空间域</td> <td>影响</td> <td><span style="color: red">不影响</span></td> </tr> <tr> <td>局部域</td> <td>影响</td> <td>影响</td> </tr> <tr> <td>全局域</td> <td>影响</td> <td>影响</td> </tr> </tbody> </table> <p>查找规则顺序：</p> <ol> <li> <p><strong>局部域</strong>：这是最内层的作用域，通常指函数体内部，包括函数参数和在函数中声明的变量。局部域中的标识符优先级最高（除非指定了命名空间域），如果局部域中有同名标识符，则会屏蔽外层作用域中的同名标识符</p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-9-1><span class=c1>//NameSpace.h</span>
</span><span id=__span-9-2><span class=k>namespace</span><span class=w> </span><span class=nn>test</span><span class=w> </span>
</span><span id=__span-9-3><span class=p>{</span>
</span><span id=__span-9-4><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>10</span><span class=p>;</span>
</span><span id=__span-9-5><span class=p>}</span>
</span><span id=__span-9-6>
</span><span id=__span-9-7><span class=c1>//test.cpp</span>
</span><span id=__span-9-8><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;iostream&gt;</span>
</span><span id=__span-9-9><span class=cp>#include</span><span class=w> </span><span class=cpf>&quot;NameSpace.h&quot;</span>
</span><span id=__span-9-10><span class=k>using</span><span class=w> </span><span class=k>namespace</span><span class=w> </span><span class=nn>std</span><span class=p>;</span>
</span><span id=__span-9-11><span class=k>using</span><span class=w> </span><span class=k>namespace</span><span class=w> </span><span class=nn>test</span><span class=p>;</span>
</span><span id=__span-9-12>
</span><span id=__span-9-13><span class=c1>//int i = 5;</span>
</span><span id=__span-9-14>
</span><span id=__span-9-15><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>()</span>
</span><span id=__span-9-16><span class=p>{</span>
</span><span id=__span-9-17><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>4</span><span class=p>;</span>
</span><span id=__span-9-18><span class=w>    </span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>endl</span><span class=p>;</span><span class=c1>// 优先局部</span>
</span><span id=__span-9-19><span class=w>    </span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>test</span><span class=o>::</span><span class=n>i</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>endl</span><span class=p>;</span><span class=c1>// 优先命名空间</span>
</span><span id=__span-9-20><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-9-21><span class=p>}</span>
</span><span id=__span-9-22>
</span><span id=__span-9-23><span class=n>输出结果</span><span class=err>：</span>
</span><span id=__span-9-24><span class=mi>4</span>
</span><span id=__span-9-25><span class=mi>10</span>
</span></code></pre></div></td></tr></table></div> </li> <li> <p><strong>类域</strong>：类域是指在类定义中的作用域。类成员的访问取决于它们的访问控制属性（<code>public</code>、<code>protected</code>、<code>private</code>）。在类的成员函数中，可以访问该类的<code>public</code>和<code>protected</code>成员，而在类的外部，只能访问<code>public</code>成员。</p> </li> <li> <p><strong>全局域</strong>：在所有函数外部声明的标识符属于全局域。全局域中的标识符可以在整个源文件中访问，除非被局部域或类域中的同名标识符所隐藏。如果展开的命名空间中有与全局域同名的变量，此时编译器会报错为“不明确的符号”</p> </li> <li> <p><strong>命名空间域</strong>：命名空间用于组织代码，避免命名冲突。命名空间中的标识符可以在命名空间外部通过命名空间限定符（<code>::</code>）来访问。<strong>如果没有显式指定，编译器不会自动检查命名空间域</strong>。</p> </li> </ol> <p>关系如下图所示：</p> <p><a class=glightbox href="19. C++继承.assets/image-20240626152150927-1719386518015-1-1719386536499-3.png" data-type=image data-width=100% data-height=auto data-desc-position=bottom><img src="19. C++继承.assets/image-20240626152150927-1719386518015-1-1719386536499-3.png" alt=image-20240626152150927></a></p> <p>因为有类域的存在，所以在继承中，如果子类中存在与父类同名的成员（成员变量和成员函数），则会优先访问子类中的成员，因为子类的成员在子类的类域中，而父类的成员在父类的类域中，这种现象被称为<strong>隐藏或者重定义</strong>（不是同一作用域下的重定义）</p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-10-1><span class=k>class</span><span class=w> </span><span class=nc>person</span>
</span><span id=__span-10-2><span class=p>{</span>
</span><span id=__span-10-3><span class=k>protected</span><span class=o>:</span>
</span><span id=__span-10-4><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>_age</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>10</span><span class=p>;</span>
</span><span id=__span-10-5><span class=w>    </span><span class=n>string</span><span class=w> </span><span class=n>_name</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;姓名&quot;</span><span class=p>;</span>
</span><span id=__span-10-6><span class=p>};</span>
</span><span id=__span-10-7>
</span><span id=__span-10-8><span class=k>class</span><span class=w> </span><span class=nc>student</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=k>public</span><span class=w> </span><span class=n>person</span>
</span><span id=__span-10-9><span class=p>{</span>
</span><span id=__span-10-10><span class=k>public</span><span class=o>:</span>
</span><span id=__span-10-11><span class=w>    </span><span class=kt>void</span><span class=w> </span><span class=n>print</span><span class=p>()</span>
</span><span id=__span-10-12><span class=w>    </span><span class=p>{</span>
</span><span id=__span-10-13><span class=w>        </span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;age = &quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>_age</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-10-14><span class=w>        </span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;name = &quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>_name</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-10-15><span class=w>    </span><span class=p>}</span>
</span><span id=__span-10-16><span class=k>private</span><span class=o>:</span>
</span><span id=__span-10-17><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>_age</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>20</span><span class=p>;</span>
</span><span id=__span-10-18><span class=w>    </span><span class=n>string</span><span class=w> </span><span class=n>_name</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;学生&quot;</span><span class=p>;</span>
</span><span id=__span-10-19><span class=p>};</span>
</span><span id=__span-10-20>
</span><span id=__span-10-21><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>()</span>
</span><span id=__span-10-22><span class=p>{</span>
</span><span id=__span-10-23><span class=w>    </span><span class=n>student</span><span class=w> </span><span class=n>s</span><span class=p>;</span>
</span><span id=__span-10-24><span class=w>    </span><span class=c1>// 打印子类student的成员而非父类person</span>
</span><span id=__span-10-25><span class=w>    </span><span class=n>s</span><span class=p>.</span><span class=n>print</span><span class=p>();</span>
</span><span id=__span-10-26><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-10-27><span class=p>}</span>
</span><span id=__span-10-28>
</span><span id=__span-10-29><span class=n>输出结果</span><span class=err>：</span>
</span><span id=__span-10-30><span class=n>age</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>20</span>
</span><span id=__span-10-31><span class=n>name</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>学生</span>
</span></code></pre></div></td></tr></table></div> <p>如果需要在子类中访问到父类的成员可以指定父类的类域</p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-11-1><span class=k>class</span><span class=w> </span><span class=nc>person</span>
</span><span id=__span-11-2><span class=p>{</span>
</span><span id=__span-11-3><span class=k>protected</span><span class=o>:</span>
</span><span id=__span-11-4><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>_age</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>10</span><span class=p>;</span>
</span><span id=__span-11-5><span class=w>    </span><span class=n>string</span><span class=w> </span><span class=n>_name</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;姓名&quot;</span><span class=p>;</span>
</span><span id=__span-11-6><span class=p>};</span>
</span><span id=__span-11-7>
</span><span id=__span-11-8><span class=k>class</span><span class=w> </span><span class=nc>student</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=k>public</span><span class=w> </span><span class=n>person</span>
</span><span id=__span-11-9><span class=p>{</span>
</span><span id=__span-11-10><span class=k>public</span><span class=o>:</span>
</span><span id=__span-11-11><span class=w>    </span><span class=kt>void</span><span class=w> </span><span class=n>print</span><span class=p>()</span>
</span><span id=__span-11-12><span class=w>    </span><span class=p>{</span>
</span><span id=__span-11-13><span class=w>        </span><span class=c1>// 指定父类的类域中的成员</span>
</span><span id=__span-11-14><span class=w>        </span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;age = &quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>person</span><span class=o>::</span><span class=n>_age</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-11-15><span class=w>        </span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;name = &quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>person</span><span class=o>::</span><span class=n>_name</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-11-16><span class=w>    </span><span class=p>}</span>
</span><span id=__span-11-17><span class=k>private</span><span class=o>:</span>
</span><span id=__span-11-18><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>_age</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>20</span><span class=p>;</span>
</span><span id=__span-11-19><span class=w>    </span><span class=n>string</span><span class=w> </span><span class=n>_name</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;学生&quot;</span><span class=p>;</span>
</span><span id=__span-11-20><span class=p>};</span>
</span><span id=__span-11-21>
</span><span id=__span-11-22><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>()</span>
</span><span id=__span-11-23><span class=p>{</span>
</span><span id=__span-11-24><span class=w>    </span><span class=n>student</span><span class=w> </span><span class=n>s</span><span class=p>;</span>
</span><span id=__span-11-25><span class=w>    </span><span class=c1>// 打印子类student的成员而非父类person</span>
</span><span id=__span-11-26><span class=w>    </span><span class=n>s</span><span class=p>.</span><span class=n>print</span><span class=p>();</span>
</span><span id=__span-11-27><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-11-28><span class=p>}</span>
</span><span id=__span-11-29>
</span><span id=__span-11-30><span class=n>输出结果</span><span class=err>：</span>
</span><span id=__span-11-31><span class=n>age</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>10</span>
</span><span id=__span-11-32><span class=n>name</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>姓名</span>
</span></code></pre></div></td></tr></table></div> <div class="admonition note"> <p class=admonition-title>Note</p> <p>对于成员函数也是如此，只是成员函数的隐藏只需要满足同名<a href=https://www.help-doc.top/C%2B%2B/20.%20C%2B%2B%E5%A4%9A%E6%80%81/20.%20C%2B%2B%E5%A4%9A%E6%80%81.html#_2>多态中具体介绍</a></p> </div> <div class="admonition warning"> <p class=admonition-title>Warning</p> <p>实际开发中不建议定义重名的成员</p> </div> <h2 id=_4>子类的默认成员函数<a class=headerlink href=#_4 title="Permanent link">&para;</a></h2> <p>在C++中，每一个类会有自己的六大默认成员函数，对于子类来说也是一样，但是在继承中，不同的默认成员函数会有不同，下面以四种默认成员函数为例</p> <h3 id=_5>构造函数<a class=headerlink href=#_5 title="Permanent link">&para;</a></h3> <p>默认情况下，子类会调用父类的构造函数对父类成员初始化，子类自己的成员调用自己的构造函数，而显式写出构造函数后，在初始化列表处，如果需要对父类成员初始化就需要调用父类的构造函数而不能额外指定父类成员单独初始化，并且初始化顺序总是满足父类先初始化（即先调用父类构造函数初始化父类成员），接着初始化子类成员（满足先父后子）</p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span>
<span class=normal>39</span>
<span class=normal>40</span>
<span class=normal>41</span>
<span class=normal>42</span>
<span class=normal>43</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-12-1><span class=k>class</span><span class=w> </span><span class=nc>person</span>
</span><span id=__span-12-2><span class=p>{</span>
</span><span id=__span-12-3><span class=k>public</span><span class=o>:</span>
</span><span id=__span-12-4><span class=w>    </span><span class=n>person</span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>age</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>10</span><span class=p>,</span><span class=w> </span><span class=n>string</span><span class=w> </span><span class=n>name</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;姓名&quot;</span><span class=p>)</span>
</span><span id=__span-12-5><span class=w>        </span><span class=o>:</span><span class=n>_age</span><span class=p>(</span><span class=n>age</span><span class=p>)</span>
</span><span id=__span-12-6><span class=w>        </span><span class=p>,</span><span class=n>_name</span><span class=p>(</span><span class=n>name</span><span class=p>)</span>
</span><span id=__span-12-7><span class=w>    </span><span class=p>{}</span>
</span><span id=__span-12-8>
</span><span id=__span-12-9><span class=k>protected</span><span class=o>:</span>
</span><span id=__span-12-10><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>_age</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-12-11><span class=w>    </span><span class=n>string</span><span class=w> </span><span class=n>_name</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;姓名&quot;</span><span class=p>;</span>
</span><span id=__span-12-12><span class=p>};</span>
</span><span id=__span-12-13>
</span><span id=__span-12-14><span class=k>class</span><span class=w> </span><span class=nc>student</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=k>public</span><span class=w> </span><span class=n>person</span>
</span><span id=__span-12-15><span class=p>{</span>
</span><span id=__span-12-16><span class=k>public</span><span class=o>:</span>
</span><span id=__span-12-17><span class=w>    </span><span class=n>student</span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>age</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>20</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>stu_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=p>)</span>
</span><span id=__span-12-18><span class=w>        </span><span class=o>:</span><span class=n>person</span><span class=p>(</span><span class=n>age</span><span class=p>)</span><span class=c1>// 调用父类的构造函数</span>
</span><span id=__span-12-19><span class=w>        </span><span class=c1>//,_age(age) // 不可以显示对父类成员初始化</span>
</span><span id=__span-12-20><span class=w>        </span><span class=p>,</span><span class=n>_stu_id</span><span class=p>(</span><span class=n>stu_id</span><span class=p>)</span>
</span><span id=__span-12-21><span class=w>    </span><span class=p>{}</span>
</span><span id=__span-12-22>
</span><span id=__span-12-23><span class=w>    </span><span class=kt>void</span><span class=w> </span><span class=n>print</span><span class=p>()</span>
</span><span id=__span-12-24><span class=w>    </span><span class=p>{</span>
</span><span id=__span-12-25><span class=w>        </span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;age = &quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>_age</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-12-26><span class=w>        </span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;name = &quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>_name</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-12-27><span class=w>        </span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;student_id = &quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>_stu_id</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-12-28><span class=w>    </span><span class=p>}</span>
</span><span id=__span-12-29><span class=k>private</span><span class=o>:</span>
</span><span id=__span-12-30><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>_stu_id</span><span class=p>;</span>
</span><span id=__span-12-31><span class=p>};</span>
</span><span id=__span-12-32>
</span><span id=__span-12-33><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>()</span>
</span><span id=__span-12-34><span class=p>{</span>
</span><span id=__span-12-35><span class=w>    </span><span class=n>student</span><span class=w> </span><span class=n>s</span><span class=p>;</span>
</span><span id=__span-12-36><span class=w>    </span><span class=n>s</span><span class=p>.</span><span class=n>print</span><span class=p>();</span>
</span><span id=__span-12-37><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-12-38><span class=p>}</span>
</span><span id=__span-12-39>
</span><span id=__span-12-40><span class=n>输出结果</span><span class=err>：</span>
</span><span id=__span-12-41><span class=n>age</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>20</span>
</span><span id=__span-12-42><span class=n>name</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>姓名</span>
</span><span id=__span-12-43><span class=n>student_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span>
</span></code></pre></div></td></tr></table></div> <h3 id=_6>拷贝构造函数<a class=headerlink href=#_6 title="Permanent link">&para;</a></h3> <p>对于拷贝构造函数来说，因为拷贝构造函数也会走初始化列表，所以对于父类成员的拷贝会走父类成员的拷贝构造，并且这里会涉及到赋值兼容转换，而子类自己的成员则走自己的拷贝构造进行初始化，初始化顺序依旧是先父类成员初始化再子类成员（满足先父后子）</p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span>
<span class=normal>39</span>
<span class=normal>40</span>
<span class=normal>41</span>
<span class=normal>42</span>
<span class=normal>43</span>
<span class=normal>44</span>
<span class=normal>45</span>
<span class=normal>46</span>
<span class=normal>47</span>
<span class=normal>48</span>
<span class=normal>49</span>
<span class=normal>50</span>
<span class=normal>51</span>
<span class=normal>52</span>
<span class=normal>53</span>
<span class=normal>54</span>
<span class=normal>55</span>
<span class=normal>56</span>
<span class=normal>57</span>
<span class=normal>58</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-13-1><span class=k>class</span><span class=w> </span><span class=nc>person</span>
</span><span id=__span-13-2><span class=p>{</span>
</span><span id=__span-13-3><span class=k>public</span><span class=o>:</span>
</span><span id=__span-13-4><span class=w>    </span><span class=c1>// 构造函数</span>
</span><span id=__span-13-5>
</span><span id=__span-13-6><span class=w>    </span><span class=c1>// 拷贝构造函数</span>
</span><span id=__span-13-7><span class=w>    </span><span class=n>person</span><span class=p>(</span><span class=k>const</span><span class=w> </span><span class=n>person</span><span class=o>&amp;</span><span class=w> </span><span class=n>p</span><span class=p>)</span>
</span><span id=__span-13-8><span class=w>    </span><span class=p>{</span>
</span><span id=__span-13-9><span class=w>        </span><span class=n>_age</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>p</span><span class=p>.</span><span class=n>_age</span><span class=p>;</span>
</span><span id=__span-13-10><span class=w>        </span><span class=n>_name</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>p</span><span class=p>.</span><span class=n>_name</span><span class=p>;</span>
</span><span id=__span-13-11><span class=w>    </span><span class=p>}</span>
</span><span id=__span-13-12>
</span><span id=__span-13-13><span class=k>protected</span><span class=o>:</span>
</span><span id=__span-13-14><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>_age</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>20</span><span class=p>;</span>
</span><span id=__span-13-15><span class=w>    </span><span class=n>string</span><span class=w> </span><span class=n>_name</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;姓名&quot;</span><span class=p>;</span>
</span><span id=__span-13-16><span class=p>};</span>
</span><span id=__span-13-17>
</span><span id=__span-13-18><span class=k>class</span><span class=w> </span><span class=nc>student</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=k>public</span><span class=w> </span><span class=n>person</span>
</span><span id=__span-13-19><span class=p>{</span>
</span><span id=__span-13-20><span class=k>public</span><span class=o>:</span>
</span><span id=__span-13-21><span class=w>    </span><span class=c1>// 构造函数</span>
</span><span id=__span-13-22>
</span><span id=__span-13-23><span class=w>    </span><span class=c1>// 子类拷贝构造函数</span>
</span><span id=__span-13-24><span class=w>    </span><span class=n>student</span><span class=p>(</span><span class=k>const</span><span class=w> </span><span class=n>student</span><span class=o>&amp;</span><span class=w> </span><span class=n>s</span><span class=p>)</span>
</span><span id=__span-13-25><span class=w>        </span><span class=o>:</span><span class=n>_stu_id</span><span class=p>(</span><span class=n>s</span><span class=p>.</span><span class=n>_stu_id</span><span class=p>)</span><span class=c1>// 拷贝构造自己的成员</span>
</span><span id=__span-13-26><span class=w>        </span><span class=p>,</span><span class=n>person</span><span class=p>(</span><span class=n>s</span><span class=p>)</span><span class=c1>// 先调用父类的拷贝构造函数</span>
</span><span id=__span-13-27>
</span><span id=__span-13-28><span class=w>    </span><span class=p>{</span>
</span><span id=__span-13-29><span class=w>        </span><span class=c1>//person(s); // 不可以在内部对父类成员进行拷贝构造</span>
</span><span id=__span-13-30><span class=w>    </span><span class=p>}</span>
</span><span id=__span-13-31>
</span><span id=__span-13-32>
</span><span id=__span-13-33><span class=w>    </span><span class=kt>void</span><span class=w> </span><span class=n>print</span><span class=p>()</span>
</span><span id=__span-13-34><span class=w>    </span><span class=p>{</span>
</span><span id=__span-13-35><span class=w>        </span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;age = &quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>_age</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-13-36><span class=w>        </span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;name = &quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>_name</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-13-37><span class=w>        </span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;student_id = &quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>_stu_id</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-13-38><span class=w>    </span><span class=p>}</span>
</span><span id=__span-13-39><span class=k>private</span><span class=o>:</span>
</span><span id=__span-13-40><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>_stu_id</span><span class=p>;</span>
</span><span id=__span-13-41><span class=p>};</span>
</span><span id=__span-13-42>
</span><span id=__span-13-43><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>()</span>
</span><span id=__span-13-44><span class=p>{</span>
</span><span id=__span-13-45><span class=w>    </span><span class=n>student</span><span class=w> </span><span class=n>s</span><span class=p>;</span>
</span><span id=__span-13-46><span class=w>    </span><span class=n>s</span><span class=p>.</span><span class=n>print</span><span class=p>();</span>
</span><span id=__span-13-47><span class=w>    </span><span class=n>student</span><span class=w> </span><span class=n>s1</span><span class=p>(</span><span class=n>s</span><span class=p>);</span>
</span><span id=__span-13-48><span class=w>    </span><span class=n>s1</span><span class=p>.</span><span class=n>print</span><span class=p>();</span>
</span><span id=__span-13-49><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-13-50><span class=p>}</span>
</span><span id=__span-13-51>
</span><span id=__span-13-52><span class=n>输出结果</span><span class=err>：</span>
</span><span id=__span-13-53><span class=n>age</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>20</span>
</span><span id=__span-13-54><span class=n>name</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>姓名</span>
</span><span id=__span-13-55><span class=n>student_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span>
</span><span id=__span-13-56><span class=n>age</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>20</span>
</span><span id=__span-13-57><span class=n>name</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>姓名</span>
</span><span id=__span-13-58><span class=n>student_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span>
</span></code></pre></div></td></tr></table></div> <h3 id=_7>赋值运算符重载函数<a class=headerlink href=#_7 title="Permanent link">&para;</a></h3> <p>对于赋值运算符重载函数来说，因为赋值运算符重载函数默认对内置类型进行浅拷贝，对自定义类型调用其赋值运算符重载函数，而对于子类和父类来说，父类中的成员需要调用父类的赋值运算符重载函数，此处需要注意的是，因为赋值运算符重载函数在当前子类的类域中也有，如果直接写为<code>operator=()</code>则会出现无穷递归，正确做法是指定为<strong>父类类域</strong>中的<code>operator=()</code></p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span>
<span class=normal>39</span>
<span class=normal>40</span>
<span class=normal>41</span>
<span class=normal>42</span>
<span class=normal>43</span>
<span class=normal>44</span>
<span class=normal>45</span>
<span class=normal>46</span>
<span class=normal>47</span>
<span class=normal>48</span>
<span class=normal>49</span>
<span class=normal>50</span>
<span class=normal>51</span>
<span class=normal>52</span>
<span class=normal>53</span>
<span class=normal>54</span>
<span class=normal>55</span>
<span class=normal>56</span>
<span class=normal>57</span>
<span class=normal>58</span>
<span class=normal>59</span>
<span class=normal>60</span>
<span class=normal>61</span>
<span class=normal>62</span>
<span class=normal>63</span>
<span class=normal>64</span>
<span class=normal>65</span>
<span class=normal>66</span>
<span class=normal>67</span>
<span class=normal>68</span>
<span class=normal>69</span>
<span class=normal>70</span>
<span class=normal>71</span>
<span class=normal>72</span>
<span class=normal>73</span>
<span class=normal>74</span>
<span class=normal>75</span>
<span class=normal>76</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-14-1><span class=k>class</span><span class=w> </span><span class=nc>person</span>
</span><span id=__span-14-2><span class=p>{</span>
</span><span id=__span-14-3><span class=k>public</span><span class=o>:</span>
</span><span id=__span-14-4><span class=w>    </span><span class=c1>// 构造函数</span>
</span><span id=__span-14-5>
</span><span id=__span-14-6><span class=w>    </span><span class=c1>// 拷贝构造函数</span>
</span><span id=__span-14-7>
</span><span id=__span-14-8><span class=w>    </span><span class=c1>// 赋值运算符重载函数</span>
</span><span id=__span-14-9><span class=w>    </span><span class=n>person</span><span class=o>&amp;</span><span class=w> </span><span class=k>operator</span><span class=o>=</span><span class=p>(</span><span class=k>const</span><span class=w> </span><span class=n>person</span><span class=o>&amp;</span><span class=w> </span><span class=n>p</span><span class=p>)</span>
</span><span id=__span-14-10><span class=w>    </span><span class=p>{</span>
</span><span id=__span-14-11><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=k>this</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=o>&amp;</span><span class=n>p</span><span class=p>)</span>
</span><span id=__span-14-12><span class=w>        </span><span class=p>{</span>
</span><span id=__span-14-13><span class=w>            </span><span class=n>_age</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>p</span><span class=p>.</span><span class=n>_age</span><span class=p>;</span>
</span><span id=__span-14-14><span class=w>            </span><span class=n>_name</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>p</span><span class=p>.</span><span class=n>_name</span><span class=p>;</span>
</span><span id=__span-14-15><span class=w>        </span><span class=p>}</span>
</span><span id=__span-14-16>
</span><span id=__span-14-17><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=o>*</span><span class=k>this</span><span class=p>;</span>
</span><span id=__span-14-18><span class=w>    </span><span class=p>}</span>
</span><span id=__span-14-19>
</span><span id=__span-14-20><span class=k>protected</span><span class=o>:</span>
</span><span id=__span-14-21><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>_age</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-14-22><span class=w>    </span><span class=n>string</span><span class=w> </span><span class=n>_name</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;姓名&quot;</span><span class=p>;</span>
</span><span id=__span-14-23><span class=p>};</span>
</span><span id=__span-14-24>
</span><span id=__span-14-25><span class=k>class</span><span class=w> </span><span class=nc>student</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=k>public</span><span class=w> </span><span class=n>person</span>
</span><span id=__span-14-26><span class=p>{</span>
</span><span id=__span-14-27><span class=k>public</span><span class=o>:</span>
</span><span id=__span-14-28><span class=w>    </span><span class=c1>// 构造函数</span>
</span><span id=__span-14-29>
</span><span id=__span-14-30><span class=w>    </span><span class=c1>// 拷贝构造函数</span>
</span><span id=__span-14-31>
</span><span id=__span-14-32><span class=w>    </span><span class=c1>// 赋值运算符重载函数</span>
</span><span id=__span-14-33><span class=w>    </span><span class=n>student</span><span class=o>&amp;</span><span class=w> </span><span class=k>operator</span><span class=o>=</span><span class=p>(</span><span class=k>const</span><span class=w> </span><span class=n>student</span><span class=o>&amp;</span><span class=w> </span><span class=n>s</span><span class=p>)</span>
</span><span id=__span-14-34><span class=w>    </span><span class=p>{</span>
</span><span id=__span-14-35><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=k>this</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=o>&amp;</span><span class=n>s</span><span class=p>)</span>
</span><span id=__span-14-36><span class=w>        </span><span class=p>{</span>
</span><span id=__span-14-37><span class=w>            </span><span class=c1>// 指定调用父类的赋值运算符重载</span>
</span><span id=__span-14-38><span class=w>            </span><span class=n>person</span><span class=o>::</span><span class=k>operator</span><span class=o>=</span><span class=p>(</span><span class=n>s</span><span class=p>);</span>
</span><span id=__span-14-39><span class=w>            </span><span class=n>_stu_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>s</span><span class=p>.</span><span class=n>_stu_id</span><span class=p>;</span>
</span><span id=__span-14-40><span class=w>        </span><span class=p>}</span>
</span><span id=__span-14-41>
</span><span id=__span-14-42><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=o>*</span><span class=k>this</span><span class=p>;</span>
</span><span id=__span-14-43><span class=w>    </span><span class=p>}</span>
</span><span id=__span-14-44>
</span><span id=__span-14-45><span class=w>    </span><span class=kt>void</span><span class=w> </span><span class=n>print</span><span class=p>()</span>
</span><span id=__span-14-46><span class=w>    </span><span class=p>{</span>
</span><span id=__span-14-47><span class=w>        </span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;age = &quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>_age</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-14-48><span class=w>        </span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;name = &quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>_name</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-14-49><span class=w>        </span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;student_id = &quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>_stu_id</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-14-50><span class=w>    </span><span class=p>}</span>
</span><span id=__span-14-51><span class=k>private</span><span class=o>:</span>
</span><span id=__span-14-52><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>_stu_id</span><span class=p>;</span>
</span><span id=__span-14-53><span class=p>};</span>
</span><span id=__span-14-54>
</span><span id=__span-14-55><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>()</span>
</span><span id=__span-14-56><span class=p>{</span>
</span><span id=__span-14-57><span class=w>    </span><span class=n>student</span><span class=w> </span><span class=n>s</span><span class=p>;</span>
</span><span id=__span-14-58><span class=w>    </span><span class=n>s</span><span class=p>.</span><span class=n>print</span><span class=p>();</span>
</span><span id=__span-14-59><span class=w>    </span><span class=n>student</span><span class=w> </span><span class=n>s1</span><span class=p>(</span><span class=n>s</span><span class=p>);</span>
</span><span id=__span-14-60><span class=w>    </span><span class=n>s1</span><span class=p>.</span><span class=n>print</span><span class=p>();</span>
</span><span id=__span-14-61><span class=w>    </span><span class=n>student</span><span class=w> </span><span class=n>s2</span><span class=p>;</span>
</span><span id=__span-14-62><span class=w>    </span><span class=n>s2</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>s</span><span class=p>;</span>
</span><span id=__span-14-63><span class=w>    </span><span class=n>s2</span><span class=p>.</span><span class=n>print</span><span class=p>();</span>
</span><span id=__span-14-64><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-14-65><span class=p>}</span>
</span><span id=__span-14-66>
</span><span id=__span-14-67><span class=n>输出结果</span><span class=err>：</span>
</span><span id=__span-14-68><span class=n>age</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>20</span>
</span><span id=__span-14-69><span class=n>name</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>姓名</span>
</span><span id=__span-14-70><span class=n>student_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span>
</span><span id=__span-14-71><span class=n>age</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>20</span>
</span><span id=__span-14-72><span class=n>name</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>姓名</span>
</span><span id=__span-14-73><span class=n>student_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span>
</span><span id=__span-14-74><span class=n>age</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>20</span>
</span><span id=__span-14-75><span class=n>name</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>姓名</span>
</span><span id=__span-14-76><span class=n>student_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span>
</span></code></pre></div></td></tr></table></div> <h3 id=_8>析构函数<a class=headerlink href=#_8 title="Permanent link">&para;</a></h3> <p>对于析构函数来说，内置类型不处理，自定义类型会调用对应的析构函数，而对于继承中的析构来说，因为子类和父类中可能也存在空间释放，所以子类和父类也会有析构函数，此时的析构函数都被编译器隐式叫<code>destructor()</code>，所以<strong>调用父类析构函数时也需要指定类域</strong></p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>但是，如果在子类中显式调用父类的析构函数就不能保证父类的析构函数最后被执行（构造满足先父后子，析构满足先子后父），所以<strong><span style="color: red">父类的析构函数不能显示调用</span></strong></p> </div> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span>
<span class=normal>39</span>
<span class=normal>40</span>
<span class=normal>41</span>
<span class=normal>42</span>
<span class=normal>43</span>
<span class=normal>44</span>
<span class=normal>45</span>
<span class=normal>46</span>
<span class=normal>47</span>
<span class=normal>48</span>
<span class=normal>49</span>
<span class=normal>50</span>
<span class=normal>51</span>
<span class=normal>52</span>
<span class=normal>53</span>
<span class=normal>54</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-15-1><span class=k>class</span><span class=w> </span><span class=nc>person</span>
</span><span id=__span-15-2><span class=p>{</span>
</span><span id=__span-15-3><span class=k>public</span><span class=o>:</span>
</span><span id=__span-15-4><span class=w>    </span><span class=c1>// 构造函数</span>
</span><span id=__span-15-5>
</span><span id=__span-15-6><span class=w>    </span><span class=c1>// 拷贝构造函数</span>
</span><span id=__span-15-7>
</span><span id=__span-15-8><span class=w>    </span><span class=c1>// 赋值运算符重载函数</span>
</span><span id=__span-15-9>
</span><span id=__span-15-10><span class=w>    </span><span class=c1>// 析构函数</span>
</span><span id=__span-15-11><span class=w>    </span><span class=o>~</span><span class=n>person</span><span class=p>()</span>
</span><span id=__span-15-12><span class=w>    </span><span class=p>{</span>
</span><span id=__span-15-13>
</span><span id=__span-15-14><span class=w>    </span><span class=p>}</span>
</span><span id=__span-15-15>
</span><span id=__span-15-16><span class=k>protected</span><span class=o>:</span>
</span><span id=__span-15-17><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>_age</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-15-18><span class=w>    </span><span class=n>string</span><span class=w> </span><span class=n>_name</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;姓名&quot;</span><span class=p>;</span>
</span><span id=__span-15-19><span class=p>};</span>
</span><span id=__span-15-20>
</span><span id=__span-15-21><span class=k>class</span><span class=w> </span><span class=nc>student</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=k>public</span><span class=w> </span><span class=n>person</span>
</span><span id=__span-15-22><span class=p>{</span>
</span><span id=__span-15-23><span class=k>public</span><span class=o>:</span>
</span><span id=__span-15-24><span class=w>    </span><span class=c1>// 构造函数</span>
</span><span id=__span-15-25>
</span><span id=__span-15-26><span class=w>    </span><span class=c1>// 拷贝构造函数</span>
</span><span id=__span-15-27>
</span><span id=__span-15-28><span class=w>    </span><span class=c1>// 赋值运算符重载函数</span>
</span><span id=__span-15-29>
</span><span id=__span-15-30><span class=w>    </span><span class=c1>// 析构函数</span>
</span><span id=__span-15-31><span class=w>    </span><span class=o>~</span><span class=n>student</span><span class=p>()</span>
</span><span id=__span-15-32><span class=w>    </span><span class=p>{</span>
</span><span id=__span-15-33><span class=w>        </span><span class=n>string</span><span class=w> </span><span class=n>name</span><span class=p>;</span>
</span><span id=__span-15-34><span class=w>        </span><span class=c1>//person::~person(); 指定类域，但是不能显式调用</span>
</span><span id=__span-15-35><span class=w>        </span><span class=n>name</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>_name</span><span class=p>;</span><span class=c1>// 因为父类先被析构，所以此时_name为随机值，从而导致name为随机值</span>
</span><span id=__span-15-36><span class=w>        </span><span class=k>delete</span><span class=p>[]</span><span class=w> </span><span class=n>ptr</span><span class=p>;</span>
</span><span id=__span-15-37><span class=w>    </span><span class=p>}</span>
</span><span id=__span-15-38>
</span><span id=__span-15-39><span class=w>    </span><span class=kt>void</span><span class=w> </span><span class=n>print</span><span class=p>()</span>
</span><span id=__span-15-40><span class=w>    </span><span class=p>{</span>
</span><span id=__span-15-41><span class=w>        </span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;age = &quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>_age</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-15-42><span class=w>        </span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;name = &quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>_name</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-15-43><span class=w>        </span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;student_id = &quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>_stu_id</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-15-44><span class=w>    </span><span class=p>}</span>
</span><span id=__span-15-45><span class=k>private</span><span class=o>:</span>
</span><span id=__span-15-46><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>_stu_id</span><span class=p>;</span>
</span><span id=__span-15-47><span class=w>    </span><span class=kt>int</span><span class=o>*</span><span class=w> </span><span class=n>ptr</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=kt>int</span><span class=p>[</span><span class=mi>10</span><span class=p>]</span><span class=w> </span><span class=p>{</span><span class=mi>0</span><span class=p>};</span>
</span><span id=__span-15-48><span class=p>};</span>
</span><span id=__span-15-49>
</span><span id=__span-15-50><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>()</span>
</span><span id=__span-15-51><span class=p>{</span>
</span><span id=__span-15-52><span class=w>    </span><span class=n>student</span><span class=w> </span><span class=n>s</span><span class=p>;</span>
</span><span id=__span-15-53><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-15-54><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h3 id=_9>总结<a class=headerlink href=#_9 title="Permanent link">&para;</a></h3> <p>对于上面四种默认成员函数来说，处理方式为：</p> <ol> <li>构造函数：父类成员构造走父类，子类成员构造走子类，<strong>满足先父类后子类</strong></li> <li>拷贝构造：父类成员拷贝构造走父类（涉及到赋值兼容转换），子类成员拷贝构造走子类</li> <li>赋值运算符重载符函数：父类成员走父类赋值运算符重载函数（涉及到赋值兼容转换），子类成员拷贝走子类赋值运算符重载符函数</li> <li>析构函数：父类析构函数不能显式调用，父类成员走父类析构函数，<strong>满足先子类后父类</strong></li> </ol> <h2 id=_10>友元与继承<a class=headerlink href=#_10 title="Permanent link">&para;</a></h2> <p>当父类中有友元函数时，子类无法继承友元函数</p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-16-1><span class=k>class</span><span class=w> </span><span class=nc>student</span><span class=p>;</span><span class=c1>// 需要前置声明</span>
</span><span id=__span-16-2><span class=k>class</span><span class=w> </span><span class=nc>person</span><span class=w> </span>
</span><span id=__span-16-3><span class=p>{</span>
</span><span id=__span-16-4><span class=k>public</span><span class=o>:</span>
</span><span id=__span-16-5><span class=w>    </span><span class=k>friend</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=n>func</span><span class=p>(</span><span class=k>const</span><span class=w> </span><span class=n>person</span><span class=o>&amp;</span><span class=w> </span><span class=n>p</span><span class=p>,</span><span class=w> </span><span class=k>const</span><span class=w> </span><span class=n>student</span><span class=o>&amp;</span><span class=w> </span><span class=n>s</span><span class=p>);</span>
</span><span id=__span-16-6><span class=k>protected</span><span class=o>:</span>
</span><span id=__span-16-7><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>_age</span><span class=p>;</span>
</span><span id=__span-16-8><span class=p>};</span>
</span><span id=__span-16-9>
</span><span id=__span-16-10><span class=k>class</span><span class=w> </span><span class=nc>student</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=k>public</span><span class=w> </span><span class=n>person</span>
</span><span id=__span-16-11><span class=p>{</span>
</span><span id=__span-16-12><span class=k>protected</span><span class=o>:</span>
</span><span id=__span-16-13><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>_id</span><span class=p>;</span>
</span><span id=__span-16-14><span class=p>};</span>
</span><span id=__span-16-15>
</span><span id=__span-16-16><span class=kt>void</span><span class=w> </span><span class=nf>func</span><span class=p>(</span><span class=k>const</span><span class=w> </span><span class=n>person</span><span class=o>&amp;</span><span class=w> </span><span class=n>p</span><span class=p>,</span><span class=w> </span><span class=k>const</span><span class=w> </span><span class=n>student</span><span class=o>&amp;</span><span class=w> </span><span class=n>s</span><span class=p>)</span>
</span><span id=__span-16-17><span class=p>{</span>
</span><span id=__span-16-18><span class=w>    </span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>p</span><span class=p>.</span><span class=n>_age</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>endl</span><span class=p>;</span><span class=c1>// 可以访问person中的保护成员</span>
</span><span id=__span-16-19><span class=w>    </span><span class=c1>//cout &lt;&lt; s._id &lt;&lt; endl; 无法访问student中的保护成员</span>
</span><span id=__span-16-20><span class=p>}</span>
</span><span id=__span-16-21>
</span><span id=__span-16-22><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>()</span>
</span><span id=__span-16-23><span class=p>{</span>
</span><span id=__span-16-24><span class=w>    </span><span class=n>person</span><span class=w> </span><span class=n>p</span><span class=p>;</span>
</span><span id=__span-16-25><span class=w>    </span><span class=n>student</span><span class=w> </span><span class=n>s</span><span class=p>;</span>
</span><span id=__span-16-26><span class=w>    </span><span class=n>func</span><span class=p>(</span><span class=n>p</span><span class=p>,</span><span class=w> </span><span class=n>s</span><span class=p>);</span>
</span><span id=__span-16-27><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-16-28><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>在C++中，只有类中声明了友元，对应函数才可以访问友元所在类中的成员，所以上述代码中的<code>func</code>函数无法访问<code>student</code>类中的成员</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>因为友元声明早于<code>student</code>类出现，所以需要有<code>student</code>类的前置声明，否则友元函数无法找到<code>student</code>类</p> </div> <h2 id=_11>静态成员与继承<a class=headerlink href=#_11 title="Permanent link">&para;</a></h2> <p>在C++中，当父类中含有静态成员，子类继承时，父类和子类共用该静态成员</p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-17-1><span class=k>class</span><span class=w> </span><span class=nc>person</span>
</span><span id=__span-17-2><span class=p>{</span>
</span><span id=__span-17-3><span class=k>public</span><span class=o>:</span>
</span><span id=__span-17-4><span class=w>    </span><span class=n>person</span><span class=p>()</span>
</span><span id=__span-17-5><span class=w>    </span><span class=p>{</span>
</span><span id=__span-17-6><span class=w>        </span><span class=n>_count</span><span class=o>++</span><span class=p>;</span>
</span><span id=__span-17-7><span class=w>    </span><span class=p>}</span>
</span><span id=__span-17-8><span class=k>public</span><span class=o>:</span>
</span><span id=__span-17-9><span class=w>    </span><span class=k>static</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>_count</span><span class=p>;</span>
</span><span id=__span-17-10><span class=p>};</span>
</span><span id=__span-17-11>
</span><span id=__span-17-12><span class=kt>int</span><span class=w> </span><span class=n>person</span><span class=o>::</span><span class=n>_count</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-17-13>
</span><span id=__span-17-14><span class=k>class</span><span class=w> </span><span class=nc>student</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=k>public</span><span class=w> </span><span class=n>person</span>
</span><span id=__span-17-15><span class=p>{</span>
</span><span id=__span-17-16><span class=k>private</span><span class=o>:</span>
</span><span id=__span-17-17><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>_id</span><span class=p>;</span>
</span><span id=__span-17-18><span class=p>};</span>
</span><span id=__span-17-19>
</span><span id=__span-17-20><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>()</span>
</span><span id=__span-17-21><span class=p>{</span>
</span><span id=__span-17-22><span class=w>    </span><span class=n>person</span><span class=w> </span><span class=n>p</span><span class=p>;</span>
</span><span id=__span-17-23><span class=w>    </span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>person</span><span class=o>::</span><span class=n>_count</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>endl</span><span class=p>;</span><span class=c1>// 创建一个父类对象，_count为1</span>
</span><span id=__span-17-24><span class=w>    </span><span class=n>student</span><span class=w> </span><span class=n>s</span><span class=p>;</span>
</span><span id=__span-17-25><span class=w>    </span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>student</span><span class=o>::</span><span class=n>_count</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>endl</span><span class=p>;</span><span class=c1>// 创建一个子类对象，因为共用_count，所以_count为2</span>
</span><span id=__span-17-26>
</span><span id=__span-17-27><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-17-28><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>上述代码可以理解为：父类对象创建时<code>_count</code>增加1，随后子类对象创建，父类成员调用父类构造函数<code>_count</code>再增加1，但是因为<code>static</code>修饰，父类和子类共用，所以是在原来<code>_count=1</code>的基础上增加</p> <h2 id=_12>单继承与多继承<a class=headerlink href=#_12 title="Permanent link">&para;</a></h2> <h3 id=_13>多继承介绍<a class=headerlink href=#_13 title="Permanent link">&para;</a></h3> <p>单继承：一个子类只继承一个父类</p> <p><a class=glightbox href="19. C++继承.assets/image-20240709103639963.png" data-type=image data-width=100% data-height=auto data-desc-position=bottom><img src="19. C++继承.assets/image-20240709103639963.png" alt=image-20240709103639963 style=zoom:50%;></a></p> <p>多继承：一个子类继承多个父类</p> <p><a class=glightbox href="19. C++继承.assets/image-20240709103917263.png" data-type=image data-width=100% data-height=auto data-desc-position=bottom><img src="19. C++继承.assets/image-20240709103917263.png" alt=image-20240709103917263></a></p> <p>从继承的概念来看多继承：对于单继承来说，父类中的成员会在子类中有一份新的拷贝，所以子类中有父类的成员，再看多继承，因为继承自两个父类，所以子类中会有两个父类的成员的新拷贝</p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-18-1><span class=k>class</span><span class=w> </span><span class=nc>vegetables</span>
</span><span id=__span-18-2><span class=p>{</span>
</span><span id=__span-18-3><span class=k>protected</span><span class=o>:</span>
</span><span id=__span-18-4><span class=w>    </span><span class=n>string</span><span class=w> </span><span class=n>_name</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;蔬菜&quot;</span><span class=p>;</span>
</span><span id=__span-18-5><span class=p>};</span>
</span><span id=__span-18-6>
</span><span id=__span-18-7><span class=k>class</span><span class=w> </span><span class=nc>fruits</span>
</span><span id=__span-18-8><span class=p>{</span>
</span><span id=__span-18-9><span class=k>protected</span><span class=o>:</span>
</span><span id=__span-18-10><span class=w>    </span><span class=n>string</span><span class=w> </span><span class=n>_name</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;水果&quot;</span><span class=p>;</span>
</span><span id=__span-18-11><span class=p>};</span>
</span><span id=__span-18-12>
</span><span id=__span-18-13><span class=k>class</span><span class=w> </span><span class=nc>tomato</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=k>public</span><span class=w> </span><span class=n>vegetables</span><span class=p>,</span><span class=w> </span><span class=k>public</span><span class=w> </span><span class=n>fruits</span>
</span><span id=__span-18-14><span class=p>{</span>
</span><span id=__span-18-15><span class=k>public</span><span class=o>:</span>
</span><span id=__span-18-16><span class=w>    </span><span class=kt>void</span><span class=w> </span><span class=n>show</span><span class=p>()</span>
</span><span id=__span-18-17><span class=w>    </span><span class=p>{</span>
</span><span id=__span-18-18><span class=w>        </span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>vegetables</span><span class=o>::</span><span class=n>_name</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>fruits</span><span class=o>::</span><span class=n>_name</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-18-19><span class=w>    </span><span class=p>}</span>
</span><span id=__span-18-20><span class=k>protected</span><span class=o>:</span>
</span><span id=__span-18-21><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>_num</span><span class=p>;</span>
</span><span id=__span-18-22><span class=p>};</span>
</span><span id=__span-18-23>
</span><span id=__span-18-24><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>()</span>
</span><span id=__span-18-25><span class=p>{</span>
</span><span id=__span-18-26><span class=w>    </span><span class=n>tomato</span><span class=w> </span><span class=n>t</span><span class=p>;</span>
</span><span id=__span-18-27><span class=w>    </span><span class=n>t</span><span class=p>.</span><span class=n>show</span><span class=p>();</span>
</span><span id=__span-18-28><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-18-29><span class=p>}</span>
</span><span id=__span-18-30>
</span><span id=__span-18-31><span class=n>输出结果</span><span class=err>：</span>
</span><span id=__span-18-32><span class=n>蔬菜水果</span>
</span></code></pre></div></td></tr></table></div> <p><a class=glightbox href="19. C++继承.assets/image-20240709104638429.png" data-type=image data-width=100% data-height=auto data-desc-position=bottom><img src="19. C++继承.assets/image-20240709104638429.png" alt=image-20240709104638429></a></p> <p>对于多继承，如果两个父类有同名成员，需要指定类域名，否则编译器无法区分，其余规则可类推</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>需要注意到：</p> <p>当子类继承父类后，子类中会有父类中的成员，在多继承中，第一个继承的父类的成员排在第一个，第二个继承的成员排在第二个，以此类推，父类成员排完后才是本类中特有的成员</p> </div> <h3 id=_14>菱形继承<a class=headerlink href=#_14 title="Permanent link">&para;</a></h3> <p>菱形继承是多继承的一种特殊情况，如果当前子类继承的多个父类继承自另外一个相同的父类，此时就可能产生菱形继承，如图所示：</p> <p><a class=glightbox href="19. C++继承.assets/image-20240709110002631.png" data-type=image data-width=100% data-height=auto data-desc-position=bottom><img src="19. C++继承.assets/image-20240709110002631.png" alt=image-20240709110002631></a></p> <p>此时的<code>vegetable</code>和<code>fruit</code>继承自一个相同父类<code>plant</code>，而<code>vegetable</code>和<code>fruit</code>又作为父类被<code>tomato</code>继承，形成菱形继承</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>菱形继承不一定继承形状必须满足是个菱形，只要是出现两个或以上的子类继承自相同的父类，并且这两个子类又作为另外类的父类，此时就属于菱形继承</p> </div> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-19-1><span class=k>class</span><span class=w> </span><span class=nc>plants</span>
</span><span id=__span-19-2><span class=p>{</span>
</span><span id=__span-19-3><span class=k>protected</span><span class=o>:</span>
</span><span id=__span-19-4><span class=w>    </span><span class=n>string</span><span class=w> </span><span class=n>_kind</span><span class=p>;</span>
</span><span id=__span-19-5><span class=p>};</span>
</span><span id=__span-19-6>
</span><span id=__span-19-7><span class=k>class</span><span class=w> </span><span class=nc>vegetables</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=k>public</span><span class=w> </span><span class=n>plants</span>
</span><span id=__span-19-8><span class=p>{</span>
</span><span id=__span-19-9><span class=k>protected</span><span class=o>:</span>
</span><span id=__span-19-10><span class=w>    </span><span class=n>string</span><span class=w> </span><span class=n>_name</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;蔬菜&quot;</span><span class=p>;</span>
</span><span id=__span-19-11><span class=p>};</span>
</span><span id=__span-19-12>
</span><span id=__span-19-13><span class=k>class</span><span class=w> </span><span class=nc>fruits</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=k>public</span><span class=w> </span><span class=n>plants</span>
</span><span id=__span-19-14><span class=p>{</span>
</span><span id=__span-19-15><span class=k>protected</span><span class=o>:</span>
</span><span id=__span-19-16><span class=w>    </span><span class=n>string</span><span class=w> </span><span class=n>_name</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;水果&quot;</span><span class=p>;</span>
</span><span id=__span-19-17><span class=p>};</span>
</span><span id=__span-19-18>
</span><span id=__span-19-19><span class=k>class</span><span class=w> </span><span class=nc>tomato</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=k>public</span><span class=w> </span><span class=n>vegetables</span><span class=p>,</span><span class=w> </span><span class=n>fruits</span>
</span><span id=__span-19-20><span class=p>{</span>
</span><span id=__span-19-21><span class=k>protected</span><span class=o>:</span>
</span><span id=__span-19-22><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>_num</span><span class=p>;</span>
</span><span id=__span-19-23><span class=p>};</span>
</span><span id=__span-19-24>
</span><span id=__span-19-25><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>()</span>
</span><span id=__span-19-26><span class=p>{</span>
</span><span id=__span-19-27><span class=w>    </span><span class=n>vegetables</span><span class=w> </span><span class=n>v</span><span class=p>;</span>
</span><span id=__span-19-28><span class=w>    </span><span class=n>fruits</span><span class=w> </span><span class=n>f</span><span class=p>;</span>
</span><span id=__span-19-29><span class=w>    </span><span class=n>tomato</span><span class=w> </span><span class=n>t</span><span class=p>;</span>
</span><span id=__span-19-30>
</span><span id=__span-19-31><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-19-32><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>观察到，在菱形继承中，<code>vegetables</code>和<code>plants</code>类既作为<code>tomato</code>的父类，又作为<code>plant</code>子类，所以会出现数据冗余和二义性</p> <p>数据冗余：因为<code>vegetables</code>和<code>fruits</code>继承自<code>plants</code>，所以两个类中都会有<code>plants</code>中的成员，接着<code>tomato</code>继承<code>vegetables</code>和<code>fruits</code>，<code>tomato</code>中也会存在<code>vegetables</code>和<code>fruits</code>继承自<code>plants</code>的成员，导致出现了数据冗余</p> <p><a class=glightbox href="19. C++继承.assets/image-20240709111059396.png" data-type=image data-width=100% data-height=auto data-desc-position=bottom><img src="19. C++继承.assets/image-20240709111059396.png" alt=image-20240709111059396></a></p> <p>二义性：因为<code>tomato</code>类中有两个父类<code>vegetables</code>和<code>fruits</code>继承自<code>plants</code>的成员，所以在直接使用<code>tomato</code>对象访问时<code>_kind</code>时无法明确知道是哪一个对象的<code>_kind</code>，产生二义性</p> <p>对于二义性来说，可以通过指定类域名的方式解决，例如<code>vegetables::_kind</code>和<code>fruits::_kind</code>，但是对于数据冗余来说并不能通过这个方法解决</p> <h3 id=_15>虚拟继承<a class=headerlink href=#_15 title="Permanent link">&para;</a></h3> <p>为了解决菱形继承中的数据冗余和二义性，可以在继承权限前方使用<code>virtual</code>关键字修饰<strong>第一层既作为父类又作为子类的类</strong>，修饰后的两个类继承行为就称为<strong>虚拟继承</strong></p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>虚拟继承对于数据冗余和二义性的处理方式为：所有子类都共用最高父类的成员</p> </div> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-20-1><span class=k>class</span><span class=w> </span><span class=nc>plants</span>
</span><span id=__span-20-2><span class=p>{</span>
</span><span id=__span-20-3><span class=k>protected</span><span class=o>:</span>
</span><span id=__span-20-4><span class=w>    </span><span class=n>string</span><span class=w> </span><span class=n>_kind</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;类型&quot;</span><span class=p>;</span>
</span><span id=__span-20-5><span class=p>};</span>
</span><span id=__span-20-6>
</span><span id=__span-20-7><span class=k>class</span><span class=w> </span><span class=nc>vegetables</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=k>virtual</span><span class=w> </span><span class=k>public</span><span class=w> </span><span class=n>plants</span><span class=w> </span><span class=c1>// 修饰既作为父类又作为子类的类</span>
</span><span id=__span-20-8><span class=p>{</span>
</span><span id=__span-20-9><span class=k>protected</span><span class=o>:</span>
</span><span id=__span-20-10><span class=w>    </span><span class=n>string</span><span class=w> </span><span class=n>_name</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;蔬菜&quot;</span><span class=p>;</span>
</span><span id=__span-20-11><span class=p>};</span>
</span><span id=__span-20-12>
</span><span id=__span-20-13><span class=k>class</span><span class=w> </span><span class=nc>fruits</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=k>virtual</span><span class=w> </span><span class=k>public</span><span class=w> </span><span class=n>plants</span><span class=w> </span><span class=c1>// 修饰既作为父类又作为子类的类</span>
</span><span id=__span-20-14><span class=p>{</span>
</span><span id=__span-20-15><span class=k>protected</span><span class=o>:</span>
</span><span id=__span-20-16><span class=w>    </span><span class=n>string</span><span class=w> </span><span class=n>_name</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;水果&quot;</span><span class=p>;</span>
</span><span id=__span-20-17><span class=p>};</span>
</span><span id=__span-20-18>
</span><span id=__span-20-19><span class=k>class</span><span class=w> </span><span class=nc>tomato</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=k>public</span><span class=w> </span><span class=n>vegetables</span><span class=p>,</span><span class=w> </span><span class=n>fruits</span>
</span><span id=__span-20-20><span class=p>{</span>
</span><span id=__span-20-21><span class=k>public</span><span class=o>:</span>
</span><span id=__span-20-22><span class=w>    </span><span class=kt>void</span><span class=w> </span><span class=n>show</span><span class=p>()</span>
</span><span id=__span-20-23><span class=w>    </span><span class=p>{</span>
</span><span id=__span-20-24><span class=w>        </span><span class=n>_kind</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;蔬菜+水果&quot;</span><span class=p>;</span>
</span><span id=__span-20-25><span class=w>        </span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>_kind</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-20-26><span class=w>    </span><span class=p>}</span>
</span><span id=__span-20-27><span class=k>protected</span><span class=o>:</span>
</span><span id=__span-20-28><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>_num</span><span class=p>;</span>
</span><span id=__span-20-29><span class=p>};</span>
</span><span id=__span-20-30>
</span><span id=__span-20-31><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>()</span>
</span><span id=__span-20-32><span class=p>{</span>
</span><span id=__span-20-33><span class=w>    </span><span class=n>tomato</span><span class=w> </span><span class=n>t</span><span class=p>;</span>
</span><span id=__span-20-34><span class=w>    </span><span class=n>t</span><span class=p>.</span><span class=n>show</span><span class=p>();</span>
</span><span id=__span-20-35><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-20-36><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p><a class=glightbox href="19. C++继承.assets/image-20240709112523898.png" data-type=image data-width=100% data-height=auto data-desc-position=bottom><img src="19. C++继承.assets/image-20240709112523898.png" alt=image-20240709112523898></a></p> <h2 id=_16>继承与组合的选择<a class=headerlink href=#_16 title="Permanent link">&para;</a></h2> <h3 id=_17>组合<a class=headerlink href=#_17 title="Permanent link">&para;</a></h3> <p>继承关系：子类和父类是is-a的关系</p> <p>组合关系：两个类是has-a的关系</p> <p>例如：</p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-21-1><span class=k>class</span><span class=w> </span><span class=nc>tire</span>
</span><span id=__span-21-2><span class=p>{</span>
</span><span id=__span-21-3><span class=k>public</span><span class=o>:</span>
</span><span id=__span-21-4><span class=w>    </span><span class=kt>void</span><span class=w> </span><span class=n>show</span><span class=p>()</span>
</span><span id=__span-21-5><span class=w>    </span><span class=p>{</span>
</span><span id=__span-21-6><span class=w>        </span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>_type</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>_size</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-21-7><span class=w>    </span><span class=p>}</span>
</span><span id=__span-21-8><span class=k>private</span><span class=o>:</span>
</span><span id=__span-21-9><span class=w>    </span><span class=n>string</span><span class=w> </span><span class=n>_type</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;米其林&quot;</span><span class=p>;</span>
</span><span id=__span-21-10><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>_size</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>17</span><span class=p>;</span>
</span><span id=__span-21-11><span class=p>};</span>
</span><span id=__span-21-12>
</span><span id=__span-21-13><span class=k>class</span><span class=w> </span><span class=nc>car</span>
</span><span id=__span-21-14><span class=p>{</span>
</span><span id=__span-21-15><span class=k>public</span><span class=o>:</span>
</span><span id=__span-21-16><span class=w>    </span><span class=kt>void</span><span class=w> </span><span class=n>show</span><span class=p>()</span>
</span><span id=__span-21-17><span class=w>    </span><span class=p>{</span>
</span><span id=__span-21-18><span class=w>        </span><span class=n>t</span><span class=p>.</span><span class=n>show</span><span class=p>();</span>
</span><span id=__span-21-19><span class=w>        </span><span class=n>cout</span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>name</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-21-20><span class=w>    </span><span class=p>}</span>
</span><span id=__span-21-21><span class=k>private</span><span class=o>:</span>
</span><span id=__span-21-22><span class=w>    </span><span class=n>tire</span><span class=w> </span><span class=n>t</span><span class=p>;</span><span class=c1>// 车子 has a tire</span>
</span><span id=__span-21-23><span class=w>    </span><span class=n>string</span><span class=w> </span><span class=n>name</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;沃尔沃&quot;</span><span class=p>;</span>
</span><span id=__span-21-24><span class=p>};</span>
</span><span id=__span-21-25>
</span><span id=__span-21-26><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>()</span>
</span><span id=__span-21-27><span class=p>{</span>
</span><span id=__span-21-28><span class=w>    </span><span class=n>car</span><span class=w> </span><span class=n>c</span><span class=p>;</span>
</span><span id=__span-21-29><span class=w>    </span><span class=n>c</span><span class=p>.</span><span class=n>show</span><span class=p>();</span>
</span><span id=__span-21-30><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-21-31><span class=p>}</span>
</span><span id=__span-21-32>
</span><span id=__span-21-33><span class=n>输出结果</span><span class=err>：</span>
</span><span id=__span-21-34><span class=n>米其林17</span>
</span><span id=__span-21-35><span class=n>沃尔沃</span>
</span></code></pre></div></td></tr></table></div> <h3 id=_18>二者的选择<a class=headerlink href=#_18 title="Permanent link">&para;</a></h3> <p>继承和组合的选择：</p> <p>继承允许你根据基类的实现来定义派生类的实现。这种通过生成派生类的复用通常被称为白箱复用(white-box reuse)。术语白箱是相对可视性而言：在继承方式中，基类的内部细节对子类可见。继承一定程度破坏了基类的封装。基类的改变，对派生类有很大的影响。派生类和基类间的依赖关系很强，耦合度高。</p> <p>对象组合是类继承之外的另一种复用选择。新的更复杂的功能可以通过组装或组合对象来获得。对象组合要求被组合的对象具有良好定义的接口。这种复用风格被称为黑箱复用(black-box reuse)，因为对象的内部细节是不可见的。对象只以黑箱的形式出现。</p> <p>组合类之间没有很强的依赖关系，耦合度低。优先使用对象组合有助于你保持每个类被封装。<strong>实际尽量多去用组合</strong>。组合的耦合度低，代码维护性好。不过继承也有用武之地的，有些关系就适合继承那就用继承，另外要实现多态，也必须要继承。</p> <p>总结：因为项目中的代码需要遵守<strong>高内聚，低耦合</strong>，所以当不是特别需要使用继承（比如不需要实现多态或者关系上没有特别强的继承关系），就使用组合，否则使用继承</p> <div class="admonition info"> <p class=admonition-title>Info</p> <p>高内聚，低耦合参考：</p> <p><strong>Coupling（耦合）</strong></p> <p>Coupling is a measure of how tightly two modules are bound to each other. The more tightly coupled, the less independent they are. Since the objective is to make modules as independent as possible, we want them to be loosely coupled. There are at least three reasons why loose coupling is desirable. </p> <ul> <li> <p>Loosely coupled modules are more likely to be reusable. （低耦合便于代码重用）</p> </li> <li> <p>Loosely coupled modules are less likely to create errors in related modules.（低耦合不容易造成连锁问题） </p> </li> <li> <p>When the system needs to be modified, loosely coupled modules allow us to modify </p> <p>only modules that need to be changed without affecting modules that do not need to change. （低耦合便于代码修改）</p> </li> </ul> <p><strong>Coupling between modules in a software system must be minimized. </strong>（耦合必须最小化）</p> <p><strong>Cohesion（内聚）</strong></p> <p>Another issue in modularity is cohesion. Cohesion is a measure of how closely the mod-ules in a system are related. We eed to have maximum possible cohesion between modules in a software system. </p> <p><strong>Cohesion between modules in a software system must be maximized. </strong>（内聚必须最大化）</p> </div> <aside class=md-source-file> <span class=md-source-file__fact> <span class=md-icon title=最后更新> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">2025年5月22日</span> </span> <span class=md-source-file__fact> <span class=md-icon title=创建日期> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">2024年8月9日</span> </span> </aside> <form class=md-feedback name=feedback hidden> <fieldset> <legend class=md-feedback__title> 页面有帮助吗？ </legend> <div class=md-feedback__inner> <div class=md-feedback__list> <button class="md-feedback__icon md-icon" type=submit title=页面对我有帮助 data-md-value=1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M5 9v12H1V9zm4 12a2 2 0 0 1-2-2V9c0-.55.22-1.05.59-1.41L14.17 1l1.06 1.06c.27.27.44.64.44 1.05l-.03.32L14.69 8H21a2 2 0 0 1 2 2v2c0 .26-.05.5-.14.73l-3.02 7.05C19.54 20.5 18.83 21 18 21zm0-2h9.03L21 12v-2h-8.79l1.13-5.32L9 9.03z"/></svg> </button> <button class="md-feedback__icon md-icon" type=submit title=页面没有帮助到我 data-md-value=0> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 15V3h4v12zM15 3a2 2 0 0 1 2 2v10c0 .55-.22 1.05-.59 1.41L9.83 23l-1.06-1.06c-.27-.27-.44-.64-.44-1.06l.03-.31.95-4.57H3a2 2 0 0 1-2-2v-2c0-.26.05-.5.14-.73l3.02-7.05C4.46 3.5 5.17 3 6 3zm0 2H5.97L3 12v2h8.78l-1.13 5.32L15 14.97z"/></svg> </button> </div> <div class=md-feedback__note> <div data-md-value=1 hidden> 谢谢你的反馈！ </div> <div data-md-value=0 hidden> 谢谢你的反馈！联系<a href=https://www.help-doc.top/%E4%BD%9C%E8%80%85/%E4%BD%9C%E8%80%85.html>作者</a>提供更详细的信息 </div> </div> </div> </fieldset> </form> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> 回到页面顶部 </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2024-2025 柯懒不是柯南 </div> </div> <div class=md-social> <a href=https://github.com/H0308 target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> <a href=https://www.help-doc.top/%E4%BD%9C%E8%80%85/%E4%BD%9C%E8%80%85.html target=_blank rel=noopener title=www.help-doc.top class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M433.754 420.445c-11.526 1.393-44.86-52.741-44.86-52.741 0 31.345-16.136 72.247-51.051 101.786 16.842 5.192 54.843 19.167 45.803 34.421-7.316 12.343-125.51 7.881-159.632 4.037-34.122 3.844-152.316 8.306-159.632-4.037-9.045-15.25 28.918-29.214 45.783-34.415-34.92-29.539-51.059-70.445-51.059-101.792 0 0-33.334 54.134-44.859 52.741-5.37-.65-12.424-29.644 9.347-99.704 10.261-33.024 21.995-60.478 40.144-105.779C60.683 98.063 108.982.006 224 0c113.737.006 163.156 96.133 160.264 214.963 18.118 45.223 29.912 72.85 40.144 105.778 21.768 70.06 14.716 99.053 9.346 99.704"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["navigation.indexes", "navigation.prune", "navigation.tabs", "navigation.top", "search.suggest", "search.highlight", "content.code.copy"], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}, "version": null}</script> <script src=../../assets/javascripts/bundle.c8b220af.min.js></script> <script src=../../javascripts/katex.min.js></script> <script src=../../javascripts/other.min.js></script> <script src=../../javascripts/copyright.min.js></script> <script src=https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/katex.min.js></script> <script src=https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/contrib/auto-render.min.js></script> <script src=../../assets/javascripts/toggle-sidebar.js async></script> <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body> </html>