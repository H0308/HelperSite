<!doctype html><html lang=zh class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=canonical href=https://www.help-doc.top/Java/19.%20Java%E4%B8%AD%E7%9A%84Junit%E3%80%81%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%97%B6%E6%9C%BA%E4%B8%8E%E6%9C%BA%E5%88%B6%E3%80%81%E5%8F%8D%E5%B0%84%E3%80%81%E6%B3%A8%E8%A7%A3%E5%8F%8A%E6%9E%9A%E4%B8%BE/19.%20Java%E4%B8%AD%E7%9A%84Junit%E3%80%81%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%97%B6%E6%9C%BA%E4%B8%8E%E6%9C%BA%E5%88%B6%E3%80%81%E5%8F%8D%E5%B0%84%E3%80%81%E6%B3%A8%E8%A7%A3%E5%8F%8A%E6%9E%9A%E4%B8%BE.html><link rel=prev href=../18.%20Java%E4%B8%AD%E7%9A%84JDK8%E5%8F%8A%E5%90%8E%E7%BB%AD%E7%9A%84%E9%87%8D%E8%A6%81%E6%96%B0%E7%89%B9%E6%80%A7/18.%20Java%E4%B8%AD%E7%9A%84JDK8%E5%8F%8A%E5%90%8E%E7%BB%AD%E7%9A%84%E9%87%8D%E8%A6%81%E6%96%B0%E7%89%B9%E6%80%A7.html><link rel=next href=../20.%20%EF%BC%88%E8%A1%A5%E5%85%85%EF%BC%89JSON%E5%9C%A8%E5%90%8E%E7%AB%AF%E7%9A%84%E5%BA%94%E7%94%A8/20.%20%EF%BC%88%E8%A1%A5%E5%85%85%EF%BC%89JSON%E5%9C%A8%E5%90%8E%E7%AB%AF%E7%9A%84%E5%BA%94%E7%94%A8.html><link rel=icon href=../../images/favicon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.12"><title>Java中的Junit、类加载时机与机制、反射、注解及枚举 - 柯懒的知识库</title><link rel=stylesheet href=../../assets/stylesheets/main.2afb09e1.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.06af60db.min.css><link rel=stylesheet href=../../css/timeline.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/katex.min.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-9XWRGNRRSY"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-9XWRGNRRSY",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-9XWRGNRRSY",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script><link rel=stylesheet href=../../stylesheets/colors.min.css><link rel=stylesheet href=../../stylesheets/theme2.min.css media="screen and (max-width: 767px)"><link rel=stylesheet href=../../stylesheets/theme2.min.css media="screen and (min-width: 768px) and (max-width: 1199px)"><link rel=stylesheet href=../../stylesheets/theme1.min.css media="screen and (min-width: 1200px)"><link rel=stylesheet href=../../stylesheets/print.min.css><!-- 字体样式表 --><link rel=stylesheet href=../../stylesheets/font-dongguanti.min.css id=font-dongguanti><link rel=stylesheet href=../../stylesheets/font-oppoti.min.css id=font-oppoti disabled><link rel=stylesheet href=../../stylesheets/font-jiangchengti.min.css id=font-jiangchengti disabled><link rel=stylesheet href=../../stylesheets/font-lxgw.min.css id=font-lxgw disabled><script src=https://cdn.jsdelivr.net/npm/mermaid@11.5.0/dist/mermaid.min.js></script><style>
    @import url("https://static.zeoseven.com/zsft/2/main/result.css");
    /* 江城黑体备用 */
    @import url("https://fontsapi.zeoseven.com/194/main/result.css");
    /* OPPO Sans主字体 */
    @import url("https://fonts.cdnfonts.com/css/opposans");
    /* Dejavu Sans Mono */
    @import url('https://fonts.cdnfonts.com/css/dejavu-sans-mono');
    /* 寒蝉团圆体 Sans */
    @import url("https://fontsapi.zeoseven.com/70/main/result.css");
    /* 上图东观体 */
    @import url("https://fontsapi.zeoseven.com/488/main/result.css");

    @font-face {
        font-family: "OPPOSans";
    }

    @font-face {
        font-family: "JiangChengHeiTi 400W";
    }

    @font-face {
        font-family: "LXGW ZhenKai";
    }

    @font-face {
        font-family: 'DejaVu Sans Mono';
    }

    /* JetBrains Mono字体 */
    @font-face {
        font-family: "ZSFT-hk";
        src: url("https://static.zeoseven.com/zsft/hk/main.woff2") format("woff2"),
            url("https://static-host.zeoseven.com/zsft/hk/main.woff2") format("woff2");
    }

    @font-face {
        font-family: "寒蝉团圆体 Sans";
    }

    @font-face {
        font-family: "STDongGuanTi";
    }

    .md-header__topic .md-ellipsis {
        font-family: "寒蝉团圆体 Sans" !important;
    }

    :root {
        --md-text-font: "STDongGuanTi", "OPPOSans", "JiangChengHeiTi 400W", sans-serif;
        --md-header-font: "LXGW ZhenKai", sans-serif;
        --md-code-font: "DejaVu Sans Mono", "ZSFT-hk";
        --code-font-color: var(--text-code);
    }

    h1+div>p {
        font-family: var(--md-header-font);
    }

    @media screen and (max-width: 1199px) {

        
        /* 隐藏功能区的主题切换按钮 */
        .theme-switcher {
            display: none !important;
        }
    }

    /* 右侧固定功能条样式 */
    .floating-toolbar {
        position: fixed !important;
        top: 50% !important;
        right: 0 !important;
        transform: translateY(-50%) !important;
        z-index: 99999 !important;
        font-family: var(--md-text-font) !important;
        background: #ffffff !important;
        border: 1px solid #eee !important;
        border-right: none !important;
        border-radius: 12px 0 0 12px !important;
        box-shadow: -4px 0 20px rgba(0, 0, 0, 0.1) !important;
        padding: 8px 0 !important;
        min-width: 60px !important;
        transition: all 0.3s ease !important;
        display: block !important;
        visibility: visible !important;
        opacity: 1 !important;
        width: auto !important;
        height: auto !important;
        max-width: none !important;
        max-height: none !important;
        overflow: visible !important;
    }

    .floating-toolbar:hover {
        box-shadow: -6px 0 30px var(--shadow-strong);
        transform: translateY(-50%) translateX(-2px);
    }

    /* 功能条项目 */
    .toolbar-item {
        display: flex;
        flex-direction: column !important;
        align-items: center !important;
        padding: 12px 8px !important;
        cursor: pointer !important;
        transition: all 0.3s ease !important;
        position: relative !important;
        border-bottom: 1px solid #eee !important;
        background: transparent !important;
        color: #333 !important;
        width: auto !important;
        height: auto !important;
        visibility: visible !important;
        opacity: 1 !important;
    }

    .toolbar-item:last-child {
        border-bottom: none;
    }

    .toolbar-item:hover {
        background: var(--primary-blue-light);
        transform: translateX(-2px);
    }

    .toolbar-item.active {
        background: var(--primary-blue-medium);
        color: var(--primary-blue);
    }

    /* 功能条图标 */
    .toolbar-icon {
        font-size: 20px !important;
        line-height: 1 !important;
        margin-bottom: 4px !important;
        transition: all 0.3s ease !important;
        display: block !important;
        visibility: visible !important;
        opacity: 1 !important;
        color: #333 !important;
    }

    .toolbar-item:hover .toolbar-icon {
        transform: scale(1.1) !important;
    }

    /* SVG图标样式 */
    .theme-icon {
        width: 20px !important;
        height: 20px !important;
        fill: currentColor !important;
        transition: all 0.3s ease !important;
    }

    .toolbar-item:hover .theme-icon {
        fill: var(--primary-blue) !important;
    }

    /* 返回顶部SVG图标样式 */
    .back-to-top-icon {
        width: 20px !important;
        height: 20px !important;
        fill: currentColor !important;
        transition: all 0.3s ease !important;
    }

    .toolbar-item:hover .back-to-top-icon {
        fill: var(--primary-blue) !important;
    }

    /* 字体切换SVG图标样式 */
    .font-icon {
        width: 20px !important;
        height: 20px !important;
        fill: currentColor !important;
        transition: all 0.3s ease !important;
    }

    .toolbar-item:hover .font-icon {
        fill: var(--primary-blue) !important;
    }

    /* 功能条标签 */
    .toolbar-label {
        font-size: 11px !important;
        font-weight: 500 !important;
        color: #666 !important;
        text-align: center !important;
        line-height: 1.2 !important;
        transition: all 0.3s ease !important;
        display: block !important;
        visibility: visible !important;
        opacity: 1 !important;
    }

    .toolbar-item:hover .toolbar-label {
        color: var(--text-primary);
    }

    /* 字体切换功能特殊样式 */
    .font-switcher {
        position: relative;
    }

    .font-dropdown-toolbar {
        position: absolute;
        right: 100%;
        top: 0;
        margin-right: 8px;
        min-width: 120px;
        opacity: 0;
        visibility: hidden;
        transform: translateX(10px);
        transition: all 0.3s ease;
        z-index: 1001;
    }

    .font-switcher:hover .font-dropdown-toolbar,
    .font-dropdown-toolbar.active {
        opacity: 1;
        visibility: visible;
        transform: translateX(0);
    }

    .font-current-toolbar {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 8px 12px;
        background: var(--bg-white);
        border: 1px solid var(--border-light);
        border-radius: 8px;
        cursor: pointer;
        font-size: 13px;
        color: var(--text-primary);
        transition: all 0.2s ease;
        box-shadow: 0 2px 8px var(--shadow-light);
        white-space: nowrap;
    }

    .font-current-toolbar:hover {
        border-color: var(--primary-blue);
        background: var(--primary-blue-light);
        box-shadow: 0 4px 12px var(--shadow-primary-medium);
    }

    .current-font-name-toolbar {
        font-weight: 500;
        margin-right: 8px;
    }

    .dropdown-arrow-icon {
        width: 12px !important;
        height: 12px !important;
        fill: currentColor !important;
        color: var(--text-secondary) !important;
        transition: transform 0.3s ease !important;
    }

    .font-dropdown-toolbar.active .dropdown-arrow-icon {
        transform: rotate(180deg) !important;
    }

    .font-options-toolbar {
        position: absolute;
        top: 100%;
        left: 0;
        right: 0;
        background: var(--bg-white);
        border: 1px solid var(--border-light);
        border-radius: 8px;
        box-shadow: 0 4px 12px var(--shadow-strong);
        z-index: 1002;
        opacity: 0;
        visibility: hidden;
        transform: translateY(-10px);
        transition: all 0.3s ease;
        margin-top: 4px;
        max-height: 150px;
        overflow-y: auto;
    }

    .font-dropdown-toolbar.active .font-options-toolbar {
        opacity: 1;
        visibility: visible;
        transform: translateY(0);
    }

    .font-option-toolbar {
        padding: 8px 12px;
        cursor: pointer;
        font-size: 13px;
        color: var(--text-primary);
        transition: all 0.2s ease;
        border-bottom: 1px solid var(--border-light);
        white-space: nowrap;
    }

    .font-option-toolbar:last-child {
        border-bottom: none;
        border-radius: 0 0 8px 8px;
    }

    .font-option-toolbar:first-child {
        border-radius: 8px 8px 0 0;
    }

    .font-option-toolbar:hover {
        background: var(--primary-blue-light);
        color: var(--text-primary-blue);
    }

    .font-option-toolbar.selected {
        background: var(--primary-blue-medium);
        color: var(--primary-blue);
        font-weight: 500;
    }

    /* 独立的切换按钮样式 */
    .toolbar-toggle-btn {
        position: fixed !important;
        top: 50% !important;
        right: 60px !important;
        transform: translateY(-50%) !important;
        width: 30px !important;
        height: 60px !important;
        background: #ffffff !important;
        border: 1px solid #eee !important;
        border-right: none !important;
        border-radius: 8px 0 0 8px !important;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        cursor: pointer !important;
        transition: all 0.3s ease !important;
        box-shadow: -2px 0 10px rgba(0, 0, 0, 0.1) !important;
        z-index: 99999 !important;
    }

    .toolbar-toggle-btn:hover {
        background: var(--primary-blue-light) !important;
        transform: translateY(-50%) translateX(-2px) !important;
        box-shadow: -4px 0 15px rgba(0, 0, 0, 0.15) !important;
    }

    .toggle-icon {
        font-size: 16px !important;
        color: #666 !important;
        transition: all 0.3s ease !important;
        line-height: 1 !important;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
    }

    .toggle-arrow-icon {
        width: 16px !important;
        height: 16px !important;
        fill: currentColor !important;
        transition: all 0.3s ease !important;
    }

    .toolbar-toggle-btn:hover .toggle-icon {
        color: var(--primary-blue) !important;
        transform: scale(1.1) !important;
    }

    .toolbar-toggle-btn:hover .toggle-arrow-icon {
        fill: var(--primary-blue) !important;
    }

    /* 功能条隐藏状态 */
    .floating-toolbar.hidden {
        transform: translateY(-50%) translateX(100%) !important;
        opacity: 0 !important;
        visibility: hidden !important;
    }

    /* 切换按钮在功能条隐藏时的状态 */
    .toolbar-toggle-btn.toolbar-hidden {
        right: 0px !important;
        background: var(--border-white) !important;
        border-color: var(--border-white) !important;
        border-radius: 8px 0 0 8px !important;
    }

    .toolbar-toggle-btn.toolbar-hidden .toggle-icon {
        color: black !important;
        transform: rotate(180deg) !important;
    }

    .toolbar-toggle-btn.toolbar-hidden .toggle-arrow-icon {
        fill: black !important;
    }

    .toolbar-toggle-btn.toolbar-hidden:hover {
        background: var(--primary-blue-dark) !important;
        transform: translateY(-50%) translateX(-2px) !important;
    }

    /* 响应式设计 */
    @media screen and (max-width: 768px) {
        .floating-toolbar {
            min-width: 50px;
            padding: 6px 0;
        }
        
        .toolbar-item {
            padding: 10px 6px;
        }
        
        .toolbar-icon {
            font-size: 18px;
        }
        
        .theme-icon {
            width: 18px !important;
            height: 18px !important;
        }
        
        .back-to-top-icon {
            width: 18px !important;
            height: 18px !important;
        }
        
        .font-icon {
            width: 18px !important;
            height: 18px !important;
        }
        
        .toggle-arrow-icon {
            width: 14px !important;
            height: 14px !important;
        }
        
        .toolbar-label {
            font-size: 10px;
        }
        
        .font-dropdown-toolbar {
            min-width: 100px;
            margin-right: 6px;
        }
        
        .dropdown-arrow-icon {
            width: 10px !important;
            height: 10px !important;
        }
        
        .font-current-toolbar {
            padding: 6px 10px;
            font-size: 12px;
        }
    }

    @media screen and (max-width: 480px) {
        .floating-toolbar {
            right: -5px;
        }
        
        .toolbar-label {
            display: none;
        }
        
        .toolbar-item {
            padding: 8px 4px;
        }
        
        .theme-icon {
            width: 16px !important;
            height: 16px !important;
        }
        
        .back-to-top-icon {
            width: 16px !important;
            height: 16px !important;
        }
        
        .font-icon {
            width: 16px !important;
            height: 16px !important;
        }
        
        .toggle-arrow-icon {
            width: 12px !important;
            height: 12px !important;
        }
        
        .font-dropdown-toolbar {
            min-width: 90px;
            margin-right: 4px;
        }
        
        .dropdown-arrow-icon {
            width: 8px !important;
            height: 8px !important;
        }
    }

    .md-content article>*:not(.md-top):not(.md-nav) {
        animation: flyIn 0.6s ease-out forwards;
        opacity: 0;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(1) {
        animation-delay: 0.1s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(2) {
        animation-delay: 0.15s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(3) {
        animation-delay: 0.2s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(4) {
        animation-delay: 0.25s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(5) {
        animation-delay: 0.3s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(6) {
        animation-delay: 0.35s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(7) {
        animation-delay: 0.4s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(8) {
        animation-delay: 0.45s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(9) {
        animation-delay: 0.5s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(10) {
        animation-delay: 0.55s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(11) {
        animation-delay: 0.6s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(12) {
        animation-delay: 0.65s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(13) {
        animation-delay: 0.7s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(14) {
        animation-delay: 0.75s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(15) {
        animation-delay: 0.8s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(16) {
        animation-delay: 0.85s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(17) {
        animation-delay: 0.9s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(18) {
        animation-delay: 0.95s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(19) {
        animation-delay: 1s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(20) {
        animation-delay: 1.05s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(n + 21) {
        animation-delay: 1.1s;
    }

    @keyframes flyIn {
        0% {
            opacity: 0;
            transform: translateY(-20px);
        }

        100% {
            opacity: 1;
            transform: translateY(0);
        }
    }

    @media (prefers-reduced-motion: reduce) {
        .md-content article>*:not(.md-top):not(.md-nav) {
            animation: none !important;
            opacity: 1 !important;
            transform: none !important;
        }
    }

    /* 添加超时后强制显示内容 */
    .md-content article>*:not(.md-top):not(.md-nav) {
        animation: flyIn 0.6s ease-out forwards;
        opacity: 0;
        /* 添加延迟后的备用显示 */
        animation-fill-mode: both;
    }

    /* 确保在3秒后强制显示所有内容 */
    .md-content {
        animation: ensureVisible 0.1s ease-out 3s forwards;
    }

    @keyframes ensureVisible {
        to {
            --force-visible: 1;
        }
    }

    .md-content[style*="--force-visible"] article>*:not(.md-top):not(.md-nav) {
        opacity: 1 !important;
        transform: translateY(0) !important;
    }

    li::marker {
        color: var(--primary-blue-semi);
    }

    [data-md-toggle=search]:checked~.md-header .md-search__form {
        border-radius: 8px 8px 0px 0px;
    }

    .md-search__form {
        background: var(--primary-blue-strong);
        border-radius: 20px;
        padding: 2px;
        transition: all 0.3s ease;
    }

    .md-search__input {
        border: none;
        border-radius: 18px;
        padding: 8px 16px;
        font-size: 14px;
        transition: all 0.3s ease;
    }


    .md-search__input:hover,
    .md-search__input:focus {
        outline: none;
        box-shadow: var(--table-shadow);
        border-radius: 18px !important;
    }

    .md-search__output {
        border-radius: 0px 0px 8px 8px !important;
    }

    .md-tooltip {
        background-color: var(--overlay-dark);
        color: var(--text-white);
        border: none;
        border-radius: 6px;
        padding: 8px 12px;
        font-size: 12px;
        box-shadow: var(--shadow-dark);
        position: relative;
    }

    .md-tooltip:after {
        content: '';
        position: absolute;
        top: 100%;
        left: 50%;
        margin-left: -5px;
        width: 0;
        height: 0;
        border-left: 5px solid transparent;
        border-right: 5px solid transparent;
        border-top: 5px solid var(--overlay-dark);
    }

    :not(pre)>code {
        color: var(--text-orange) !important;
        font-weight: normal;
    }

    .highlight .c1,
    .highlight .cm {
        color: var(--text-gray);
    }

    .md-typeset .admonition,
    .md-typeset details {
        border-width: 0;
        border-left-width: 4px;
    }

    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
        font-family: var(--md-header-font);
        color: var(--primary-blue) !important;
    }

    body {
        font-family: var(--md-text-font);
    }

    pre code {
        color: var(--md-code-fg-color) !important;
    }

    .highlight pre {
        background-color: var(--md-code-bg-color) !important;
    }

    .md-typeset code {
        font-family: var(--md-code-font), var(--md-text-font);
    }

    .md-tabs__item.md-tabs__item--active {
        border-bottom: 2px solid var(--primary-blue-semi);
    }

    .md-tabs__list>.md-tabs__item--active>.md-tabs__link {
        color: var(--primary-blue-semi) !important;
    }

    .timeline-content::before {
        background-color: var(--bg-gray-light);
    }

    .timeline-card {
        background-color: var(--bg-gray-light) !important;
    }

    .changelog-content a {
        color: var(--text-blue) !important;
        word-break: break-word;
    }

    .changelog-content a:focus,
    .changelog-content a:hover {
        color: var(--text-teal) !important;
    }

    .changelog-type-pageupdate {
        background-color: var(--primary-blue-semi) !important;
    }

    .md-footer-runtime {
        position: relative;
        z-index: 3;
        margin: 0.5rem 0;
        padding: 0.4rem 0;
        font-size: 0.7rem;
        line-height: 1.6;
        color: var(--md-footer-fg-color--light);
        display: flex;
        align-items: center;
    }

    ::selection {
        background: var(--primary-blue-strong);
    }

    html {
        scroll-behavior: smooth !important;
        /* 强制启用平滑滚动 */
        scroll-padding-top: 53px;
        /* 设置滚动偏移量,避免标题被导航栏遮挡 */
    }

    strong {
        color: var(--text-purple);
    }

    a[href^="#"],
    a[href*="/#"] {
        scroll-behavior: smooth !important;
    }

    .custom-tooltip {
        position: relative;
        display: inline-block;
        cursor: help;
        color: var(--primary-blue-semi);
        border-bottom: 1px dashed var(--primary-blue-semi);
        text-decoration: none !important;
    }

    .custom-tooltip::before {
        content: attr(data-title);
        position: absolute;
        width: 300px;
        background-color: var(--overlay-dark);
        color: var(--text-white);
        text-align: left;
        padding: 10px;
        border-radius: 6px;
        bottom: 125%;
        /* 定位在链接上方 */
        left: 50%;
        transform: translateX(-50%);
        z-index: 99999;
        /* 确保显示在最上层 */
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.3s;
        font-weight: normal;
        font-size: 14px;
        line-height: 1.5;
        pointer-events: none;
        box-shadow: var(--shadow-dark);
        word-wrap: break-word;
        white-space: normal;
    }

    .custom-tooltip::after {
        content: "";
        position: absolute;
        bottom: 100%;
        left: 50%;
        margin-left: -5px;
        border-width: 5px;
        border-style: solid;
        border-color: var(--overlay-dark) transparent transparent transparent;
        z-index: 99999;
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.3s;
        pointer-events: none;
    }

    .custom-tooltip:hover::before {
        opacity: 1;
        visibility: visible;
    }

    .custom-tooltip:hover::after {
        opacity: 1;
        visibility: visible;
    }

    /* 修改移动设备上的 tooltip 样式，确保不会溢出屏幕 */
    @media (max-width: 767px) {
        .custom-tooltip::before {
            width: calc(100vw - 40px);
            max-width: 250px;
            white-space: normal;
            font-size: 14px;
            left: 50%;
            transform: translateX(-50%);
            bottom: 130%;
            /* 确保不会超出屏幕边缘 */
            box-sizing: border-box;

            /* 新增：定位逻辑调整，防止溢出 */
            position: fixed;
            top: auto;
            bottom: auto;
            left: 20px;
            /* 距离左边缘固定距离 */
            right: 20px;
            /* 距离右边缘固定距离 */
            transform: none;
            margin-top: -120px;
            /* 在目标元素上方显示，可根据需要调整 */
            width: auto;
            /* 宽度由left和right决定 */
        }

        /* 新增：处理靠近页面底部的 tooltip */
        .custom-tooltip:hover::before {
            max-height: 80vh;
            /* 最大高度限制 */
            overflow-y: auto;
            /* 内容过多时可滚动 */
        }
    }

    .md-content a.custom-tooltip::after {
        display: none !important;
    }

    @media screen and (max-width: 767px) {

        /* 移除可能导致问题的现有样式 */
        .md-typeset .arithmatex {
            max-width: 100%;
            overflow-x: hidden;
            text-overflow: ellipsis;
        }

        /* 修改为更有效的样式 */
        .katex-display {
            overflow-x: auto;
            overflow-y: hidden;
            max-width: 100%;
            padding: 0.25em 0;
        }

        /* 对于行内公式的新样式 */
        .katex {
            font-size: 1em !important;
            /* 减小字体大小 */
        }

        /* 调整整体数学公式容器的样式 */
        .md-typeset .arithmatex {
            max-width: 100% !important;
            overflow-x: auto;
            padding: 0.1em 0;
            margin: 0;
        }

        /* 确保行内公式不破坏布局 */
        .katex-inline {
            display: inline-block;
            max-width: 100%;
            overflow-x: auto;
            vertical-align: middle;
            white-space: normal;
            line-break: anywhere;
        }

        /* 添加淡出效果指示可滚动 */
        .katex-display::after {
            content: "";
            position: absolute;
            right: 0;
            top: 0;
            height: 100%;
            width: 20px;
            background: linear-gradient(to right,
                    rgba(255, 255, 255, 0),
                    rgba(255, 255, 255, 0.7));
            pointer-events: none;
        }
    }

    /* 头像样式 - 增强版，添加悬浮区域控制 */
    .header-avatar {
        display: inline-flex;
        align-items: center;
        margin-right: 0.8rem;
        position: relative;
        z-index: 1;
        /* 添加一个内边距以增加可点击区域，但不会影响布局 */
        padding: 3px;
    }

    .header-avatar img {
        width: 36px;
        height: 36px;
        border-radius: 50%;
        object-fit: cover;
        border: 2px solid #fff;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
        transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
        position: relative;
        z-index: 5;
    }

    /* 下拉菜单样式 - 增强版，改进悬浮区域控制 */
    .avatar-dropdown {
        position: absolute;
        top: 100%;
        left: 50%;
        transform: translateX(-50%) translateY(25px) scale(0.95);
        background-color: var(--bg-white);
        border-radius: 12px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.18);
        padding: 45px 0 8px 0;
        /* 增加更多顶部内边距 */
        min-width: 140px;
        opacity: 0;
        visibility: hidden;
        transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
        z-index: 4;
        /* 低于头像 */
        margin-top: -10px;
        /* 让菜单上移覆盖头像下半部分 */
        /* 添加一个缓冲区，防止鼠标离开时闪烁 */
        pointer-events: none;
    }

    /* 悬停效果，修改触发条件和过渡延迟 */
    .header-avatar:hover .avatar-dropdown {
        opacity: 1;
        visibility: visible;
        transform: translateX(-50%) translateY(15px) scale(1);
        /* 添加延迟以防止闪烁 */
        transition-delay: 0.05s;
        pointer-events: auto;
    }

    /* 添加间隙区域保持悬停状态 */
    .avatar-dropdown::after {
        content: "";
        position: absolute;
        top: -20px;
        /* 创建顶部缓冲区 */
        left: 0;
        width: 100%;
        height: 20px;
        background: transparent;
    }

    .header-avatar:hover img {
        transform: scale(1.5) translateY(18px);
        /* 放大并稍微向下移动 */
        box-shadow: 0 6px 16px rgba(77, 166, 218, 0.35);
        border-color: var(--primary-blue-semi);
        /* 添加延迟以防止闪烁 */
        transition-delay: 0s;
    }

    /* 菜单三角形指示器 - 隐藏，因为视觉上头像已经作为指示器 */
    .avatar-dropdown::before {
        display: none;
    }

    /* 菜单项样式 */
    .avatar-dropdown-item {
        display: block;
        padding: 10px 16px;
        color: var(--text-primary);
        font-size: 14px;
        text-decoration: none;
        transition: all 0.25s ease;
        text-align: center;
        position: relative;
        white-space: nowrap;
    }

    .avatar-dropdown p {
        padding: 10px 16px;
        color: var(--text-primary);
        font-size: 16px;
        text-align: center;
        white-space: nowrap;
    }

    .avatar-dropdown-item:hover {
        background-color: rgba(77, 166, 218, 0.08);
        color: var(--primary-blue-semi);
    }

    .avatar-dropdown-item:hover::after {
        content: "";
        position: absolute;
        left: 8px;
        width: 3px;
        height: 70%;
        background: var(--primary-blue-semi);
        border-radius: 2px;
        top: 15%;
    }

    .avatar-dropdown-divider {
        height: 1px;
        background-color: rgba(0, 0, 0, 0.06);
        margin: 4px 8px;
    }

    /* 响应式设计调整 */
    @media screen and (max-width: 1199px) {
        .header-avatar {
            margin-right: 0.5rem;
        }
    }

    /* 响应式设计调整 */
    @media screen and (max-width: 1200px) {
        .header-avatar {
            margin-right: 0.3rem;
            padding: 2px;
        }

        .header-avatar img {
            width: 32px;
            height: 32px;
        }

        /* 调整菜单位置，靠左侧显示 */
        .avatar-dropdown {
            /* 调整left确保显示在左侧 */
            left: -120px;
            transform: translateX(0) translateY(25px) scale(0.95);
            padding-top: 15px;
            margin-top: 0;
            min-width: 130px;
            position: absolute;
            z-index: 100;
        }

        /* 点击时的行为，而不是悬停 */
        .header-avatar:hover .avatar-dropdown {
            transform: translateX(0) translateY(5px) scale(1);
        }

        /* 移动端头像不放大，防止页面移动 */
        .header-avatar:hover img {
            transform: none;
            border-color: var(--primary-blue-semi);
            box-shadow: 0 4px 12px rgba(77, 166, 218, 0.3);
        }

        /* 调整导航栏布局 */
        .md-header__inner {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        /* 确保下拉菜单不遮挡其他元素 */
        .avatar-dropdown {
            max-width: 85vw;
        }
    }

    ::-webkit-scrollbar {
        width: 8px;
        height: 8px;
    }

    ::-webkit-scrollbar-track {
        background: #f1f1f1;
        border-radius: 4px;
    }

    ::-webkit-scrollbar-thumb {
        background: #ccc;
        border-radius: 4px;
    }

    ::-webkit-scrollbar-thumb:hover {
        background: #999;
    }

    /* 主题切换蒙版 - 优化结构和性能 */
    .theme-transition-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: var(--bg-white);
        z-index: 100000;
        opacity: 0;
        visibility: hidden;
        pointer-events: none;
        display: flex;
        align-items: center;
        justify-content: center;
        /* 简化过渡效果，提高性能 */
        transition: opacity 0.3s ease-out, visibility 0.3s ease-out,
            background-color 0.3s ease-out, backdrop-filter 0.3s ease-out;
        backdrop-filter: blur(0px);
    }

    .theme-transition-overlay.active {
        opacity: 1;
        visibility: visible;
        pointer-events: all;
        backdrop-filter: blur(5px);
    }

    /* 主题切换内容容器 - 整合样式 */
    .theme-transition-content {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        gap: 20px;
        transform: scale(0.9);
        opacity: 0;
        transition: transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1),
            opacity 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
    }

    .theme-transition-overlay.active .theme-transition-content {
        transform: scale(1);
        opacity: 1;
    }

    /* 简化加载图标结构，移除不必要的嵌套 */
    .theme-transition-spinner {
        width: 50px;
        height: 50px;
        border: 5px solid rgba(77, 166, 218, 0.2);
        border-top-color: var(--primary-blue-semi);
        border-radius: 50%;
        animation: none;
        transition: opacity 0.3s ease;
    }

    .theme-transition-overlay.active .theme-transition-spinner {
        animation: spin 1s linear infinite;
    }

    @keyframes spin {
        to {
            transform: rotate(360deg);
        }
    }

    /* 主题切换文字样式 */
    .theme-transition-text {
        font-family: var(--md-text-font);
        color: var(--primary-blue-semi);
        font-size: 16px;
        font-weight: 500;
        text-align: center;
        margin-top: 10px;
    }

    /* 页脚爱情宣言样式 */
    .md-footer-love {
        position: relative;
        font-family: var(--md-header-font) !important;
        font-size: 0.9rem;
        line-height: 1.6;
        margin: 0.5rem 0;
        padding: 0.5rem 1rem;
        color: rgba(255, 255, 255, 0.85);
        text-align: center;
        border-radius: 8px;
        background: linear-gradient(135deg,
                rgba(255, 255, 255, 0.1),
                rgba(255, 255, 255, 0.05));
        backdrop-filter: blur(4px);
        transition: all 0.4s ease;
        overflow: hidden;
        border-left: 3px solid rgba(255, 182, 193, 0.6);
    }

    .md-footer-love:hover {
        background: linear-gradient(135deg,
                rgba(255, 182, 193, 0.2),
                rgba(255, 255, 255, 0.1));
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(255, 182, 193, 0.15);
    }

    /* 添加闪烁星星效果 */
    .md-footer-love::before,
    .md-footer-love::after {
        content: "★";
        position: absolute;
        opacity: 0;
        font-size: 0.8rem;
        color: rgba(255, 223, 223, 0.8);
        animation: twinkle 3s ease-in-out infinite alternate;
    }

    .md-footer-love::before {
        left: 0.5rem;
        top: 0.4rem;
        animation-delay: 0s;
    }

    .md-footer-love::after {
        right: 0.5rem;
        top: 0.4rem;
        animation-delay: 1.5s;
    }

    @keyframes twinkle {
        0% {
            opacity: 0.3;
            transform: scale(0.8);
        }

        50% {
            opacity: 0.9;
            transform: scale(1.2);
        }

        100% {
            opacity: 0.3;
            transform: scale(0.8);
        }
    }

    /* 名字高亮显示 */
    .love-highlight {
        font-weight: 500;
        background: linear-gradient(120deg, #ffb6c1, #ffc0cb);
        background-clip: text;
        -webkit-background-clip: text;
        color: transparent;
        padding: 0 0.2rem;
        position: relative;
        white-space: nowrap;
    }

    /* 添加心跳动画效果 */
    .love-heart {
        display: inline-block;
        font-size: 0.9em;
        color: rgba(255, 182, 193, 0.9);
        transform-origin: center;
        margin: 0 0.2rem;
        animation: heartbeat 1.5s ease-in-out infinite;
    }

    @keyframes heartbeat {
        0% {
            transform: scale(1);
        }

        15% {
            transform: scale(1.25);
        }

        30% {
            transform: scale(1);
        }

        45% {
            transform: scale(1.25);
        }

        60% {
            transform: scale(1);
        }

        100% {
            transform: scale(1);
        }
    }

    /* 添加响应式样式 - 平板设备 */
    @media screen and (max-width: 1199px) {
        .md-footer-love {
            font-size: 0.8rem;
            padding: 0.4rem 0.8rem;
            margin: 0.4rem 0;
        }

        .md-footer-love::before,
        .md-footer-love::after {
            font-size: 0.7rem;
        }
    }

    /* 添加响应式样式 - 移动设备 */
    @media screen and (max-width: 767px) {
        .md-footer-love {
            font-size: 0.75rem;
            padding: 0.3rem 0.5rem;
            margin: 0.3rem 0;
            border-radius: 6px;
            max-width: 90%;
            margin-left: auto;
            margin-right: auto;
            border-left-width: 2px;
        }

        .md-footer-love:hover {
            transform: translateY(-1px);
            box-shadow: 0 2px 8px rgba(255, 182, 193, 0.12);
        }

        .md-footer-love::before,
        .md-footer-love::after {
            font-size: 0.6rem;
        }

        .love-heart {
            font-size: 0.8em;
        }

        /* 在非常小的屏幕上隐藏星星效果 */
        @media screen and (max-width: 360px) {

            .md-footer-love::before,
            .md-footer-love::after {
                display: none;
            }
        }
    }

    /* Atom One Light 语法高亮样式 - 仅覆盖代码块语法高亮 */
    .highlight .hll {
        background-color: var(--code-bg) !important;
    }

    .highlight .c {
        color: var(--code-comment) !important;
    }

    /* Comment */
    .highlight .err {
        color: var(--code-string) !important;
    }

    /* Error */
    .highlight .k {
        color: var(--code-keyword) !important;
    }

    /* Keyword */
    .highlight .l {
        color: var(--code-number) !important;
    }

    /* Literal */
    .highlight .n {
        color: var(--code-text) !important;
    }

    /* Name */
    .highlight .o {
        color: var(--code-text) !important;
    }

    /* Operator */
    .highlight .p {
        color: var(--code-text) !important;
    }

    /* Punctuation */
    .highlight .ch {
        color: var(--code-comment) !important;
    }

    /* Comment.Hashbang */
    .highlight .cm {
        color: var(--code-comment) !important;
    }

    /* Comment.Multiline */
    .highlight .cp {
        color: var(--code-keyword) !important;
    }

    /* Comment.Preproc */
    .highlight .cpf {
        color: var(--code-string) !important;
    }

    /* Comment.PreprocFile */
    .highlight .c1 {
        color: var(--code-comment) !important;
    }

    /* Comment.Single */
    .highlight .cs {
        color: var(--code-comment) !important;
    }

    /* Comment.Special */
    .highlight .gd {
        color: var(--code-string) !important;
    }

    /* Generic.Deleted */
    .highlight .ge {}

    /* Generic.Emph */
    .highlight .gr {
        color: var(--code-string) !important;
    }

    /* Generic.Error */
    .highlight .gh {
        color: var(--code-function) !important;
        font-weight: bold !important;
    }

    /* Generic.Heading */
    .highlight .gi {
        color: var(--code-string) !important;
    }

    /* Generic.Inserted */
    .highlight .go {
        color: var(--code-text) !important;
    }

    /* Generic.Output */
    .highlight .gp {
        color: var(--code-text) !important;
    }

    /* Generic.Prompt */
    .highlight .gs {
        font-weight: bold !important;
    }

    /* Generic.Strong */
    .highlight .gu {
        color: var(--code-function) !important;
        font-weight: bold !important;
    }

    /* Generic.Subheading */
    .highlight .gt {
        color: var(--code-string) !important;
    }

    /* Generic.Traceback */
    .highlight .kc {
        color: var(--code-keyword) !important;
    }

    /* Keyword.Constant */
    .highlight .kd {
        color: var(--code-keyword) !important;
    }

    /* Keyword.Declaration */
    .highlight .kn {
        color: var(--code-keyword) !important;
    }

    /* Keyword.Namespace */
    .highlight .kp {
        color: var(--code-keyword) !important;
    }

    /* Keyword.Pseudo */
    .highlight .kr {
        color: var(--code-keyword) !important;
    }

    /* Keyword.Reserved */
    .highlight .kt {
        color: var(--code-class) !important;
    }

    /* Keyword.Type */
    .highlight .ld {
        color: var(--code-builtin) !important;
    }

    /* Literal.Date */
    .highlight .m {
        color: var(--code-number) !important;
    }

    /* Literal.Number */
    .highlight .s {
        color: var(--code-builtin) !important;
    }

    /* Literal.String */
    .highlight .na {
        color: var(--code-class) !important;
    }

    /* Name.Attribute */
    .highlight .nb {
        color: var(--code-class) !important;
    }

    /* Name.Builtin */
    .highlight .nc {
        color: var(--code-class) !important;
    }

    /* Name.Class */
    .highlight .no {
        color: var(--code-string) !important;
    }

    /* Name.Constant */
    .highlight .nd {
        color: var(--code-function) !important;
    }

    /* Name.Decorator */
    .highlight .ni {
        color: var(--code-text) !important;
    }

    /* Name.Entity */
    .highlight .ne {
        color: var(--code-string) !important;
    }

    /* Name.Exception */
    .highlight .nf {
        color: var(--code-function) !important;
    }

    /* Name.Function */
    .highlight .nl {
        color: var(--code-text) !important;
    }

    /* Name.Label */
    .highlight .nn {
        color: var(--code-text) !important;
    }

    /* Name.Namespace */
    .highlight .nx {
        color: var(--code-function) !important;
    }

    /* Name.Other */
    .highlight .py {
        color: var(--code-text) !important;
    }

    /* Name.Property */
    .highlight .nt {
        color: var(--code-variable) !important;
    }

    /* Name.Tag */
    .highlight .nv {
        color: var(--code-string) !important;
    }

    /* Name.Variable */
    .highlight .ow {
        color: var(--code-keyword) !important;
    }

    /* Operator.Word */
    .highlight .w {
        color: var(--code-text) !important;
    }

    /* Text.Whitespace */
    .highlight .mb {
        color: var(--code-number) !important;
    }

    /* Literal.Number.Bin */
    .highlight .mf {
        color: var(--code-number) !important;
    }

    /* Literal.Number.Float */
    .highlight .mh {
        color: var(--code-number) !important;
    }

    /* Literal.Number.Hex */
    .highlight .mi {
        color: var(--code-number) !important;
    }

    /* Literal.Number.Integer */
    .highlight .mo {
        color: var(--code-number) !important;
    }

    /* Literal.Number.Oct */
    .highlight .sa {
        color: var(--code-builtin) !important;
    }

    /* Literal.String.Affix */
    .highlight .sb {
        color: var(--code-builtin) !important;
    }

    /* Literal.String.Backtick */
    .highlight .sc {
        color: var(--code-builtin) !important;
    }

    /* Literal.String.Char */
    .highlight .dl {
        color: var(--code-builtin) !important;
    }

    /* Literal.String.Delimiter */
    .highlight .sd {
        color: var(--code-comment) !important;
    }

    /* Literal.String.Doc */
    .highlight .s2 {
        color: var(--code-builtin) !important;
    }

    /* Literal.String.Double */
    .highlight .se {
        color: var(--code-function) !important;
    }

    /* Literal.String.Escape */
    .highlight .sh {
        color: var(--code-builtin) !important;
    }

    /* Literal.String.Heredoc */
    .highlight .si {
        color: var(--code-function) !important;
    }

    /* Literal.String.Interpol */
    .highlight .sx {
        color: var(--code-builtin) !important;
    }

    /* Literal.String.Other */
    .highlight .sr {
        color: var(--code-builtin) !important;
    }

    /* Literal.String.Regex */
    .highlight .s1 {
        color: var(--code-builtin) !important;
    }

    /* Literal.String.Single */
    .highlight .ss {
        color: var(--code-builtin) !important;
    }

    /* Literal.String.Symbol */
    .highlight .bp {
        color: var(--code-class) !important;
    }

    /* Name.Builtin.Pseudo */
    .highlight .fm {
        color: var(--code-function) !important;
    }

    /* Name.Function.Magic */
    .highlight .vc {
        color: var(--code-string) !important;
    }

    /* Name.Variable.Class */
    .highlight .vg {
        color: var(--code-string) !important;
    }

    /* Name.Variable.Global */
    .highlight .vi {
        color: var(--code-string) !important;
    }

    /* Name.Variable.Instance */
    .highlight .vm {
        color: var(--code-string) !important;
    }

    /* Name.Variable.Magic */
    .highlight .il {
        color: var(--code-number) !important;
    }

    /* Literal.Number.Integer.Long */

    /* 特殊语言的额外样式调整 */
    .highlight[data-lang="json"] .nt {
        color: var(--code-variable) !important;
    }

    /* JSON keys */
    .highlight[data-lang="yaml"] .na {
        color: var(--code-variable) !important;
    }

    /* YAML keys */
    .highlight[data-lang="yml"] .na {
        color: var(--code-variable) !important;
    }

    /* YAML keys */
    .highlight[data-lang="xml"] .nt {
        color: var(--code-variable) !important;
    }

    /* XML tags */
    .highlight[data-lang="html"] .nt {
        color: var(--code-variable) !important;
    }

    /* HTML tags */

    /* CSS特殊处理 */
    .highlight[data-lang="css"] .nc {
        color: var(--code-class) !important;
    }

    /* CSS class selectors */
    .highlight[data-lang="css"] .nf {
        color: var(--code-function) !important;
    }

    /* CSS functions */
    .highlight[data-lang="css"] .nt {
        color: var(--code-variable) !important;
    }

    /* CSS element selectors */
    .highlight[data-lang="css"] .nd {
        color: var(--code-keyword) !important;
    }

    /* CSS pseudo-classes */

    /* JavaScript特殊处理 */
    .highlight[data-lang="javascript"] .nx {
        color: var(--code-function) !important;
    }

    /* JS functions and variables */
    .highlight[data-lang="js"] .nx {
        color: var(--code-function) !important;
    }

    /* JS functions and variables */

    /* Python特殊处理 */
    .highlight[data-lang="python"] .nd {
        color: var(--code-function) !important;
    }

    /* Python decorators */
    .highlight[data-lang="python"] .nf {
        color: var(--code-function) !important;
    }

    /* Python functions */
    .highlight[data-lang="python"] .nc {
        color: var(--code-class) !important;
    }

    /* Python classes */

    /* Shell/Bash特殊处理 */
    .highlight[data-lang="bash"] .nv {
        color: var(--code-string) !important;
    }

    /* Bash variables */
    .highlight[data-lang="shell"] .nv {
        color: var(--code-string) !important;
    }

    /* Shell variables */
    .highlight[data-lang="sh"] .nv {
        color: var(--code-string) !important;
    }

    /* Shell variables */

    /* C/C++特殊处理 */
    .highlight[data-lang="c"] .kt {
        color: var(--code-keyword) !important;
    }

    /* C types */
    .highlight[data-lang="cpp"] .kt {
        color: var(--code-keyword) !important;
    }

    /* C++ types */
    .highlight[data-lang="c++"] .kt {
        color: var(--code-keyword) !important;
    }

    /* C++ types */

    /* Java特殊处理 */
    .highlight[data-lang="java"] .nc {
        color: var(--code-class) !important;
    }

    /* Java classes */
    .highlight[data-lang="java"] .kt {
        color: var(--code-keyword) !important;
    }

    /* Java types */
</style><script>
    // 字体配置
    const fontConfig = {
        "dongguanti": {
            name: "上图东观体",
            id: "font-dongguanti"
        },
        "oppoti": {
            name: "OPPO Sans",
            id: "font-oppoti"
        },
        "jiangchengti": {
            name: "江城黑体",
            id: "font-jiangchengti"
        },
        "lxgw": {
            name: "霞鹜臻楷",
            id: "font-lxgw"
        }
    };

    // 立即应用保存的字体设置（与主题初始化方式一致）
    (function initFont() {
        const savedFont = localStorage.getItem("preferred-font") || "dongguanti";
        
        // 禁用所有字体样式表
        Object.values(fontConfig).forEach(font => {
            const link = document.getElementById(font.id);
            if (link) {
                link.setAttribute("disabled", "true");
            }
        });
        
        // 启用选中的字体样式表
        const selectedFontLink = document.getElementById(fontConfig[savedFont].id);
        if (selectedFontLink) {
            selectedFontLink.removeAttribute("disabled");
        }
    })();

    document.addEventListener("DOMContentLoaded", () => {
        const savedTheme = localStorage.getItem("preferred-theme") || "theme1";
        const savedFont = localStorage.getItem("preferred-font") || "dongguanti";

        // 初始化功能条字体下拉菜单和字体设置
        updateFontDropdownToolbar(savedFont);
        applyFont(savedFont);
        
        // 初始化功能条状态
        initToolbarState();

        const initialTheme = localStorage.getItem("preferred-theme");
        if (initialTheme) {
            const theme1Link = document.querySelector('link[href*="theme1"]');
            const theme2Link = document.querySelector('link[href*="theme2"]');

            // 关闭过渡动画，直接设置主题
            if (initialTheme === "theme1") {
                theme1Link.removeAttribute("disabled");
                theme2Link.setAttribute("disabled", "true");
            } else {
                theme2Link.removeAttribute("disabled");
                theme1Link.setAttribute("disabled", "true");
            }
        }

        // 添加加载完成后的检测
        setTimeout(() => {
            const hiddenElements = document.querySelectorAll('.md-content article>*[style*="opacity: 0"]');
            hiddenElements.forEach(el => {
                el.style.opacity = '1';
                el.style.transform = 'translateY(0)';
            });
        }, 2000); // 2秒后强制显示所有隐藏元素
    });

    (function initTheme() {
        const savedTheme = localStorage.getItem("preferred-theme");
        if (savedTheme) {
            const theme1Link = document.querySelector('link[href*="theme1"]');
            const theme2Link = document.querySelector('link[href*="theme2"]');
            if (theme1Link && theme2Link) {
                if (savedTheme === "theme1") {
                    theme1Link.removeAttribute("disabled");
                    theme2Link.setAttribute("disabled", "true");
                } else {
                    theme2Link.removeAttribute("disabled");
                    theme1Link.setAttribute("disabled", "true");
                }
            }
        }
    })();

    // 功能条字体下拉菜单功能
    function toggleFontDropdownToolbar() {
        const dropdown = document.querySelector('.font-dropdown-toolbar');
        const isActive = dropdown.classList.contains('active');
        
        if (isActive) {
            dropdown.classList.remove('active');
        } else {
            dropdown.classList.add('active');
        }
    }

    // 功能条字体选择
    function selectFontToolbar(fontKey) {
        // 应用新字体
        applyFont(fontKey);
        
        // 保存字体设置
        localStorage.setItem("preferred-font", fontKey);
        
        // 更新下拉菜单显示
        updateFontDropdownToolbar(fontKey);
        
        // 关闭下拉菜单
        const dropdown = document.querySelector('.font-dropdown-toolbar');
        dropdown.classList.remove('active');
    }

    // 应用字体
    function applyFont(fontKey) {
        // 禁用所有字体样式表
        Object.values(fontConfig).forEach(font => {
            const link = document.getElementById(font.id);
            if (link) {
                link.setAttribute("disabled", "true");
            }
        });
        
        // 启用选中的字体样式表
        const selectedFontLink = document.getElementById(fontConfig[fontKey].id);
        if (selectedFontLink) {
            selectedFontLink.removeAttribute("disabled");
        }
    }

    // 更新功能条字体下拉菜单显示
    function updateFontDropdownToolbar(currentFontKey) {
        const currentFontNameEl = document.querySelector(".current-font-name-toolbar");
        const fontOptions = document.querySelectorAll(".font-option-toolbar");
        
        if (currentFontNameEl) {
            currentFontNameEl.textContent = fontConfig[currentFontKey].name;
        }
        
        // 更新选项的选中状态
        fontOptions.forEach(option => {
            const fontKey = option.getAttribute('data-font');
            if (fontKey === currentFontKey) {
                option.classList.add('selected');
            } else {
                option.classList.remove('selected');
            }
        });
    }

    // 返回顶部功能
    function scrollToTop() {
        window.scrollTo({
            top: 0,
            behavior: 'smooth'
        });
    }

    // 功能条切换功能
    function toggleToolbar() {
        const toolbar = document.getElementById('floatingToolbar');
        const toggleBtn = document.getElementById('toolbarToggleBtn');
        
        if (!toolbar || !toggleBtn) {
            console.error('无法找到功能条或切换按钮元素');
            return;
        }
        
        const isHidden = toolbar.classList.contains('hidden');
        
        if (isHidden) {
            // 显示功能条
            toolbar.classList.remove('hidden');
            toggleBtn.classList.remove('toolbar-hidden');
            localStorage.setItem('toolbar-visible', 'true');
        } else {
            // 隐藏功能条
            toolbar.classList.add('hidden');
            toggleBtn.classList.add('toolbar-hidden');
            localStorage.setItem('toolbar-visible', 'false');
        }
    }

    // 初始化功能条状态
    function initToolbarState() {
        const toolbar = document.getElementById('floatingToolbar');
        const toggleBtn = document.getElementById('toolbarToggleBtn');
        const isVisible = localStorage.getItem('toolbar-visible');
        
        if (!toolbar || !toggleBtn) {
            return;
        }
        
        // 如果之前设置为隐藏，则保持隐藏状态
        if (isVisible === 'false') {
            toolbar.classList.add('hidden');
            toggleBtn.classList.add('toolbar-hidden');
        } else {
            // 默认显示
            toolbar.classList.remove('hidden');
            toggleBtn.classList.remove('toolbar-hidden');
        }
    }

    // 点击外部关闭下拉菜单
    document.addEventListener('click', function(event) {
        const fontDropdown = document.querySelector('.font-dropdown-toolbar');
        
        // 如果点击的不是字体下拉菜单内部，则关闭字体下拉菜单
        const fontSwitcher = document.querySelector('.font-switcher');
        if (fontSwitcher && fontDropdown && !fontSwitcher.contains(event.target)) {
            fontDropdown.classList.remove('active');
        }
    });

    function switchTheme() {
        // 获取当前和目标主题信息
        const currentTheme =
            localStorage.getItem("preferred-theme") || "theme1";
        const newTheme = currentTheme === "theme1" ? "theme2" : "theme1";
        const targetThemeText = newTheme === "theme1" ? "新版主题" : "原生主题";

        // 获取主题样式链接
        const theme1Link = document.querySelector('link[href*="theme1"]');
        const theme2Link = document.querySelector('link[href*="theme2"]');

        if (!theme1Link || !theme2Link) {
            console.error("无法找到主题样式链接");
            return;
        }

        // 创建和添加过渡覆盖层
        const overlay = document.createElement("div");
        overlay.className = "theme-transition-overlay";
        overlay.innerHTML = `
        <div class="theme-transition-content">
            <div class="theme-transition-spinner"></div>
            <div class="theme-transition-text">正在切换到：${targetThemeText}</div>
        </div>
    `;
        document.body.appendChild(overlay);

        // 确保DOM已更新后再添加active类
        requestAnimationFrame(() => {
            // 激活蒙版
            overlay.classList.add("active");

            // 添加适当的延迟以确保蒙版已完全显示
            setTimeout(() => {
                // 切换主题样式
                if (newTheme === "theme1") {
                    theme1Link.removeAttribute("disabled");
                    theme2Link.setAttribute("disabled", "true");
                } else {
                    theme2Link.removeAttribute("disabled");
                    theme1Link.setAttribute("disabled", "true");
                }

                // 保存主题设置
                localStorage.setItem("preferred-theme", newTheme);

                // 给予足够的时间加载主题
                setTimeout(() => {
                    // 平滑淡出效果
                    fadeOutOverlay(overlay);
                }, 2500); // 主题加载时间
            }, 250); // 蒙版显示时间
        });
    }

    // 平滑淡出蒙版
    function fadeOutOverlay(overlay) {
        // 先改变背景色，制造渐变效果
        overlay.style.backgroundColor = "rgba(255, 255, 255, 0.85)";

        // 短暂延迟后淡出
        setTimeout(() => {
            overlay.classList.remove("active");

            // 等待淡出动画完成后移除元素
            setTimeout(() => {
                document.body.removeChild(overlay);
            }, 300);
        }, 150);
    }
</script> <link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../../assets/javascripts/glightbox.min.js"></script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=white data-md-color-accent=teal> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#javajunit class=md-skip> 跳转至 </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=页眉> <a href=../../index.html title=柯懒的知识库 class="md-header__button md-logo" aria-label=柯懒的知识库 data-md-component=logo> <img src=../../assets/logo.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> 柯懒的知识库 </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Java中的Junit、类加载时机与机制、反射、注解及枚举 </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary=white data-md-color-accent=teal aria-label type=radio name=__palette id=__palette_1> </form> <!-- 头像元素 - 直接在HTML中定义 --> <div class=header-avatar> <img src=../../作者/作者.assets/20250206-200653.jpg alt=头像> <div class=avatar-dropdown> <p><strong>柯懒不是柯南</strong></p> <a href=../../作者/联系作者/作者.html class=avatar-dropdown-item>吵醒柯懒</a> <div class=avatar-dropdown-divider></div> <a href=../../作者/关于作者/关于作者.html class=avatar-dropdown-item>柯懒自传</a> <div class=avatar-dropdown-divider></div> <a href=https://github.com/H0308 class=avatar-dropdown-item>柯懒的零食库</a> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=搜索 placeholder=搜索 autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=查找> <button type=reset class="md-search__icon md-icon" title=清空当前内容 aria-label=清空当前内容 tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> 正在初始化搜索引擎 </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> </nav> </header> <!-- 独立的切换按钮 --> <div class=toolbar-toggle-btn id=toolbarToggleBtn onclick=toggleToolbar()> <div class=toggle-icon> <svg class=toggle-arrow-icon viewbox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg width=16 height=16> <path d="M346.538667 1024L170.666667 853.333333l341.333333-341.333333-341.333333-341.333333 175.872-170.666667L853.333333 512z" fill=currentColor></path> </svg> </div> </div> <!-- 右侧固定功能条 - 独立于内容区 --> <div class=floating-toolbar id=floatingToolbar> <!-- 字体切换功能 --> <div class="toolbar-item font-switcher"> <div class=toolbar-icon> <svg class=font-icon viewbox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg width=20 height=20> <path d="M913.408 1024l-66.56 0q-29.696 0-51.2-5.12t-36.864-15.872-26.112-27.136-19.968-37.888q-15.36-38.912-28.16-70.656t-22.016-55.296q-11.264-26.624-20.48-49.152l-254.976 0q-7.168 23.552-17.408 51.2-8.192 23.552-21.504 56.832t-30.72 72.192q-20.48 46.08-47.104 63.488t-60.416 17.408l-70.656 0q-45.056 0-60.928-19.968t2.56-68.096q18.432-46.08 43.008-108.544t52.224-132.608 57.344-143.872 57.344-144.384q65.536-164.864 137.216-343.04 7.168-17.408 18.432-31.744 10.24-11.264 27.136-21.504t42.496-10.24q26.624 0 43.52 10.752t28.16 24.064q12.288 15.36 19.456 33.792 72.704 180.224 138.24 345.088 27.648 70.656 57.344 143.872t56.832 142.336 51.2 129.536 41.472 104.448q14.336 34.816 4.096 62.464t-43.008 27.648zM616.448 634.88l-97.28-347.136-1.024 0-108.544 347.136 206.848 0z" fill=currentColor></path> </svg> </div> <div class=toolbar-label>字体</div> <div class=font-dropdown-toolbar> <div class=font-current-toolbar onclick=toggleFontDropdownToolbar()> <span class=current-font-name-toolbar>东观体</span> <svg class=dropdown-arrow-icon viewbox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg width=12 height=12> <path d="M878.592 250.88q29.696 0 48.128 11.264t24.576 29.696 0 41.472-26.624 45.568q-82.944 92.16-159.744 180.224t-148.48 164.864q-19.456 20.48-45.568 31.744t-53.76 11.776-53.248-8.704-43.008-28.672q-39.936-44.032-82.944-90.112l-88.064-92.16q-43.008-46.08-85.504-90.624t-79.36-86.528q-17.408-19.456-22.528-40.448t1.024-38.4 23.552-28.672 45.056-11.264q35.84 0 98.816-0.512t137.728-0.512l153.6 0 150.528 0 125.952 0 79.872 0z" fill=currentColor></path> </svg> </div> <div class=font-options-toolbar> <div class=font-option-toolbar data-font=dongguanti onclick="selectFontToolbar('dongguanti')">上图东观体</div> <div class=font-option-toolbar data-font=oppoti onclick="selectFontToolbar('oppoti')">OPPO Sans</div> <div class=font-option-toolbar data-font=jiangchengti onclick="selectFontToolbar('jiangchengti')">江城黑体</div> <div class=font-option-toolbar data-font=lxgw onclick="selectFontToolbar('lxgw')">霞鹜臻楷</div> </div> </div> </div> <!-- 主题切换功能 --> <div class="toolbar-item theme-switcher" onclick=switchTheme()> <div class=toolbar-icon> <svg class=theme-icon viewbox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg width=20 height=20> <path d="M876.572788 522.301623c-1.886977 12.375865-9.657964 30.331819-35.880185 45.48903-56.489572 32.697703-150.21828 83.990926-174.010149 96.958262-13.143345 24.431435-66.067718 122.221646-98.141204 178.503487-16.117073 28.124548-36.055171 34.041304-50.030463 34.041304-0.031722 0-0.031722 0-0.031722 0-14.613836 0-29.1806-6.460132-43.234687-19.218714-47.183626-42.643216-125.994576-117.105115-146.013515-136.083351-27.757181-4.732791-138.338718-23.743774-200.584388-35.752272-17.924231-3.533476-32.649608-14.07046-40.372499-29.084409-5.78782-11.256368-10.281157-30.05962 1.471514-55.658647 26.989701-59.047838 74.126254-157.557432 85.957721-182.196599-3.437286-27.117614-16.996093-135.060045-23.760147-198.905142-1.886977-17.460674 3.901867-35.096333 15.829524-48.351218 12.791327-14.278191 30.667463-21.48943 49.854455-19.426445 63.669088 6.332219 173.259042 19.426445 200.584388 22.705118 24.335245-11.879562 121.085776-58.936297 180.133613-86.34146 9.91379-4.573155 19.85828-6.92369 29.596062-6.92369 28.748764 0 52.172243 20.642133 58.328453 51.421136 12.599969 62.997799 30.93864 166.70272 35.639708 193.484689 18.851347 19.682271 91.953272 96.031147 135.060045 143.07151C872.72004 487.125473 879.307062 504.71406 876.572788 522.301623L876.572788 522.301623zM825.375755 499.085876C776.017604 445.314205 687.245791 352.977193 686.365748 352.017332c-2.942005-3.069919-4.956895-6.971785-5.676279-11.208273-0.207731-1.215688-22.193465-127.001509-36.551474-198.936865-0.799202-3.917216-4.285606-16.836457-16.196891-16.836457-3.453658 0-7.30743 1.006933-11.464099 2.942005-67.282383 31.179117-183.955662 88.180342-185.170327 88.771813-3.693112 1.790786-7.850805 2.558265-11.975752 2.01489-1.295506-0.224104-133.63765-16.165168-205.988468-23.424502-0.079818 0-0.207731 0-0.287549 0-7.30743 0-11.128455 2.89391-13.319353 5.40408-3.677762 4.124947-5.644557 9.91379-5.068436 15.110139 7.674796 72.623018 24.255427 202.934922 24.463158 204.325595 0.511653 4.109598-0.159636 8.266267-1.966795 11.960403-0.591471 1.215688-57.657164 120.04712-88.339977 187.201589-3.565199 7.754614-4.41352 14.214746-2.350534 18.131963 1.935072 3.725858 6.588045 5.820566 10.360975 6.53995 70.719668 13.718443 204.644867 36.519752 206.036563 36.727483 4.189416 0.671289 8.058536 2.686179 11.112082 5.580089 1.006933 0.87902 96.414887 91.281983 150.090367 139.889027 8.314363 7.563256 13.143345 8.106632 14.437827 8.106632 3.485381 0 8.314363-4.621251 12.727882-12.391215 36.343743-63.828724 100.011808-181.988868 100.636025-183.155437 1.983167-3.64604 5.004991-6.667863 8.650007-8.650007 1.134847-0.671289 114.418936-62.373583 178.6314-99.516528 8.698103-5.036713 14.278191-10.568706 14.94948-14.854313C834.681702 511.845481 831.49922 505.800811 825.375755 499.085876L825.375755 499.085876zM935.333076 935.670256c-4.157693 4.157693-9.689686 6.299473-15.141862 6.299473-5.548366 0-11.048637-2.142803-15.238053-6.299473l-171.915441-171.915441c-8.362458-8.394181-8.362458-21.98471 0-30.426987 8.394181-8.394181 21.98471-8.394181 30.379914 0l171.915441 171.915441C943.727257 913.684522 943.727257 927.275052 935.333076 935.670256L935.333076 935.670256z" fill=currentColor></path> </svg> </div> <div class=toolbar-label>主题</div> </div> <!-- 返回顶部功能 --> <div class="toolbar-item back-to-top" onclick=scrollToTop()> <div class=toolbar-icon> <svg class=back-to-top-icon viewbox="0 0 1024 1024" xmlns=http://www.w3.org/2000/svg> <path d="M882.688 624.128l-336.896-583.68c-15.872-27.136-54.784-27.136-70.656 0L138.24 624.128c-15.872 27.136 4.096 61.44 35.328 61.44H317.44c22.528 0 40.96 18.432 40.96 40.96v239.616c0 22.528 18.432 40.96 40.96 40.96h223.232c22.528 0 40.96-18.432 40.96-40.96v-239.616c0-22.528 18.432-40.96 40.96-40.96h143.872c30.208 0 50.176-34.304 34.304-61.44z"></path> </svg> </div> <div class=toolbar-label>顶部</div> </div> </div> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=标签 data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../index.html class=md-tabs__link> 主页 </a> </li> <li class=md-tabs__item> <a href=../../%E7%BD%91%E7%AB%99%E4%BB%8B%E7%BB%8D/%E7%BD%91%E7%AB%99%E4%BB%8B%E7%BB%8D.html class=md-tabs__link> 网站介绍 </a> </li> <li class=md-tabs__item> <a href=../../%E7%BD%91%E7%AB%99%E6%97%B6%E9%97%B4%E7%BA%BF/%E7%BD%91%E7%AB%99%E6%97%B6%E9%97%B4%E7%BA%BF.html class=md-tabs__link> 网站时间线 </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../../C%E8%AF%AD%E8%A8%80/index.html class=md-tabs__link> 编程语言 </a> </li> <li class=md-tabs__item> <a href=../../%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/1.%20%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%92%8C%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/1.%20%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E4%B8%8E%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6.html class=md-tabs__link> 数据结构与算法 </a> </li> <li class=md-tabs__item> <a href=../../Linux/1.%20Linux%E5%B8%B8%E7%94%A8%E9%80%89%E9%A1%B9%E5%92%8C%E6%8C%87%E4%BB%A4/1.%20Linux%E5%B8%B8%E7%94%A8%E9%80%89%E9%A1%B9%E5%92%8C%E6%8C%87%E4%BB%A4.html class=md-tabs__link> Linux </a> </li> <li class=md-tabs__item> <a href=../../HTML%E4%B8%8ECSS/HTML%E7%AC%94%E8%AE%B0/HTML%E7%AC%94%E8%AE%B0.html class=md-tabs__link> 前端 </a> </li> <li class=md-tabs__item> <a href=../../MySQL/MySQL%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8/MySQL%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8.html class=md-tabs__link> MySQL </a> </li> <li class=md-tabs__item> <a href=../../JavaEE/Spring/1.%20SpringMVC%E5%9F%BA%E7%A1%80/1.%20SpringMVC%E5%9F%BA%E7%A1%80.html class=md-tabs__link> JavaEE应用开发 </a> </li> <li class=md-tabs__item> <a href=../../%E5%85%B6%E5%AE%83/Shell%E8%84%9A%E6%9C%AC%E8%AF%AD%E8%A8%80/%E5%85%B3%E4%BA%8EShell.html class=md-tabs__link> 扩展知识 </a> </li> <li class=md-tabs__item> <a href=../../%E5%B7%A5%E5%85%B7%E5%B8%AE%E5%8A%A9/vscode%E4%B8%AD%E6%B7%BB%E5%8A%A0%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5/vscode%E4%B8%AD%E6%B7%BB%E5%8A%A0%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5.html class=md-tabs__link> 工具帮助 </a> </li> <li class=md-tabs__item> <a href=../../%E9%A1%B9%E7%9B%AE/1.%20Boost%E5%BA%93%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E/1.%20Boost%E5%BA%93%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E.html class=md-tabs__link> 项目 </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=导航栏 data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../index.html title=柯懒的知识库 class="md-nav__button md-logo" aria-label=柯懒的知识库 data-md-component=logo> <img src=../../assets/logo.png alt=logo> </a> 柯懒的知识库 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../index.html class=md-nav__link> <span class=md-ellipsis> 主页 </span> </a> </li> <li class=md-nav__item> <a href=../../%E7%BD%91%E7%AB%99%E4%BB%8B%E7%BB%8D/%E7%BD%91%E7%AB%99%E4%BB%8B%E7%BB%8D.html class=md-nav__link> <span class=md-ellipsis> 网站介绍 </span> </a> </li> <li class=md-nav__item> <a href=../../%E7%BD%91%E7%AB%99%E6%97%B6%E9%97%B4%E7%BA%BF/%E7%BD%91%E7%AB%99%E6%97%B6%E9%97%B4%E7%BA%BF.html class=md-nav__link> <span class=md-ellipsis> 网站时间线 </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4 checked> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex> <span class=md-ellipsis> 编程语言 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=true> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> 编程语言 </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../C%E8%AF%AD%E8%A8%80/index.html class=md-nav__link> <span class=md-ellipsis> C语言 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../C%2B%2B/index.html class=md-nav__link> <span class=md-ellipsis> C++ </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_3 checked> <label class=md-nav__link for=__nav_4_3 id=__nav_4_3_label tabindex=0> <span class=md-ellipsis> Java </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_3_label aria-expanded=true> <label class=md-nav__title for=__nav_4_3> <span class="md-nav__icon md-icon"></span> Java </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../1.%20Java%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/Java%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html class=md-nav__link> <span class=md-ellipsis> Java基础知识 </span> </a> </li> <li class=md-nav__item> <a href=../2.%20Java%E6%95%B0%E7%BB%84%E7%B1%BB%E5%9E%8B/2.%20Java%E6%95%B0%E7%BB%84%E7%B1%BB%E5%9E%8B.html class=md-nav__link> <span class=md-ellipsis> Java数组类型 </span> </a> </li> <li class=md-nav__item> <a href=../3.%20Java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E4%B8%8E%E6%96%B9%E6%B3%95/3.%20Java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E4%B8%8E%E6%96%B9%E6%B3%95.html class=md-nav__link> <span class=md-ellipsis> Java面向对象与方法 </span> </a> </li> <li class=md-nav__item> <a href=../4.%20Java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E4%B8%8E%E5%B0%81%E8%A3%85/4.%20Java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E4%B8%8E%E5%B0%81%E8%A3%85.html class=md-nav__link> <span class=md-ellipsis> Java面向对象与封装 </span> </a> </li> <li class=md-nav__item> <a href=../5.%20Java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E4%B8%8E%E7%BB%A7%E6%89%BF/5.%20Java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E4%B8%8E%E7%BB%A7%E6%89%BF.html class=md-nav__link> <span class=md-ellipsis> Java面向对象与继承 </span> </a> </li> <li class=md-nav__item> <a href=../6.%20Java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E4%B8%8E%E6%8E%A5%E5%8F%A3/6.%20%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E4%B8%8E%E6%8E%A5%E5%8F%A3.html class=md-nav__link> <span class=md-ellipsis> Java面向对象与接口 </span> </a> </li> <li class=md-nav__item> <a href=../7.%20Java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E4%B8%8E%E5%A4%9A%E6%80%81/7.%20Java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E4%B8%8E%E5%A4%9A%E6%80%81.html class=md-nav__link> <span class=md-ellipsis> Java面向对象与多态 </span> </a> </li> <li class=md-nav__item> <a href=../8.%20Java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E4%B8%8E%E6%9D%83%E9%99%90%E4%BF%AE%E9%A5%B0%E7%AC%A6%E3%80%81final%E3%80%81%E4%BB%A3%E7%A0%81%E5%9D%97%E5%8F%8A%E5%86%85%E9%83%A8%E7%B1%BB/8.%20Java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E4%B8%8E%E6%9D%83%E9%99%90%E4%BF%AE%E9%A5%B0%E7%AC%A6%E3%80%81final%E3%80%81%E4%BB%A3%E7%A0%81%E5%9D%97%E5%8F%8A%E5%86%85%E9%83%A8%E7%B1%BB.html class=md-nav__link> <span class=md-ellipsis> Java面向对象与权限修饰符、final、代码块及内部类 </span> </a> </li> <li class=md-nav__item> <a href=../9.%20Java%E5%BC%82%E5%B8%B8%E7%B1%BB/9.%20Java%E5%BC%82%E5%B8%B8%E7%B1%BB.html class=md-nav__link> <span class=md-ellipsis> Java异常类 </span> </a> </li> <li class=md-nav__item> <a href=../10.%20Java%E4%B8%AD%E7%9A%84Object%E7%B1%BB%E5%92%8C%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95%E3%80%81%E7%BB%8F%E5%85%B8%E6%8E%A5%E5%8F%A3/10.%20Java%E4%B8%AD%E7%9A%84Object%E7%B1%BB%E5%92%8C%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95%E3%80%81%E7%BB%8F%E5%85%B8%E6%8E%A5%E5%8F%A3.html class=md-nav__link> <span class=md-ellipsis> Java中的Object类和常用方法、经典接口 </span> </a> </li> <li class=md-nav__item> <a href=../11.%20Java.lang%E4%B8%AD%E7%9A%84String%E7%B1%BB%E5%92%8CStringBuilder%E4%BB%8B%E7%BB%8D%E5%92%8C%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95/11.%20Java.lang%E4%B8%AD%E7%9A%84String%E7%B1%BB%E5%92%8CStringBuilder%E4%BB%8B%E7%BB%8D%E5%92%8C%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95.html class=md-nav__link> <span class=md-ellipsis> Java.lang中的String类和StringBuilder类介绍和常用方法 </span> </a> </li> <li class=md-nav__item> <a href=../12.%20Java%E4%B8%AD%E7%9A%84%E5%B8%B8%E7%94%A8%E7%B1%BB%E5%8F%8A%E5%8C%85%E8%A3%85%E7%B1%BB/12.%20Java%E4%B8%AD%E7%9A%84%E5%B8%B8%E7%94%A8%E7%B1%BB%E5%8F%8A%E5%8C%85%E8%A3%85%E7%B1%BB.html class=md-nav__link> <span class=md-ellipsis> Java中的常用类及包装类 </span> </a> </li> <li class=md-nav__item> <a href=../21.%20Java%E4%B8%AD%E7%9A%84%E6%B3%9B%E5%9E%8B/21.%20Java%E4%B8%AD%E7%9A%84%E6%B3%9B%E5%9E%8B.html class=md-nav__link> <span class=md-ellipsis> Java中的泛型 </span> </a> </li> <li class=md-nav__item> <a href=../14.%20Java%E5%8D%95%E5%88%97%E9%9B%86%E5%90%88/14.%20Java%E5%8D%95%E5%88%97%E9%9B%86%E5%90%88.html class=md-nav__link> <span class=md-ellipsis> Java单列集合 </span> </a> </li> <li class=md-nav__item> <a href=../15.%20Java%E5%8F%8C%E5%88%97%E9%9B%86%E5%90%88/15.%20Java%E5%8F%8C%E5%88%97%E9%9B%86%E5%90%88.html class=md-nav__link> <span class=md-ellipsis> Java双列集合 </span> </a> </li> <li class=md-nav__item> <a href=../22.%20%E4%BA%86%E8%A7%A3Java%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%B8%B8%E9%87%8F%E6%B1%A0/22.%20%E4%BA%86%E8%A7%A3Java%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%B8%B8%E9%87%8F%E6%B1%A0.html class=md-nav__link> <span class=md-ellipsis> 了解Java字符串常量池 </span> </a> </li> <li class=md-nav__item> <a href=../13.%20Java%E5%A4%9A%E7%BA%BF%E7%A8%8B/13.%20Java%E5%A4%9A%E7%BA%BF%E7%A8%8B.html class=md-nav__link> <span class=md-ellipsis> Java多线程 </span> </a> </li> <li class=md-nav__item> <a href=../16.%20Java%E7%9A%84IO%E6%B5%81/16.%20Java%E7%9A%84IO%E6%B5%81.html class=md-nav__link> <span class=md-ellipsis> Java的IO流 </span> </a> </li> <li class=md-nav__item> <a href=../17.%20Java%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E3%80%81%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E3%80%81%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B8%8ELombok/17.%20Java%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E3%80%81%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E3%80%81%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B8%8ELombok.html class=md-nav__link> <span class=md-ellipsis> Java网络编程、正则表达式、设计模式与Lombok </span> </a> </li> <li class=md-nav__item> <a href=../18.%20Java%E4%B8%AD%E7%9A%84JDK8%E5%8F%8A%E5%90%8E%E7%BB%AD%E7%9A%84%E9%87%8D%E8%A6%81%E6%96%B0%E7%89%B9%E6%80%A7/18.%20Java%E4%B8%AD%E7%9A%84JDK8%E5%8F%8A%E5%90%8E%E7%BB%AD%E7%9A%84%E9%87%8D%E8%A6%81%E6%96%B0%E7%89%B9%E6%80%A7.html class=md-nav__link> <span class=md-ellipsis> Java中的JDK8及后续的重要新特性 </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Java中的Junit、类加载时机与机制、反射、注解及枚举 </span> <span class="md-nav__icon md-icon"></span> </label> <a href=19.%20Java%E4%B8%AD%E7%9A%84Junit%E3%80%81%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%97%B6%E6%9C%BA%E4%B8%8E%E6%9C%BA%E5%88%B6%E3%80%81%E5%8F%8D%E5%B0%84%E3%80%81%E6%B3%A8%E8%A7%A3%E5%8F%8A%E6%9E%9A%E4%B8%BE.html class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Java中的Junit、类加载时机与机制、反射、注解及枚举 </span> </a> <nav class="md-nav md-nav--secondary" aria-label=目录> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> 目录 </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#junit class=md-nav__link> <span class=md-ellipsis> Junit </span> </a> <nav class=md-nav aria-label=Junit> <ul class=md-nav__list> <li class=md-nav__item> <a href=#junit_1 class=md-nav__link> <span class=md-ellipsis> Junit介绍与使用 </span> </a> </li> <li class=md-nav__item> <a href=#junit_2 class=md-nav__link> <span class=md-ellipsis> Junit注意事项 </span> </a> </li> <li class=md-nav__item> <a href=#junit_3 class=md-nav__link> <span class=md-ellipsis> Junit其他注解 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_1 class=md-nav__link> <span class=md-ellipsis> 类加载时机与机制 </span> </a> <nav class=md-nav aria-label=类加载时机与机制> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_2 class=md-nav__link> <span class=md-ellipsis> 类加载时机 </span> </a> </li> <li class=md-nav__item> <a href=#_3 class=md-nav__link> <span class=md-ellipsis> 类加载器介绍 </span> </a> </li> <li class=md-nav__item> <a href=#_4 class=md-nav__link> <span class=md-ellipsis> 获取类加载器对象 </span> </a> </li> <li class=md-nav__item> <a href=#_5 class=md-nav__link> <span class=md-ellipsis> 双亲委派机制和缓存机制 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_6 class=md-nav__link> <span class=md-ellipsis> 反射 </span> </a> <nav class=md-nav aria-label=反射> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_7 class=md-nav__link> <span class=md-ellipsis> 获取类对象 </span> </a> </li> <li class=md-nav__item> <a href=#_8 class=md-nav__link> <span class=md-ellipsis> 获取类对象的构造方法 </span> </a> </li> <li class=md-nav__item> <a href=#_9 class=md-nav__link> <span class=md-ellipsis> 使用反射获取的构造方法创建对象 </span> </a> </li> <li class=md-nav__item> <a href=#_10 class=md-nav__link> <span class=md-ellipsis> 获取类对象的成员方法 </span> </a> </li> <li class=md-nav__item> <a href=#_11 class=md-nav__link> <span class=md-ellipsis> 使用反射获取的成员方法 </span> </a> </li> <li class=md-nav__item> <a href=#_12 class=md-nav__link> <span class=md-ellipsis> 获取类对象的成员属性 </span> </a> </li> <li class=md-nav__item> <a href=#_13 class=md-nav__link> <span class=md-ellipsis> 使用反射获取的成员属性 </span> </a> </li> <li class=md-nav__item> <a href=#_14 class=md-nav__link> <span class=md-ellipsis> 反射实用案例 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_15 class=md-nav__link> <span class=md-ellipsis> 注解 </span> </a> <nav class=md-nav aria-label=注解> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_16 class=md-nav__link> <span class=md-ellipsis> 介绍 </span> </a> </li> <li class=md-nav__item> <a href=#_17 class=md-nav__link> <span class=md-ellipsis> 定义注解和属性 </span> </a> </li> <li class=md-nav__item> <a href=#_18 class=md-nav__link> <span class=md-ellipsis> 注解的使用 </span> </a> </li> <li class=md-nav__item> <a href=#_19 class=md-nav__link> <span class=md-ellipsis> 解析注解 </span> </a> </li> <li class=md-nav__item> <a href=#_20 class=md-nav__link> <span class=md-ellipsis> 元注解 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_21 class=md-nav__link> <span class=md-ellipsis> 枚举 </span> </a> <nav class=md-nav aria-label=枚举> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_22 class=md-nav__link> <span class=md-ellipsis> 基本使用 </span> </a> </li> <li class=md-nav__item> <a href=#_23 class=md-nav__link> <span class=md-ellipsis> 枚举类构造方法与反射 </span> </a> </li> <li class=md-nav__item> <a href=#_24 class=md-nav__link> <span class=md-ellipsis> 枚举中的常用方法 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../20.%20%EF%BC%88%E8%A1%A5%E5%85%85%EF%BC%89JSON%E5%9C%A8%E5%90%8E%E7%AB%AF%E7%9A%84%E5%BA%94%E7%94%A8/20.%20%EF%BC%88%E8%A1%A5%E5%85%85%EF%BC%89JSON%E5%9C%A8%E5%90%8E%E7%AB%AF%E7%9A%84%E5%BA%94%E7%94%A8.html class=md-nav__link> <span class=md-ellipsis> （补充）JSON在后端的应用 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../Python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/1.%20Python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/1.%20Python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html class=md-nav__link> <span class=md-ellipsis> Python </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/1.%20%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%92%8C%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/1.%20%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E4%B8%8E%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6.html class=md-nav__link> <span class=md-ellipsis> 数据结构与算法 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../Linux/1.%20Linux%E5%B8%B8%E7%94%A8%E9%80%89%E9%A1%B9%E5%92%8C%E6%8C%87%E4%BB%A4/1.%20Linux%E5%B8%B8%E7%94%A8%E9%80%89%E9%A1%B9%E5%92%8C%E6%8C%87%E4%BB%A4.html class=md-nav__link> <span class=md-ellipsis> Linux </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../HTML%E4%B8%8ECSS/HTML%E7%AC%94%E8%AE%B0/HTML%E7%AC%94%E8%AE%B0.html class=md-nav__link> <span class=md-ellipsis> 前端 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../MySQL/MySQL%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8/MySQL%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8.html class=md-nav__link> <span class=md-ellipsis> MySQL </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../JavaEE/Spring/1.%20SpringMVC%E5%9F%BA%E7%A1%80/1.%20SpringMVC%E5%9F%BA%E7%A1%80.html class=md-nav__link> <span class=md-ellipsis> JavaEE应用开发 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../%E5%85%B6%E5%AE%83/Shell%E8%84%9A%E6%9C%AC%E8%AF%AD%E8%A8%80/%E5%85%B3%E4%BA%8EShell.html class=md-nav__link> <span class=md-ellipsis> 扩展知识 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../%E5%B7%A5%E5%85%B7%E5%B8%AE%E5%8A%A9/vscode%E4%B8%AD%E6%B7%BB%E5%8A%A0%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5/vscode%E4%B8%AD%E6%B7%BB%E5%8A%A0%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5.html class=md-nav__link> <span class=md-ellipsis> 工具帮助 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../%E9%A1%B9%E7%9B%AE/1.%20Boost%E5%BA%93%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E/1.%20Boost%E5%BA%93%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E.html class=md-nav__link> <span class=md-ellipsis> 项目 </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label=目录> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> 目录 </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#junit class=md-nav__link> <span class=md-ellipsis> Junit </span> </a> <nav class=md-nav aria-label=Junit> <ul class=md-nav__list> <li class=md-nav__item> <a href=#junit_1 class=md-nav__link> <span class=md-ellipsis> Junit介绍与使用 </span> </a> </li> <li class=md-nav__item> <a href=#junit_2 class=md-nav__link> <span class=md-ellipsis> Junit注意事项 </span> </a> </li> <li class=md-nav__item> <a href=#junit_3 class=md-nav__link> <span class=md-ellipsis> Junit其他注解 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_1 class=md-nav__link> <span class=md-ellipsis> 类加载时机与机制 </span> </a> <nav class=md-nav aria-label=类加载时机与机制> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_2 class=md-nav__link> <span class=md-ellipsis> 类加载时机 </span> </a> </li> <li class=md-nav__item> <a href=#_3 class=md-nav__link> <span class=md-ellipsis> 类加载器介绍 </span> </a> </li> <li class=md-nav__item> <a href=#_4 class=md-nav__link> <span class=md-ellipsis> 获取类加载器对象 </span> </a> </li> <li class=md-nav__item> <a href=#_5 class=md-nav__link> <span class=md-ellipsis> 双亲委派机制和缓存机制 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_6 class=md-nav__link> <span class=md-ellipsis> 反射 </span> </a> <nav class=md-nav aria-label=反射> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_7 class=md-nav__link> <span class=md-ellipsis> 获取类对象 </span> </a> </li> <li class=md-nav__item> <a href=#_8 class=md-nav__link> <span class=md-ellipsis> 获取类对象的构造方法 </span> </a> </li> <li class=md-nav__item> <a href=#_9 class=md-nav__link> <span class=md-ellipsis> 使用反射获取的构造方法创建对象 </span> </a> </li> <li class=md-nav__item> <a href=#_10 class=md-nav__link> <span class=md-ellipsis> 获取类对象的成员方法 </span> </a> </li> <li class=md-nav__item> <a href=#_11 class=md-nav__link> <span class=md-ellipsis> 使用反射获取的成员方法 </span> </a> </li> <li class=md-nav__item> <a href=#_12 class=md-nav__link> <span class=md-ellipsis> 获取类对象的成员属性 </span> </a> </li> <li class=md-nav__item> <a href=#_13 class=md-nav__link> <span class=md-ellipsis> 使用反射获取的成员属性 </span> </a> </li> <li class=md-nav__item> <a href=#_14 class=md-nav__link> <span class=md-ellipsis> 反射实用案例 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_15 class=md-nav__link> <span class=md-ellipsis> 注解 </span> </a> <nav class=md-nav aria-label=注解> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_16 class=md-nav__link> <span class=md-ellipsis> 介绍 </span> </a> </li> <li class=md-nav__item> <a href=#_17 class=md-nav__link> <span class=md-ellipsis> 定义注解和属性 </span> </a> </li> <li class=md-nav__item> <a href=#_18 class=md-nav__link> <span class=md-ellipsis> 注解的使用 </span> </a> </li> <li class=md-nav__item> <a href=#_19 class=md-nav__link> <span class=md-ellipsis> 解析注解 </span> </a> </li> <li class=md-nav__item> <a href=#_20 class=md-nav__link> <span class=md-ellipsis> 元注解 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_21 class=md-nav__link> <span class=md-ellipsis> 枚举 </span> </a> <nav class=md-nav aria-label=枚举> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_22 class=md-nav__link> <span class=md-ellipsis> 基本使用 </span> </a> </li> <li class=md-nav__item> <a href=#_23 class=md-nav__link> <span class=md-ellipsis> 枚举类构造方法与反射 </span> </a> </li> <li class=md-nav__item> <a href=#_24 class=md-nav__link> <span class=md-ellipsis> 枚举中的常用方法 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=javajunit>Java中的Junit、类加载时机与机制、反射、注解及枚举<a class=headerlink href=#javajunit title="Permanent link">&para;</a></h1> <div style="margin-top: -30px; font-size: 0.75em; opacity: 0.7;"> <p><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10h-2a8 8 0 0 1-8 8 8 8 0 0 1-8-8 8 8 0 0 1 8-8zm6.78 1a.7.7 0 0 0-.48.2l-1.22 1.21 2.5 2.5L20.8 5.7c.26-.26.26-.7 0-.95L19.25 3.2c-.13-.13-.3-.2-.47-.2m-2.41 2.12L9 12.5V15h2.5l7.37-7.38z"/></svg></span> 约 5794 个字 <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6m80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3l89.3 89.4-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3"/></svg></span> 540 行代码 <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 17H7V3h14m0-2H7a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2M3 5H1v16a2 2 0 0 0 2 2h16v-2H3m12.96-10.71-2.75 3.54-1.96-2.36L8.5 15h11z"/></svg></span> 5 张图片 <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 20c4.42 0 8-3.58 8-8s-3.58-8-8-8-8 3.58-8 8 3.58 8 8 8m0-18c5.5 0 10 4.5 10 10s-4.5 10-10 10C6.47 22 2 17.5 2 12S6.5 2 12 2m.5 11H11V7h1.5v4.26l3.7-2.13.75 1.3z"/></svg></span> 预计阅读时间 26 分钟</p> </div> <h2 id=junit>Junit<a class=headerlink href=#junit title="Permanent link">&para;</a></h2> <h3 id=junit_1>Junit介绍与使用<a class=headerlink href=#junit_1 title="Permanent link">&para;</a></h3> <p>在Java中，Junit是一个单元测试框架,可以代替<code>main</code>方法去执行其他的方法，其可以单独执行一个方法,测试该方法是否能跑通</p> <p>因为Junit是一个第三方工具包，与Lombok一样需要先导入对应的jar包并进行解压，不同的是，Junit有两个包，并且相互依赖，所以都需要进行解压。这里可以使用一个文件夹名为<code>lib</code>，将两个解压包放在<code>lib</code>文件下，再对<code>lib</code>文件夹进行整体Add as Library</p> <p>使用时，在需要进行测试的方法上方写上<code>@Test</code>注解，此时就会在对应方法所在行左侧显示运行按钮，点击即可运行对应的方法而不会执行其他方法</p> <p>例如下面的代码：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Test01</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-0-2><span class=w>    </span><span class=nd>@Test</span>
</span><span id=__span-0-3><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>method</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-0-4><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&quot;测试Junit&quot;</span><span class=p>);</span>
</span><span id=__span-0-5><span class=w>    </span><span class=p>}</span>
</span><span id=__span-0-6><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>一个类中可以有多个有<code>@Test</code>方法：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-1-1><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Test01</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-1-2><span class=w>    </span><span class=nd>@Test</span>
</span><span id=__span-1-3><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>method</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-1-4><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&quot;测试Junit&quot;</span><span class=p>);</span>
</span><span id=__span-1-5><span class=w>    </span><span class=p>}</span>
</span><span id=__span-1-6>
</span><span id=__span-1-7><span class=w>    </span><span class=nd>@Test</span>
</span><span id=__span-1-8><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>method01</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-1-9><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&quot;测试Junit-2&quot;</span><span class=p>);</span>
</span><span id=__span-1-10><span class=w>    </span><span class=p>}</span>
</span><span id=__span-1-11><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>如果有多个<code>@Test</code>方法，想要运行所有的<code>@Test</code>方法，就可以点击类名所在行的运行按钮</p> <h3 id=junit_2>Junit注意事项<a class=headerlink href=#junit_2 title="Permanent link">&para;</a></h3> <ol> <li><code>@Test</code>不能修饰静态方法</li> <li><code>@Test</code>不能修饰带参数的方法</li> <li><code>@Test</code>不能修饰带返回值的方法 </li> </ol> <p>例如：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span>
<span class=normal>7</span>
<span class=normal>8</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-2-1><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Test01</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-2-2><span class=w>    </span><span class=nd>@Test</span>
</span><span id=__span-2-3><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>method02</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-2-4><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&quot;测试Junit-3&quot;</span><span class=p>);</span>
</span><span id=__span-2-5><span class=w>    </span><span class=p>}</span>
</span><span id=__span-2-6><span class=p>}</span>
</span><span id=__span-2-7>
</span><span id=__span-2-8><span class=c1>// 报错：Method &#39;method02&#39; annotated with &#39;@Test&#39; should be non-static </span>
</span></code></pre></div></td></tr></table></div> <h3 id=junit_3>Junit其他注解<a class=headerlink href=#junit_3 title="Permanent link">&para;</a></h3> <ol> <li><code>@Before</code>：被<code>@Before</code>修饰的方法会在每一个<code>@Test</code>方法执行前执行，但是本身不可以单独执行。特点：有多个<code>@Test</code>修饰的方法时会执行多次</li> <li><code>@After</code>：被<code>@Before</code>修饰的方法会在每一个<code>@Test</code>方法执行后执行，但是本身不可以单独执行。特点：有多个<code>@Test</code>修饰的方法时会执行多次</li> <li><code>@BeforeClass</code>：被<code>@BeforeClass</code>修饰的方法会在所有<code>@Test</code>方法执行前执行，但是本身不可以单独执行。特点：不论是否有多个<code>@Test</code>修饰的方法，该方法始终只会执行一次，并且被修饰的方法必须为静态方法</li> <li><code>@AfterClass</code>：被<code>@AfterClass</code>修饰的方法会在所有<code>@Test</code>方法执行后执行，但是本身不可以单独执行。特点：不论是否有多个<code>@Test</code>修饰的方法，该方法始终只会执行一次，并且被修饰的方法必须为静态方法</li> </ol> <p>例如：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span>
<span class=normal>39</span>
<span class=normal>40</span>
<span class=normal>41</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-3-1><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Test01</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-3-2><span class=w>    </span><span class=nd>@Test</span>
</span><span id=__span-3-3><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>method</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-3-4><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&quot;测试Junit&quot;</span><span class=p>);</span>
</span><span id=__span-3-5><span class=w>    </span><span class=p>}</span>
</span><span id=__span-3-6>
</span><span id=__span-3-7><span class=w>    </span><span class=nd>@Test</span>
</span><span id=__span-3-8><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>method01</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-3-9><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&quot;测试Junit-2&quot;</span><span class=p>);</span>
</span><span id=__span-3-10><span class=w>    </span><span class=p>}</span>
</span><span id=__span-3-11>
</span><span id=__span-3-12><span class=w>    </span><span class=nd>@Before</span>
</span><span id=__span-3-13><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>before</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-3-14><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&quot;before&quot;</span><span class=p>);</span>
</span><span id=__span-3-15><span class=w>    </span><span class=p>}</span>
</span><span id=__span-3-16>
</span><span id=__span-3-17><span class=w>    </span><span class=nd>@After</span>
</span><span id=__span-3-18><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>after</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-3-19><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&quot;after&quot;</span><span class=p>);</span>
</span><span id=__span-3-20><span class=w>    </span><span class=p>}</span>
</span><span id=__span-3-21>
</span><span id=__span-3-22><span class=w>    </span><span class=nd>@BeforeClass</span>
</span><span id=__span-3-23><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>beforeClass</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-3-24><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&quot;beforeClass&quot;</span><span class=p>);</span>
</span><span id=__span-3-25><span class=w>    </span><span class=p>}</span>
</span><span id=__span-3-26>
</span><span id=__span-3-27><span class=w>    </span><span class=nd>@AfterClass</span>
</span><span id=__span-3-28><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>afterClass</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-3-29><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&quot;afterClass&quot;</span><span class=p>);</span>
</span><span id=__span-3-30><span class=w>    </span><span class=p>}</span>
</span><span id=__span-3-31><span class=p>}</span>
</span><span id=__span-3-32>
</span><span id=__span-3-33><span class=n>输出结果</span><span class=err>：</span>
</span><span id=__span-3-34><span class=n>beforeClass</span>
</span><span id=__span-3-35><span class=n>before</span>
</span><span id=__span-3-36><span class=n>测试Junit</span>
</span><span id=__span-3-37><span class=n>after</span>
</span><span id=__span-3-38><span class=n>before</span>
</span><span id=__span-3-39><span class=n>测试Junit</span><span class=o>-</span><span class=mi>2</span>
</span><span id=__span-3-40><span class=n>after</span>
</span><span id=__span-3-41><span class=n>afterClass</span>
</span></code></pre></div></td></tr></table></div> <h2 id=_1>类加载时机与机制<a class=headerlink href=#_1 title="Permanent link">&para;</a></h2> <h3 id=_2>类加载时机<a class=headerlink href=#_2 title="Permanent link">&para;</a></h3> <p>在Java中，以下五种情况中的一种情况出现，JVM就会将<code>class</code>文件加载进入内存：</p> <ol> <li>实例化对象</li> <li>实例化子类对象或者接口实现类对象（此时创建子类对象会初始化父类）</li> <li>执行<code>main</code>方法</li> <li>直接使用类名调用静态成员</li> <li>使用反射创建<code>class</code>对象</li> </ol> <p>因为<code>class</code>也属于文件，所以JVM也需要使用IO流中的操作将<code>class</code>文件读取到内存，但并不是JVM直接加载，而是使用一个名为<code>ClassLoader</code>的类加载器进行加载</p> <h3 id=_3>类加载器介绍<a class=headerlink href=#_3 title="Permanent link">&para;</a></h3> <div class="admonition note"> <p class=admonition-title>Note</p> <p>下面的类加载器将基于JDK8分析</p> </div> <p>JVM会使用<code>ClassLoader</code>的类加载器加载类，在Java中，类加载器有以下三种：</p> <ol> <li><code>BootStrapClassLoader</code>：根类加载器，也称为引导类加载器，主要加载Java中的核心类，例如<code>System</code>类、<code>String</code>类等（在路径<code>jre/lib/rt.jar</code>下）</li> <li><code>ExtClassLoader</code>：扩展类加载器，负责<code>jre</code>的扩展目录中的<code>jar</code>包的加载（在路径<code>jdk\jre\lib\ext</code>下）</li> <li><code>AppClassLoader</code>：系统类加载器，负责在JVM启动时加载来自Java命令的<code>class</code>文件（可以理解为自定义类），以及<code>classPath</code>环境变量所指定的<code>jar</code>包（可以理解为第三方<code>jar</code>包）</li> </ol> <p>在Java中，三种不同的类加载器会加载不同的类，而其三者的关系「从类加载机制层面」如下：</p> <div class="language-text highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Text Only</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-4-1>AppClassLoader`的父类加载器是`ExtClassLoader
</span><span id=__span-4-2>ExtClassLoader`的父类加载器是`BootStrapClassLoader
</span></code></pre></div></td></tr></table></div> <div class="admonition note"> <p class=admonition-title>Note</p> <p>需要注意，他们从代码级别上来看，没有子父类继承关系，但是他们都有一个共同的父类，即<code>ClassLoader</code></p> <p>并且<code>BootStrapClassLoader</code>是无法直接获取到的，因为其底层是C语言编写的</p> </div> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span>
<span class=normal>7</span>
<span class=normal>8</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-5-1><span class=c1>// AppClassLoader类声明</span>
</span><span id=__span-5-2><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>AppletClassLoader</span><span class=w> </span><span class=kd>extends</span><span class=w> </span><span class=n>URLClassLoader</span>
</span><span id=__span-5-3><span class=c1>// ExtClassLoader类声明</span>
</span><span id=__span-5-4><span class=kd>static</span><span class=w> </span><span class=kd>class</span> <span class=nc>ExtClassLoader</span><span class=w> </span><span class=kd>extends</span><span class=w> </span><span class=n>URLClassLoader</span>
</span><span id=__span-5-5>
</span><span id=__span-5-6><span class=c1>// 拥有共同的父类</span>
</span><span id=__span-5-7><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>URLClassLoader</span><span class=w> </span><span class=kd>extends</span><span class=w> </span><span class=n>SecureClassLoader</span><span class=w> </span><span class=kd>implements</span><span class=w> </span><span class=n>Closeable</span>
</span><span id=__span-5-8><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>SecureClassLoader</span><span class=w> </span><span class=kd>extends</span><span class=w> </span><span class=n>ClassLoader</span>
</span></code></pre></div></td></tr></table></div> <h3 id=_4>获取类加载器对象<a class=headerlink href=#_4 title="Permanent link">&para;</a></h3> <p>在Java代码中，可以通过下面的两个方法获取类加载器对象：</p> <ol> <li><code>Class</code>对象中的方法：<code>getClassLoader()</code>，使用时：<code>类名.class.getClassLoader()</code>，作用是获取某一个使用的类加载器</li> <li><code>ClassLoader</code>类中的方法：<code>getParent()</code>，使用时：<code>ClassLoader对象.getParent()</code>，作用是获取指定类加载器的父类加载器</li> </ol> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-6-1><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Test</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-6-2><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-6-3><span class=w>        </span><span class=c1>// 自定义类</span>
</span><span id=__span-6-4><span class=w>        </span><span class=n>ClassLoader</span><span class=w> </span><span class=n>classLoader</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Test</span><span class=p>.</span><span class=na>class</span><span class=p>.</span><span class=na>getClassLoader</span><span class=p>();</span>
</span><span id=__span-6-5><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>classLoader</span><span class=p>);</span>
</span><span id=__span-6-6><span class=w>        </span><span class=c1>// 第三方类</span>
</span><span id=__span-6-7><span class=w>        </span><span class=n>ClassLoader</span><span class=w> </span><span class=n>classLoader1</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>IOUtil</span><span class=p>.</span><span class=na>class</span><span class=p>.</span><span class=na>getClassLoader</span><span class=p>();</span>
</span><span id=__span-6-8><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>classLoader1</span><span class=p>);</span>
</span><span id=__span-6-9><span class=w>        </span><span class=c1>// 获取二者的父类</span>
</span><span id=__span-6-10><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>classLoader</span><span class=p>.</span><span class=na>getParent</span><span class=p>());</span>
</span><span id=__span-6-11><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>classLoader1</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-6-12><span class=w>            </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>classLoader1</span><span class=p>.</span><span class=na>getParent</span><span class=p>());</span>
</span><span id=__span-6-13><span class=w>        </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-6-14><span class=w>            </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&quot;父类加载器无法获取&quot;</span><span class=p>);</span>
</span><span id=__span-6-15><span class=w>        </span><span class=p>}</span>
</span><span id=__span-6-16><span class=w>        </span><span class=c1>// 系统类</span>
</span><span id=__span-6-17><span class=w>        </span><span class=n>ClassLoader</span><span class=w> </span><span class=n>classLoader2</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Scanner</span><span class=p>.</span><span class=na>class</span><span class=p>.</span><span class=na>getClassLoader</span><span class=p>();</span>
</span><span id=__span-6-18><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>classLoader2</span><span class=p>);</span>
</span><span id=__span-6-19><span class=w>    </span><span class=p>}</span>
</span><span id=__span-6-20><span class=p>}</span>
</span><span id=__span-6-21>
</span><span id=__span-6-22><span class=n>输出结果</span><span class=err>：</span>
</span><span id=__span-6-23><span class=n>sun</span><span class=p>.</span><span class=na>misc</span><span class=p>.</span><span class=na>Launcher$AppClassLoader</span><span class=err>@</span><span class=mi>18</span><span class=n>b4aac2</span>
</span><span id=__span-6-24><span class=kc>null</span>
</span><span id=__span-6-25><span class=n>sun</span><span class=p>.</span><span class=na>misc</span><span class=p>.</span><span class=na>Launcher$ExtClassLoader</span><span class=err>@</span><span class=mi>4554617</span><span class=n>c</span>
</span><span id=__span-6-26><span class=n>父类加载器无法获取</span>
</span><span id=__span-6-27><span class=kc>null</span>
</span></code></pre></div></td></tr></table></div> <h3 id=_5>双亲委派机制和缓存机制<a class=headerlink href=#_5 title="Permanent link">&para;</a></h3> <p>双亲委派机制，也称为全盘负责委托机制，表示类加载器在加载类时，首先不会自己去尝试加载这个类，而是把请求交给父类加载器来完成，每一层的类加载器都会遵循这样的规则。</p> <p>类加载器的缓存机制：一个类加载到内存之后，缓存中也会保存一份儿，后面如果再使用此类，如果缓存中保存了这个类，就直接返回他；如果没有才加载这个类，下一次如果有其他类在使用的时候就不会重新加载了，直接去缓存中拿</p> <p>类加载器加载类的过程图如下：</p> <p><a class=glightbox href="19. Java中的Junit、类加载时机与机制、反射、注解及枚举.assets\image.png" data-type=image data-width=100% data-height=auto data-desc-position=bottom><img src="19. Java中的Junit、类加载时机与机制、反射、注解及枚举.assets\image.png"></a></p> <p>图解析：</p> <p>一个类准备加载进内存时，首先遇到的类加载器就是<code>AppClassLoader</code>，如果<code>AppClassLoader</code>中的缓存已经存在该类，则直接返回该类，否则向上找类加载器<code>ExtClassLoader</code>，同样，如果<code>ExtClassLoader</code>的缓存已经存在该类，则直接返回，否则向上找类加载器<code>BootStrapClassLoader</code>，如果<code>BootStrapClassLoader</code>缓存依旧没有该类，则判断类是否是该类加载需要加载的，不是继续向下直到遇到属于加载该类的类加载器</p> <p>所以，类加载器的双亲委派和缓存机制共同造就了加载类的特点：保证了类在内存中的唯一性</p> <h2 id=_6>反射<a class=headerlink href=#_6 title="Permanent link">&para;</a></h2> <p>在Java中，反射的作用是获取类对象，通过这个类对象获取对应类中的成员属性（重新赋值）、成员方法（调用方法）和构造方法（实例化对象）</p> <p>类对象：在Java中，一切皆是对象，而<code>class</code>文件加载进内存就会生成对应的对象，该对象就被称为<code>class</code>对象</p> <p><code>Class</code>类：描述<code>Class</code>对象就是<code>Class</code>类</p> <p>同样，对于成员变量、成员方法和构造方法来说也有对应的对象和类：</p> <ol> <li>成员变量：对应的成员变量对象为<code>Field</code>对象，描述<code>Field</code>对象的类称为<code>Field</code>类</li> <li>成员方法：对应的成员方法对象为<code>Method</code>对象，描述<code>Method</code>对象的类称为<code>Method</code>类</li> <li>构造方法：对应的构造方法对象为<code>Constructor</code>对象，描述<code>Constructor</code>对象的类称为<code>Constructor</code>类</li> </ol> <h3 id=_7>获取类对象<a class=headerlink href=#_7 title="Permanent link">&para;</a></h3> <p>获取类对象是反射成立的第一步，常见的有三种方式获取类对象：</p> <ol> <li>调用<code>Object</code>中的方法：<code>Class &lt;?&gt; getClass()</code>，该方法返回一个类对象。该方法依赖于一个具体类的对象</li> <li>通过<code>class</code>成员获取类对象：<code>基本数据类型/引用数据类型.class</code></li> <li><code>Class</code>类中的静态方法：<code>static Class&lt;?&gt; forName(String className)</code>，该方法的参数为类的全限定名，该方法返回一个类对象。该方法需要知道类的全限定名</li> </ol> <div class="admonition note"> <p class=admonition-title>Note</p> <p>类的全限定名即为类所在的包名，即<code>package</code>后面的内容+指定类名</p> </div> <p>例如，下面的代码：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-7-1><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Test</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-7-2><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=kd>throws</span><span class=w> </span><span class=n>Exception</span><span class=p>{</span>
</span><span id=__span-7-3><span class=w>        </span><span class=c1>// 1. 调用Object中的方法：Class &lt;?&gt; getClass()，该方法返回一个类对象</span>
</span><span id=__span-7-4><span class=w>        </span><span class=n>Scanner</span><span class=w> </span><span class=n>scanner</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>Scanner</span><span class=p>(</span><span class=n>System</span><span class=p>.</span><span class=na>in</span><span class=p>);</span>
</span><span id=__span-7-5><span class=w>        </span><span class=n>Class</span><span class=o>&lt;?</span><span class=w> </span><span class=kd>extends</span><span class=w> </span><span class=n>Scanner</span><span class=o>&gt;</span><span class=w> </span><span class=n>aClass</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>scanner</span><span class=p>.</span><span class=na>getClass</span><span class=p>();</span>
</span><span id=__span-7-6><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>aClass</span><span class=p>);</span>
</span><span id=__span-7-7><span class=w>        </span><span class=c1>// 2. 通过class成员获取类对象：基本数据类型/引用数据类型.class</span>
</span><span id=__span-7-8><span class=w>        </span><span class=n>Class</span><span class=o>&lt;</span><span class=n>Scanner</span><span class=o>&gt;</span><span class=w> </span><span class=n>scannerClass</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Scanner</span><span class=p>.</span><span class=na>class</span><span class=p>;</span>
</span><span id=__span-7-9><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>scannerClass</span><span class=p>);</span>
</span><span id=__span-7-10><span class=w>        </span><span class=c1>// 3. Class类中的静态方法：static Class&lt;?&gt; forName(String className)，该方法的参数为类的全限定名，该方法返回一个类对象</span>
</span><span id=__span-7-11><span class=w>        </span><span class=n>Class</span><span class=o>&lt;?&gt;</span><span class=w> </span><span class=n>aClass1</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Class</span><span class=p>.</span><span class=na>forName</span><span class=p>(</span><span class=s>&quot;com.epsda.advanced.test_reflect.Test&quot;</span><span class=p>);</span>
</span><span id=__span-7-12><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>aClass1</span><span class=p>);</span>
</span><span id=__span-7-13><span class=w>    </span><span class=p>}</span>
</span><span id=__span-7-14><span class=p>}</span>
</span><span id=__span-7-15>
</span><span id=__span-7-16><span class=n>输出结果</span><span class=err>：</span>
</span><span id=__span-7-17><span class=kd>class</span> <span class=nc>java</span><span class=p>.</span><span class=na>util</span><span class=p>.</span><span class=na>Scanner</span>
</span><span id=__span-7-18><span class=kd>class</span> <span class=nc>java</span><span class=p>.</span><span class=na>util</span><span class=p>.</span><span class=na>Scanner</span>
</span><span id=__span-7-19><span class=kd>class</span> <span class=nc>com</span><span class=p>.</span><span class=na>epsda</span><span class=p>.</span><span class=na>advanced</span><span class=p>.</span><span class=na>test_reflect</span><span class=p>.</span><span class=na>Test</span>
</span></code></pre></div></td></tr></table></div> <p>在IDEA中获取类的全限定名：</p> <ol> <li>右键需要全限定名的类-&gt;选择<code>Copy Path/Reference...</code>-&gt;选择<code>Copy Reference</code></li> <li>在<code>forName</code>方法中输入需要全限定名的类名，按下<code>Tab</code>或者<code>Enter</code></li> </ol> <div class="admonition tips"> <p class=admonition-title>Tips</p> <p>如果按住 <span class=keys><kbd class=key-control>Ctrl</kbd></span> + <span class=keys><kbd class=key-left-button>Left Button</kbd></span> 点击类的全限定名可以跳转到指定类时，说明全限定名正确</p> </div> <p>在实际开发中最常用的获取类对象的方式是第二种，但是最通用的方式是第三种，因为第三种的参数是<code>String</code>类型，后面可以结合配置文件<code>xxx.properties</code>和<code>Properties</code>集合中的<code>load</code>方法加载类的全限定名</p> <h3 id=_8>获取类对象的构造方法<a class=headerlink href=#_8 title="Permanent link">&para;</a></h3> <p>获取类对象的构造方法一共有四种方法：</p> <ol> <li>获取类对象中所有<code>public</code>构造方法：使用<code>Class</code>类中的方法：<code>Constructor&lt;?&gt;[] getConstructors()</code>，该方法返回一个构造方法类的对象</li> <li>获取类对象中指定的<code>public</code>构造方法：<code>Class</code>类中的方法：<code>Constructor&lt;T&gt; getConstructor (Class&lt;?&gt;... parameterTypes)</code>，该方法的参数为指定的<code>public</code>构造方法参数类型对应的类对象，返回一个构造方法类的对象。如果指定的<code>public</code>构造方法没有参数，则可以不传递任何内容</li> <li>获取类对象中所有构造方法（包括<code>public</code>和<code>private</code>）：<code>Constructor&lt;?&gt;[] getDeclaredConstructors()</code>，该方法返回一个构造方法类的对象</li> <li>获取类对象中指定的构造方法（包括<code>public</code>和<code>private</code>）：<code>Constructor&lt;T&gt; getDeclaredConstructor (Class&lt;?&gt;... parameterTypes)</code>，该方法的参数为指定的构造方法的参数，返回一个构造方法类的对象。如果指定的构造方法没有参数，则可以不传递任何内容</li> </ol> <p>下面示例使用的类：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-8-1><span class=nd>@Data</span>
</span><span id=__span-8-2><span class=nd>@AllArgsConstructor</span>
</span><span id=__span-8-3><span class=nd>@NoArgsConstructor</span>
</span><span id=__span-8-4><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Person</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-8-5><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=n>name</span><span class=p>;</span>
</span><span id=__span-8-6><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>Integer</span><span class=w> </span><span class=n>age</span><span class=p>;</span>
</span><span id=__span-8-7>
</span><span id=__span-8-8><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=nf>Person</span><span class=p>(</span><span class=n>String</span><span class=w> </span><span class=n>name</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-8-9><span class=w>        </span><span class=k>this</span><span class=p>.</span><span class=na>name</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>name</span><span class=p>;</span>
</span><span id=__span-8-10><span class=w>    </span><span class=p>}</span>
</span><span id=__span-8-11><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>使用如下：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-9-1><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Test01</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-9-2><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=kd>throws</span><span class=w> </span><span class=n>Exception</span><span class=p>{</span>
</span><span id=__span-9-3><span class=w>        </span><span class=n>Class</span><span class=o>&lt;</span><span class=n>Person</span><span class=o>&gt;</span><span class=w> </span><span class=n>personClass</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Person</span><span class=p>.</span><span class=na>class</span><span class=p>;</span>
</span><span id=__span-9-4>
</span><span id=__span-9-5><span class=w>        </span><span class=c1>// 获取所有public构造方法</span>
</span><span id=__span-9-6><span class=w>        </span><span class=n>Constructor</span><span class=o>&lt;?&gt;[]</span><span class=w> </span><span class=n>constructors</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>personClass</span><span class=p>.</span><span class=na>getConstructors</span><span class=p>();</span>
</span><span id=__span-9-7><span class=w>        </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=n>Constructor</span><span class=o>&lt;?&gt;</span><span class=w> </span><span class=n>constructor</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=n>constructors</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-9-8><span class=w>            </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>constructor</span><span class=p>);</span>
</span><span id=__span-9-9><span class=w>        </span><span class=p>}</span>
</span><span id=__span-9-10>
</span><span id=__span-9-11><span class=w>        </span><span class=c1>// 获取指定public构造方法</span>
</span><span id=__span-9-12><span class=w>        </span><span class=n>Constructor</span><span class=o>&lt;</span><span class=n>Person</span><span class=o>&gt;</span><span class=w> </span><span class=n>constructor</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>personClass</span><span class=p>.</span><span class=na>getConstructor</span><span class=p>(</span><span class=n>String</span><span class=p>.</span><span class=na>class</span><span class=p>,</span><span class=w> </span><span class=n>Integer</span><span class=p>.</span><span class=na>class</span><span class=p>);</span>
</span><span id=__span-9-13><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>constructor</span><span class=p>);</span>
</span><span id=__span-9-14>
</span><span id=__span-9-15><span class=w>        </span><span class=c1>// 获取所有构造方法</span>
</span><span id=__span-9-16><span class=w>        </span><span class=n>Constructor</span><span class=o>&lt;?&gt;[]</span><span class=w> </span><span class=n>declaredConstructors</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>personClass</span><span class=p>.</span><span class=na>getDeclaredConstructors</span><span class=p>();</span>
</span><span id=__span-9-17><span class=w>        </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=n>Constructor</span><span class=o>&lt;?&gt;</span><span class=w> </span><span class=n>declaredConstructor</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=n>declaredConstructors</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-9-18><span class=w>            </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>declaredConstructor</span><span class=p>);</span>
</span><span id=__span-9-19><span class=w>        </span><span class=p>}</span>
</span><span id=__span-9-20>
</span><span id=__span-9-21><span class=w>        </span><span class=c1>// 获取指定的构造方法</span>
</span><span id=__span-9-22><span class=w>        </span><span class=n>Constructor</span><span class=o>&lt;</span><span class=n>Person</span><span class=o>&gt;</span><span class=w> </span><span class=n>declaredConstructor</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>personClass</span><span class=p>.</span><span class=na>getDeclaredConstructor</span><span class=p>(</span><span class=n>String</span><span class=p>.</span><span class=na>class</span><span class=p>);</span>
</span><span id=__span-9-23><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>declaredConstructor</span><span class=p>);</span>
</span><span id=__span-9-24><span class=w>    </span><span class=p>}</span>
</span><span id=__span-9-25><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h3 id=_9>使用反射获取的构造方法创建对象<a class=headerlink href=#_9 title="Permanent link">&para;</a></h3> <p>使用<code>Constructor</code>类中的方法： <code>T newInstance(Object...initargs)</code>，参数传递对应对象初始值，如果获取到的是无参构造，则参数不传递，否则传递对应的值，该方法返回一个对应类的对象</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span>
<span class=normal>7</span>
<span class=normal>8</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-10-1><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Test02</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-10-2><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=kd>throws</span><span class=w> </span><span class=n>Exception</span><span class=p>{</span>
</span><span id=__span-10-3><span class=w>        </span><span class=n>Class</span><span class=o>&lt;</span><span class=n>Person</span><span class=o>&gt;</span><span class=w> </span><span class=n>personClass</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Person</span><span class=p>.</span><span class=na>class</span><span class=p>;</span>
</span><span id=__span-10-4><span class=w>        </span><span class=n>Constructor</span><span class=o>&lt;</span><span class=n>Person</span><span class=o>&gt;</span><span class=w> </span><span class=n>declaredConstructor</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>personClass</span><span class=p>.</span><span class=na>getDeclaredConstructor</span><span class=p>(</span><span class=n>String</span><span class=p>.</span><span class=na>class</span><span class=p>,</span><span class=w> </span><span class=n>Integer</span><span class=p>.</span><span class=na>class</span><span class=p>);</span>
</span><span id=__span-10-5><span class=w>        </span><span class=n>Person</span><span class=w> </span><span class=n>person</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>declaredConstructor</span><span class=p>.</span><span class=na>newInstance</span><span class=p>(</span><span class=s>&quot;张三&quot;</span><span class=p>,</span><span class=w> </span><span class=mi>16</span><span class=p>);</span>
</span><span id=__span-10-6><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>person</span><span class=p>);</span>
</span><span id=__span-10-7><span class=w>    </span><span class=p>}</span>
</span><span id=__span-10-8><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>如果获取到的是无参构造，则可以直接使用<code>Class对象.newInstance()</code>，简写为如下的代码：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-11-1><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Test03</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-11-2><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=kd>throws</span><span class=w> </span><span class=n>Exception</span><span class=p>{</span>
</span><span id=__span-11-3><span class=w>        </span><span class=c1>// 无参构造默认反射方式</span>
</span><span id=__span-11-4><span class=w>        </span><span class=n>Class</span><span class=o>&lt;</span><span class=n>Person</span><span class=o>&gt;</span><span class=w> </span><span class=n>personClass</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Person</span><span class=p>.</span><span class=na>class</span><span class=p>;</span>
</span><span id=__span-11-5><span class=w>        </span><span class=n>Constructor</span><span class=o>&lt;</span><span class=n>Person</span><span class=o>&gt;</span><span class=w> </span><span class=n>constructor</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>personClass</span><span class=p>.</span><span class=na>getConstructor</span><span class=p>();</span>
</span><span id=__span-11-6><span class=w>        </span><span class=n>Person</span><span class=w> </span><span class=n>person</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>constructor</span><span class=p>.</span><span class=na>newInstance</span><span class=p>();</span>
</span><span id=__span-11-7><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>person</span><span class=p>);</span>
</span><span id=__span-11-8>
</span><span id=__span-11-9><span class=w>        </span><span class=c1>// 简写为</span>
</span><span id=__span-11-10><span class=w>        </span><span class=n>Person</span><span class=w> </span><span class=n>person1</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>personClass</span><span class=p>.</span><span class=na>newInstance</span><span class=p>();</span>
</span><span id=__span-11-11><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>person</span><span class=p>);</span>
</span><span id=__span-11-12><span class=w>    </span><span class=p>}</span>
</span><span id=__span-11-13><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <div class="admonition note"> <p class=admonition-title>Note</p> <p>但是，上面的简写形式已经被弃用（修饰为<code>@Deprecated</code>），不过依旧可以使用</p> </div> <p>如果获取到的是私有构造方法，则需要使用<code>Constructor</code>的父类<code>AccessibleObject</code>中的方法<code>void setAccessible(boolean flag)</code>将私有构造方法的权限修改为<code>public</code>，参数有两个值：<code>true</code>代表修改，<code>false</code>表示不修改</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-12-1><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Test04</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-12-2><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=kd>throws</span><span class=w> </span><span class=n>Exception</span><span class=p>{</span>
</span><span id=__span-12-3><span class=w>        </span><span class=n>Class</span><span class=o>&lt;</span><span class=n>Person</span><span class=o>&gt;</span><span class=w> </span><span class=n>personClass</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Person</span><span class=p>.</span><span class=na>class</span><span class=p>;</span>
</span><span id=__span-12-4><span class=w>        </span><span class=n>Constructor</span><span class=o>&lt;</span><span class=n>Person</span><span class=o>&gt;</span><span class=w> </span><span class=n>personConstructor</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>personClass</span><span class=p>.</span><span class=na>getDeclaredConstructor</span><span class=p>(</span><span class=n>String</span><span class=p>.</span><span class=na>class</span><span class=p>);</span>
</span><span id=__span-12-5><span class=w>        </span><span class=c1>// 修改权限</span>
</span><span id=__span-12-6><span class=w>        </span><span class=n>personConstructor</span><span class=p>.</span><span class=na>setAccessible</span><span class=p>(</span><span class=kc>true</span><span class=p>);</span>
</span><span id=__span-12-7><span class=w>        </span><span class=n>Person</span><span class=w> </span><span class=n>person</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>personConstructor</span><span class=p>.</span><span class=na>newInstance</span><span class=p>(</span><span class=s>&quot;张三&quot;</span><span class=p>);</span>
</span><span id=__span-12-8><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>person</span><span class=p>);</span>
</span><span id=__span-12-9><span class=w>    </span><span class=p>}</span>
</span><span id=__span-12-10><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>上面获取私有构造方法并创建对象也被称为<strong>暴力反射</strong></p> <h3 id=_10>获取类对象的成员方法<a class=headerlink href=#_10 title="Permanent link">&para;</a></h3> <p>获取类对象的成员方法一共有四种方法：</p> <ol> <li>获取类对象中所有<code>public</code>成员方法：使用<code>Class</code>类中的方法：<code>Method[] getMethods()</code>，该方法返回一个成员方法类的对象</li> <li>获取类对象中指定的<code>public</code>成员方法：<code>Class</code>类中的方法：<code>Method getMethod (String name, Class&lt;?&gt;... parameterTypes)</code>，该方法的第一个参数为指定的<code>public</code>成员方法名，第二个参数为指定的<code>public</code>成员方法参数类型对应的类对象，返回一个成员方法类的对象。如果指定的<code>public</code>成员方法没有参数，则第二个参数可以不传递任何内容</li> <li>获取类对象中所有成员方法（包括<code>public</code>、<code>private</code>和<code>protected</code>）：<code>Method[] getDeclaredMethods()</code>，该方法返回一个成员方法类的对象</li> <li>获取类对象中指定的成员方法（包括<code>public</code>和<code>private</code>）：<code>Method getDeclaredMethod (String name, Class&lt;?&gt;... parameterTypes)</code>，该方法的参数为指定的成员方法的参数，返回一个成员方法类的对象。如果指定的<code>public</code>成员方法没有参数，则第二个参数可以不传递任何内容</li> </ol> <div class="admonition note"> <p class=admonition-title>Note</p> <p>需要注意，<code>getMethods</code>方法会获取到本类和其父类的所有<code>public</code>方法，但是<code>getDeclaredMethods</code>方法只会获取到本类中的<code>private</code>、<code>public</code>和<code>protected</code>方法</p> </div> <p>例如下面的代码：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-13-1><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Test05</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-13-2><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=kd>throws</span><span class=w> </span><span class=n>Exception</span><span class=p>{</span>
</span><span id=__span-13-3><span class=w>        </span><span class=n>Class</span><span class=o>&lt;</span><span class=n>Person</span><span class=o>&gt;</span><span class=w> </span><span class=n>personClass</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Person</span><span class=p>.</span><span class=na>class</span><span class=p>;</span>
</span><span id=__span-13-4><span class=w>        </span><span class=c1>// 获取所有public方法</span>
</span><span id=__span-13-5><span class=w>        </span><span class=n>Method</span><span class=o>[]</span><span class=w> </span><span class=n>methods</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>personClass</span><span class=p>.</span><span class=na>getMethods</span><span class=p>();</span>
</span><span id=__span-13-6><span class=w>        </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=n>Method</span><span class=w> </span><span class=n>method</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=n>methods</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-13-7><span class=w>            </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>method</span><span class=p>);</span>
</span><span id=__span-13-8><span class=w>        </span><span class=p>}</span>
</span><span id=__span-13-9>
</span><span id=__span-13-10><span class=w>        </span><span class=c1>// 获取指定的public方法</span>
</span><span id=__span-13-11><span class=w>        </span><span class=n>Method</span><span class=w> </span><span class=n>method</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>personClass</span><span class=p>.</span><span class=na>getMethod</span><span class=p>(</span><span class=s>&quot;setName&quot;</span><span class=p>,</span><span class=w> </span><span class=n>String</span><span class=p>.</span><span class=na>class</span><span class=p>);</span>
</span><span id=__span-13-12><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>method</span><span class=p>);</span>
</span><span id=__span-13-13>
</span><span id=__span-13-14><span class=w>        </span><span class=c1>// 获取所有的方法</span>
</span><span id=__span-13-15><span class=w>        </span><span class=n>Method</span><span class=o>[]</span><span class=w> </span><span class=n>declaredMethods</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>personClass</span><span class=p>.</span><span class=na>getDeclaredMethods</span><span class=p>();</span>
</span><span id=__span-13-16><span class=w>        </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=n>Method</span><span class=w> </span><span class=n>declaredMethod</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=n>declaredMethods</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-13-17><span class=w>            </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>declaredMethod</span><span class=p>);</span>
</span><span id=__span-13-18><span class=w>        </span><span class=p>}</span>
</span><span id=__span-13-19>
</span><span id=__span-13-20><span class=w>        </span><span class=c1>// 获取指定的方法</span>
</span><span id=__span-13-21><span class=w>        </span><span class=n>Method</span><span class=w> </span><span class=n>walk</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>personClass</span><span class=p>.</span><span class=na>getDeclaredMethod</span><span class=p>(</span><span class=s>&quot;walk&quot;</span><span class=p>);</span>
</span><span id=__span-13-22><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>walk</span><span class=p>);</span>
</span><span id=__span-13-23><span class=w>    </span><span class=p>}</span>
</span><span id=__span-13-24><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h3 id=_11>使用反射获取的成员方法<a class=headerlink href=#_11 title="Permanent link">&para;</a></h3> <p>使用成员方法类对象调用<code>Object</code>类中的方法<code>Object invoke(Object obj, Object... args)</code>可以使用获取到的成员方法，第一个参数传递成员方法所在类的对象，第二个参数传递获取到的成员方法参数对应的值，该方法返回一个<code>Object</code>对象。该方法的返回值根据调用对象对应的方法是否有返回值决定，如果调用对象对应的方法有返回值，则与调用对象对应的方法的值相同，否则为<code>null</code></p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-14-1><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Test06</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-14-2><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=kd>throws</span><span class=w> </span><span class=n>Exception</span><span class=p>{</span>
</span><span id=__span-14-3><span class=w>        </span><span class=n>Class</span><span class=o>&lt;</span><span class=n>Person</span><span class=o>&gt;</span><span class=w> </span><span class=n>personClass</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Person</span><span class=p>.</span><span class=na>class</span><span class=p>;</span>
</span><span id=__span-14-4><span class=w>        </span><span class=n>Person</span><span class=w> </span><span class=n>person</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>personClass</span><span class=p>.</span><span class=na>newInstance</span><span class=p>();</span>
</span><span id=__span-14-5><span class=w>        </span><span class=n>Method</span><span class=w> </span><span class=n>setName</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>personClass</span><span class=p>.</span><span class=na>getDeclaredMethod</span><span class=p>(</span><span class=s>&quot;setName&quot;</span><span class=p>,</span><span class=w> </span><span class=n>String</span><span class=p>.</span><span class=na>class</span><span class=p>);</span>
</span><span id=__span-14-6><span class=w>        </span><span class=n>Method</span><span class=w> </span><span class=n>getName</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>personClass</span><span class=p>.</span><span class=na>getDeclaredMethod</span><span class=p>(</span><span class=s>&quot;getName&quot;</span><span class=p>);</span>
</span><span id=__span-14-7><span class=w>        </span><span class=n>Object</span><span class=w> </span><span class=n>set</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>setName</span><span class=p>.</span><span class=na>invoke</span><span class=p>(</span><span class=n>person</span><span class=p>,</span><span class=w> </span><span class=s>&quot;张三&quot;</span><span class=p>);</span>
</span><span id=__span-14-8><span class=w>        </span><span class=n>Object</span><span class=w> </span><span class=n>get</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>getName</span><span class=p>.</span><span class=na>invoke</span><span class=p>(</span><span class=n>person</span><span class=p>);</span>
</span><span id=__span-14-9><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>get</span><span class=p>);</span>
</span><span id=__span-14-10><span class=w>    </span><span class=p>}</span>
</span><span id=__span-14-11><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>如果需要操作类对象中的私有方法，与私有构造方法一样，需要使用<code>AccessibleObject</code>中的方法<code>void setAccessible(boolean flag)</code>将私有构造方法的权限修改为<code>public</code></p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-15-1><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Test06</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-15-2><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=kd>throws</span><span class=w> </span><span class=n>Exception</span><span class=p>{</span>
</span><span id=__span-15-3><span class=w>        </span><span class=n>Class</span><span class=o>&lt;</span><span class=n>Person</span><span class=o>&gt;</span><span class=w> </span><span class=n>personClass</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Person</span><span class=p>.</span><span class=na>class</span><span class=p>;</span>
</span><span id=__span-15-4><span class=w>        </span><span class=n>Person</span><span class=w> </span><span class=n>person</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>personClass</span><span class=p>.</span><span class=na>newInstance</span><span class=p>();</span>
</span><span id=__span-15-5>
</span><span id=__span-15-6><span class=w>        </span><span class=n>Method</span><span class=w> </span><span class=n>declaredMethod</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>personClass</span><span class=p>.</span><span class=na>getDeclaredMethod</span><span class=p>(</span><span class=s>&quot;walk&quot;</span><span class=p>);</span>
</span><span id=__span-15-7><span class=w>        </span><span class=n>declaredMethod</span><span class=p>.</span><span class=na>setAccessible</span><span class=p>(</span><span class=kc>true</span><span class=p>);</span>
</span><span id=__span-15-8><span class=w>        </span><span class=n>declaredMethod</span><span class=p>.</span><span class=na>invoke</span><span class=p>(</span><span class=n>person</span><span class=p>);</span>
</span><span id=__span-15-9><span class=w>    </span><span class=p>}</span>
</span><span id=__span-15-10><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h3 id=_12>获取类对象的成员属性<a class=headerlink href=#_12 title="Permanent link">&para;</a></h3> <p>获取类对象的构造方法一共有四种方法：</p> <ol> <li>获取类对象中所有<code>public</code>成员属性：使用<code>Class</code>类中的方法：<code>Field[] getFields()</code>，该方法返回一个成员属性类的对象</li> <li>获取类对象中指定的<code>public</code>成员属性：<code>Class</code>类中的方法：<code>Field getField(String name)</code>，该方法的参数为指定的<code>public</code>成员属性名，返回一个成员属性类的对象</li> <li>获取类对象中所有成员属性（包括<code>public</code>和<code>private</code>）：<code>Field[] getDeclaredFields()</code>，该方法返回一个成员属性类的对象</li> <li>获取类对象中指定的成员属性（包括<code>public</code>、<code>private</code>和<code>protected</code>）：<code>Field getDeclaredField(String name)</code>，该方法的参数为指定的<code>public</code>成员属性名，返回一个成员属性类的对象</li> </ol> <p>例如：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-16-1><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Test07</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-16-2><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=kd>throws</span><span class=w> </span><span class=n>Exception</span><span class=p>{</span>
</span><span id=__span-16-3><span class=w>        </span><span class=n>Class</span><span class=o>&lt;</span><span class=n>Person</span><span class=o>&gt;</span><span class=w> </span><span class=n>personClass</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Person</span><span class=p>.</span><span class=na>class</span><span class=p>;</span>
</span><span id=__span-16-4>
</span><span id=__span-16-5><span class=w>        </span><span class=c1>// 获取所有public成员属性</span>
</span><span id=__span-16-6><span class=w>        </span><span class=n>Field</span><span class=o>[]</span><span class=w> </span><span class=n>fields</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>personClass</span><span class=p>.</span><span class=na>getFields</span><span class=p>();</span>
</span><span id=__span-16-7><span class=w>        </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=n>Field</span><span class=w> </span><span class=n>field</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=n>fields</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-16-8><span class=w>            </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>field</span><span class=p>);</span>
</span><span id=__span-16-9><span class=w>        </span><span class=p>}</span>
</span><span id=__span-16-10>
</span><span id=__span-16-11><span class=w>        </span><span class=c1>// 获取指定的public成员属性</span>
</span><span id=__span-16-12><span class=w>        </span><span class=n>Field</span><span class=w> </span><span class=n>age</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>personClass</span><span class=p>.</span><span class=na>getField</span><span class=p>(</span><span class=s>&quot;age&quot;</span><span class=p>);</span>
</span><span id=__span-16-13><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>age</span><span class=p>);</span>
</span><span id=__span-16-14>
</span><span id=__span-16-15><span class=w>        </span><span class=c1>// 获取所有成员属性</span>
</span><span id=__span-16-16><span class=w>        </span><span class=n>Field</span><span class=o>[]</span><span class=w> </span><span class=n>declaredFields</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>personClass</span><span class=p>.</span><span class=na>getDeclaredFields</span><span class=p>();</span>
</span><span id=__span-16-17><span class=w>        </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=n>Field</span><span class=w> </span><span class=n>declaredField</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=n>declaredFields</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-16-18><span class=w>            </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>declaredField</span><span class=p>);</span>
</span><span id=__span-16-19><span class=w>        </span><span class=p>}</span>
</span><span id=__span-16-20>
</span><span id=__span-16-21><span class=w>        </span><span class=c1>// 获取指定成员属性</span>
</span><span id=__span-16-22><span class=w>        </span><span class=n>Field</span><span class=w> </span><span class=n>declaredField</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>personClass</span><span class=p>.</span><span class=na>getDeclaredField</span><span class=p>(</span><span class=s>&quot;name&quot;</span><span class=p>);</span>
</span><span id=__span-16-23><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>declaredField</span><span class=p>);</span>
</span><span id=__span-16-24><span class=w>    </span><span class=p>}</span>
</span><span id=__span-16-25><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h3 id=_13>使用反射获取的成员属性<a class=headerlink href=#_13 title="Permanent link">&para;</a></h3> <p>使用成员属性类对象调用<code>Object</code>中的方法：<code>void set(Object obj, Object value)</code>为获取到的成员属性赋值，第一个参数传递成员属性所在类的对象，第二个参数传递属性值</p> <p>使用成员属性类对象调用<code>Object</code>中的方法：<code>Object get(Object obj)</code>获取指定成员属性的值，参数传递成员属性所在类的对象，该方法返回一个<code>Object</code>对象，该对象中的值即为成员属性的值</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-17-1><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Test08</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-17-2><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=kd>throws</span><span class=w> </span><span class=n>Exception</span><span class=p>{</span>
</span><span id=__span-17-3><span class=w>        </span><span class=n>Class</span><span class=o>&lt;</span><span class=n>Person</span><span class=o>&gt;</span><span class=w> </span><span class=n>personClass</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Person</span><span class=p>.</span><span class=na>class</span><span class=p>;</span>
</span><span id=__span-17-4><span class=w>        </span><span class=n>Person</span><span class=w> </span><span class=n>person</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>personClass</span><span class=p>.</span><span class=na>newInstance</span><span class=p>();</span>
</span><span id=__span-17-5><span class=w>        </span><span class=n>Field</span><span class=w> </span><span class=n>age</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>personClass</span><span class=p>.</span><span class=na>getField</span><span class=p>(</span><span class=s>&quot;age&quot;</span><span class=p>);</span>
</span><span id=__span-17-6><span class=w>        </span><span class=n>age</span><span class=p>.</span><span class=na>set</span><span class=p>(</span><span class=n>person</span><span class=p>,</span><span class=w> </span><span class=mi>18</span><span class=p>);</span>
</span><span id=__span-17-7><span class=w>        </span><span class=n>Object</span><span class=w> </span><span class=n>o</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>age</span><span class=p>.</span><span class=na>get</span><span class=p>(</span><span class=n>person</span><span class=p>);</span>
</span><span id=__span-17-8><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>o</span><span class=p>);</span>
</span><span id=__span-17-9><span class=w>    </span><span class=p>}</span>
</span><span id=__span-17-10><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>同样，如果是私有成员，则需要使用<code>AccessibleObject</code>中的方法<code>void setAccessible(boolean flag)</code>将私有构造方法的权限修改为<code>public</code></p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-18-1><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Test08</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-18-2><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=kd>throws</span><span class=w> </span><span class=n>Exception</span><span class=p>{</span>
</span><span id=__span-18-3><span class=w>        </span><span class=n>Class</span><span class=o>&lt;</span><span class=n>Person</span><span class=o>&gt;</span><span class=w> </span><span class=n>personClass</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Person</span><span class=p>.</span><span class=na>class</span><span class=p>;</span>
</span><span id=__span-18-4><span class=w>        </span><span class=n>Person</span><span class=w> </span><span class=n>person</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>personClass</span><span class=p>.</span><span class=na>newInstance</span><span class=p>();</span>
</span><span id=__span-18-5>
</span><span id=__span-18-6><span class=w>        </span><span class=n>Field</span><span class=w> </span><span class=n>declaredField</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>personClass</span><span class=p>.</span><span class=na>getDeclaredField</span><span class=p>(</span><span class=s>&quot;name&quot;</span><span class=p>);</span>
</span><span id=__span-18-7><span class=w>        </span><span class=n>declaredField</span><span class=p>.</span><span class=na>setAccessible</span><span class=p>(</span><span class=kc>true</span><span class=p>);</span>
</span><span id=__span-18-8><span class=w>        </span><span class=n>declaredField</span><span class=p>.</span><span class=na>set</span><span class=p>(</span><span class=n>person</span><span class=p>,</span><span class=w> </span><span class=s>&quot;张三&quot;</span><span class=p>);</span>
</span><span id=__span-18-9><span class=w>        </span><span class=n>Object</span><span class=w> </span><span class=n>o1</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>declaredField</span><span class=p>.</span><span class=na>get</span><span class=p>(</span><span class=n>person</span><span class=p>);</span>
</span><span id=__span-18-10><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>o1</span><span class=p>);</span>
</span><span id=__span-18-11><span class=w>    </span><span class=p>}</span>
</span><span id=__span-18-12><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h3 id=_14>反射实用案例<a class=headerlink href=#_14 title="Permanent link">&para;</a></h3> <p>在配置文件中，配置类的全限定名，以及配置一个方法名，通过解析配置文件，让配置好的方法执行起来，配置文件的内容如下：</p> <div class="language-properties highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Properties</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-19-1><span class=na>className</span><span class=o>=</span><span class=s>包名.Person</span>
</span><span id=__span-19-2><span class=na>methodName</span><span class=o>=</span><span class=s>walk</span>
</span></code></pre></div></td></tr></table></div> <p>步骤:</p> <ol> <li>创建<code>properties</code>配置文件，配置信息，需要注意，这个配置文件不能直接放到模块或者项目下，否则在<code>out</code>文件夹中不存在该文件，最常见的做法是在指定目录下创建一个名为<code>resources</code>文件夹，并将这个文件夹标记为<code>Resources Root</code>，然后将配置文件放在这个文件夹内部</li> <li>读取配置文件，解析配置文件。读取配置文件可以使用<code>properties</code>集合中的<code>load</code>方法，解析配置文件时不建议直接在创建IO流对象时传递<code>properties</code>文件的地址，这样导致该地址为死地址，而且<code>out</code>文件夹下不会存在<code>resources</code>文件夹。推荐方法：因为配置文件也属于文件，在Java中加载该文件时会产生对应的对象，使用<code>ClassLoader</code>获取当前类的类加载器对象，再使用该对象调用<code>getResourceAsStream ("配置文件名")</code>方法获取<code>InputStream</code>对象。这种方式会自动扫描<code>resources</code>下的文件，可以简单理解为扫描<code>out</code>路径下的配置文件</li> <li>根据解析出来的<code>className</code>，创建<code>Class</code>对象</li> <li>根据解析出来的<code>methodName</code>，获取对应的方法</li> <li>执行方法</li> </ol> <p>IDEA中「将这个文件夹标记为<code>Resources Root</code>」的步骤图：</p> <p><a class=glightbox href="19. Java中的Junit、类加载时机与机制、反射、注解及枚举.assets\image1.png" data-type=image data-width=100% data-height=auto data-desc-position=bottom><img src="19. Java中的Junit、类加载时机与机制、反射、注解及枚举.assets\image1.png"></a></p> <p>如果上面的方式中没有显示<code>Resources Root</code>，则可以考虑下面的步骤：</p> <p><a class=glightbox href="19. Java中的Junit、类加载时机与机制、反射、注解及枚举.assets\image2.png" data-type=image data-width=100% data-height=auto data-desc-position=bottom><img src="19. Java中的Junit、类加载时机与机制、反射、注解及枚举.assets\image2.png"></a></p> <p>参考代码如下：</p> <div class="language-properties highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Properties</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-20-1><span class=c1>// 配置文件</span>
</span><span id=__span-20-2><span class=na>className</span><span class=o>=</span><span class=s>com.epsda.advanced.test_reflect_exercise.Person</span>
</span><span id=__span-20-3><span class=na>methodName</span><span class=o>=</span><span class=s>walk</span>
</span></code></pre></div></td></tr></table></div> <p>测试：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span>
<span class=normal>39</span>
<span class=normal>40</span>
<span class=normal>41</span>
<span class=normal>42</span>
<span class=normal>43</span>
<span class=normal>44</span>
<span class=normal>45</span>
<span class=normal>46</span>
<span class=normal>47</span>
<span class=normal>48</span>
<span class=normal>49</span>
<span class=normal>50</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-21-1><span class=c1>// 自定义类</span>
</span><span id=__span-21-2><span class=nd>@Data</span>
</span><span id=__span-21-3><span class=nd>@AllArgsConstructor</span>
</span><span id=__span-21-4><span class=nd>@NoArgsConstructor</span>
</span><span id=__span-21-5><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Person</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-21-6><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=n>name</span><span class=p>;</span>
</span><span id=__span-21-7><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=n>Integer</span><span class=w> </span><span class=n>age</span><span class=p>;</span>
</span><span id=__span-21-8>
</span><span id=__span-21-9><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>walk</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-21-10><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&quot;人在行走&quot;</span><span class=p>);</span>
</span><span id=__span-21-11><span class=w>    </span><span class=p>}</span>
</span><span id=__span-21-12><span class=p>}</span>
</span><span id=__span-21-13>
</span><span id=__span-21-14><span class=c1>// 测试</span>
</span><span id=__span-21-15><span class=kn>package</span><span class=w> </span><span class=nn>com.epsda.advanced.test_reflect_exercise</span><span class=p>;</span>
</span><span id=__span-21-16>
</span><span id=__span-21-17><span class=kn>import</span><span class=w> </span><span class=nn>org.junit.Test</span><span class=p>;</span>
</span><span id=__span-21-18>
</span><span id=__span-21-19><span class=kn>import</span><span class=w> </span><span class=nn>java.io.InputStream</span><span class=p>;</span>
</span><span id=__span-21-20><span class=kn>import</span><span class=w> </span><span class=nn>java.lang.reflect.Method</span><span class=p>;</span>
</span><span id=__span-21-21><span class=kn>import</span><span class=w> </span><span class=nn>java.util.Properties</span><span class=p>;</span>
</span><span id=__span-21-22>
</span><span id=__span-21-23><span class=cm>/**</span>
</span><span id=__span-21-24><span class=cm> * ClassName: Test09</span>
</span><span id=__span-21-25><span class=cm> * Description: 测试</span>
</span><span id=__span-21-26><span class=cm> *</span>
</span><span id=__span-21-27><span class=cm> * @author 憨八嘎</span>
</span><span id=__span-21-28><span class=cm> * @version 1.0</span>
</span><span id=__span-21-29><span class=cm> */</span>
</span><span id=__span-21-30><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Test09</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-21-31><span class=w>    </span><span class=nd>@Test</span>
</span><span id=__span-21-32><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>method</span><span class=w> </span><span class=p>()</span><span class=w> </span><span class=kd>throws</span><span class=w> </span><span class=n>Exception</span><span class=p>{</span>
</span><span id=__span-21-33><span class=w>        </span><span class=n>ClassLoader</span><span class=w> </span><span class=n>classLoader</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Test09</span><span class=p>.</span><span class=na>class</span><span class=p>.</span><span class=na>getClassLoader</span><span class=p>();</span>
</span><span id=__span-21-34><span class=w>        </span><span class=n>InputStream</span><span class=w> </span><span class=n>resourceAsStream</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>classLoader</span><span class=p>.</span><span class=na>getResourceAsStream</span><span class=p>(</span><span class=s>&quot;test.properties&quot;</span><span class=p>);</span>
</span><span id=__span-21-35><span class=w>        </span><span class=c1>// 读取配置文件</span>
</span><span id=__span-21-36><span class=w>        </span><span class=n>Properties</span><span class=w> </span><span class=n>properties</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>Properties</span><span class=p>();</span>
</span><span id=__span-21-37><span class=w>        </span><span class=n>properties</span><span class=p>.</span><span class=na>load</span><span class=p>(</span><span class=n>resourceAsStream</span><span class=p>);</span>
</span><span id=__span-21-38><span class=w>        </span><span class=c1>// 根据key取出其中的值</span>
</span><span id=__span-21-39><span class=w>        </span><span class=n>String</span><span class=w> </span><span class=n>methodName</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>properties</span><span class=p>.</span><span class=na>getProperty</span><span class=p>(</span><span class=s>&quot;methodName&quot;</span><span class=p>);</span>
</span><span id=__span-21-40><span class=w>        </span><span class=n>String</span><span class=w> </span><span class=n>className</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>properties</span><span class=p>.</span><span class=na>getProperty</span><span class=p>(</span><span class=s>&quot;className&quot;</span><span class=p>);</span>
</span><span id=__span-21-41><span class=w>        </span><span class=c1>// 创建Class对象</span>
</span><span id=__span-21-42><span class=w>        </span><span class=n>Class</span><span class=o>&lt;?&gt;</span><span class=w> </span><span class=n>aClass</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Class</span><span class=p>.</span><span class=na>forName</span><span class=p>(</span><span class=n>className</span><span class=p>);</span>
</span><span id=__span-21-43><span class=w>        </span><span class=n>Object</span><span class=w> </span><span class=n>o</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>aClass</span><span class=p>.</span><span class=na>newInstance</span><span class=p>();</span>
</span><span id=__span-21-44><span class=w>        </span><span class=n>Method</span><span class=w> </span><span class=n>declaredMethod</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>aClass</span><span class=p>.</span><span class=na>getDeclaredMethod</span><span class=p>(</span><span class=n>methodName</span><span class=p>);</span>
</span><span id=__span-21-45><span class=w>        </span><span class=n>declaredMethod</span><span class=p>.</span><span class=na>invoke</span><span class=p>((</span><span class=n>Person</span><span class=p>)</span><span class=n>o</span><span class=p>);</span>
</span><span id=__span-21-46><span class=w>    </span><span class=p>}</span>
</span><span id=__span-21-47><span class=p>}</span>
</span><span id=__span-21-48>
</span><span id=__span-21-49><span class=n>输出结果</span><span class=err>：</span>
</span><span id=__span-21-50><span class=n>人在行走</span>
</span></code></pre></div></td></tr></table></div> <p>目录结构：</p> <p><a class=glightbox href="19. Java中的Junit、类加载时机与机制、反射、注解及枚举.assets\image3.png" data-type=image data-width=100% data-height=auto data-desc-position=bottom><img src="19. Java中的Junit、类加载时机与机制、反射、注解及枚举.assets\image3.png"></a></p> <h2 id=_15>注解<a class=headerlink href=#_15 title="Permanent link">&para;</a></h2> <h3 id=_16>介绍<a class=headerlink href=#_16 title="Permanent link">&para;</a></h3> <p>在Java中，注解也是一种引用数据类型，与类、接口、枚举和<code>Record</code>类同层次</p> <p>注解常见的作用如下：</p> <ol> <li>说明:对代码进行说明，生成doc文档(API文档)</li> <li>检查:检查代码是否符合条件，例如：<code>@Override</code>、<code>@FunctionalInterface</code></li> <li>分析:对代码进行分析，起到了代替配置文件的作用</li> </ol> <p>JDK中常见的注解：</p> <ol> <li><code>@Override</code>：检测此方法是否为重写方法<ul> <li>JDK5版本,支持父类的方法重写</li> <li>JDK6版本,支持接口的方法重写</li> </ul> </li> <li><code>@Deprecated</code>：表示方法已经过时，不推荐使用，但是依旧可以使用</li> <li><code>@SuppressWarnings</code>：消除警告，例如消除所有警告：<code>@SuppressWarnings("all")</code></li> </ol> <p>在IDEA中，一般被警告的方法默认会有黄色底色，例如下图：</p> <p><a class=glightbox href="19. Java中的Junit、类加载时机与机制、反射、注解及枚举.assets\image4.png" data-type=image data-width=100% data-height=auto data-desc-position=bottom><img src="19. Java中的Junit、类加载时机与机制、反射、注解及枚举.assets\image4.png"></a></p> <h3 id=_17>定义注解和属性<a class=headerlink href=#_17 title="Permanent link">&para;</a></h3> <p>在Java中，可以使用下面的格式定义注解：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-22-1><span class=kd>public</span><span class=w> </span><span class=nd>@Interface</span><span class=w> </span><span class=n>注解名</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-22-2><span class=w>    </span><span class=c1>// 属性</span>
</span><span id=__span-22-3><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>在注解体内的属性，本质是抽象方法，但是在使用时，与成员属性相同，使用<code>成员属性名=值</code>的方式</p> <p>属性的定义有两种方式：</p> <ol> <li><code>数据类型 属性名()</code>：定义一个没有默认值的属性，使用注解时就必须赋值</li> <li><code>数据类型 属性名() default 值</code>：定义一个有默认值的属性，使用注解时可以不需要赋值</li> </ol> <p>可以作为属性的类型：</p> <ol> <li>所有基本数据类型</li> <li><code>String</code>类型</li> <li>枚举类型</li> <li>注解类型</li> <li><code>Class</code>类型</li> <li>上面所有类型的一维数组（不可以是二维数组）</li> </ol> <p>例如：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-23-1><span class=kd>public</span><span class=w> </span><span class=nd>@interface</span><span class=w> </span><span class=n>Book</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-23-2><span class=w>    </span><span class=c1>//书名</span>
</span><span id=__span-23-3><span class=w>    </span><span class=n>String</span><span class=w> </span><span class=nf>bookName</span><span class=p>();</span>
</span><span id=__span-23-4><span class=w>    </span><span class=c1>//作者</span>
</span><span id=__span-23-5><span class=w>    </span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=nf>author</span><span class=p>();</span>
</span><span id=__span-23-6><span class=w>    </span><span class=c1>//价格</span>
</span><span id=__span-23-7><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=nf>price</span><span class=p>();</span>
</span><span id=__span-23-8><span class=w>    </span><span class=c1>//数量</span>
</span><span id=__span-23-9><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=nf>count</span><span class=p>()</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=mi>10</span><span class=p>;</span>
</span><span id=__span-23-10><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h3 id=_18>注解的使用<a class=headerlink href=#_18 title="Permanent link">&para;</a></h3> <p>使用注解本质就是为每一个属性（抽象方法）赋值，一般使用位置有下面几种：</p> <ol> <li>类名上</li> <li>方法上</li> <li>成员变量上</li> <li>局部变量上</li> <li>参数位置</li> </ol> <p>使用格式如下：</p> <ol> <li>普通属性：<code>@注解名(属性名 = 值, 属性名 = 值...)</code></li> <li>属性中有数组：<code>@注解名(属性名 = {元素1,元素2...})</code></li> </ol> <p>注解使用时需要注意：</p> <ol> <li>空注解（注解中没有任何的属性）可以直接使用</li> <li>不同的位置可以使用一样的注解，但是同样的位置不能使用一样的注解</li> <li>使用注解时，如果此注解中有属性没有默认值，则注解中对应的属性一定要赋值。如果有多个属性，用<code>,</code>隔开；如果注解中的属性值有默认值，那么不用显示写，也不用重新赋值</li> <li>如果注解中的属性有数组，使用<code>{}</code></li> <li>如果注解中只有一个属性，并且属性名叫<code>value</code>，那么使用注解的时候，属性名不用写，直接写值（包括普通类型和数组）</li> </ol> <p>例如：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-24-1><span class=c1>// 自定义注解</span>
</span><span id=__span-24-2><span class=kd>public</span><span class=w> </span><span class=nd>@interface</span><span class=w> </span><span class=n>Book</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-24-3><span class=w>    </span><span class=c1>//书名</span>
</span><span id=__span-24-4><span class=w>    </span><span class=n>String</span><span class=w> </span><span class=nf>bookName</span><span class=p>();</span>
</span><span id=__span-24-5><span class=w>    </span><span class=c1>//作者</span>
</span><span id=__span-24-6><span class=w>    </span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=nf>author</span><span class=p>();</span>
</span><span id=__span-24-7><span class=w>    </span><span class=c1>//价格</span>
</span><span id=__span-24-8><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=nf>price</span><span class=p>();</span>
</span><span id=__span-24-9><span class=w>    </span><span class=c1>//数量</span>
</span><span id=__span-24-10><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=nf>count</span><span class=p>()</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=mi>10</span><span class=p>;</span>
</span><span id=__span-24-11><span class=p>}</span>
</span><span id=__span-24-12>
</span><span id=__span-24-13><span class=c1>// 测试</span>
</span><span id=__span-24-14><span class=nd>@Book</span><span class=p>(</span><span class=n>bookName</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;寓言故事&quot;</span><span class=p>,</span><span class=n>author</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span><span class=s>&quot;张三&quot;</span><span class=p>,</span><span class=s>&quot;李四&quot;</span><span class=p>},</span><span class=n>price</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>10</span><span class=p>,</span><span class=n>count</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>20</span><span class=p>)</span>
</span><span id=__span-24-15><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>BookShelf</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-24-16><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h3 id=_19>解析注解<a class=headerlink href=#_19 title="Permanent link">&para;</a></h3> <p>解析注解即为取出注解对应属性的值，注解涉及的接口是：<code>AnnotatedElement</code>接口，实现类有： <code>AccessibleObject</code>、<code>Class</code>、<code>Constructor</code>、<code>Executable</code>、<code>Field</code>、<code>Method</code>、<code>Package</code>、<code>Parameter</code> </p> <p>解析思路如下：</p> <ol> <li>判断指定位置上有没有使用指定的注解：使用方法：<code>boolean isAnnotationPresent(Class&lt;? extends Annotation&gt; annotationClass)</code>，如果存在注解则返回为<code>true</code>，否则返回<code>false</code></li> <li>如果有，则获取指定的注解：使用方法：<code>getAnnotation(Class&lt;T&gt; annotationClass)</code></li> <li>通过注解获取指定的值</li> </ol> <p>例如：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-25-1><span class=c1>// 自定义注解</span>
</span><span id=__span-25-2><span class=kd>public</span><span class=w> </span><span class=nd>@interface</span><span class=w> </span><span class=n>Book</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-25-3><span class=w>    </span><span class=c1>//书名</span>
</span><span id=__span-25-4><span class=w>    </span><span class=n>String</span><span class=w> </span><span class=nf>bookName</span><span class=p>();</span>
</span><span id=__span-25-5><span class=w>    </span><span class=c1>//作者</span>
</span><span id=__span-25-6><span class=w>    </span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=nf>author</span><span class=p>();</span>
</span><span id=__span-25-7><span class=w>    </span><span class=c1>//价格</span>
</span><span id=__span-25-8><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=nf>price</span><span class=p>();</span>
</span><span id=__span-25-9><span class=w>    </span><span class=c1>//数量</span>
</span><span id=__span-25-10><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=nf>count</span><span class=p>()</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=mi>10</span><span class=p>;</span>
</span><span id=__span-25-11><span class=p>}</span>
</span><span id=__span-25-12>
</span><span id=__span-25-13><span class=c1>// 自定义类</span>
</span><span id=__span-25-14><span class=nd>@Book</span><span class=p>(</span><span class=n>bookName</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;寓言故事&quot;</span><span class=p>,</span><span class=n>author</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span><span class=s>&quot;张三&quot;</span><span class=p>,</span><span class=s>&quot;李四&quot;</span><span class=p>},</span><span class=n>price</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>10</span><span class=p>,</span><span class=n>count</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>20</span><span class=p>)</span>
</span><span id=__span-25-15><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>BookShelf</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-25-16><span class=p>}</span>
</span><span id=__span-25-17>
</span><span id=__span-25-18><span class=c1>// 测试</span>
</span><span id=__span-25-19><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Test01</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-25-20><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-25-21><span class=w>        </span><span class=c1>//1.获取BookShelf的class对象</span>
</span><span id=__span-25-22><span class=w>        </span><span class=n>Class</span><span class=o>&lt;</span><span class=n>BookShelf</span><span class=o>&gt;</span><span class=w> </span><span class=n>bookShelfClass</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>BookShelf</span><span class=p>.</span><span class=na>class</span><span class=p>;</span>
</span><span id=__span-25-23><span class=w>        </span><span class=c1>//2.判断bookShelf上有没有Book注解</span>
</span><span id=__span-25-24><span class=w>        </span><span class=kt>boolean</span><span class=w> </span><span class=n>b</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>bookShelfClass</span><span class=p>.</span><span class=na>isAnnotationPresent</span><span class=p>(</span><span class=n>Book</span><span class=p>.</span><span class=na>class</span><span class=p>);</span>
</span><span id=__span-25-25><span class=w>        </span><span class=c1>//3.判断，如果b为true就获取</span>
</span><span id=__span-25-26><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>b</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-25-27><span class=w>            </span><span class=n>Book</span><span class=w> </span><span class=n>book</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>bookShelfClass</span><span class=p>.</span><span class=na>getAnnotation</span><span class=p>(</span><span class=n>Book</span><span class=p>.</span><span class=na>class</span><span class=p>);</span>
</span><span id=__span-25-28><span class=w>            </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>book</span><span class=p>.</span><span class=na>bookName</span><span class=p>());</span>
</span><span id=__span-25-29><span class=w>            </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>Arrays</span><span class=p>.</span><span class=na>toString</span><span class=p>(</span><span class=n>book</span><span class=p>.</span><span class=na>author</span><span class=p>()));</span>
</span><span id=__span-25-30><span class=w>            </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>book</span><span class=p>.</span><span class=na>price</span><span class=p>());</span>
</span><span id=__span-25-31><span class=w>            </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>book</span><span class=p>.</span><span class=na>count</span><span class=p>());</span>
</span><span id=__span-25-32><span class=w>        </span><span class=p>}</span>
</span><span id=__span-25-33><span class=w>    </span><span class=p>}</span>
</span><span id=__span-25-34><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>上面的代码没有在控制台中打印运行结果，原因是注解并没有在内存中出现，而<code>class</code>文件在内存中运行，所以导致方法无法获取到对应的注解</p> <h3 id=_20>元注解<a class=headerlink href=#_20 title="Permanent link">&para;</a></h3> <p>元注解也是注解，这个注解用来管理其他注解，一般管理下面的方面：</p> <ol> <li>控制注解的使用位置<ol> <li>控制注解是否能在类上使用</li> <li>控制注解是否能在方法上使用</li> <li>控制注解是否能在构造上使用等</li> </ol> </li> <li>控制注解的生命周期（加载位置）<ul> <li>控制注解是否能在源码中出现</li> <li>控制注解是否能在<code>class</code>文件中出现</li> <li>控制注解是否能在内存中出现</li> </ul> </li> </ol> <p>使用元注解：</p> <ol> <li>注解<code>@Target</code>：控制注解的使用位置，其属性是个枚举数组<code>ElementType[] value();</code>，枚举的成员可以类名直接调用。常见的成员有：<ul> <li><code>TYPE</code>：控制注解能使用在类上</li> <li><code>FIELD</code>：控制注解能使用在属性上</li> <li><code>METHOD</code>：控制注解能使用在方法上</li> <li><code>PARAMETER</code>：控制注解能使用在参数上</li> <li><code>CONSTRUCTOR</code>：控制注解能使用在构造上</li> <li><code>LOCAL_VARIABLE</code>：控制注解能使用在局部变量上 </li> </ul> </li> <li>注解<code>@Retention</code>：控制注解的生命周期（加载位置），其属性是一个枚举对象<code>RetentionPolicy</code>，常见的成员有：<ul> <li><code>SOURCE</code>:控制注解能在源码中出现（默认）</li> <li><code>CLASS</code>:控制注解能在<code>class</code>文件中出现</li> <li><code>RUNTIME</code>:控制注解能在内存中出现 </li> </ul> </li> </ol> <div class="admonition note"> <p class=admonition-title>Note</p> <p>需要注意，<code>@Target</code>如果不指定属性，默认是全部可用</p> </div> <p>使用元注解就可以解决前面解析注解部分无法读取到注解的问题：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-26-1><span class=nd>@Target</span><span class=p>({</span><span class=n>ElementType</span><span class=p>.</span><span class=na>TYPE</span><span class=p>,</span><span class=n>ElementType</span><span class=p>.</span><span class=na>METHOD</span><span class=p>})</span>
</span><span id=__span-26-2><span class=nd>@Retention</span><span class=p>(</span><span class=n>RetentionPolicy</span><span class=p>.</span><span class=na>RUNTIME</span><span class=p>)</span>
</span><span id=__span-26-3><span class=kd>public</span><span class=w> </span><span class=nd>@interface</span><span class=w> </span><span class=n>Book</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-26-4><span class=w>    </span><span class=c1>//书名</span>
</span><span id=__span-26-5><span class=w>    </span><span class=n>String</span><span class=w> </span><span class=nf>bookName</span><span class=p>();</span>
</span><span id=__span-26-6><span class=w>    </span><span class=c1>//作者</span>
</span><span id=__span-26-7><span class=w>    </span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=nf>author</span><span class=p>();</span>
</span><span id=__span-26-8><span class=w>    </span><span class=c1>//价格</span>
</span><span id=__span-26-9><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=nf>price</span><span class=p>();</span>
</span><span id=__span-26-10><span class=w>    </span><span class=c1>//数量</span>
</span><span id=__span-26-11><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=nf>count</span><span class=p>()</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=mi>10</span><span class=p>;</span>
</span><span id=__span-26-12><span class=p>}</span>
</span><span id=__span-26-13>
</span><span id=__span-26-14><span class=c1>// 测试</span>
</span><span id=__span-26-15><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Test01</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-26-16><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-26-17><span class=w>        </span><span class=c1>//1.获取BookShelf的class对象</span>
</span><span id=__span-26-18><span class=w>        </span><span class=n>Class</span><span class=o>&lt;</span><span class=n>BookShelf</span><span class=o>&gt;</span><span class=w> </span><span class=n>bookShelfClass</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>BookShelf</span><span class=p>.</span><span class=na>class</span><span class=p>;</span>
</span><span id=__span-26-19><span class=w>        </span><span class=c1>//2.判断bookShelf上有没有Book注解</span>
</span><span id=__span-26-20><span class=w>        </span><span class=kt>boolean</span><span class=w> </span><span class=n>b</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>bookShelfClass</span><span class=p>.</span><span class=na>isAnnotationPresent</span><span class=p>(</span><span class=n>Book</span><span class=p>.</span><span class=na>class</span><span class=p>);</span>
</span><span id=__span-26-21><span class=w>        </span><span class=c1>//3.判断,如果b为true,就获取</span>
</span><span id=__span-26-22><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>b</span><span class=p>){</span>
</span><span id=__span-26-23><span class=w>            </span><span class=n>Book</span><span class=w> </span><span class=n>book</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>bookShelfClass</span><span class=p>.</span><span class=na>getAnnotation</span><span class=p>(</span><span class=n>Book</span><span class=p>.</span><span class=na>class</span><span class=p>);</span>
</span><span id=__span-26-24><span class=w>            </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>book</span><span class=p>.</span><span class=na>bookName</span><span class=p>());</span>
</span><span id=__span-26-25><span class=w>            </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>Arrays</span><span class=p>.</span><span class=na>toString</span><span class=p>(</span><span class=n>book</span><span class=p>.</span><span class=na>author</span><span class=p>()));</span>
</span><span id=__span-26-26><span class=w>            </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>book</span><span class=p>.</span><span class=na>price</span><span class=p>());</span>
</span><span id=__span-26-27><span class=w>            </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>book</span><span class=p>.</span><span class=na>count</span><span class=p>());</span>
</span><span id=__span-26-28><span class=w>        </span><span class=p>}</span>
</span><span id=__span-26-29><span class=w>    </span><span class=p>}</span>
</span><span id=__span-26-30><span class=p>}</span>
</span><span id=__span-26-31>
</span><span id=__span-26-32><span class=n>输出结果</span><span class=err>：</span>
</span><span id=__span-26-33><span class=n>寓言故事</span>
</span><span id=__span-26-34><span class=o>[</span><span class=n>张三</span><span class=p>,</span><span class=w> </span><span class=n>李四</span><span class=o>]</span>
</span><span id=__span-26-35><span class=mi>10</span>
</span><span id=__span-26-36><span class=mi>20</span>
</span></code></pre></div></td></tr></table></div> <h2 id=_21>枚举<a class=headerlink href=#_21 title="Permanent link">&para;</a></h2> <h3 id=_22>基本使用<a class=headerlink href=#_22 title="Permanent link">&para;</a></h3> <p>枚举属于五大引用数据类型中的一种：类、数组、接口、注解、枚举</p> <p>定义枚举格式如下：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-27-1><span class=kd>public</span><span class=w> </span><span class=kd>enum</span><span class=w> </span><span class=n>枚举类名</span><span class=p>{</span>
</span><span id=__span-27-2>
</span><span id=__span-27-3><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>在Java中，所有枚举的父类都是<code>Enum</code></p> <p>枚举的特点如下：</p> <ol> <li>每一个枚举都是<code>static final</code>，但是定义枚举是不能显示写出</li> <li>每一个枚举由逗号分隔</li> <li>写完所有的枚举值之后，最后一个枚举后方需要加<code>;</code></li> <li>枚举值名字最好大写</li> <li>使用时使用枚举类名直接调用枚举成员</li> <li>枚举中的成员都是当前枚举类类型的对象</li> <li>枚举类中的构造方法都是<code>private</code>修饰</li> </ol> <p>基本使用如下：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-28-1><span class=kd>public</span><span class=w> </span><span class=kd>enum</span><span class=w> </span><span class=n>Status</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-28-2><span class=w>    </span><span class=n>RUNNING</span><span class=p>,</span>
</span><span id=__span-28-3><span class=w>    </span><span class=n>WAITING</span><span class=p>,</span>
</span><span id=__span-28-4><span class=w>    </span><span class=n>STOPPED</span><span class=p>;</span>
</span><span id=__span-28-5><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>如果想为每一个枚举赋值，可以在枚举类中定义成员和构造方法，并对外提供获取方法就可以获取到每一个枚举值对应的值</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-29-1><span class=kd>public</span><span class=w> </span><span class=kd>enum</span><span class=w> </span><span class=n>Status</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-29-2><span class=w>    </span><span class=n>RUNNING</span><span class=p>(</span><span class=s>&quot;运行&quot;</span><span class=p>),</span>
</span><span id=__span-29-3><span class=w>    </span><span class=n>WAITING</span><span class=p>(</span><span class=s>&quot;等待&quot;</span><span class=p>),</span>
</span><span id=__span-29-4><span class=w>    </span><span class=n>STOPPED</span><span class=p>(</span><span class=s>&quot;暂停&quot;</span><span class=p>);</span>
</span><span id=__span-29-5>
</span><span id=__span-29-6><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=n>name</span><span class=p>;</span>
</span><span id=__span-29-7>
</span><span id=__span-29-8><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=nf>Status</span><span class=p>(</span><span class=n>String</span><span class=w> </span><span class=n>name</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-29-9><span class=w>        </span><span class=k>this</span><span class=p>.</span><span class=na>name</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>name</span><span class=p>;</span>
</span><span id=__span-29-10><span class=w>    </span><span class=p>}</span>
</span><span id=__span-29-11><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>测试如下：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-30-1><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Test</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-30-2><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-30-3><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>Status</span><span class=p>.</span><span class=na>RUNNING</span><span class=p>);</span>
</span><span id=__span-30-4><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>Status</span><span class=p>.</span><span class=na>RUNNING</span><span class=p>.</span><span class=na>getName</span><span class=p>());</span>
</span><span id=__span-30-5><span class=w>    </span><span class=p>}</span>
</span><span id=__span-30-6><span class=p>}</span>
</span><span id=__span-30-7>
</span><span id=__span-30-8><span class=n>输出结果</span><span class=err>：</span>
</span><span id=__span-30-9><span class=n>RUNNING</span>
</span><span id=__span-30-10><span class=n>运行</span>
</span></code></pre></div></td></tr></table></div> <h3 id=_23>枚举类构造方法与反射<a class=headerlink href=#_23 title="Permanent link">&para;</a></h3> <p>实际上，在<code>Enum</code>类中也提供了一个构造方法，如下：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-31-1><span class=kd>protected</span><span class=w> </span><span class=nf>Enum</span><span class=p>(</span><span class=n>String</span><span class=w> </span><span class=n>name</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>ordinal</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-31-2><span class=w>    </span><span class=k>this</span><span class=p>.</span><span class=na>name</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>name</span><span class=p>;</span>
</span><span id=__span-31-3><span class=w>    </span><span class=k>this</span><span class=p>.</span><span class=na>ordinal</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>ordinal</span><span class=p>;</span>
</span><span id=__span-31-4><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>因为所有的枚举类都默认继承自<code>Enum</code>类，所以在自定义枚举类中使用显式提供的构造方法时理论上需要显式调用父类的构造方法初始化父类的成员，但是在枚举部分不需要是因为编译器已经自动提供了，例如可以理解<code>Status</code>枚举类的构造方法如下：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-32-1><span class=c1>// 编译器生成的实际构造函数</span>
</span><span id=__span-32-2><span class=kd>private</span><span class=w> </span><span class=nf>Status</span><span class=p>(</span><span class=n>String</span><span class=w> </span><span class=n>enumName</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>ordinal</span><span class=p>,</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=n>name</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-32-3><span class=w>    </span><span class=kd>super</span><span class=p>(</span><span class=n>enumName</span><span class=p>,</span><span class=w> </span><span class=n>ordinal</span><span class=p>);</span><span class=w>  </span><span class=c1>// 调用父类Enum的构造函数</span>
</span><span id=__span-32-4><span class=w>    </span><span class=k>this</span><span class=p>.</span><span class=na>name</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>name</span><span class=p>;</span>
</span><span id=__span-32-5><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>对应的，在反射时获取该构造方法就需要显式指定并且保证用于初始化父类成员的类型在子类成员类型之前：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-33-1><span class=c1>// 获取Status枚举类的构造方法</span>
</span><span id=__span-33-2><span class=n>Constructor</span><span class=o>&lt;</span><span class=n>Status</span><span class=o>&gt;</span><span class=w> </span><span class=n>constructor</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Status</span><span class=p>.</span><span class=na>class</span><span class=p>.</span><span class=na>getDeclaredConstructor</span><span class=p>(</span><span class=n>String</span><span class=p>.</span><span class=na>class</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=p>.</span><span class=na>class</span><span class=p>,</span><span class=w> </span><span class=n>String</span><span class=p>.</span><span class=na>class</span><span class=p>);</span>
</span></code></pre></div></td></tr></table></div> <p>因为构造方法是私有的，接下来为了能够访问还需要设置访问权限：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-34-1><span class=n>constructor</span><span class=p>.</span><span class=na>setAccessible</span><span class=p>(</span><span class=kc>true</span><span class=p>);</span>
</span></code></pre></div></td></tr></table></div> <p>接下来，通过反射创建一个自定义枚举类对象：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-35-1><span class=n>Status</span><span class=w> </span><span class=n>status2</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>constructor</span><span class=p>.</span><span class=na>newInstance</span><span class=p>(</span><span class=s>&quot;WAITING&quot;</span><span class=p>,</span><span class=w> </span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=s>&quot;警告&quot;</span><span class=p>);</span>
</span></code></pre></div></td></tr></table></div> <p>此时运行代码就会看到编译器给出异常信息：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-36-1><span class=n>Exception</span><span class=w> </span><span class=n>in</span><span class=w> </span><span class=n>thread</span><span class=w> </span><span class=s>&quot;main&quot;</span><span class=w> </span><span class=n>java</span><span class=p>.</span><span class=na>lang</span><span class=p>.</span><span class=na>IllegalArgumentException</span><span class=p>:</span><span class=w> </span><span class=n>Cannot</span><span class=w> </span><span class=n>reflectively</span><span class=w> </span><span class=n>create</span><span class=w> </span><span class=kd>enum</span><span class=w> </span><span class=n>objects</span>
</span><span id=__span-36-2><span class=w>    </span><span class=n>at</span><span class=w> </span><span class=n>java</span><span class=p>.</span><span class=na>base</span><span class=o>/</span><span class=n>java</span><span class=p>.</span><span class=na>lang</span><span class=p>.</span><span class=na>reflect</span><span class=p>.</span><span class=na>Constructor</span><span class=p>.</span><span class=na>newInstanceWithCaller</span>
</span><span id=__span-36-3><span class=w>    </span><span class=n>at</span><span class=w> </span><span class=n>java</span><span class=p>.</span><span class=na>base</span><span class=o>/</span><span class=n>java</span><span class=p>.</span><span class=na>lang</span><span class=p>.</span><span class=na>reflect</span><span class=p>.</span><span class=na>Constructor</span><span class=p>.</span><span class=na>newInstance</span>
</span><span id=__span-36-4><span class=w>    </span><span class=n>at</span><span class=w> </span><span class=n>com</span><span class=p>.</span><span class=na>epsda</span><span class=p>.</span><span class=na>advanced</span><span class=p>.</span><span class=na>test_Enum</span><span class=p>.</span><span class=na>Test01</span><span class=p>.</span><span class=na>main</span>
</span></code></pre></div></td></tr></table></div> <p>出现这个问题的原因就是在<code>Constructor</code>类的<code>newInstance()</code>方法中，源码如下：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-37-1><span class=kd>public</span><span class=w> </span><span class=n>T</span><span class=w> </span><span class=nf>newInstance</span><span class=p>(</span><span class=n>Object</span><span class=w> </span><span class=p>...</span><span class=w> </span><span class=n>initargs</span><span class=p>)</span>
</span><span id=__span-37-2><span class=w>    </span><span class=kd>throws</span><span class=w> </span><span class=n>InstantiationException</span><span class=p>,</span><span class=w> </span><span class=n>IllegalAccessException</span><span class=p>,</span>
</span><span id=__span-37-3><span class=w>            </span><span class=n>IllegalArgumentException</span><span class=p>,</span><span class=w> </span><span class=n>InvocationTargetException</span>
</span><span id=__span-37-4><span class=p>{</span>
</span><span id=__span-37-5><span class=w>    </span><span class=n>Class</span><span class=o>&lt;?&gt;</span><span class=w> </span><span class=n>caller</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>override</span><span class=w> </span><span class=o>?</span><span class=w> </span><span class=kc>null</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=n>Reflection</span><span class=p>.</span><span class=na>getCallerClass</span><span class=p>();</span>
</span><span id=__span-37-6><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=n>newInstanceWithCaller</span><span class=p>(</span><span class=n>initargs</span><span class=p>,</span><span class=w> </span><span class=o>!</span><span class=n>override</span><span class=p>,</span><span class=w> </span><span class=n>caller</span><span class=p>);</span>
</span><span id=__span-37-7><span class=p>}</span>
</span><span id=__span-37-8>
</span><span id=__span-37-9><span class=n>T</span><span class=w> </span><span class=nf>newInstanceWithCaller</span><span class=p>(</span><span class=n>Object</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>,</span><span class=w> </span><span class=kt>boolean</span><span class=w> </span><span class=n>checkAccess</span><span class=p>,</span><span class=w> </span><span class=n>Class</span><span class=o>&lt;?&gt;</span><span class=w> </span><span class=n>caller</span><span class=p>)</span>
</span><span id=__span-37-10><span class=w>    </span><span class=kd>throws</span><span class=w> </span><span class=n>InstantiationException</span><span class=p>,</span><span class=w> </span><span class=n>IllegalAccessException</span><span class=p>,</span>
</span><span id=__span-37-11><span class=w>            </span><span class=n>InvocationTargetException</span>
</span><span id=__span-37-12><span class=p>{</span>
</span><span id=__span-37-13><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>checkAccess</span><span class=p>)</span>
</span><span id=__span-37-14><span class=w>        </span><span class=n>checkAccess</span><span class=p>(</span><span class=n>caller</span><span class=p>,</span><span class=w> </span><span class=n>clazz</span><span class=p>,</span><span class=w> </span><span class=n>clazz</span><span class=p>,</span><span class=w> </span><span class=n>modifiers</span><span class=p>);</span>
</span><span id=__span-37-15>
</span><span id=__span-37-16><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>((</span><span class=n>clazz</span><span class=p>.</span><span class=na>getModifiers</span><span class=p>()</span><span class=w> </span><span class=o>&amp;</span><span class=w> </span><span class=n>Modifier</span><span class=p>.</span><span class=na>ENUM</span><span class=p>)</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=mi>0</span><span class=p>)</span>
</span><span id=__span-37-17><span class=w>        </span><span class=k>throw</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>IllegalArgumentException</span><span class=p>(</span><span class=s>&quot;Cannot reflectively create enum objects&quot;</span><span class=p>);</span>
</span><span id=__span-37-18>
</span><span id=__span-37-19><span class=w>    </span><span class=n>ConstructorAccessor</span><span class=w> </span><span class=n>ca</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>constructorAccessor</span><span class=p>;</span><span class=w>   </span><span class=c1>// read volatile</span>
</span><span id=__span-37-20><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>ca</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-37-21><span class=w>        </span><span class=n>ca</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>acquireConstructorAccessor</span><span class=p>();</span>
</span><span id=__span-37-22><span class=w>    </span><span class=p>}</span>
</span><span id=__span-37-23><span class=w>    </span><span class=nd>@SuppressWarnings</span><span class=p>(</span><span class=s>&quot;unchecked&quot;</span><span class=p>)</span>
</span><span id=__span-37-24><span class=w>    </span><span class=n>T</span><span class=w> </span><span class=n>inst</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=n>T</span><span class=p>)</span><span class=w> </span><span class=n>ca</span><span class=p>.</span><span class=na>newInstance</span><span class=p>(</span><span class=n>args</span><span class=p>);</span>
</span><span id=__span-37-25><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=n>inst</span><span class=p>;</span>
</span><span id=__span-37-26><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>在<code>newInstance()</code>方法中调用了<code>newInstanceWithCaller()</code>，而该方法中抛出异常的逻辑为：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-38-1><span class=k>if</span><span class=w> </span><span class=p>((</span><span class=n>clazz</span><span class=p>.</span><span class=na>getModifiers</span><span class=p>()</span><span class=w> </span><span class=o>&amp;</span><span class=w> </span><span class=n>Modifier</span><span class=p>.</span><span class=na>ENUM</span><span class=p>)</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=mi>0</span><span class=p>)</span>
</span><span id=__span-38-2><span class=w>    </span><span class=k>throw</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>IllegalArgumentException</span><span class=p>(</span><span class=s>&quot;Cannot reflectively create enum objects&quot;</span><span class=p>);</span>
</span></code></pre></div></td></tr></table></div> <p>在这个逻辑中的<code>(clazz.getModifiers() &amp; Modifier.ENUM) != 0</code>就是表示如果当前枚举类的修饰符中包含<code>ENUM</code>，就抛出异常</p> <p>所以，在Java中，<strong>不能使用反射获取到枚举类的构造方法创建枚举类对象</strong></p> <h3 id=_24>枚举中的常用方法<a class=headerlink href=#_24 title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th>方法名</th> <th>说明</th> </tr> </thead> <tbody> <tr> <td><code>String toString()</code></td> <td>返回枚举值的名字</td> </tr> <tr> <td><code>values()</code></td> <td>返回所有与的枚举值</td> </tr> <tr> <td><code>valueOf(String str)</code></td> <td>将一个字符串转成<strong>已有的</strong>枚举类型</td> </tr> <tr> <td><code>ordinal()</code></td> <td>获取枚举成员的索引位置</td> </tr> <tr> <td><code>compareTo(E o)</code></td> <td>比较两个枚举成员在定义时的顺序</td> </tr> </tbody> </table> <div class="admonition note"> <p class=admonition-title>Note</p> <p>需要注意的是，<code>values()</code>方法实际上是由Java编译器自动生成的，而不是在<code>Enum</code>类中定义的</p> </div> <p>例如下面的代码：</p> <div class="tabbed-set tabbed-alternate" data-tabs=1:2><input checked=checked id=__tabbed_1_1 name=__tabbed_1 type=radio><input id=__tabbed_1_2 name=__tabbed_1 type=radio><div class=tabbed-labels><label for=__tabbed_1_1>自定义枚举类</label><label for=__tabbed_1_2>测试类</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-39-1><span class=c1>// 枚举</span>
</span><span id=__span-39-2><span class=kd>public</span><span class=w> </span><span class=kd>enum</span><span class=w> </span><span class=n>Status</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-39-3><span class=w>    </span><span class=n>RUNNING</span><span class=p>(</span><span class=s>&quot;运行&quot;</span><span class=p>),</span>
</span><span id=__span-39-4><span class=w>    </span><span class=n>WAITING</span><span class=p>(</span><span class=s>&quot;等待&quot;</span><span class=p>),</span>
</span><span id=__span-39-5><span class=w>    </span><span class=n>STOPPED</span><span class=p>(</span><span class=s>&quot;暂停&quot;</span><span class=p>);</span>
</span><span id=__span-39-6>
</span><span id=__span-39-7><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=n>name</span><span class=p>;</span>
</span><span id=__span-39-8>
</span><span id=__span-39-9><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=nf>Status</span><span class=p>(</span><span class=n>String</span><span class=w> </span><span class=n>name</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-39-10><span class=w>        </span><span class=k>this</span><span class=p>.</span><span class=na>name</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>name</span><span class=p>;</span>
</span><span id=__span-39-11><span class=w>    </span><span class=p>}</span>
</span><span id=__span-39-12>
</span><span id=__span-39-13><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=nf>getName</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-39-14><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>name</span><span class=p>;</span>
</span><span id=__span-39-15><span class=w>    </span><span class=p>}</span>
</span><span id=__span-39-16><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> </div> <div class=tabbed-block> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-40-1><span class=c1>// 测试</span>
</span><span id=__span-40-2><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Test01</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-40-3><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-40-4><span class=w>        </span><span class=n>Status</span><span class=w> </span><span class=n>status</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Status</span><span class=p>.</span><span class=na>RUNNING</span><span class=p>;</span>
</span><span id=__span-40-5>
</span><span id=__span-40-6><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>status</span><span class=p>.</span><span class=na>toString</span><span class=p>());</span>
</span><span id=__span-40-7><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>status</span><span class=p>);</span>
</span><span id=__span-40-8>
</span><span id=__span-40-9><span class=w>        </span><span class=n>Status</span><span class=o>[]</span><span class=w> </span><span class=n>values</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Status</span><span class=p>.</span><span class=na>values</span><span class=p>();</span>
</span><span id=__span-40-10><span class=w>        </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=n>Status</span><span class=w> </span><span class=n>value</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=n>values</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-40-11><span class=w>            </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>value</span><span class=p>);</span>
</span><span id=__span-40-12><span class=w>        </span><span class=p>}</span>
</span><span id=__span-40-13>
</span><span id=__span-40-14><span class=w>        </span><span class=n>Status</span><span class=w> </span><span class=n>status1</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Status</span><span class=p>.</span><span class=na>valueOf</span><span class=p>(</span><span class=s>&quot;RUNNING&quot;</span><span class=p>);</span>
</span><span id=__span-40-15><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>status1</span><span class=p>);</span>
</span><span id=__span-40-16><span class=w>    </span><span class=p>}</span>
</span><span id=__span-40-17><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> </div> </div> </div> <aside class=md-source-file> <span class=md-source-file__fact> <span class=md-icon title=最后更新> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">2025年7月17日</span> </span> <span class=md-source-file__fact> <span class=md-icon title=创建日期> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">2024年9月27日</span> </span> </aside> <form class=md-feedback name=feedback hidden> <fieldset> <legend class=md-feedback__title> 页面有帮助吗？ </legend> <div class=md-feedback__inner> <div class=md-feedback__list> <button class="md-feedback__icon md-icon" type=submit title=页面对我有帮助 data-md-value=1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M5 9v12H1V9zm4 12a2 2 0 0 1-2-2V9c0-.55.22-1.05.59-1.41L14.17 1l1.06 1.06c.27.27.44.64.44 1.05l-.03.32L14.69 8H21a2 2 0 0 1 2 2v2c0 .26-.05.5-.14.73l-3.02 7.05C19.54 20.5 18.83 21 18 21zm0-2h9.03L21 12v-2h-8.79l1.13-5.32L9 9.03z"/></svg> </button> <button class="md-feedback__icon md-icon" type=submit title=页面没有帮助到我 data-md-value=0> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 15V3h4v12zM15 3a2 2 0 0 1 2 2v10c0 .55-.22 1.05-.59 1.41L9.83 23l-1.06-1.06c-.27-.27-.44-.64-.44-1.06l.03-.31.95-4.57H3a2 2 0 0 1-2-2v-2c0-.26.05-.5.14-.73l3.02-7.05C4.46 3.5 5.17 3 6 3zm0 2H5.97L3 12v2h8.78l-1.13 5.32L15 14.97z"/></svg> </button> </div> <div class=md-feedback__note> <div data-md-value=1 hidden> 谢谢你的反馈！ </div> <div data-md-value=0 hidden> 谢谢你的反馈！联系<a href=https://www.help-doc.top/%E4%BD%9C%E8%80%85/%E4%BD%9C%E8%80%85.html>作者</a>提供更详细的信息 </div> </div> </div> </fieldset> </form> <!-- 阅读进度条 - 直接在HTML中定义 --> <div class=reading-progress></div> <!-- 滚动指示器 - 直接在HTML中定义 --> <div class=scroll-indicator></div> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> </main> <!--
  Copyright (c) 2016-2024 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
--> <!-- Footer --> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-footer-copyright__highlight> Copyright &copy; 2024-2025 柯懒不是柯南 </div> </div> <!-- "一闪一闪亮晶晶"元素 - 插入在copyright和social之间 --> <div class="md-footer-love md-typeset"> 一闪一闪亮晶晶，不及<span class=love-highlight>小亮</span><span class=love-heart>♥</span>照我心。To Li Liang </div> <div class=md-social> <a href=https://github.com/H0308 target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> <a href=https://www.help-doc.top/%E4%BD%9C%E8%80%85/%E4%BD%9C%E8%80%85.html target=_blank rel=noopener title=www.help-doc.top class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M433.754 420.445c-11.526 1.393-44.86-52.741-44.86-52.741 0 31.345-16.136 72.247-51.051 101.786 16.842 5.192 54.843 19.167 45.803 34.421-7.316 12.343-125.51 7.881-159.632 4.037-34.122 3.844-152.316 8.306-159.632-4.037-9.045-15.25 28.918-29.214 45.783-34.415-34.92-29.539-51.059-70.445-51.059-101.792 0 0-33.334 54.134-44.859 52.741-5.37-.65-12.424-29.644 9.347-99.704 10.261-33.024 21.995-60.478 40.144-105.779C60.683 98.063 108.982.006 224 0c113.737.006 163.156 96.133 160.264 214.963 18.118 45.223 29.912 72.85 40.144 105.778 21.768 70.06 14.716 99.053 9.346 99.704"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["navigation.indexes", "navigation.prune", "navigation.tabs", "search.highlight", "content.code.copy"], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}, "version": null}</script> <script src=../../assets/javascripts/bundle.c8b220af.min.js></script> <script src=../../javascripts/katex.min.js></script> <script src=../../javascripts/other.min.js></script> <script src=../../javascripts/copyright.min.js></script> <script src=https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/katex.min.js></script> <script src=https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/contrib/auto-render.min.js></script> <script src=../../assets/javascripts/toggle-sidebar.js async></script> <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body> </html>