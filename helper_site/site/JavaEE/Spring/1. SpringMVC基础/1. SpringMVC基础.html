<!doctype html><html lang=zh class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=canonical href=https://www.help-doc.top/JavaEE/Spring/1.%20SpringMVC%E5%9F%BA%E7%A1%80/1.%20SpringMVC%E5%9F%BA%E7%A1%80.html><link rel=prev href=../../../MySQL/MySQL%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/1.%20Ubuntu%E4%B8%8B%E5%AE%89%E8%A3%85%E5%92%8C%E5%8D%B8%E8%BD%BDMySQL/1.%20Ubuntu%E4%B8%8B%E5%AE%89%E8%A3%85%E5%92%8C%E5%8D%B8%E8%BD%BDMySQL.html><link rel=next href=../../../%E5%85%B6%E5%AE%83/Shell%E8%84%9A%E6%9C%AC%E8%AF%AD%E8%A8%80/%E5%85%B3%E4%BA%8EShell.html><link rel=icon href=../../../images/favicon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.12"><title>SpringMVC基础 - 柯懒的知识库</title><link rel=stylesheet href=../../../assets/stylesheets/main.2afb09e1.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.06af60db.min.css><link rel=stylesheet href=../../../css/timeline.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/katex.min.css><script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-9XWRGNRRSY"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-9XWRGNRRSY",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-9XWRGNRRSY",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script><link rel=stylesheet href=../../../stylesheets/theme2.min.css media="screen and (max-width: 767px)"><link rel=stylesheet href=../../../stylesheets/theme2.min.css media="screen and (min-width: 768px) and (max-width: 1199px)"><link rel=stylesheet href=../../../stylesheets/theme1.min.css media="screen and (min-width: 1200px)"><link rel=stylesheet href=../../../stylesheets/print.min.css><script src=https://cdn.jsdelivr.net/npm/mermaid@11.5.0/dist/mermaid.min.js></script><style>
    @import url("https://static.zeoseven.com/zsft/2/main/result.css");
    /* 江城黑体备用 */
    @import url("https://fontsapi.zeoseven.com/194/main/result.css");
    /* OPPO Sans主字体 */
    @import url("https://fonts.cdnfonts.com/css/opposans");
    /* Dejavu Sans Mono */
    @import url('https://fonts.cdnfonts.com/css/dejavu-sans-mono');
    /* 寒蝉团圆体 Sans */
    @import url("https://fontsapi.zeoseven.com/70/main/result.css");

    @font-face {
        font-family: "OPPOSans";
    }

    @font-face {
        font-family: "JiangChengHeiTi 400W";
    }

    @font-face {
        font-family: "LXGW ZhenKai";
    }

    @font-face {
        font-family: 'DejaVu Sans Mono';
    }

    /* JetBrains Mono字体 */
    @font-face {
        font-family: "ZSFT-hk";
        src: url("https://static.zeoseven.com/zsft/hk/main.woff2") format("woff2"),
            url("https://static-host.zeoseven.com/zsft/hk/main.woff2") format("woff2");
    }

    @font-face {
        font-family: "寒蝉团圆体 Sans";
    }

    .md-header__topic .md-ellipsis {
        font-family: "寒蝉团圆体 Sans" !important;
    }

    :root {
        --md-text-font: "OPPOSans", "JiangChengHeiTi 400W", sans-serif;
        --md-header-font: "LXGW ZhenKai", sans-serif;
        --md-code-font: "DejaVu Sans Mono", "ZSFT-hk";
        --code-font-color: #e96900;
    }

    h1+div>p {
        font-family: var(--md-header-font);
    }

    @media screen and (max-width: 1199px) {
        .theme-switch {
            display: none !important;
        }
    }

    .theme-switch {
        display: inline-flex;
        gap: 8px;
        margin-right: 1rem;
        padding: 4px;
    }

    .theme-switch {
        margin-right: 1rem;
    }

    .theme-btn {
        font-family: var(--md-text-font);
        font-size: medium;
        padding: 8px 16px;
        border: none;
        border-radius: 8px 8px;
        color: #fff;
        cursor: pointer;
        min-width: 135px;
        height: 36px;
        position: relative;
        overflow: hidden;
        display: flex;
        align-items: center;
        justify-content: center;
        /* 创建一个横向的渐变，包含两种状态的颜色 */
        background-image: linear-gradient(to right,
                #275796 0%,
                #4da6da 50%,
                #4da6da 50%,
                #00bda4 100%);
        /* 设置背景尺寸为两倍按钮宽度，这样可以容纳两种状态 */
        background-size: 200% 100%;
        /* 初始位置显示右半部分（默认颜色） */
        background-position: 100% 0;
        background-repeat: no-repeat;
        /* 确保背景位置变化有过渡效果 */
        transition: background-position 0.5s cubic-bezier(0.4, 0, 0.2, 1),
            transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .theme-btn .current-theme,
    .theme-btn .target-theme {
        position: absolute;
        width: 100%;
        left: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        z-index: 2;
    }

    .theme-btn .current-theme {
        transform: translateX(0);
        opacity: 1;
        transition-delay: 0ms;
    }

    .theme-btn .target-theme {
        transform: translateX(-100%);
        opacity: 0;
        transition-delay: 0ms;
    }

    .theme-btn:hover {
        transform: scale(1.05);
        /* 悬浮时显示左半部分（悬浮颜色） */
        background-position: 0 0;
    }

    .theme-btn:hover .current-theme {
        transform: translateX(100%);
        opacity: 0;
        transition-delay: 100ms;
    }

    .theme-btn:hover .target-theme {
        transform: translateX(0);
        opacity: 1;
        transition-delay: 200ms;
    }

    .theme-btn:active {
        transform: scale(0.95);
        transition: all 100ms ease;
    }

    .md-content article>*:not(.md-top):not(.md-nav) {
        animation: flyIn 0.6s ease-out forwards;
        opacity: 0;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(1) {
        animation-delay: 0.1s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(2) {
        animation-delay: 0.15s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(3) {
        animation-delay: 0.2s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(4) {
        animation-delay: 0.25s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(5) {
        animation-delay: 0.3s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(6) {
        animation-delay: 0.35s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(7) {
        animation-delay: 0.4s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(8) {
        animation-delay: 0.45s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(9) {
        animation-delay: 0.5s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(10) {
        animation-delay: 0.55s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(11) {
        animation-delay: 0.6s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(12) {
        animation-delay: 0.65s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(13) {
        animation-delay: 0.7s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(14) {
        animation-delay: 0.75s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(15) {
        animation-delay: 0.8s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(16) {
        animation-delay: 0.85s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(17) {
        animation-delay: 0.9s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(18) {
        animation-delay: 0.95s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(19) {
        animation-delay: 1s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(20) {
        animation-delay: 1.05s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(n + 21) {
        animation-delay: 1.1s;
    }

    @keyframes flyIn {
        0% {
            opacity: 0;
            transform: translateY(-20px);
        }

        100% {
            opacity: 1;
            transform: translateY(0);
        }
    }

    @media (prefers-reduced-motion: reduce) {
        .md-content article>*:not(.md-top):not(.md-nav) {
            animation: none !important;
            opacity: 1 !important;
            transform: none !important;
        }
    }

    /* 添加超时后强制显示内容 */
    .md-content article>*:not(.md-top):not(.md-nav) {
        animation: flyIn 0.6s ease-out forwards;
        opacity: 0;
        /* 添加延迟后的备用显示 */
        animation-fill-mode: both;
    }

    /* 确保在3秒后强制显示所有内容 */
    .md-content {
        animation: ensureVisible 0.1s ease-out 3s forwards;
    }

    @keyframes ensureVisible {
        to {
            --force-visible: 1;
        }
    }

    .md-content[style*="--force-visible"] article>*:not(.md-top):not(.md-nav) {
        opacity: 1 !important;
        transform: translateY(0) !important;
    }

    li::marker {
        color: rgba(77, 166, 218, 0.9);
    }

    .md-search__input:hover,
    .md-search__input:focus {
        border-radius: 8px !important;
    }

    .md-search__form {
        border-radius: 8px !important;
    }

    .md-search__output {
        border-radius: 8px !important;
    }

    .md-search__overlay {
        border-radius: 8px !important;
    }

    .md-search-result {
        border-radius: 8px !important;
    }

    .md-search__inner {
        border-radius: 8px !important;
    }

    :not(pre)>code {
        color: #ff7043 !important;
        font-weight: normal;
    }

    .highlight .c1,
    .highlight .cm {
        color: #6a737d;
    }

    .md-typeset .admonition,
    .md-typeset details {
        border-width: 0;
        border-left-width: 4px;
    }

    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
        font-family: var(--md-header-font);
        color: #4da6da !important;
    }

    body {
        font-family: var(--md-text-font);
    }

    pre code {
        color: var(--md-code-fg-color) !important;
    }

    .highlight pre {
        background-color: var(--md-code-bg-color) !important;
    }

    .md-typeset code {
        font-family: var(--md-code-font), var(--md-text-font);
    }

    .md-tabs__item.md-tabs__item--active {
        border-bottom: 2px solid rgba(77, 166, 218, 0.9);
    }

    .md-tabs__list>.md-tabs__item--active>.md-tabs__link {
        color: rgba(77, 166, 218, 0.9) !important;
    }

    .timeline-content::before {
        background-color: #efefef;
    }

    .timeline-card {
        background-color: #efefef !important;
    }

    .changelog-content a {
        color: #4051b5 !important;
        word-break: break-word;
    }

    .changelog-content a:focus,
    .changelog-content a:hover {
        color: #00bda4 !important;
    }

    .changelog-type-pageupdate {
        background-color: rgba(77, 166, 218, 0.9) !important;
    }

    .md-footer-runtime {
        position: relative;
        z-index: 3;
        margin: 0.5rem 0;
        padding: 0.4rem 0;
        font-size: 0.7rem;
        line-height: 1.6;
        color: var(--md-footer-fg-color--light);
        display: flex;
        align-items: center;
    }

    ::selection {
        background: rgba(77, 166, 218, 0.2);
    }

    html {
        scroll-behavior: smooth !important;
        /* 强制启用平滑滚动 */
        scroll-padding-top: 53px;
        /* 设置滚动偏移量,避免标题被导航栏遮挡 */
    }

    strong {
        color: rgb(182 68 180);
    }

    a[href^="#"],
    a[href*="/#"] {
        scroll-behavior: smooth !important;
    }

    .custom-tooltip {
        position: relative;
        display: inline-block;
        cursor: help;
        color: rgba(77, 166, 218, 0.9);
        border-bottom: 1px dashed rgba(77, 166, 218, 0.9);
        text-decoration: none !important;
    }

    .custom-tooltip::before {
        content: attr(data-title);
        position: absolute;
        width: 300px;
        background-color: rgba(51, 51, 51, 0.95);
        color: #fff;
        text-align: left;
        padding: 10px;
        border-radius: 6px;
        bottom: 125%;
        /* 定位在链接上方 */
        left: 50%;
        transform: translateX(-50%);
        z-index: 99999;
        /* 确保显示在最上层 */
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.3s;
        font-weight: normal;
        font-size: 14px;
        line-height: 1.5;
        pointer-events: none;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
        word-wrap: break-word;
        white-space: normal;
    }

    .custom-tooltip::after {
        content: "";
        position: absolute;
        bottom: 100%;
        left: 50%;
        margin-left: -5px;
        border-width: 5px;
        border-style: solid;
        border-color: rgba(51, 51, 51, 0.95) transparent transparent transparent;
        z-index: 99999;
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.3s;
        pointer-events: none;
    }

    .custom-tooltip:hover::before {
        opacity: 1;
        visibility: visible;
    }

    .custom-tooltip:hover::after {
        opacity: 1;
        visibility: visible;
    }

    /* 修改移动设备上的 tooltip 样式，确保不会溢出屏幕 */
    @media (max-width: 767px) {
        .custom-tooltip::before {
            width: calc(100vw - 40px);
            max-width: 250px;
            white-space: normal;
            font-size: 14px;
            left: 50%;
            transform: translateX(-50%);
            bottom: 130%;
            /* 确保不会超出屏幕边缘 */
            box-sizing: border-box;

            /* 新增：定位逻辑调整，防止溢出 */
            position: fixed;
            top: auto;
            bottom: auto;
            left: 20px;
            /* 距离左边缘固定距离 */
            right: 20px;
            /* 距离右边缘固定距离 */
            transform: none;
            margin-top: -120px;
            /* 在目标元素上方显示，可根据需要调整 */
            width: auto;
            /* 宽度由left和right决定 */
        }

        /* 新增：处理靠近页面底部的 tooltip */
        .custom-tooltip:hover::before {
            max-height: 80vh;
            /* 最大高度限制 */
            overflow-y: auto;
            /* 内容过多时可滚动 */
        }
    }

    .md-content a.custom-tooltip::after {
        display: none !important;
    }

    @media screen and (max-width: 767px) {

        /* 移除可能导致问题的现有样式 */
        .md-typeset .arithmatex {
            max-width: 100%;
            overflow-x: hidden;
            text-overflow: ellipsis;
        }

        /* 修改为更有效的样式 */
        .katex-display {
            overflow-x: auto;
            overflow-y: hidden;
            max-width: 100%;
            padding: 0.25em 0;
        }

        /* 对于行内公式的新样式 */
        .katex {
            font-size: 1em !important;
            /* 减小字体大小 */
        }

        /* 调整整体数学公式容器的样式 */
        .md-typeset .arithmatex {
            max-width: 100% !important;
            overflow-x: auto;
            padding: 0.1em 0;
            margin: 0;
            display: block;
        }

        /* 确保行内公式不破坏布局 */
        .katex-inline {
            display: inline-block;
            max-width: 100%;
            overflow-x: auto;
            vertical-align: middle;
            white-space: normal;
            line-break: anywhere;
        }

        /* 添加淡出效果指示可滚动 */
        .katex-display::after {
            content: "";
            position: absolute;
            right: 0;
            top: 0;
            height: 100%;
            width: 20px;
            background: linear-gradient(to right,
                    rgba(255, 255, 255, 0),
                    rgba(255, 255, 255, 0.7));
            pointer-events: none;
        }
    }

    /* 头像样式 - 增强版，添加悬浮区域控制 */
    .header-avatar {
        display: inline-flex;
        align-items: center;
        margin-right: 0.8rem;
        position: relative;
        z-index: 10;
        /* 添加一个内边距以增加可点击区域，但不会影响布局 */
        padding: 3px;
    }

    .header-avatar img {
        width: 36px;
        height: 36px;
        border-radius: 50%;
        object-fit: cover;
        border: 2px solid #fff;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
        transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
        position: relative;
        z-index: 5;
    }

    /* 下拉菜单样式 - 增强版，改进悬浮区域控制 */
    .avatar-dropdown {
        position: absolute;
        top: 100%;
        left: 50%;
        transform: translateX(-50%) translateY(25px) scale(0.95);
        background-color: white;
        border-radius: 12px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.18);
        padding: 45px 0 8px 0;
        /* 增加更多顶部内边距 */
        min-width: 140px;
        opacity: 0;
        visibility: hidden;
        transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
        z-index: 4;
        /* 低于头像 */
        margin-top: -10px;
        /* 让菜单上移覆盖头像下半部分 */
        /* 添加一个缓冲区，防止鼠标离开时闪烁 */
        pointer-events: none;
    }

    /* 悬停效果，修改触发条件和过渡延迟 */
    .header-avatar:hover .avatar-dropdown {
        opacity: 1;
        visibility: visible;
        transform: translateX(-50%) translateY(15px) scale(1);
        /* 添加延迟以防止闪烁 */
        transition-delay: 0.05s;
        pointer-events: auto;
    }

    /* 添加间隙区域保持悬停状态 */
    .avatar-dropdown::after {
        content: "";
        position: absolute;
        top: -20px;
        /* 创建顶部缓冲区 */
        left: 0;
        width: 100%;
        height: 20px;
        background: transparent;
    }

    .header-avatar:hover img {
        transform: scale(1.5) translateY(18px);
        /* 放大并稍微向下移动 */
        box-shadow: 0 6px 16px rgba(77, 166, 218, 0.35);
        border-color: rgba(77, 166, 218, 0.8);
        /* 添加延迟以防止闪烁 */
        transition-delay: 0s;
    }

    /* 菜单三角形指示器 - 隐藏，因为视觉上头像已经作为指示器 */
    .avatar-dropdown::before {
        display: none;
    }

    /* 菜单项样式 */
    .avatar-dropdown-item {
        display: block;
        padding: 10px 16px;
        color: #333;
        font-size: 14px;
        text-decoration: none;
        transition: all 0.25s ease;
        text-align: center;
        position: relative;
        white-space: nowrap;
    }

    .avatar-dropdown p {
        padding: 10px 16px;
        color: #333;
        font-size: 16px;
        text-align: center;
        white-space: nowrap;
    }

    .avatar-dropdown-item:hover {
        background-color: rgba(77, 166, 218, 0.08);
        color: rgba(77, 166, 218, 0.9);
    }

    .avatar-dropdown-item:hover::after {
        content: "";
        position: absolute;
        left: 8px;
        width: 3px;
        height: 70%;
        background: rgba(77, 166, 218, 0.9);
        border-radius: 2px;
        top: 15%;
    }

    .avatar-dropdown-divider {
        height: 1px;
        background-color: rgba(0, 0, 0, 0.06);
        margin: 4px 8px;
    }

    /* 响应式设计调整 */
    @media screen and (max-width: 1199px) {
        .theme-switch {
            display: none !important;
        }

        .header-avatar {
            margin-right: 0.5rem;
        }
    }

    /* 响应式设计调整 */
    @media screen and (max-width: 1200px) {
        .header-avatar {
            margin-right: 0.3rem;
            padding: 2px;
        }

        .header-avatar img {
            width: 32px;
            height: 32px;
        }

        /* 调整菜单位置，靠左侧显示 */
        .avatar-dropdown {
            /* 调整left确保显示在左侧 */
            left: -120px;
            transform: translateX(0) translateY(25px) scale(0.95);
            padding-top: 15px;
            margin-top: 0;
            min-width: 130px;
            position: absolute;
            z-index: 100;
        }

        /* 点击时的行为，而不是悬停 */
        .header-avatar:hover .avatar-dropdown {
            transform: translateX(0) translateY(5px) scale(1);
        }

        /* 移动端头像不放大，防止页面移动 */
        .header-avatar:hover img {
            transform: none;
            border-color: rgba(77, 166, 218, 0.8);
            box-shadow: 0 4px 12px rgba(77, 166, 218, 0.3);
        }

        /* 调整导航栏布局 */
        .md-header__inner {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        /* 确保下拉菜单不遮挡其他元素 */
        .avatar-dropdown {
            max-width: 85vw;
        }
    }

    ::-webkit-scrollbar {
        width: 8px;
        height: 8px;
    }

    ::-webkit-scrollbar-track {
        background: #f1f1f1;
        border-radius: 4px;
    }

    ::-webkit-scrollbar-thumb {
        background: #ccc;
        border-radius: 4px;
    }

    ::-webkit-scrollbar-thumb:hover {
        background: #999;
    }

    /* 主题切换蒙版 - 优化结构和性能 */
    .theme-transition-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: #ffffff;
        z-index: 9999;
        opacity: 0;
        visibility: hidden;
        pointer-events: none;
        display: flex;
        align-items: center;
        justify-content: center;
        /* 简化过渡效果，提高性能 */
        transition: opacity 0.3s ease-out, visibility 0.3s ease-out,
            background-color 0.3s ease-out, backdrop-filter 0.3s ease-out;
        backdrop-filter: blur(0px);
    }

    .theme-transition-overlay.active {
        opacity: 1;
        visibility: visible;
        pointer-events: all;
        backdrop-filter: blur(5px);
    }

    /* 主题切换内容容器 - 整合样式 */
    .theme-transition-content {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        gap: 20px;
        transform: scale(0.9);
        opacity: 0;
        transition: transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1),
            opacity 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
    }

    .theme-transition-overlay.active .theme-transition-content {
        transform: scale(1);
        opacity: 1;
    }

    /* 简化加载图标结构，移除不必要的嵌套 */
    .theme-transition-spinner {
        width: 50px;
        height: 50px;
        border: 5px solid rgba(77, 166, 218, 0.2);
        border-top-color: rgba(77, 166, 218, 0.8);
        border-radius: 50%;
        animation: none;
        transition: opacity 0.3s ease;
    }

    .theme-transition-overlay.active .theme-transition-spinner {
        animation: spin 1s linear infinite;
    }

    @keyframes spin {
        to {
            transform: rotate(360deg);
        }
    }

    /* 主题切换文字样式 */
    .theme-transition-text {
        font-family: var(--md-text-font);
        color: rgba(77, 166, 218, 0.9);
        font-size: 16px;
        font-weight: 500;
        text-align: center;
        margin-top: 10px;
    }

    /* 页脚爱情宣言样式 */
    .md-footer-love {
        position: relative;
        font-family: var(--md-header-font);
        font-size: 0.9rem;
        line-height: 1.6;
        margin: 0.5rem 0;
        padding: 0.5rem 1rem;
        color: rgba(255, 255, 255, 0.85);
        text-align: center;
        border-radius: 8px;
        background: linear-gradient(135deg,
                rgba(255, 255, 255, 0.1),
                rgba(255, 255, 255, 0.05));
        backdrop-filter: blur(4px);
        transition: all 0.4s ease;
        overflow: hidden;
        border-left: 3px solid rgba(255, 182, 193, 0.6);
    }

    .md-footer-love:hover {
        background: linear-gradient(135deg,
                rgba(255, 182, 193, 0.2),
                rgba(255, 255, 255, 0.1));
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(255, 182, 193, 0.15);
    }

    /* 添加闪烁星星效果 */
    .md-footer-love::before,
    .md-footer-love::after {
        content: "★";
        position: absolute;
        opacity: 0;
        font-size: 0.8rem;
        color: rgba(255, 223, 223, 0.8);
        animation: twinkle 3s ease-in-out infinite alternate;
    }

    .md-footer-love::before {
        left: 0.5rem;
        top: 0.4rem;
        animation-delay: 0s;
    }

    .md-footer-love::after {
        right: 0.5rem;
        top: 0.4rem;
        animation-delay: 1.5s;
    }

    @keyframes twinkle {
        0% {
            opacity: 0.3;
            transform: scale(0.8);
        }

        50% {
            opacity: 0.9;
            transform: scale(1.2);
        }

        100% {
            opacity: 0.3;
            transform: scale(0.8);
        }
    }

    /* 名字高亮显示 */
    .love-highlight {
        font-weight: 500;
        background: linear-gradient(120deg, #ffb6c1, #ffc0cb);
        background-clip: text;
        -webkit-background-clip: text;
        color: transparent;
        padding: 0 0.2rem;
        position: relative;
        white-space: nowrap;
    }

    /* 添加心跳动画效果 */
    .love-heart {
        display: inline-block;
        font-size: 0.9em;
        color: rgba(255, 182, 193, 0.9);
        transform-origin: center;
        margin: 0 0.2rem;
        animation: heartbeat 1.5s ease-in-out infinite;
    }

    @keyframes heartbeat {
        0% {
            transform: scale(1);
        }

        15% {
            transform: scale(1.25);
        }

        30% {
            transform: scale(1);
        }

        45% {
            transform: scale(1.25);
        }

        60% {
            transform: scale(1);
        }

        100% {
            transform: scale(1);
        }
    }

    /* 添加响应式样式 - 平板设备 */
    @media screen and (max-width: 1199px) {
        .md-footer-love {
            font-size: 0.8rem;
            padding: 0.4rem 0.8rem;
            margin: 0.4rem 0;
        }

        .md-footer-love::before,
        .md-footer-love::after {
            font-size: 0.7rem;
        }
    }

    /* 添加响应式样式 - 移动设备 */
    @media screen and (max-width: 767px) {
        .md-footer-love {
            font-size: 0.75rem;
            padding: 0.3rem 0.5rem;
            margin: 0.3rem 0;
            border-radius: 6px;
            max-width: 90%;
            margin-left: auto;
            margin-right: auto;
            border-left-width: 2px;
        }

        .md-footer-love:hover {
            transform: translateY(-1px);
            box-shadow: 0 2px 8px rgba(255, 182, 193, 0.12);
        }

        .md-footer-love::before,
        .md-footer-love::after {
            font-size: 0.6rem;
        }

        .love-heart {
            font-size: 0.8em;
        }

        /* 在非常小的屏幕上隐藏星星效果 */
        @media screen and (max-width: 360px) {

            .md-footer-love::before,
            .md-footer-love::after {
                display: none;
            }
        }
    }

    /* Atom One Light 语法高亮样式 - 仅覆盖代码块语法高亮 */
    .highlight .hll {
        background-color: #e5e5e6 !important;
    }

    .highlight .c {
        color: #a0a1a7 !important;
    }

    /* Comment */
    .highlight .err {
        color: #ca1243 !important;
    }

    /* Error */
    .highlight .k {
        color: #a626a4 !important;
    }

    /* Keyword */
    .highlight .l {
        color: #986801 !important;
    }

    /* Literal */
    .highlight .n {
        color: #383a42 !important;
    }

    /* Name */
    .highlight .o {
        color: #383a42 !important;
    }

    /* Operator */
    .highlight .p {
        color: #383a42 !important;
    }

    /* Punctuation */
    .highlight .ch {
        color: #a0a1a7 !important;
    }

    /* Comment.Hashbang */
    .highlight .cm {
        color: #a0a1a7 !important;
    }

    /* Comment.Multiline */
    .highlight .cp {
        color: #a626a4 !important;
    }

    /* Comment.Preproc */
    .highlight .cpf {
        color: rgb(80, 161, 79) !important;
    }

    /* Comment.PreprocFile */
    .highlight .c1 {
        color: #a0a1a7 !important;
    }

    /* Comment.Single */
    .highlight .cs {
        color: #a0a1a7 !important;
    }

    /* Comment.Special */
    .highlight .gd {
        color: #ca1243 !important;
    }

    /* Generic.Deleted */
    .highlight .ge {}

    /* Generic.Emph */
    .highlight .gr {
        color: #ca1243 !important;
    }

    /* Generic.Error */
    .highlight .gh {
        color: #0184bc !important;
        font-weight: bold !important;
    }

    /* Generic.Heading */
    .highlight .gi {
        color: #50a14f !important;
    }

    /* Generic.Inserted */
    .highlight .go {
        color: #383a42 !important;
    }

    /* Generic.Output */
    .highlight .gp {
        color: #383a42 !important;
    }

    /* Generic.Prompt */
    .highlight .gs {
        font-weight: bold !important;
    }

    /* Generic.Strong */
    .highlight .gu {
        color: #0997b3 !important;
        font-weight: bold !important;
    }

    /* Generic.Subheading */
    .highlight .gt {
        color: #ca1243 !important;
    }

    /* Generic.Traceback */
    .highlight .kc {
        color: #a626a4 !important;
    }

    /* Keyword.Constant */
    .highlight .kd {
        color: #a626a4 !important;
    }

    /* Keyword.Declaration */
    .highlight .kn {
        color: #a626a4 !important;
    }

    /* Keyword.Namespace */
    .highlight .kp {
        color: #a626a4 !important;
    }

    /* Keyword.Pseudo */
    .highlight .kr {
        color: #a626a4 !important;
    }

    /* Keyword.Reserved */
    .highlight .kt {
        color: #c18401 !important;
    }

    /* Keyword.Type */
    .highlight .ld {
        color: #50a14f !important;
    }

    /* Literal.Date */
    .highlight .m {
        color: #986801 !important;
    }

    /* Literal.Number */
    .highlight .s {
        color: #50a14f !important;
    }

    /* Literal.String */
    .highlight .na {
        color: #c18401 !important;
    }

    /* Name.Attribute */
    .highlight .nb {
        color: #c18401 !important;
    }

    /* Name.Builtin */
    .highlight .nc {
        color: #c18401 !important;
    }

    /* Name.Class */
    .highlight .no {
        color: #ca1243 !important;
    }

    /* Name.Constant */
    .highlight .nd {
        color: #4078f2 !important;
    }

    /* Name.Decorator */
    .highlight .ni {
        color: #383a42 !important;
    }

    /* Name.Entity */
    .highlight .ne {
        color: #ca1243 !important;
    }

    /* Name.Exception */
    .highlight .nf {
        color: #4078f2 !important;
    }

    /* Name.Function */
    .highlight .nl {
        color: #383a42 !important;
    }

    /* Name.Label */
    .highlight .nn {
        color: #383a42 !important;
    }

    /* Name.Namespace */
    .highlight .nx {
        color: #4078f2 !important;
    }

    /* Name.Other */
    .highlight .py {
        color: #383a42 !important;
    }

    /* Name.Property */
    .highlight .nt {
        color: #e45649 !important;
    }

    /* Name.Tag */
    .highlight .nv {
        color: #ca1243 !important;
    }

    /* Name.Variable */
    .highlight .ow {
        color: #a626a4 !important;
    }

    /* Operator.Word */
    .highlight .w {
        color: #383a42 !important;
    }

    /* Text.Whitespace */
    .highlight .mb {
        color: #986801 !important;
    }

    /* Literal.Number.Bin */
    .highlight .mf {
        color: #986801 !important;
    }

    /* Literal.Number.Float */
    .highlight .mh {
        color: #986801 !important;
    }

    /* Literal.Number.Hex */
    .highlight .mi {
        color: #986801 !important;
    }

    /* Literal.Number.Integer */
    .highlight .mo {
        color: #986801 !important;
    }

    /* Literal.Number.Oct */
    .highlight .sa {
        color: #50a14f !important;
    }

    /* Literal.String.Affix */
    .highlight .sb {
        color: #50a14f !important;
    }

    /* Literal.String.Backtick */
    .highlight .sc {
        color: #50a14f !important;
    }

    /* Literal.String.Char */
    .highlight .dl {
        color: #50a14f !important;
    }

    /* Literal.String.Delimiter */
    .highlight .sd {
        color: #a0a1a7 !important;
    }

    /* Literal.String.Doc */
    .highlight .s2 {
        color: #50a14f !important;
    }

    /* Literal.String.Double */
    .highlight .se {
        color: #4078f2 !important;
    }

    /* Literal.String.Escape */
    .highlight .sh {
        color: #50a14f !important;
    }

    /* Literal.String.Heredoc */
    .highlight .si {
        color: #4078f2 !important;
    }

    /* Literal.String.Interpol */
    .highlight .sx {
        color: #50a14f !important;
    }

    /* Literal.String.Other */
    .highlight .sr {
        color: #50a14f !important;
    }

    /* Literal.String.Regex */
    .highlight .s1 {
        color: #50a14f !important;
    }

    /* Literal.String.Single */
    .highlight .ss {
        color: #50a14f !important;
    }

    /* Literal.String.Symbol */
    .highlight .bp {
        color: #c18401 !important;
    }

    /* Name.Builtin.Pseudo */
    .highlight .fm {
        color: #4078f2 !important;
    }

    /* Name.Function.Magic */
    .highlight .vc {
        color: #ca1243 !important;
    }

    /* Name.Variable.Class */
    .highlight .vg {
        color: #ca1243 !important;
    }

    /* Name.Variable.Global */
    .highlight .vi {
        color: #ca1243 !important;
    }

    /* Name.Variable.Instance */
    .highlight .vm {
        color: #ca1243 !important;
    }

    /* Name.Variable.Magic */
    .highlight .il {
        color: #986801 !important;
    }

    /* Literal.Number.Integer.Long */

    /* 特殊语言的额外样式调整 */
    .highlight[data-lang="json"] .nt {
        color: #e45649 !important;
    }

    /* JSON keys */
    .highlight[data-lang="yaml"] .na {
        color: #e45649 !important;
    }

    /* YAML keys */
    .highlight[data-lang="yml"] .na {
        color: #e45649 !important;
    }

    /* YAML keys */
    .highlight[data-lang="xml"] .nt {
        color: #e45649 !important;
    }

    /* XML tags */
    .highlight[data-lang="html"] .nt {
        color: #e45649 !important;
    }

    /* HTML tags */

    /* CSS特殊处理 */
    .highlight[data-lang="css"] .nc {
        color: #c18401 !important;
    }

    /* CSS class selectors */
    .highlight[data-lang="css"] .nf {
        color: #4078f2 !important;
    }

    /* CSS functions */
    .highlight[data-lang="css"] .nt {
        color: #e45649 !important;
    }

    /* CSS element selectors */
    .highlight[data-lang="css"] .nd {
        color: #a626a4 !important;
    }

    /* CSS pseudo-classes */

    /* JavaScript特殊处理 */
    .highlight[data-lang="javascript"] .nx {
        color: #4078f2 !important;
    }

    /* JS functions and variables */
    .highlight[data-lang="js"] .nx {
        color: #4078f2 !important;
    }

    /* JS functions and variables */

    /* Python特殊处理 */
    .highlight[data-lang="python"] .nd {
        color: #4078f2 !important;
    }

    /* Python decorators */
    .highlight[data-lang="python"] .nf {
        color: #4078f2 !important;
    }

    /* Python functions */
    .highlight[data-lang="python"] .nc {
        color: #c18401 !important;
    }

    /* Python classes */

    /* Shell/Bash特殊处理 */
    .highlight[data-lang="bash"] .nv {
        color: #ca1243 !important;
    }

    /* Bash variables */
    .highlight[data-lang="shell"] .nv {
        color: #ca1243 !important;
    }

    /* Shell variables */
    .highlight[data-lang="sh"] .nv {
        color: #ca1243 !important;
    }

    /* Shell variables */

    /* C/C++特殊处理 */
    .highlight[data-lang="c"] .kt {
        color: #a626a4 !important;
    }

    /* C types */
    .highlight[data-lang="cpp"] .kt {
        color: #a626a4 !important;
    }

    /* C++ types */
    .highlight[data-lang="c++"] .kt {
        color: #a626a4 !important;
    }

    /* C++ types */

    /* Java特殊处理 */
    .highlight[data-lang="java"] .nc {
        color: #c18401 !important;
    }

    /* Java classes */
    .highlight[data-lang="java"] .kt {
        color: #a626a4 !important;
    }

    /* Java types */
</style><script>
    document.addEventListener("DOMContentLoaded", () => {
        const savedTheme = localStorage.getItem("preferred-theme") || "theme1";

        // 初始化主题按钮文本
        updateThemeSwitchButton(savedTheme);

        const initialTheme = localStorage.getItem("preferred-theme");
        if (initialTheme) {
            const theme1Link = document.querySelector('link[href*="theme1"]');
            const theme2Link = document.querySelector('link[href*="theme2"]');

            // 关闭过渡动画，直接设置主题
            if (initialTheme === "theme1") {
                theme1Link.removeAttribute("disabled");
                theme2Link.setAttribute("disabled", "true");
            } else {
                theme2Link.removeAttribute("disabled");
                theme1Link.setAttribute("disabled", "true");
            }
        }

        // 添加加载完成后的检测
        setTimeout(() => {
            const hiddenElements = document.querySelectorAll('.md-content article>*[style*="opacity: 0"]');
            hiddenElements.forEach(el => {
                el.style.opacity = '1';
                el.style.transform = 'translateY(0)';
            });
        }, 2000); // 2秒后强制显示所有隐藏元素
    });

    (function initTheme() {
        const savedTheme = localStorage.getItem("preferred-theme");
        if (savedTheme) {
            const theme1Link = document.querySelector('link[href*="theme1"]');
            const theme2Link = document.querySelector('link[href*="theme2"]');
            if (theme1Link && theme2Link) {
                if (savedTheme === "theme1") {
                    theme1Link.removeAttribute("disabled");
                    theme2Link.setAttribute("disabled", "true");
                } else {
                    theme2Link.removeAttribute("disabled");
                    theme1Link.setAttribute("disabled", "true");
                }
            }
        }
    })();

    function switchTheme() {
        // 获取当前和目标主题信息
        const currentTheme =
            localStorage.getItem("preferred-theme") || "theme1";
        const newTheme = currentTheme === "theme1" ? "theme2" : "theme1";
        const targetThemeText = newTheme === "theme1" ? "新版主题" : "原生主题";

        // 获取主题样式链接
        const theme1Link = document.querySelector('link[href*="theme1"]');
        const theme2Link = document.querySelector('link[href*="theme2"]');

        if (!theme1Link || !theme2Link) {
            console.error("无法找到主题样式链接");
            return;
        }

        // 创建和添加过渡覆盖层
        const overlay = document.createElement("div");
        overlay.className = "theme-transition-overlay";
        overlay.innerHTML = `
        <div class="theme-transition-content">
            <div class="theme-transition-spinner"></div>
            <div class="theme-transition-text">正在切换到：${targetThemeText}</div>
        </div>
    `;
        document.body.appendChild(overlay);

        // 确保DOM已更新后再添加active类
        requestAnimationFrame(() => {
            // 激活蒙版
            overlay.classList.add("active");

            // 添加适当的延迟以确保蒙版已完全显示
            setTimeout(() => {
                // 切换主题样式
                if (newTheme === "theme1") {
                    theme1Link.removeAttribute("disabled");
                    theme2Link.setAttribute("disabled", "true");
                } else {
                    theme2Link.removeAttribute("disabled");
                    theme1Link.setAttribute("disabled", "true");
                }

                // 保存主题设置
                localStorage.setItem("preferred-theme", newTheme);

                // 更新切换按钮文本
                updateThemeSwitchButton(newTheme);

                // 给予足够的时间加载主题
                setTimeout(() => {
                    // 平滑淡出效果
                    fadeOutOverlay(overlay);
                }, 2500); // 主题加载时间
            }, 250); // 蒙版显示时间
        });
    }

    // 更新主题切换按钮文本
    function updateThemeSwitchButton(theme) {
        const themeBtn = document.querySelector(".theme-btn");
        if (themeBtn) {
            const currentThemeEl = themeBtn.querySelector(".current-theme");
            const targetThemeEl = themeBtn.querySelector(".target-theme");

            if (currentThemeEl && targetThemeEl) {
                currentThemeEl.textContent =
                    theme === "theme1" ? "当前：新版主题" : "当前：原生主题";
                targetThemeEl.textContent =
                    theme === "theme1"
                        ? "切换到：原生主题"
                        : "切换到：新版主题";
            }
        }
    }

    // 平滑淡出蒙版
    function fadeOutOverlay(overlay) {
        // 先改变背景色，制造渐变效果
        overlay.style.backgroundColor = "rgba(255, 255, 255, 0.85)";

        // 短暂延迟后淡出
        setTimeout(() => {
            overlay.classList.remove("active");

            // 等待淡出动画完成后移除元素
            setTimeout(() => {
                document.body.removeChild(overlay);
            }, 300);
        }, 150);
    }
</script> <link href="../../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../../../assets/javascripts/glightbox.min.js"></script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=white data-md-color-accent=teal> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#springmvc class=md-skip> 跳转至 </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=页眉> <a href=../../../index.html title=柯懒的知识库 class="md-header__button md-logo" aria-label=柯懒的知识库 data-md-component=logo> <img src=../../../assets/logo.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> 柯懒的知识库 </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> SpringMVC基础 </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary=white data-md-color-accent=teal aria-label type=radio name=__palette id=__palette_1> </form> <!-- 头像元素 - 直接在HTML中定义 --> <div class=header-avatar> <img src=../../../作者/作者.assets/20250206-200653.jpg alt=头像> <div class=avatar-dropdown> <p><strong>柯懒不是柯南</strong></p> <a href=../../../作者/联系作者/作者.html class=avatar-dropdown-item>吵醒柯懒</a> <div class=avatar-dropdown-divider></div> <a href=../../../作者/关于作者/关于作者.html class=avatar-dropdown-item>柯懒自传</a> <div class=avatar-dropdown-divider></div> <a href=https://github.com/H0308 class=avatar-dropdown-item>柯懒的零食库</a> </div> </div> <!-- 主题切换按钮 - 直接在HTML中定义 --> <div class=theme-switch> <button class=theme-btn onclick=switchTheme()> <span class=current-theme>当前：新版主题</span> <span class=target-theme>切换到：原生主题</span> </button> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=搜索 placeholder=搜索 autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=查找> <button type=reset class="md-search__icon md-icon" title=清空当前内容 aria-label=清空当前内容 tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> 正在初始化搜索引擎 </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=标签 data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../../index.html class=md-tabs__link> 主页 </a> </li> <li class=md-tabs__item> <a href=../../../%E7%BD%91%E7%AB%99%E4%BB%8B%E7%BB%8D/%E7%BD%91%E7%AB%99%E4%BB%8B%E7%BB%8D.html class=md-tabs__link> 网站介绍 </a> </li> <li class=md-tabs__item> <a href=../../../%E7%BD%91%E7%AB%99%E6%97%B6%E9%97%B4%E7%BA%BF/%E7%BD%91%E7%AB%99%E6%97%B6%E9%97%B4%E7%BA%BF.html class=md-tabs__link> 网站时间线 </a> </li> <li class=md-tabs__item> <a href=../../../C%E8%AF%AD%E8%A8%80/index.html class=md-tabs__link> 编程语言 </a> </li> <li class=md-tabs__item> <a href=../../../%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/1.%20%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%92%8C%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/1.%20%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E4%B8%8E%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6.html class=md-tabs__link> 数据结构与算法 </a> </li> <li class=md-tabs__item> <a href=../../../Linux/1.%20Linux%E5%B8%B8%E7%94%A8%E9%80%89%E9%A1%B9%E5%92%8C%E6%8C%87%E4%BB%A4/1.%20Linux%E5%B8%B8%E7%94%A8%E9%80%89%E9%A1%B9%E5%92%8C%E6%8C%87%E4%BB%A4.html class=md-tabs__link> Linux </a> </li> <li class=md-tabs__item> <a href=../../../HTML%E4%B8%8ECSS/HTML%E7%AC%94%E8%AE%B0/HTML%E7%AC%94%E8%AE%B0.html class=md-tabs__link> 前端 </a> </li> <li class=md-tabs__item> <a href=../../../MySQL/MySQL%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8/MySQL%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8.html class=md-tabs__link> MySQL </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=1.%20SpringMVC%E5%9F%BA%E7%A1%80.html class=md-tabs__link> JavaEE应用开发 </a> </li> <li class=md-tabs__item> <a href=../../../%E5%85%B6%E5%AE%83/Shell%E8%84%9A%E6%9C%AC%E8%AF%AD%E8%A8%80/%E5%85%B3%E4%BA%8EShell.html class=md-tabs__link> 扩展知识 </a> </li> <li class=md-tabs__item> <a href=../../../%E5%B7%A5%E5%85%B7%E5%B8%AE%E5%8A%A9/vscode%E4%B8%AD%E6%B7%BB%E5%8A%A0%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5/vscode%E4%B8%AD%E6%B7%BB%E5%8A%A0%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5.html class=md-tabs__link> 工具帮助 </a> </li> <li class=md-tabs__item> <a href=../../../%E9%A1%B9%E7%9B%AE/1.%20Boost%E5%BA%93%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E/1.%20Boost%E5%BA%93%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E.html class=md-tabs__link> 项目 </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=导航栏 data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../../index.html title=柯懒的知识库 class="md-nav__button md-logo" aria-label=柯懒的知识库 data-md-component=logo> <img src=../../../assets/logo.png alt=logo> </a> 柯懒的知识库 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../index.html class=md-nav__link> <span class=md-ellipsis> 主页 </span> </a> </li> <li class=md-nav__item> <a href=../../../%E7%BD%91%E7%AB%99%E4%BB%8B%E7%BB%8D/%E7%BD%91%E7%AB%99%E4%BB%8B%E7%BB%8D.html class=md-nav__link> <span class=md-ellipsis> 网站介绍 </span> </a> </li> <li class=md-nav__item> <a href=../../../%E7%BD%91%E7%AB%99%E6%97%B6%E9%97%B4%E7%BA%BF/%E7%BD%91%E7%AB%99%E6%97%B6%E9%97%B4%E7%BA%BF.html class=md-nav__link> <span class=md-ellipsis> 网站时间线 </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../C%E8%AF%AD%E8%A8%80/index.html class=md-nav__link> <span class=md-ellipsis> 编程语言 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/1.%20%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%92%8C%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/1.%20%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E4%B8%8E%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6.html class=md-nav__link> <span class=md-ellipsis> 数据结构与算法 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../Linux/1.%20Linux%E5%B8%B8%E7%94%A8%E9%80%89%E9%A1%B9%E5%92%8C%E6%8C%87%E4%BB%A4/1.%20Linux%E5%B8%B8%E7%94%A8%E9%80%89%E9%A1%B9%E5%92%8C%E6%8C%87%E4%BB%A4.html class=md-nav__link> <span class=md-ellipsis> Linux </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../HTML%E4%B8%8ECSS/HTML%E7%AC%94%E8%AE%B0/HTML%E7%AC%94%E8%AE%B0.html class=md-nav__link> <span class=md-ellipsis> 前端 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../MySQL/MySQL%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8/MySQL%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8.html class=md-nav__link> <span class=md-ellipsis> MySQL </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9 checked> <label class=md-nav__link for=__nav_9 id=__nav_9_label tabindex> <span class=md-ellipsis> JavaEE应用开发 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_9_label aria-expanded=true> <label class=md-nav__title for=__nav_9> <span class="md-nav__icon md-icon"></span> JavaEE应用开发 </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> SpringMVC基础 </span> <span class="md-nav__icon md-icon"></span> </label> <a href=1.%20SpringMVC%E5%9F%BA%E7%A1%80.html class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> SpringMVC基础 </span> </a> <nav class="md-nav md-nav--secondary" aria-label=目录> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> 目录 </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#mvc class=md-nav__link> <span class=md-ellipsis> MVC架构模式介绍 </span> </a> </li> <li class=md-nav__item> <a href=#springmvc_1 class=md-nav__link> <span class=md-ellipsis> SpringMVC介绍 </span> </a> </li> <li class=md-nav__item> <a href=#springmvcspringboot class=md-nav__link> <span class=md-ellipsis> SpringMVC与SpringBoot </span> </a> </li> <li class=md-nav__item> <a href=#_1 class=md-nav__link> <span class=md-ellipsis> 客户端与服务端建立连接 </span> </a> <nav class=md-nav aria-label=客户端与服务端建立连接> <ul class=md-nav__list> <li class=md-nav__item> <a href=#requestmapping class=md-nav__link> <span class=md-ellipsis> @RequestMapping介绍 </span> </a> </li> <li class=md-nav__item> <a href=#requestmapping_1 class=md-nav__link> <span class=md-ellipsis> @RequestMapping修饰位置 </span> </a> </li> <li class=md-nav__item> <a href=#requestmapping_2 class=md-nav__link> <span class=md-ellipsis> @RequestMapping多层路径 </span> </a> </li> <li class=md-nav__item> <a href=#requestmappinggetmappingpostmapping class=md-nav__link> <span class=md-ellipsis> @RequestMapping与@GetMapping和@PostMapping </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_2 class=md-nav__link> <span class=md-ellipsis> 请求处理 </span> </a> <nav class=md-nav aria-label=请求处理> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_3 class=md-nav__link> <span class=md-ellipsis> 处理一个参数 </span> </a> </li> <li class=md-nav__item> <a href=#_4 class=md-nav__link> <span class=md-ellipsis> 处理多个参数 </span> </a> </li> <li class=md-nav__item> <a href=#_5 class=md-nav__link> <span class=md-ellipsis> 处理对象 </span> </a> </li> <li class=md-nav__item> <a href=#_6 class=md-nav__link> <span class=md-ellipsis> 处理数组 </span> </a> </li> <li class=md-nav__item> <a href=#_7 class=md-nav__link> <span class=md-ellipsis> 处理集合 </span> </a> </li> <li class=md-nav__item> <a href=#json class=md-nav__link> <span class=md-ellipsis> 处理JSON数据 </span> </a> </li> <li class=md-nav__item> <a href=#url class=md-nav__link> <span class=md-ellipsis> 获取到URL中的资源路径 </span> </a> </li> <li class=md-nav__item> <a href=#_8 class=md-nav__link> <span class=md-ellipsis> 上传文件 </span> </a> </li> <li class=md-nav__item> <a href=#cookiesession class=md-nav__link> <span class=md-ellipsis> 获取Cookie和Session </span> </a> </li> <li class=md-nav__item> <a href=#header class=md-nav__link> <span class=md-ellipsis> 获取Header </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_9 class=md-nav__link> <span class=md-ellipsis> 响应处理 </span> </a> <nav class=md-nav aria-label=响应处理> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_10 class=md-nav__link> <span class=md-ellipsis> 返回静态页面 </span> </a> </li> <li class=md-nav__item> <a href=#_11 class=md-nav__link> <span class=md-ellipsis> 返回数据 </span> </a> </li> <li class=md-nav__item> <a href=#json_1 class=md-nav__link> <span class=md-ellipsis> 返回JSON数据 </span> </a> </li> <li class=md-nav__item> <a href=#_12 class=md-nav__link> <span class=md-ellipsis> 设置状态码 </span> </a> </li> <li class=md-nav__item> <a href=#header_1 class=md-nav__link> <span class=md-ellipsis> 设置Header </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../%E5%85%B6%E5%AE%83/Shell%E8%84%9A%E6%9C%AC%E8%AF%AD%E8%A8%80/%E5%85%B3%E4%BA%8EShell.html class=md-nav__link> <span class=md-ellipsis> 扩展知识 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../%E5%B7%A5%E5%85%B7%E5%B8%AE%E5%8A%A9/vscode%E4%B8%AD%E6%B7%BB%E5%8A%A0%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5/vscode%E4%B8%AD%E6%B7%BB%E5%8A%A0%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5.html class=md-nav__link> <span class=md-ellipsis> 工具帮助 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../%E9%A1%B9%E7%9B%AE/1.%20Boost%E5%BA%93%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E/1.%20Boost%E5%BA%93%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E.html class=md-nav__link> <span class=md-ellipsis> 项目 </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label=目录> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> 目录 </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#mvc class=md-nav__link> <span class=md-ellipsis> MVC架构模式介绍 </span> </a> </li> <li class=md-nav__item> <a href=#springmvc_1 class=md-nav__link> <span class=md-ellipsis> SpringMVC介绍 </span> </a> </li> <li class=md-nav__item> <a href=#springmvcspringboot class=md-nav__link> <span class=md-ellipsis> SpringMVC与SpringBoot </span> </a> </li> <li class=md-nav__item> <a href=#_1 class=md-nav__link> <span class=md-ellipsis> 客户端与服务端建立连接 </span> </a> <nav class=md-nav aria-label=客户端与服务端建立连接> <ul class=md-nav__list> <li class=md-nav__item> <a href=#requestmapping class=md-nav__link> <span class=md-ellipsis> @RequestMapping介绍 </span> </a> </li> <li class=md-nav__item> <a href=#requestmapping_1 class=md-nav__link> <span class=md-ellipsis> @RequestMapping修饰位置 </span> </a> </li> <li class=md-nav__item> <a href=#requestmapping_2 class=md-nav__link> <span class=md-ellipsis> @RequestMapping多层路径 </span> </a> </li> <li class=md-nav__item> <a href=#requestmappinggetmappingpostmapping class=md-nav__link> <span class=md-ellipsis> @RequestMapping与@GetMapping和@PostMapping </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_2 class=md-nav__link> <span class=md-ellipsis> 请求处理 </span> </a> <nav class=md-nav aria-label=请求处理> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_3 class=md-nav__link> <span class=md-ellipsis> 处理一个参数 </span> </a> </li> <li class=md-nav__item> <a href=#_4 class=md-nav__link> <span class=md-ellipsis> 处理多个参数 </span> </a> </li> <li class=md-nav__item> <a href=#_5 class=md-nav__link> <span class=md-ellipsis> 处理对象 </span> </a> </li> <li class=md-nav__item> <a href=#_6 class=md-nav__link> <span class=md-ellipsis> 处理数组 </span> </a> </li> <li class=md-nav__item> <a href=#_7 class=md-nav__link> <span class=md-ellipsis> 处理集合 </span> </a> </li> <li class=md-nav__item> <a href=#json class=md-nav__link> <span class=md-ellipsis> 处理JSON数据 </span> </a> </li> <li class=md-nav__item> <a href=#url class=md-nav__link> <span class=md-ellipsis> 获取到URL中的资源路径 </span> </a> </li> <li class=md-nav__item> <a href=#_8 class=md-nav__link> <span class=md-ellipsis> 上传文件 </span> </a> </li> <li class=md-nav__item> <a href=#cookiesession class=md-nav__link> <span class=md-ellipsis> 获取Cookie和Session </span> </a> </li> <li class=md-nav__item> <a href=#header class=md-nav__link> <span class=md-ellipsis> 获取Header </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_9 class=md-nav__link> <span class=md-ellipsis> 响应处理 </span> </a> <nav class=md-nav aria-label=响应处理> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_10 class=md-nav__link> <span class=md-ellipsis> 返回静态页面 </span> </a> </li> <li class=md-nav__item> <a href=#_11 class=md-nav__link> <span class=md-ellipsis> 返回数据 </span> </a> </li> <li class=md-nav__item> <a href=#json_1 class=md-nav__link> <span class=md-ellipsis> 返回JSON数据 </span> </a> </li> <li class=md-nav__item> <a href=#_12 class=md-nav__link> <span class=md-ellipsis> 设置状态码 </span> </a> </li> <li class=md-nav__item> <a href=#header_1 class=md-nav__link> <span class=md-ellipsis> 设置Header </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=springmvc>SpringMVC基础<a class=headerlink href=#springmvc title="Permanent link">&para;</a></h1> <div style="margin-top: -30px; font-size: 0.75em; opacity: 0.7;"> <p><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10h-2a8 8 0 0 1-8 8 8 8 0 0 1-8-8 8 8 0 0 1 8-8zm6.78 1a.7.7 0 0 0-.48.2l-1.22 1.21 2.5 2.5L20.8 5.7c.26-.26.26-.7 0-.95L19.25 3.2c-.13-.13-.3-.2-.47-.2m-2.41 2.12L9 12.5V15h2.5l7.37-7.38z"/></svg></span> 约 4832 个字 <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6m80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3l89.3 89.4-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3"/></svg></span> 426 行代码 <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 17H7V3h14m0-2H7a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2M3 5H1v16a2 2 0 0 0 2 2h16v-2H3m12.96-10.71-2.75 3.54-1.96-2.36L8.5 15h11z"/></svg></span> 5 张图片 <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 20c4.42 0 8-3.58 8-8s-3.58-8-8-8-8 3.58-8 8 3.58 8 8 8m0-18c5.5 0 10 4.5 10 10s-4.5 10-10 10C6.47 22 2 17.5 2 12S6.5 2 12 2m.5 11H11V7h1.5v4.26l3.7-2.13.75 1.3z"/></svg></span> 预计阅读时间 21 分钟</p> </div> <h2 id=mvc>MVC架构模式介绍<a class=headerlink href=#mvc title="Permanent link">&para;</a></h2> <p>MVC（Model View Controller）是软件工程中的一种<strong>软件架构模式</strong>，它把软件系统分为<strong>模型（Model）</strong>、<strong>视图（View）</strong>和<strong>控制器（Controller）</strong>三个基本部分。用一种业务逻辑、数据、界面显示分离的方法组织代码，将业务逻辑聚集到一个部件里面，在改进和个性化定制界面及用户交互的同时，不需要重新编写业务逻辑</p> <ul> <li><strong>M</strong>：<code>Model</code>模型层：存放和数据库对象的实体类以及一些用于存储非数据库表完整相关的VO（valueObject）对象或者存放一些对数据进行逻辑运算操作的的一些业务处理代码</li> <li><strong>V</strong>：<code>View</code>视图层：存放一些视图文件相关的代码，例如HTML、CSS、JS</li> <li><strong>C</strong>：<code>Controller</code>控制层：接收客户端请求，获得请求数据，最后将准备好的数据响应给客户端</li> </ul> <p>MVC模式工作流程如下图所示：</p> <p><a class=glightbox href="1. SpringMVC基础.assets/download.png" data-type=image data-width=100% data-height=auto data-desc-position=bottom><img src="1. SpringMVC基础.assets/download.png" style="width: 70%;"></a></p> <p>MVC模式下项目中的常见包：</p> <ul> <li> <p><code>Model</code>模型层：</p> <ol> <li>实体类包（<code>pojo</code>/<code>entity</code>/<code>bean</code>）专门存放和数据库对应的实体类和一些VO对象</li> <li>数据库访问包（<code>dao</code>/<code>mapper</code>）专门存放对数据库不同表格CURD方法封装的一些类</li> <li>服务包（<code>service</code>）专门存放对数据进行业务逻辑运算的一些类</li> </ol> </li> <li> <p><code>Controller</code>控制层：控制层包（<code>controller</code>）</p> </li> <li> <p><code>View</code>视图层：Web目录下的视图资源，例如HTML、CSS、JS、图片</p> </li> </ul> <div class="tabbed-set tabbed-alternate" data-tabs=1:2><input checked=checked id=__tabbed_1_1 name=__tabbed_1 type=radio><input id=__tabbed_1_2 name=__tabbed_1 type=radio><div class=tabbed-labels><label for=__tabbed_1_1>非前后端分离的MVC示意图</label><label for=__tabbed_1_2>前后端分离的MVC示意图</label></div> <div class=tabbed-content> <div class=tabbed-block> <p><a class=glightbox href="1. SpringMVC基础.assets\image-20241208214219416.png" data-type=image data-width=100% data-height=auto data-desc-position=bottom><img src="1. SpringMVC基础.assets\image-20241208214219416.png" style="width: 70%;"></a></p> </div> <div class=tabbed-block> <p><a class=glightbox href="1. SpringMVC基础.assets\1683363039636-1690349401673.png" data-type=image data-width=100% data-height=auto data-desc-position=bottom><img src="1. SpringMVC基础.assets\1683363039636-1690349401673.png" style="width: 70%;"></a></p> </div> </div> </div> <h2 id=springmvc_1>SpringMVC介绍<a class=headerlink href=#springmvc_1 title="Permanent link">&para;</a></h2> <p>SpringMVC，全称为Spring Web MVC，是基于Servlet API构建的原始Web框架，从一开始就包含在Spring框架中。它的正式名称Spring Web MVC来自其源模块的名称（<code>Spring-webmvc</code>），在大部分情况下都会称为SpringMVC</p> <div class="admonition info"> <p class=admonition-title>关于Servlet</p> <p>Servlet（server applet）是运行在服务端（例如Tomcat）的Java小程序，是SUN公司提供一套定义动态资源规范。从代码层面上来讲Servlet就是一个接口，其主要用来接收、处理客户端请求、响应给浏览器的动态资源。在整个Web应用中，Servlet主要负责接收处理请求、协同调度功能以及响应数据。因此可以把Servlet称为Web应用中的<strong>控制器</strong></p> <p>不是所有的Java类都能用于处理客户端请求，能处理客户端请求并做出响应的一套技术标准就是Servlet，因为其要处理客户端请求，所以Servlet必须在WEB项目中开发且在Tomcat这样的服务容器中运行</p> </div> <p>在Spring实现MVC时结合了自身项目的特点对MVC模式进行了一定的改变，如下图所示：</p> <p><a class=glightbox href="1. SpringMVC基础.assets/download1.png" data-type=image data-width=100% data-height=auto data-desc-position=bottom><img src="1. SpringMVC基础.assets/download1.png" style="width: 70%;"></a></p> <p>可以从图中看到最大的改变就是浏览器直接请求<code>Controller</code>而不是通过视图发起请求</p> <h2 id=springmvcspringboot>SpringMVC与SpringBoot<a class=headerlink href=#springmvcspringboot title="Permanent link">&para;</a></h2> <p>SpringMVC是Spring框架的一个Web模块，专注于MVC模式下的Web开发，而SpringBoot是Spring的扩展框架，通过自动配置和starters简化了Spring应用的搭建和部署，而SpringBoot是实现SpringMVC的其中一种方式，通过添加各种依赖和SpringMVC框架来实现Web功能</p> <p>接下来的介绍会基于SpringBoot项目，在SpringBoot项目中同时介绍SpringMVC的相关知识。而本文档介绍SpringMVC基础内容时从下面三个方面进行：</p> <ol> <li>建立连接</li> <li>请求处理</li> <li>响应处理</li> </ol> <h2 id=_1>客户端与服务端建立连接<a class=headerlink href=#_1 title="Permanent link">&para;</a></h2> <h3 id=requestmapping><code>@RequestMapping</code>介绍<a class=headerlink href=#requestmapping title="Permanent link">&para;</a></h3> <p>在SpringMVC中，要想做到浏览器可以请求到后端的动态资源可以使用<code>@RequestMapping</code>注解实现URL路由映射。对应的，在具体的类上添加<code>@RestController</code></p> <p>例如下面的代码：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span>
<span class=normal>7</span>
<span class=normal>8</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><span class=nd>@RestController</span>
</span><span id=__span-0-2><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>HelloController</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-0-3>
</span><span id=__span-0-4><span class=w>    </span><span class=nd>@RequestMapping</span><span class=p>(</span><span class=s>&quot;/sayHello&quot;</span><span class=p>)</span>
</span><span id=__span-0-5><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=nf>hello</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-0-6><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=s>&quot;Hello World!&quot;</span><span class=p>;</span>
</span><span id=__span-0-7><span class=w>    </span><span class=p>}</span>
</span><span id=__span-0-8><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>在<code>@RequestMapping</code>注解中，第一个值为路径参数，例如上面例子中的<code>"/sayHello"</code>，这个路径可以带<code>/</code>，也可以不带<code>/</code>，但是一般情况下推荐带上<code>/</code>表示路径。接着，在浏览器通过地址<code>http://localhost:8080/sayHello</code>中发起请求即可看到返回的字符串<code>Hello World!</code></p> <h3 id=requestmapping_1><code>@RequestMapping</code>修饰位置<a class=headerlink href=#requestmapping_1 title="Permanent link">&para;</a></h3> <p><code>@RequestMapping</code>既可以修饰类，也可以修饰方法：</p> <ol> <li><code>@RequestMapping</code>修饰类时，表示请求路径的初始信息</li> <li><code>@RequestMapping</code>修饰方法时，表示请求路径的具体信息</li> </ol> <p>当修饰类和方法时，访问的地址就是类路径+方法路径，例如下面的代码：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span>
<span class=normal>7</span>
<span class=normal>8</span>
<span class=normal>9</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-1-1><span class=nd>@RequestMapping</span><span class=p>(</span><span class=s>&quot;/hello&quot;</span><span class=p>)</span>
</span><span id=__span-1-2><span class=nd>@RestController</span>
</span><span id=__span-1-3><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>HelloController</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-1-4>
</span><span id=__span-1-5><span class=w>    </span><span class=nd>@RequestMapping</span><span class=p>(</span><span class=s>&quot;/sayHello&quot;</span><span class=p>)</span>
</span><span id=__span-1-6><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=nf>hello</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-1-7><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=s>&quot;Hello World!&quot;</span><span class=p>;</span>
</span><span id=__span-1-8><span class=w>    </span><span class=p>}</span>
</span><span id=__span-1-9><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>此时的访问路径即为<code>http://localhost:8080/hello/sayHello</code>，一般情况下建议在类上添加<code>@RequestMapping</code>，这样可以避免方法路径的重复导致的服务器错误</p> <h3 id=requestmapping_2><code>@RequestMapping</code>多层路径<a class=headerlink href=#requestmapping_2 title="Permanent link">&para;</a></h3> <p><code>@RequestMapping</code>除了设置一层路径以外，还可以设置多层路径，例如：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span>
<span class=normal>7</span>
<span class=normal>8</span>
<span class=normal>9</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-2-1><span class=nd>@RequestMapping</span><span class=p>(</span><span class=s>&quot;/user/hello&quot;</span><span class=p>)</span>
</span><span id=__span-2-2><span class=nd>@RestController</span>
</span><span id=__span-2-3><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>HelloController</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-2-4>
</span><span id=__span-2-5><span class=w>    </span><span class=nd>@RequestMapping</span><span class=p>(</span><span class=s>&quot;/v1/sayHello&quot;</span><span class=p>)</span>
</span><span id=__span-2-6><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=nf>hello</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-2-7><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=s>&quot;Hello World!&quot;</span><span class=p>;</span>
</span><span id=__span-2-8><span class=w>    </span><span class=p>}</span>
</span><span id=__span-2-9><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>此时的访问路径即为<code>http://localhost:8080/user/hello/v1/sayHello</code></p> <h3 id=requestmappinggetmappingpostmapping><code>@RequestMapping</code>与<code>@GetMapping</code>和<code>@PostMapping</code><a class=headerlink href=#requestmappinggetmappingpostmapping title="Permanent link">&para;</a></h3> <p>默认情况下，<code>@RequestMapping</code>可以处理所有类型的HTTP请求，包括但不限于<code>GET</code>和<code>POST</code>，如果想要指定只处理<code>GET</code>请求和<code>POST</code>请求，可以设置<code>@RequestMapping</code>的第二个属性值</p> <p>例如，对于<code>GET</code>请求：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span>
<span class=normal>7</span>
<span class=normal>8</span>
<span class=normal>9</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-3-1><span class=nd>@RequestMapping</span><span class=p>(</span><span class=s>&quot;/hello&quot;</span><span class=p>)</span>
</span><span id=__span-3-2><span class=nd>@RestController</span>
</span><span id=__span-3-3><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>HelloController</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-3-4>
</span><span id=__span-3-5><span class=w>    </span><span class=nd>@RequestMapping</span><span class=p>(</span><span class=n>value</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;/sayHello&quot;</span><span class=p>,</span><span class=w> </span><span class=n>method</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>RequestMethod</span><span class=p>.</span><span class=na>GET</span><span class=p>)</span>
</span><span id=__span-3-6><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=nf>hello</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-3-7><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=s>&quot;Hello World!&quot;</span><span class=p>;</span>
</span><span id=__span-3-8><span class=w>    </span><span class=p>}</span>
</span><span id=__span-3-9><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>此时只有发送了<code>GET</code>请求才可以执行<code>hello()</code>方法</p> <p>为了简化上面的写法，如果只想让方法处理<code>GET</code>请求可以使用<code>@GetMapping</code>，例如上面的代码可以修改为：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span>
<span class=normal>7</span>
<span class=normal>8</span>
<span class=normal>9</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-4-1><span class=nd>@RequestMapping</span><span class=p>(</span><span class=s>&quot;/hello&quot;</span><span class=p>)</span>
</span><span id=__span-4-2><span class=nd>@RestController</span>
</span><span id=__span-4-3><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>HelloController</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-4-4>
</span><span id=__span-4-5><span class=w>    </span><span class=nd>@GetMapping</span><span class=p>(</span><span class=s>&quot;/sayHello&quot;</span><span class=p>)</span>
</span><span id=__span-4-6><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=nf>hello</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-4-7><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=s>&quot;Hello World!&quot;</span><span class=p>;</span>
</span><span id=__span-4-8><span class=w>    </span><span class=p>}</span>
</span><span id=__span-4-9><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>同样，对于<code>POST</code>请求可以通过<code>@RequestMapping</code>的第二个属性值进行指定，例如下面的代码：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span>
<span class=normal>7</span>
<span class=normal>8</span>
<span class=normal>9</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-5-1><span class=nd>@RequestMapping</span><span class=p>(</span><span class=s>&quot;/hello&quot;</span><span class=p>)</span>
</span><span id=__span-5-2><span class=nd>@RestController</span>
</span><span id=__span-5-3><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>HelloController</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-5-4>
</span><span id=__span-5-5><span class=w>    </span><span class=nd>@RequestMapping</span><span class=p>(</span><span class=n>value</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;/sayHello&quot;</span><span class=p>,</span><span class=w> </span><span class=n>method</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>RequestMethod</span><span class=p>.</span><span class=na>POST</span><span class=p>)</span>
</span><span id=__span-5-6><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=nf>hello</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-5-7><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=s>&quot;Hello World!&quot;</span><span class=p>;</span>
</span><span id=__span-5-8><span class=w>    </span><span class=p>}</span>
</span><span id=__span-5-9><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>同样，如果只想让方法处理<code>POST</code>请求可以使用<code>@PostMapping</code>，例如上面的代码可以修改为：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-6-1><span class=nd>@RequestMapping</span><span class=p>(</span><span class=s>&quot;/hello&quot;</span><span class=p>)</span>
</span><span id=__span-6-2><span class=nd>@RestController</span>
</span><span id=__span-6-3><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>HelloController</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-6-4>
</span><span id=__span-6-5><span class=w>    </span><span class=nd>@PostMapping</span><span class=p>(</span><span class=s>&quot;/sayHello&quot;</span><span class=p>)</span>
</span><span id=__span-6-6><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=nf>hello</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-6-7>
</span><span id=__span-6-8><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=s>&quot;Hello World!&quot;</span><span class=p>;</span>
</span><span id=__span-6-9><span class=w>    </span><span class=p>}</span>
</span><span id=__span-6-10><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>对于其他的请求方式也是同样的逻辑，此处不再演示</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>需要注意的是，<code>@GetMapping</code>和<code>@PostMapping</code>不支持类上添加，只支持方法上添加，对于其他针对某一种请求方式的注解也是如此</p> </div> <h2 id=_2>请求处理<a class=headerlink href=#_2 title="Permanent link">&para;</a></h2> <h3 id=_3>处理一个参数<a class=headerlink href=#_3 title="Permanent link">&para;</a></h3> <p>当请求中只有一个参数，例如<code>?name=zhangsan</code>时，接收方式很简单，只需要在处理方法中定义一个形参名字与请求参数<code>key</code>的名字一样即可，例如下面的代码用于接收<code>name</code>参数：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-7-1><span class=nd>@RequestMapping</span><span class=p>(</span><span class=s>&quot;/hello&quot;</span><span class=p>)</span>
</span><span id=__span-7-2><span class=nd>@RestController</span>
</span><span id=__span-7-3><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>HelloController</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-7-4>
</span><span id=__span-7-5><span class=w>    </span><span class=nd>@GetMapping</span><span class=p>(</span><span class=s>&quot;/sayHello&quot;</span><span class=p>)</span>
</span><span id=__span-7-6><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=nf>hello</span><span class=p>(</span><span class=n>String</span><span class=w> </span><span class=n>name</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-7-7>
</span><span id=__span-7-8><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=s>&quot;接收到姓名为：&quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>name</span><span class=p>;</span>
</span><span id=__span-7-9><span class=w>    </span><span class=p>}</span>
</span><span id=__span-7-10><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>此时发送请求为<code>http://localhost:8080/hello/sayHello?name=zhangsan</code>即可收到下面的信息：</p> <div class="language-text highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Text Only</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-8-1>接收到姓名为：zhangsan
</span></code></pre></div></td></tr></table></div> <p>对于<code>POST</code>请求来说，参数放在请求参数或者请求体都是可以正常接收的，接收代码与<code>GET</code>请求类似：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-9-1><span class=nd>@RequestMapping</span><span class=p>(</span><span class=n>value</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;/hello&quot;</span><span class=p>)</span>
</span><span id=__span-9-2><span class=nd>@RestController</span>
</span><span id=__span-9-3><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>HelloController</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-9-4>
</span><span id=__span-9-5><span class=w>    </span><span class=nd>@PostMapping</span><span class=p>(</span><span class=s>&quot;/sayHello&quot;</span><span class=p>)</span>
</span><span id=__span-9-6><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=nf>hello</span><span class=p>(</span><span class=n>String</span><span class=w> </span><span class=n>name</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-9-7>
</span><span id=__span-9-8><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=s>&quot;接收到姓名为：&quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>name</span><span class=p>;</span>
</span><span id=__span-9-9><span class=w>    </span><span class=p>}</span>
</span><span id=__span-9-10><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>但是需要注意的是，如果方法参数是基本数据类型（<strong>不包括布尔类型，如果是布尔类型不传递参数时，默认值为<code>false</code></strong>）时，参数不可以不传递，否则就会报错，因为当不传递参数时，如果是引用数据类型，那么值为<code>null</code>可以正常赋值给引用数据类型，但是如果参数是基本数据类型无法将<code>null</code>转换为基本数据类型从而报错。所以在处理基本数据类型的参数时建议使用对应的包装类而非基本数据类型，例如下面的代码：</p> <div class="tabbed-set tabbed-alternate" data-tabs=2:2><input checked=checked id=__tabbed_2_1 name=__tabbed_2 type=radio><input id=__tabbed_2_2 name=__tabbed_2 type=radio><div class=tabbed-labels><label for=__tabbed_2_1>使用整型包装类</label><label for=__tabbed_2_2>而不是整型<code>int</code></label></div> <div class=tabbed-content> <div class=tabbed-block> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-10-1><span class=nd>@RequestMapping</span><span class=p>(</span><span class=n>value</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;/hello&quot;</span><span class=p>)</span>
</span><span id=__span-10-2><span class=nd>@RestController</span>
</span><span id=__span-10-3><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>HelloController</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-10-4>
</span><span id=__span-10-5><span class=w>    </span><span class=nd>@PostMapping</span><span class=p>(</span><span class=s>&quot;/sayHello&quot;</span><span class=p>)</span>
</span><span id=__span-10-6><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=nf>hello</span><span class=p>(</span><span class=n>Integer</span><span class=w> </span><span class=n>age</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-10-7>
</span><span id=__span-10-8><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=s>&quot;接收到年龄为：&quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>age</span><span class=p>;</span>
</span><span id=__span-10-9><span class=w>    </span><span class=p>}</span>
</span><span id=__span-10-10><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> </div> <div class=tabbed-block> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-11-1><span class=nd>@RequestMapping</span><span class=p>(</span><span class=n>value</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;/hello&quot;</span><span class=p>)</span>
</span><span id=__span-11-2><span class=nd>@RestController</span>
</span><span id=__span-11-3><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>HelloController</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-11-4>
</span><span id=__span-11-5><span class=w>    </span><span class=nd>@PostMapping</span><span class=p>(</span><span class=s>&quot;/sayHello&quot;</span><span class=p>)</span>
</span><span id=__span-11-6><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=nf>hello</span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>age</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-11-7>
</span><span id=__span-11-8><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=s>&quot;接收到年龄为：&quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>age</span><span class=p>;</span>
</span><span id=__span-11-9><span class=w>    </span><span class=p>}</span>
</span><span id=__span-11-10><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> </div> </div> </div> <details class=note> <summary>为什么前端URL参数和后端方法参数一致可以获取到参数</summary> <p>实际上这与Servlet有关，在Servlet开发中，客户端向服务器端发出请求，服务器端的软件Tomcat接收到用户请求后会将请求报文的信息转换为<code>HttpServletRequest</code>对象，该对象中包含着请求中的所有信息，例如请求头、请求行。需要注意，这一过程中的<code>HttpServletRequest</code>对象并不是由程序员手动创建的，而是由Tomcat自动创建，并且此时除了存在<code>HttpServletRequest</code>对象以外，还有一个<code>HttpServletResponse</code>对象，该对象用于存储响应报文信息。在Spring Web MVC中包括了Servlet，所以可以直接在方法参数中使用<code>HttpServletRequest</code>对象，另外因为SpringBoot集成了Tomcat，所以该对象也会被正常设置。以获取参数<code>String name</code>为例，实现下面的代码：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span>
<span class=normal>7</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-12-1><span class=nd>@GetMapping</span><span class=p>(</span><span class=s>&quot;/sayHello&quot;</span><span class=p>)</span>
</span><span id=__span-12-2><span class=kd>public</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=nf>hello2</span><span class=p>(</span><span class=n>HttpServletRequest</span><span class=w> </span><span class=n>request</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-12-3><span class=w>    </span><span class=c1>// name即为方法参数的名字</span>
</span><span id=__span-12-4><span class=w>    </span><span class=c1>// getParameter中的name即为URL参数的名字</span>
</span><span id=__span-12-5><span class=w>    </span><span class=n>String</span><span class=w> </span><span class=n>name</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>request</span><span class=p>.</span><span class=na>getParameter</span><span class=p>(</span><span class=s>&quot;name&quot;</span><span class=p>);</span>
</span><span id=__span-12-6><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=s>&quot;接收到姓名为：&quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>name</span><span class=p>;</span>
</span><span id=__span-12-7><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> </details> <p>如果需要为形参名指定别名，可以在参数部分使用<code>@RequestParam</code>注解，此时前端传递时应该匹配的时<code>@RequestParam</code>中的名称而不是变量名：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span>
<span class=normal>7</span>
<span class=normal>8</span>
<span class=normal>9</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-13-1><span class=nd>@RequestMapping</span><span class=p>(</span><span class=n>value</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;/hello&quot;</span><span class=p>)</span>
</span><span id=__span-13-2><span class=nd>@RestController</span>
</span><span id=__span-13-3><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>HelloController</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-13-4>
</span><span id=__span-13-5><span class=w>    </span><span class=nd>@GetMapping</span><span class=p>(</span><span class=s>&quot;/sayHello&quot;</span><span class=p>)</span>
</span><span id=__span-13-6><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=nf>hello</span><span class=p>(</span><span class=nd>@RequestParam</span><span class=p>(</span><span class=s>&quot;username&quot;</span><span class=p>)</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=n>name</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-13-7><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=s>&quot;接收到姓名为：&quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>name</span><span class=p>;</span>
</span><span id=__span-13-8><span class=w>    </span><span class=p>}</span>
</span><span id=__span-13-9><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>在上面的代码中，前端传递参数时<code>key</code>应该为<code>username</code>而不再是<code>name</code>，例如：<code>http://localhost:8080/hello/sayHello?username=zhangsan</code></p> <p>但是，一旦指定了别名，如果不传递参数就会出现无法找到指定资源的情况，即不可以不传递参数。以上面的代码演示，使用Postman发送不指定参数的请求结果如下：</p> <p><a class=glightbox href="1. SpringMVC基础.assets/image-20250717204456345.png" data-type=image data-width=100% data-height=auto data-desc-position=bottom><img src="1. SpringMVC基础.assets/image-20250717204456345.png"></a></p> <p>出现这个问题可以从<code>@RequestParam</code>源码分析：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-14-1><span class=kd>public</span><span class=w> </span><span class=nd>@interface</span><span class=w> </span><span class=n>RequestParam</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-14-2><span class=w>    </span><span class=nd>@AliasFor</span><span class=p>(</span><span class=s>&quot;name&quot;</span><span class=p>)</span>
</span><span id=__span-14-3><span class=w>    </span><span class=n>String</span><span class=w> </span><span class=nf>value</span><span class=p>()</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=s>&quot;&quot;</span><span class=p>;</span>
</span><span id=__span-14-4>
</span><span id=__span-14-5><span class=w>    </span><span class=nd>@AliasFor</span><span class=p>(</span><span class=s>&quot;value&quot;</span><span class=p>)</span>
</span><span id=__span-14-6><span class=w>    </span><span class=n>String</span><span class=w> </span><span class=nf>name</span><span class=p>()</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=s>&quot;&quot;</span><span class=p>;</span>
</span><span id=__span-14-7>
</span><span id=__span-14-8><span class=w>    </span><span class=kt>boolean</span><span class=w> </span><span class=nf>required</span><span class=p>()</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kc>true</span><span class=p>;</span>
</span><span id=__span-14-9>
</span><span id=__span-14-10><span class=w>    </span><span class=n>String</span><span class=w> </span><span class=nf>defaultValue</span><span class=p>()</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=s>&quot;\n\t\t\n\t\t\n\ue000\ue001\ue002\n\t\t\t\t\n&quot;</span><span class=p>;</span>
</span><span id=__span-14-11><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>在<code>@RequestParam</code>注解源码中有一个字段<code>required</code>，这个字段默认值为<code>true</code>，表示一定要传递参数，所以可以通过设置该字段为<code>false</code>使其在不传递参数时也可以正常请求资源，例如下面的代码：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span>
<span class=normal>7</span>
<span class=normal>8</span>
<span class=normal>9</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-15-1><span class=nd>@RequestMapping</span><span class=p>(</span><span class=n>value</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;/hello&quot;</span><span class=p>)</span>
</span><span id=__span-15-2><span class=nd>@RestController</span>
</span><span id=__span-15-3><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>HelloController</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-15-4>
</span><span id=__span-15-5><span class=w>    </span><span class=nd>@GetMapping</span><span class=p>(</span><span class=s>&quot;/sayHello&quot;</span><span class=p>)</span>
</span><span id=__span-15-6><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=nf>hello</span><span class=p>(</span><span class=nd>@RequestParam</span><span class=p>(</span><span class=n>value</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;username&quot;</span><span class=p>,</span><span class=w> </span><span class=n>required</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=kc>false</span><span class=p>)</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=n>name</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-15-7><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=s>&quot;接收到姓名为：&quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>name</span><span class=p>;</span>
</span><span id=__span-15-8><span class=w>    </span><span class=p>}</span>
</span><span id=__span-15-9><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>此时发起请求<code>http://localhost:8080/hello/sayHello</code>即可得到下面的结果：</p> <div class="language-text highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Text Only</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-16-1>接收到姓名为：null
</span></code></pre></div></td></tr></table></div> <h3 id=_4>处理多个参数<a class=headerlink href=#_4 title="Permanent link">&para;</a></h3> <p>处理多个参数与处理一个参数比较类似，只需要在方法参数部分添加多个参数即可，例如下面的代码：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span>
<span class=normal>7</span>
<span class=normal>8</span>
<span class=normal>9</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-17-1><span class=nd>@RequestMapping</span><span class=p>(</span><span class=n>value</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;/hello&quot;</span><span class=p>)</span>
</span><span id=__span-17-2><span class=nd>@RestController</span>
</span><span id=__span-17-3><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>HelloController</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-17-4>
</span><span id=__span-17-5><span class=w>    </span><span class=nd>@GetMapping</span><span class=p>(</span><span class=s>&quot;/sayHello&quot;</span><span class=p>)</span>
</span><span id=__span-17-6><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=nf>hello</span><span class=p>(</span><span class=n>String</span><span class=w> </span><span class=n>name</span><span class=p>,</span><span class=w> </span><span class=n>Integer</span><span class=w> </span><span class=n>id</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-17-7><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=s>&quot;接收到姓名为：&quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>name</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=s>&quot; id值为：&quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>id</span><span class=p>;</span>
</span><span id=__span-17-8><span class=w>    </span><span class=p>}</span>
</span><span id=__span-17-9><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>需要注意的是，URL中的参数顺序<strong>可以不与方法参数的顺序一致</strong>，但是参数名必须一致，即请求地址可以为<code>http://localhost:8080/hello/sayHello?id=1&amp;name=zhangsan</code></p> <h3 id=_5>处理对象<a class=headerlink href=#_5 title="Permanent link">&para;</a></h3> <p>上面介绍了处理多个参数，但是多个参数彼此并没有任何关系，有时前端传递的一个参数可能是属于某一个类的对象的字段值，此时就推荐使用对象而不是使用多个参数的方式，例如下面有一个<code>User</code>类（注意提供<code>getter</code>和<code>setter</code>）：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span>
<span class=normal>39</span>
<span class=normal>40</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-18-1><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>User</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-18-2><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=n>name</span><span class=p>;</span>
</span><span id=__span-18-3><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=n>Integer</span><span class=w> </span><span class=n>age</span><span class=p>;</span>
</span><span id=__span-18-4><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=n>gender</span><span class=p>;</span>
</span><span id=__span-18-5>
</span><span id=__span-18-6><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=nf>User</span><span class=p>(</span><span class=n>String</span><span class=w> </span><span class=n>name</span><span class=p>,</span><span class=w> </span><span class=n>Integer</span><span class=w> </span><span class=n>age</span><span class=p>,</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=n>gender</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-18-7><span class=w>        </span><span class=k>this</span><span class=p>.</span><span class=na>name</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>name</span><span class=p>;</span>
</span><span id=__span-18-8><span class=w>        </span><span class=k>this</span><span class=p>.</span><span class=na>age</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>age</span><span class=p>;</span>
</span><span id=__span-18-9><span class=w>        </span><span class=k>this</span><span class=p>.</span><span class=na>gender</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>gender</span><span class=p>;</span>
</span><span id=__span-18-10><span class=w>    </span><span class=p>}</span>
</span><span id=__span-18-11>
</span><span id=__span-18-12><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=nf>getName</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-18-13><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>name</span><span class=p>;</span>
</span><span id=__span-18-14><span class=w>    </span><span class=p>}</span>
</span><span id=__span-18-15>
</span><span id=__span-18-16><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>setName</span><span class=p>(</span><span class=n>String</span><span class=w> </span><span class=n>name</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-18-17><span class=w>        </span><span class=k>this</span><span class=p>.</span><span class=na>name</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>name</span><span class=p>;</span>
</span><span id=__span-18-18><span class=w>    </span><span class=p>}</span>
</span><span id=__span-18-19>
</span><span id=__span-18-20><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>Integer</span><span class=w> </span><span class=nf>getAge</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-18-21><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>age</span><span class=p>;</span>
</span><span id=__span-18-22><span class=w>    </span><span class=p>}</span>
</span><span id=__span-18-23>
</span><span id=__span-18-24><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>setAge</span><span class=p>(</span><span class=n>Integer</span><span class=w> </span><span class=n>age</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-18-25><span class=w>        </span><span class=k>this</span><span class=p>.</span><span class=na>age</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>age</span><span class=p>;</span>
</span><span id=__span-18-26><span class=w>    </span><span class=p>}</span>
</span><span id=__span-18-27>
</span><span id=__span-18-28><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=nf>getGender</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-18-29><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>gender</span><span class=p>;</span>
</span><span id=__span-18-30><span class=w>    </span><span class=p>}</span>
</span><span id=__span-18-31>
</span><span id=__span-18-32><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>setGender</span><span class=p>(</span><span class=n>String</span><span class=w> </span><span class=n>gender</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-18-33><span class=w>        </span><span class=k>this</span><span class=p>.</span><span class=na>gender</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>gender</span><span class=p>;</span>
</span><span id=__span-18-34><span class=w>    </span><span class=p>}</span>
</span><span id=__span-18-35>
</span><span id=__span-18-36><span class=w>    </span><span class=nd>@Override</span>
</span><span id=__span-18-37><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=nf>toString</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-18-38><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=s>&quot;User{&quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=s>&quot;name=&#39;&quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>name</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=sc>&#39;\&#39;&#39;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=s>&quot;, age=&quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>age</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=s>&quot;, gender=&#39;&quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>gender</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=sc>&#39;\&#39;&#39;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=sc>&#39;}&#39;</span><span class=p>;</span>
</span><span id=__span-18-39><span class=w>    </span><span class=p>}</span>
</span><span id=__span-18-40><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>处理对象的方式与处理多个参数的方式类似，只需要在方法参数部分添加对象类型的参数即可，例如下面的代码：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span>
<span class=normal>7</span>
<span class=normal>8</span>
<span class=normal>9</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-19-1><span class=nd>@RequestMapping</span><span class=p>(</span><span class=s>&quot;/hello&quot;</span><span class=p>)</span>
</span><span id=__span-19-2><span class=nd>@RestController</span>
</span><span id=__span-19-3><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>HelloController</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-19-4>
</span><span id=__span-19-5><span class=w>    </span><span class=nd>@GetMapping</span><span class=p>(</span><span class=s>&quot;/sayHello&quot;</span><span class=p>)</span>
</span><span id=__span-19-6><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=nf>hello</span><span class=p>(</span><span class=n>User</span><span class=w> </span><span class=n>user</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-19-7><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=s>&quot;接收到用户信息为：&quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>user</span><span class=p>;</span>
</span><span id=__span-19-8><span class=w>    </span><span class=p>}</span>
</span><span id=__span-19-9><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>前端传递方式与多个参数一致，例如：<code>http://localhost:8080/hello/sayHello?name=zhangsan&amp;age=18&amp;gender=man</code>。此时可以看到下面的结果：</p> <div class="language-text highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Text Only</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-20-1>接收到用户信息为：User{name=&#39;zhangsan&#39;, age=18, gender=&#39;man&#39;}
</span></code></pre></div></td></tr></table></div> <p>需要注意的是，前面在处理一个参数的时候提到过，如果是基本数据类型（除了布尔类型），则参数必须要传递，但是在处理对象时，对象的字段可以是基础数据类型，因为此时基础数据类型存在默认值，如果没有传递则直接使用默认值。此处不再演示，但是还是推荐使用包装类而不是基本数据类型</p> <h3 id=_6>处理数组<a class=headerlink href=#_6 title="Permanent link">&para;</a></h3> <p>处理数组也是类似，只需要将参数部分修改为数组类型即可：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-21-1><span class=nd>@RequestMapping</span><span class=p>(</span><span class=s>&quot;/hello&quot;</span><span class=p>)</span>
</span><span id=__span-21-2><span class=nd>@RestController</span>
</span><span id=__span-21-3><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>HelloController</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-21-4>
</span><span id=__span-21-5><span class=w>    </span><span class=nd>@GetMapping</span><span class=p>(</span><span class=s>&quot;/sayHello&quot;</span><span class=p>)</span>
</span><span id=__span-21-6><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=nf>hello</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>params</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-21-7><span class=w>        </span><span class=c1>// 将数组封装成List</span>
</span><span id=__span-21-8><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=s>&quot;接收到参数为：&quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>List</span><span class=p>.</span><span class=na>of</span><span class=p>(</span><span class=n>params</span><span class=p>);</span>
</span><span id=__span-21-9><span class=w>    </span><span class=p>}</span>
</span><span id=__span-21-10><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>此时前端传递参数可以有两种方式：</p> <ol> <li><code>key</code>和<code>value</code>分开指定：<code>http://localhost:8080/hello/sayHello?params=param1&amp;params=param2&amp;params=param3</code></li> <li><code>key</code>与<code>value</code>合并指定：<code>http://localhost:8080/hello/sayHello?params=param1,param2,param3</code></li> </ol> <p>这两种方式都可以正常得到结果：</p> <div class="language-text highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Text Only</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-22-1>接收到参数为：[param1, param2, param3]
</span></code></pre></div></td></tr></table></div> <p>但是现在有一个问题，如果是合并指定，那么数组中存储的是三个单独的元素还是一个整体的元素。为了验证这一点，可以在方法中打印数组的大小：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-23-1><span class=nd>@RequestMapping</span><span class=p>(</span><span class=s>&quot;/hello&quot;</span><span class=p>)</span>
</span><span id=__span-23-2><span class=nd>@RestController</span>
</span><span id=__span-23-3><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>HelloController</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-23-4>
</span><span id=__span-23-5><span class=w>    </span><span class=nd>@GetMapping</span><span class=p>(</span><span class=s>&quot;/sayHello&quot;</span><span class=p>)</span>
</span><span id=__span-23-6><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=nf>hello</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>params</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-23-7><span class=w>        </span><span class=c1>// 将数组封装成List</span>
</span><span id=__span-23-8><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=s>&quot;接收到参数为：&quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>List</span><span class=p>.</span><span class=na>of</span><span class=p>(</span><span class=n>params</span><span class=p>)</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=s>&quot; 数组长度为：&quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>params</span><span class=p>.</span><span class=na>length</span><span class=p>;</span>
</span><span id=__span-23-9><span class=w>    </span><span class=p>}</span>
</span><span id=__span-23-10><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>以合并指定的方式发送请求可以得到如下结果：</p> <div class="language-text highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Text Only</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-24-1>接收到参数为：[param1, param2, param3] 数组长度为：3
</span></code></pre></div></td></tr></table></div> <p>通过结果可以看到数组中存储的是三个单独元素而并非一个整体的元素</p> <h3 id=_7>处理集合<a class=headerlink href=#_7 title="Permanent link">&para;</a></h3> <p>集合与数组比较类似，但是需要注意的是，默认情况下，请求中参数名相同的多个值是封装到数组而并非集合，直接传递给参数的集合会出现错误。为了避免这个问题，可以使用<code>@RequestParam</code>进行参数绑定，确保数组可以转换为集合，以<code>List</code>为例：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-25-1><span class=nd>@RequestMapping</span><span class=p>(</span><span class=s>&quot;/hello&quot;</span><span class=p>)</span>
</span><span id=__span-25-2><span class=nd>@RestController</span>
</span><span id=__span-25-3><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>HelloController</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-25-4>
</span><span id=__span-25-5><span class=w>    </span><span class=nd>@GetMapping</span><span class=p>(</span><span class=s>&quot;/sayHello&quot;</span><span class=p>)</span>
</span><span id=__span-25-6><span class=w>    </span><span class=c1>// 如果不需要指定参数别名则可以省略注解值，直接使用注解</span>
</span><span id=__span-25-7><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=nf>hello</span><span class=p>(</span><span class=nd>@RequestParam</span><span class=w> </span><span class=n>List</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;</span><span class=w> </span><span class=n>params</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-25-8><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=s>&quot;接收到参数为：&quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>params</span><span class=p>;</span>
</span><span id=__span-25-9><span class=w>    </span><span class=p>}</span>
</span><span id=__span-25-10><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>请求方式与数组一致，此处不再演示</p> <h3 id=json>处理JSON数据<a class=headerlink href=#json title="Permanent link">&para;</a></h3> <p>对于JSON字符串来说，需要在参数部分使用<code>@RequestBody</code>进行绑定，而JSON字符串中保存的是一个JSON对象，所以考虑使用一个类对象进行接收（此处依旧使用<code>User</code>类），例如下面的代码：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span>
<span class=normal>7</span>
<span class=normal>8</span>
<span class=normal>9</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-26-1><span class=nd>@RequestMapping</span><span class=p>(</span><span class=n>value</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;/hello&quot;</span><span class=p>)</span>
</span><span id=__span-26-2><span class=nd>@RestController</span>
</span><span id=__span-26-3><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>HelloController</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-26-4>
</span><span id=__span-26-5><span class=w>    </span><span class=nd>@GetMapping</span><span class=p>(</span><span class=s>&quot;/sayHello&quot;</span><span class=p>)</span>
</span><span id=__span-26-6><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=nf>hello</span><span class=p>(</span><span class=nd>@RequestBody</span><span class=w> </span><span class=n>User</span><span class=w> </span><span class=n>user</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-26-7><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=s>&quot;接收到用户信息为：&quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>user</span><span class=p>;</span>
</span><span id=__span-26-8><span class=w>    </span><span class=p>}</span>
</span><span id=__span-26-9><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>传递JSON数据时建议在请求体中传递，例如：</p> <div class="language-json highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>JSON</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-27-1><span class=p>{</span>
</span><span id=__span-27-2><span class=w>    </span><span class=nt>&quot;name&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;zhangsan&quot;</span><span class=p>,</span>
</span><span id=__span-27-3><span class=w>    </span><span class=nt>&quot;age&quot;</span><span class=p>:</span><span class=w> </span><span class=mi>18</span><span class=p>,</span>
</span><span id=__span-27-4><span class=w>    </span><span class=nt>&quot;gender&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;man&quot;</span>
</span><span id=__span-27-5><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>此时可以得到结果：</p> <div class="language-text highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Text Only</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-28-1>接收到用户信息为：User{name=&#39;zhangsan&#39;, age=18, gender=&#39;man&#39;}
</span></code></pre></div></td></tr></table></div> <h3 id=url>获取到URL中的资源路径<a class=headerlink href=#url title="Permanent link">&para;</a></h3> <p>在前面<code>@RequestParam</code>中使用的都是静态的路径，如果路径中存在动态变化的部分，就需要在<code>@RequestParam</code>中使用参数的形式（或者具体请求方式的注解，例如<code>@GetMapping</code>），对应的方法要获取到这个动态变化的参数就需要使用<code>@PathVariable</code>注解，例如下面的代码：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span>
<span class=normal>7</span>
<span class=normal>8</span>
<span class=normal>9</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-29-1><span class=nd>@RequestMapping</span><span class=p>(</span><span class=s>&quot;/hello&quot;</span><span class=p>)</span>
</span><span id=__span-29-2><span class=nd>@RestController</span>
</span><span id=__span-29-3><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>HelloController</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-29-4>
</span><span id=__span-29-5><span class=w>    </span><span class=nd>@GetMapping</span><span class=p>(</span><span class=s>&quot;/sayHello/{id}&quot;</span><span class=p>)</span>
</span><span id=__span-29-6><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=nf>hello</span><span class=p>(</span><span class=nd>@PathVariable</span><span class=w> </span><span class=n>Integer</span><span class=w> </span><span class=n>id</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-29-7><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=s>&quot;接收到用户id为：&quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>id</span><span class=p>;</span>
</span><span id=__span-29-8><span class=w>    </span><span class=p>}</span>
</span><span id=__span-29-9><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>需要注意的是，此时必须保证路径参数和方法参数一致，即<code>{id}</code>与<code>Integer id</code>一致，此时请求路径为：<code>http://localhost:8080/hello/sayHello/1</code>，得到的结果为：</p> <div class="language-text highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Text Only</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-30-1>接收到用户id为：1
</span></code></pre></div></td></tr></table></div> <p>也可以通过<code>@PathVariable</code>指定别名，此时<code>{user_id}</code>需要与<code>@PathVariable("user_id")</code>一致，例如：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span>
<span class=normal>7</span>
<span class=normal>8</span>
<span class=normal>9</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-31-1><span class=nd>@RequestMapping</span><span class=p>(</span><span class=s>&quot;/hello&quot;</span><span class=p>)</span>
</span><span id=__span-31-2><span class=nd>@RestController</span>
</span><span id=__span-31-3><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>HelloController</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-31-4>
</span><span id=__span-31-5><span class=w>    </span><span class=nd>@GetMapping</span><span class=p>(</span><span class=s>&quot;/sayHello/{user_id}&quot;</span><span class=p>)</span>
</span><span id=__span-31-6><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=nf>hello</span><span class=p>(</span><span class=nd>@PathVariable</span><span class=p>(</span><span class=s>&quot;user_id&quot;</span><span class=p>)</span><span class=w> </span><span class=n>Integer</span><span class=w> </span><span class=n>id</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-31-7><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=s>&quot;接收到用户id为：&quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>id</span><span class=p>;</span>
</span><span id=__span-31-8><span class=w>    </span><span class=p>}</span>
</span><span id=__span-31-9><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>此时请求路径为：<code>http://localhost:8080/hello/sayHello/1</code>，得到的结果为：</p> <div class="language-text highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Text Only</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-32-1>接收到用户id为：1
</span></code></pre></div></td></tr></table></div> <p>但是需要注意的是，虽然<code>@PathVariable</code>注解也存在<code>required</code>字段，但是不论是修改为<code>true</code>还是<code>false</code>都必须指定路径参数</p> <h3 id=_8>上传文件<a class=headerlink href=#_8 title="Permanent link">&para;</a></h3> <p>上传文件时使用的参数类型是<code>MultipartFile</code>，例如下面的代码：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span>
<span class=normal>7</span>
<span class=normal>8</span>
<span class=normal>9</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-33-1><span class=nd>@RequestMapping</span><span class=p>(</span><span class=s>&quot;/hello&quot;</span><span class=p>)</span>
</span><span id=__span-33-2><span class=nd>@RestController</span>
</span><span id=__span-33-3><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>HelloController</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-33-4>
</span><span id=__span-33-5><span class=w>    </span><span class=nd>@GetMapping</span><span class=p>(</span><span class=s>&quot;/sayHello&quot;</span><span class=p>)</span>
</span><span id=__span-33-6><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=nf>hello</span><span class=p>(</span><span class=n>MultipartFile</span><span class=w> </span><span class=n>file</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-33-7><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=s>&quot;接收到文件名为：&quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>file</span><span class=p>.</span><span class=na>getOriginalFilename</span><span class=p>();</span>
</span><span id=__span-33-8><span class=w>    </span><span class=p>}</span>
</span><span id=__span-33-9><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>如果想参数指定别名，可以使用<code>@RequestPart</code>注解：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span>
<span class=normal>7</span>
<span class=normal>8</span>
<span class=normal>9</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-34-1><span class=nd>@RequestMapping</span><span class=p>(</span><span class=s>&quot;/hello&quot;</span><span class=p>)</span>
</span><span id=__span-34-2><span class=nd>@RestController</span>
</span><span id=__span-34-3><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>HelloController</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-34-4>
</span><span id=__span-34-5><span class=w>    </span><span class=nd>@GetMapping</span><span class=p>(</span><span class=s>&quot;/sayHello&quot;</span><span class=p>)</span>
</span><span id=__span-34-6><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=nf>hello</span><span class=p>(</span><span class=nd>@RequestPart</span><span class=p>(</span><span class=s>&quot;filename&quot;</span><span class=p>)</span><span class=w> </span><span class=n>MultipartFile</span><span class=w> </span><span class=n>file</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-34-7><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=s>&quot;接收到文件名为：&quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>file</span><span class=p>.</span><span class=na>getOriginalFilename</span><span class=p>();</span>
</span><span id=__span-34-8><span class=w>    </span><span class=p>}</span>
</span><span id=__span-34-9><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h3 id=cookiesession>获取Cookie和Session<a class=headerlink href=#cookiesession title="Permanent link">&para;</a></h3> <p>关于Cookie和Session的介绍，此处不再提及，具体见<a href=https://www.help-doc.top/Linux/26.%20%E5%BA%94%E7%94%A8%E5%B1%82%E5%8D%8F%E8%AE%AEHTTP/4.%20HTTP%E4%B8%AD%E7%9A%84Cookie%E5%92%8CSession/4.%20HTTP%E4%B8%AD%E7%9A%84Cookie%E5%92%8CSession.html#httpcookiesession>HTTP中的Cookie和Session</a></p> <p>对于获取Cookie来说，有两种方式：</p> <ol> <li>使用Servlet的<code>HttpServletRequest</code>对象：可以获取到Cookie中所有的键值对，更常用</li> <li>使用注解<code>@CookieValue</code>注解：根据注解指定的<code>key</code>（或者方法形参名，此时不需要单独在注解中指定<code>key</code>名称）获取到具体的某一个Cookie值</li> </ol> <p>例如下面的代码：</p> <div class="tabbed-set tabbed-alternate" data-tabs=3:2><input checked=checked id=__tabbed_3_1 name=__tabbed_3 type=radio><input id=__tabbed_3_2 name=__tabbed_3 type=radio><div class=tabbed-labels><label for=__tabbed_3_1>使用<code>HttpServletRequest</code>对象</label><label for=__tabbed_3_2>使用<code>@CookieValue</code>对象</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-35-1><span class=nd>@GetMapping</span><span class=p>(</span><span class=s>&quot;/getCookie&quot;</span><span class=p>)</span>
</span><span id=__span-35-2><span class=kd>public</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=nf>getCookie</span><span class=p>(</span><span class=n>HttpServletRequest</span><span class=w> </span><span class=n>request</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-35-3><span class=w>    </span><span class=n>Cookie</span><span class=o>[]</span><span class=w> </span><span class=n>cookies</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>request</span><span class=p>.</span><span class=na>getCookies</span><span class=p>();</span>
</span><span id=__span-35-4><span class=w>    </span><span class=k>if</span><span class=p>(</span><span class=n>cookies</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span>
</span><span id=__span-35-5><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=s>&quot;获取Cookie失败&quot;</span><span class=p>;</span>
</span><span id=__span-35-6>
</span><span id=__span-35-7><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=n>Cookie</span><span class=w> </span><span class=n>cookie</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=n>cookies</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-35-8><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>cookie</span><span class=p>.</span><span class=na>getName</span><span class=p>()</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=s>&quot;:&quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>cookie</span><span class=p>.</span><span class=na>getValue</span><span class=p>());</span>
</span><span id=__span-35-9><span class=w>    </span><span class=p>}</span>
</span><span id=__span-35-10>
</span><span id=__span-35-11><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=s>&quot;获取Cookie成功&quot;</span><span class=p>;</span>
</span><span id=__span-35-12><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> </div> <div class=tabbed-block> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-36-1><span class=nd>@GetMapping</span><span class=p>(</span><span class=s>&quot;/getCookie2&quot;</span><span class=p>)</span>
</span><span id=__span-36-2><span class=kd>public</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=nf>getCookie2</span><span class=p>(</span><span class=nd>@CookieValue</span><span class=p>(</span><span class=s>&quot;test_cookie&quot;</span><span class=p>)</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=n>name</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-36-3><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=s>&quot;获取指定的Cookie：test_cookie值为：&quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>name</span><span class=p>;</span>
</span><span id=__span-36-4><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> </div> </div> </div> <p>对于Session来说，在获取之前要先使用<code>HttpServletRequest</code>对象进行创建，该类中有一个<code>getSession</code>方法，该方法有两个版本：</p> <ol> <li>无参版本<code>getSession()</code>：获取已有的<code>HttpSession</code>对象，如果不存在该对象则创建新的<code>HttpSession</code>对象并返回</li> <li>有参版本<code>getSession(boolean create)</code>：如果<code>create</code>为<code>true</code>，则获取已有的<code>HttpSession</code>对象，如果不存在该对象则创建新的<code>HttpSession</code>对象并返回（与无参版本效果相同）；如果<code>create</code>为<code>false</code>，则获取已有的<code>HttpSession</code>对象，如果不存在该对象则返回<code>null</code></li> </ol> <p>例如下面的设置方式：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span>
<span class=normal>7</span>
<span class=normal>8</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-37-1><span class=nd>@GetMapping</span><span class=p>(</span><span class=s>&quot;/setSession&quot;</span><span class=p>)</span>
</span><span id=__span-37-2><span class=kd>public</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=nf>setSession</span><span class=p>(</span><span class=n>HttpServletRequest</span><span class=w> </span><span class=n>request</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-37-3><span class=w>    </span><span class=c1>// 获取Session对象，不存在默认创建</span>
</span><span id=__span-37-4><span class=w>    </span><span class=n>HttpSession</span><span class=w> </span><span class=n>session</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>request</span><span class=p>.</span><span class=na>getSession</span><span class=p>();</span>
</span><span id=__span-37-5><span class=w>    </span><span class=n>session</span><span class=p>.</span><span class=na>setAttribute</span><span class=p>(</span><span class=s>&quot;username&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;zhangsan&quot;</span><span class=p>);</span>
</span><span id=__span-37-6><span class=w>    </span><span class=n>session</span><span class=p>.</span><span class=na>setAttribute</span><span class=p>(</span><span class=s>&quot;age&quot;</span><span class=p>,</span><span class=w> </span><span class=mi>18</span><span class=p>);</span>
</span><span id=__span-37-7><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=s>&quot;设置Session成功&quot;</span><span class=p>;</span>
</span><span id=__span-37-8><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <div class="admonition note"> <p class=admonition-title>Note</p> <p>需要注意的是，不需要单独调用<code>HttpServletResponse</code>对象将对应的<code>JSESSIONID</code>设置到Cookie中，这一步已经由<code>getSession</code>方法实现</p> </div> <p>设置完成后即可获取Session，获取方式有三种：</p> <ol> <li>使用<code>HttpServletRequest</code>对象获取：获取方式详细且可以根据具体的键获取到对应的值</li> <li>使用<code>HttpSession</code>对象获取：与第一种方式类似，但是不用显式调用<code>getSession</code>方法，默认情况下调用的是无参<code>getSession</code></li> <li>使用<code>@SessionAttribute</code>注解获取：根据注解指定的<code>key</code>（或者方法形参名，此时不需要单独在注解中指定<code>key</code>名称）获取到具体的值，但是<strong>必须确保Session已经创建</strong></li> </ol> <p>例如下面的代码：</p> <div class="tabbed-set tabbed-alternate" data-tabs=4:3><input checked=checked id=__tabbed_4_1 name=__tabbed_4 type=radio><input id=__tabbed_4_2 name=__tabbed_4 type=radio><input id=__tabbed_4_3 name=__tabbed_4 type=radio><div class=tabbed-labels><label for=__tabbed_4_1>使用<code>HttpServletRequest</code>对象获取</label><label for=__tabbed_4_2>使用<code>HttpSession</code>对象获取</label><label for=__tabbed_4_3>使用<code>@SessionAttribute</code>注解获取</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span>
<span class=normal>7</span>
<span class=normal>8</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-38-1><span class=nd>@RequestMapping</span><span class=p>(</span><span class=s>&quot;/getSession&quot;</span><span class=p>)</span>
</span><span id=__span-38-2><span class=kd>public</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=nf>getSession</span><span class=p>(</span><span class=n>HttpServletRequest</span><span class=w> </span><span class=n>request</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-38-3><span class=w>    </span><span class=c1>// 获取Session对象，不存在默认创建</span>
</span><span id=__span-38-4><span class=w>    </span><span class=n>HttpSession</span><span class=w> </span><span class=n>session</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>request</span><span class=p>.</span><span class=na>getSession</span><span class=p>();</span>
</span><span id=__span-38-5><span class=w>    </span><span class=n>String</span><span class=w> </span><span class=n>username</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=n>String</span><span class=p>)</span><span class=w> </span><span class=n>session</span><span class=p>.</span><span class=na>getAttribute</span><span class=p>(</span><span class=s>&quot;username&quot;</span><span class=p>);</span>
</span><span id=__span-38-6><span class=w>    </span><span class=n>Integer</span><span class=w> </span><span class=n>age</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=n>Integer</span><span class=p>)</span><span class=w> </span><span class=n>session</span><span class=p>.</span><span class=na>getAttribute</span><span class=p>(</span><span class=s>&quot;age&quot;</span><span class=p>);</span>
</span><span id=__span-38-7><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=s>&quot;Session中的用户名为：&quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>username</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=s>&quot; Session中的年龄为：&quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>age</span><span class=p>;</span>
</span><span id=__span-38-8><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> </div> <div class=tabbed-block> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-39-1><span class=nd>@GetMapping</span><span class=p>(</span><span class=s>&quot;/getSession3&quot;</span><span class=p>)</span>
</span><span id=__span-39-2><span class=kd>public</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=nf>getSession3</span><span class=p>(</span><span class=n>HttpSession</span><span class=w> </span><span class=n>session</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-39-3><span class=w>    </span><span class=n>String</span><span class=w> </span><span class=n>username</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=n>String</span><span class=p>)</span><span class=w> </span><span class=n>session</span><span class=p>.</span><span class=na>getAttribute</span><span class=p>(</span><span class=s>&quot;username&quot;</span><span class=p>);</span>
</span><span id=__span-39-4><span class=w>    </span><span class=n>Integer</span><span class=w> </span><span class=n>age</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=n>Integer</span><span class=p>)</span><span class=w> </span><span class=n>session</span><span class=p>.</span><span class=na>getAttribute</span><span class=p>(</span><span class=s>&quot;age&quot;</span><span class=p>);</span>
</span><span id=__span-39-5><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=s>&quot;Session中的用户名为：&quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>username</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=s>&quot; Session中的年龄为：&quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>age</span><span class=p>;</span>
</span><span id=__span-39-6><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> </div> <div class=tabbed-block> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-40-1><span class=c1>// 必须确保已经设置过Session</span>
</span><span id=__span-40-2><span class=nd>@GetMapping</span><span class=p>(</span><span class=s>&quot;/getSession2&quot;</span><span class=p>)</span>
</span><span id=__span-40-3><span class=kd>public</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=nf>getSession2</span><span class=p>(</span><span class=nd>@SessionAttribute</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=n>username</span><span class=p>,</span><span class=w> </span><span class=nd>@SessionAttribute</span><span class=p>(</span><span class=s>&quot;age&quot;</span><span class=p>)</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=n>age</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-40-4><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=s>&quot;Session中的用户名为：&quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>username</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=s>&quot; Session中的年龄为：&quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>age</span><span class=p>;</span>
</span><span id=__span-40-5><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> </div> </div> </div> <h3 id=header>获取Header<a class=headerlink href=#header title="Permanent link">&para;</a></h3> <p>获取Header的方式有两种：</p> <ol> <li>使用<code>HttpServletRequest</code>对象：可以获取到所有的Header键值对，更常用</li> <li>使用<code>@RequestHeader</code>注解：根据注解指定的<code>key</code>（或者方法形参名，此时不需要单独在注解中指定<code>key</code>名称）获取到具体的某一个Header值</li> </ol> <p>例如下面的代码：</p> <div class="tabbed-set tabbed-alternate" data-tabs=5:2><input checked=checked id=__tabbed_5_1 name=__tabbed_5 type=radio><input id=__tabbed_5_2 name=__tabbed_5 type=radio><div class=tabbed-labels><label for=__tabbed_5_1>使用<code>HttpServletRequest</code>对象</label><label for=__tabbed_5_2>使用<code>@RequestHeader</code>注解</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-41-1><span class=c1>// 使用传统方式获取Header</span>
</span><span id=__span-41-2><span class=nd>@GetMapping</span><span class=p>(</span><span class=s>&quot;/getHeader&quot;</span><span class=p>)</span>
</span><span id=__span-41-3><span class=kd>public</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=nf>getHeader</span><span class=p>(</span><span class=n>HttpServletRequest</span><span class=w> </span><span class=n>request</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-41-4><span class=w>    </span><span class=n>String</span><span class=w> </span><span class=n>header</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>request</span><span class=p>.</span><span class=na>getHeader</span><span class=p>(</span><span class=s>&quot;User-Agent&quot;</span><span class=p>);</span>
</span><span id=__span-41-5><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=s>&quot;获取Header成功，值为：&quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>header</span><span class=p>;</span>
</span><span id=__span-41-6><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> </div> <div class=tabbed-block> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-42-1><span class=c1>// 使用注解获取</span>
</span><span id=__span-42-2><span class=nd>@GetMapping</span><span class=p>(</span><span class=s>&quot;/getHeader2&quot;</span><span class=p>)</span>
</span><span id=__span-42-3><span class=kd>public</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=nf>getHeader2</span><span class=p>(</span><span class=nd>@RequestHeader</span><span class=p>(</span><span class=s>&quot;User-Agent&quot;</span><span class=p>)</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=n>agent</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-42-4><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=s>&quot;获取Header成功，值为：&quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>agent</span><span class=p>;</span>
</span><span id=__span-42-5><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> </div> </div> </div> <h2 id=_9>响应处理<a class=headerlink href=#_9 title="Permanent link">&para;</a></h2> <h3 id=_10>返回静态页面<a class=headerlink href=#_10 title="Permanent link">&para;</a></h3> <p>返回静态页面的方式比较直接，在项目目录下的<code>resource</code>目录中的<code>static</code>创建一个<code>test.html</code>，内容任意，接着写下下面的代码：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span>
<span class=normal>7</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-43-1><span class=nd>@RestController</span>
</span><span id=__span-43-2><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>StaticResourceController</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-43-3><span class=w>    </span><span class=nd>@GetMapping</span><span class=p>(</span><span class=s>&quot;/static&quot;</span><span class=p>)</span>
</span><span id=__span-43-4><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=nf>staticResourceResponse</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-43-5><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=s>&quot;test.html&quot;</span><span class=p>;</span>
</span><span id=__span-43-6><span class=w>    </span><span class=p>}</span>
</span><span id=__span-43-7><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>接着，使用浏览器向服务器发送请求：<code>http://localhost:8080/static</code>，会发现页面显示的内容并不是<code>test.html</code>中的内容，而是将<code>test.html</code>作为纯文本渲染到页面上</p> <p>出现这个问题的原因就在<code>@RestController</code>注解上，查看这个注解的源码：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-44-1><span class=nd>@Target</span><span class=p>({</span><span class=n>ElementType</span><span class=p>.</span><span class=na>TYPE</span><span class=p>})</span>
</span><span id=__span-44-2><span class=nd>@Retention</span><span class=p>(</span><span class=n>RetentionPolicy</span><span class=p>.</span><span class=na>RUNTIME</span><span class=p>)</span>
</span><span id=__span-44-3><span class=nd>@Documented</span>
</span><span id=__span-44-4><span class=nd>@Controller</span>
</span><span id=__span-44-5><span class=nd>@ResponseBody</span>
</span><span id=__span-44-6><span class=kd>public</span><span class=w> </span><span class=nd>@interface</span><span class=w> </span><span class=n>RestController</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-44-7><span class=w>    </span><span class=nd>@AliasFor</span><span class=p>(</span>
</span><span id=__span-44-8><span class=w>        </span><span class=n>annotation</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Controller</span><span class=p>.</span><span class=na>class</span>
</span><span id=__span-44-9><span class=w>    </span><span class=p>)</span>
</span><span id=__span-44-10><span class=w>    </span><span class=n>String</span><span class=w> </span><span class=nf>value</span><span class=p>()</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=s>&quot;&quot;</span><span class=p>;</span>
</span><span id=__span-44-11><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>对于前三行注解分别表示的含义如下：</p> <ol> <li><code>@Target</code>：指定注解可以应用的目标元素类型，<code>ElementType.TYPE</code>表示该注解能用于类、接口、枚举等类型声明上，类似的还有<code>ElementType.METHOD</code>表示该注解能用于方法上</li> <li><code>@Retention</code>：指定注解的保留策略，即注解在什么时候还有效。<code>RetentionPolicy.RUNTIME</code>表示注解在运行时仍然有效，可以通过反射获取。类似的还有<code>SOURCE</code>和<code>CLASS</code></li> <li><code>Documented</code>：标记注解是否包含在JavaDoc文档中</li> </ol> <p>重点看后两个注解：</p> <p>在早期的SpringMVC中，前后端并没有分离，所以有些页面是通过后端返回的，而现在大部分都是前后端分离模式，即后端只需要告诉前端需要的数据，前端根据数据进行页面处理。而<code>@Controller</code>注解出现的时期就是前后端没有分离的早期，所以默认情况下返回的是页面而非数据，而如果要返回数据而非页面就需要使用<code>@ResponseBody</code>注解，此时返回的数据就被当作<code>text/html</code>类型进行处理，在进入了前后端分离时，大部分情况下都是返回数据，所以为了简化开发，将<code>@Controller</code>和<code>@ResponseBody</code>进行合并，得到了<code>@RestController</code>注解</p> <p>基于上面的原因，所以要返回静态页面需要使用<code>@Controller</code>注解而非<code>@RestController</code>注解：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span>
<span class=normal>7</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-45-1><span class=nd>@Controller</span>
</span><span id=__span-45-2><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>StaticResourceController</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-45-3><span class=w>    </span><span class=nd>@GetMapping</span><span class=p>(</span><span class=s>&quot;/static&quot;</span><span class=p>)</span>
</span><span id=__span-45-4><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=nf>staticResourceResponse</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-45-5><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=s>&quot;test.html&quot;</span><span class=p>;</span>
</span><span id=__span-45-6><span class=w>    </span><span class=p>}</span>
</span><span id=__span-45-7><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>再次发送请求即可看到<code>test.html</code>中的内容</p> <h3 id=_11>返回数据<a class=headerlink href=#_11 title="Permanent link">&para;</a></h3> <p>上面已经介绍了<code>@ResponseBody</code>注解的基本作用，下面详细介绍该注解：</p> <p><code>@ResponseBody</code>既可以用在类上，也可以用在方法上。当注解用在类上，表示这个类所有的方法返回的都是纯<code>text/html</code>数据，而不返回页面；当注解用在方法上，表示当前方法返回的是数据而不是页面，其他方法不受影响</p> <p>以用在类上为例：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-46-1><span class=nd>@ResponseBody</span>
</span><span id=__span-46-2><span class=nd>@Controller</span>
</span><span id=__span-46-3><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>ResponseBodyController</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-46-4>
</span><span id=__span-46-5><span class=w>    </span><span class=c1>// 使用@ResponseBody注解返回text/html数据</span>
</span><span id=__span-46-6><span class=w>    </span><span class=nd>@GetMapping</span><span class=p>(</span><span class=s>&quot;/responseBody&quot;</span><span class=p>)</span>
</span><span id=__span-46-7><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=nf>response</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-46-8><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=s>&quot;&lt;h1&gt;hello world&lt;/h1&gt;&quot;</span><span class=p>;</span>
</span><span id=__span-46-9><span class=w>    </span><span class=p>}</span>
</span><span id=__span-46-10>
</span><span id=__span-46-11><span class=w>    </span><span class=nd>@GetMapping</span><span class=p>(</span><span class=s>&quot;/responseBody&quot;</span><span class=p>)</span>
</span><span id=__span-46-12><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=nf>response2</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-46-13><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=s>&quot;test.html&quot;</span><span class=p>;</span>
</span><span id=__span-46-14><span class=w>    </span><span class=p>}</span>
</span><span id=__span-46-15><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>可以发现两个方法都是将返回的数据直接渲染到页面上，特别是<code>response2</code>方法，并不会返回<code>test.html</code>文件中的内容</p> <h3 id=json_1>返回JSON数据<a class=headerlink href=#json_1 title="Permanent link">&para;</a></h3> <p>后端需要向前端返回JSON数据时只需要返回一个对象即可，例如以前面的<code>User</code>类为例，返回一个<code>User</code>对象：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span>
<span class=normal>7</span>
<span class=normal>8</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-47-1><span class=nd>@RequestMapping</span><span class=p>(</span><span class=s>&quot;/response&quot;</span><span class=p>)</span>
</span><span id=__span-47-2><span class=nd>@RestController</span>
</span><span id=__span-47-3><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>ResponseController</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-47-4><span class=w>    </span><span class=nd>@GetMapping</span><span class=p>(</span><span class=s>&quot;/json&quot;</span><span class=p>)</span>
</span><span id=__span-47-5><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>User</span><span class=w> </span><span class=nf>json</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-47-6><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>User</span><span class=p>(</span><span class=s>&quot;epsda&quot;</span><span class=p>,</span><span class=w> </span><span class=mi>18</span><span class=p>,</span><span class=w> </span><span class=s>&quot;男&quot;</span><span class=p>);</span>
</span><span id=__span-47-7><span class=w>    </span><span class=p>}</span>
</span><span id=__span-47-8><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>前端得到的数据如下：</p> <div class="language-text highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Text Only</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-48-1>{&quot;name&quot;:&quot;epsda&quot;,&quot;age&quot;:18,&quot;gender&quot;:&quot;男&quot;}
</span></code></pre></div></td></tr></table></div> <h3 id=_12>设置状态码<a class=headerlink href=#_12 title="Permanent link">&para;</a></h3> <p>设置状态码通过<code>HttpServletResponse</code>对象进行设置即可：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-49-1><span class=nd>@RequestMapping</span><span class=p>(</span><span class=s>&quot;/status&quot;</span><span class=p>)</span>
</span><span id=__span-49-2><span class=nd>@RestController</span>
</span><span id=__span-49-3><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>StatusCodeController</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-49-4>
</span><span id=__span-49-5><span class=w>    </span><span class=c1>// 设置状态码可以使用HttpServletResponse对象进行设置</span>
</span><span id=__span-49-6><span class=w>    </span><span class=nd>@RequestMapping</span><span class=p>(</span><span class=s>&quot;/setStatus&quot;</span><span class=p>)</span>
</span><span id=__span-49-7><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=nf>setStatus</span><span class=p>(</span><span class=n>HttpServletResponse</span><span class=w> </span><span class=n>response</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-49-8><span class=w>        </span><span class=c1>// 错误状态码不影响显示数据</span>
</span><span id=__span-49-9><span class=w>        </span><span class=n>response</span><span class=p>.</span><span class=na>setStatus</span><span class=p>(</span><span class=mi>404</span><span class=p>);</span>
</span><span id=__span-49-10><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=s>&quot;设置状态码成功&quot;</span><span class=p>;</span>
</span><span id=__span-49-11><span class=w>    </span><span class=p>}</span>
</span><span id=__span-49-12><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h3 id=header_1>设置Header<a class=headerlink href=#header_1 title="Permanent link">&para;</a></h3> <p>一些常见的头部字段可以通过<code>@RequestMapping</code>注解实现，先看<code>@RequestMapping</code>的源码：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-50-1><span class=nd>@Target</span><span class=p>({</span><span class=n>ElementType</span><span class=p>.</span><span class=na>TYPE</span><span class=p>,</span><span class=w> </span><span class=n>ElementType</span><span class=p>.</span><span class=na>METHOD</span><span class=p>})</span>
</span><span id=__span-50-2><span class=nd>@Retention</span><span class=p>(</span><span class=n>RetentionPolicy</span><span class=p>.</span><span class=na>RUNTIME</span><span class=p>)</span>
</span><span id=__span-50-3><span class=nd>@Documented</span>
</span><span id=__span-50-4><span class=nd>@Mapping</span>
</span><span id=__span-50-5><span class=nd>@Reflective</span><span class=p>({</span><span class=n>ControllerMappingReflectiveProcessor</span><span class=p>.</span><span class=na>class</span><span class=p>})</span>
</span><span id=__span-50-6><span class=kd>public</span><span class=w> </span><span class=nd>@interface</span><span class=w> </span><span class=n>RequestMapping</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-50-7><span class=w>    </span><span class=n>String</span><span class=w> </span><span class=nf>name</span><span class=p>()</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=s>&quot;&quot;</span><span class=p>;</span>
</span><span id=__span-50-8>
</span><span id=__span-50-9><span class=w>    </span><span class=nd>@AliasFor</span><span class=p>(</span><span class=s>&quot;path&quot;</span><span class=p>)</span>
</span><span id=__span-50-10><span class=w>    </span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=nf>value</span><span class=p>()</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=p>{};</span>
</span><span id=__span-50-11>
</span><span id=__span-50-12><span class=w>    </span><span class=nd>@AliasFor</span><span class=p>(</span><span class=s>&quot;value&quot;</span><span class=p>)</span>
</span><span id=__span-50-13><span class=w>    </span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=nf>path</span><span class=p>()</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=p>{};</span>
</span><span id=__span-50-14>
</span><span id=__span-50-15><span class=w>    </span><span class=n>RequestMethod</span><span class=o>[]</span><span class=w> </span><span class=nf>method</span><span class=p>()</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=p>{};</span>
</span><span id=__span-50-16>
</span><span id=__span-50-17><span class=w>    </span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=nf>params</span><span class=p>()</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=p>{};</span>
</span><span id=__span-50-18>
</span><span id=__span-50-19><span class=w>    </span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=nf>headers</span><span class=p>()</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=p>{};</span>
</span><span id=__span-50-20>
</span><span id=__span-50-21><span class=w>    </span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=nf>consumes</span><span class=p>()</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=p>{};</span>
</span><span id=__span-50-22>
</span><span id=__span-50-23><span class=w>    </span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=nf>produces</span><span class=p>()</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=p>{};</span>
</span><span id=__span-50-24><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>其中：</p> <ol> <li><code>value</code>：指定映射的URL</li> <li><code>method</code>：指定请求类型，如<code>GET</code>, <code>POST</code>等</li> <li><code>consumes</code>：指定处理请求的提交内容类型(<code>Content-Type</code>)，例如<code>application/json</code>, <code>text/html</code></li> <li><code>produces</code>：指定返回的内容类型，还可以同时设置返回值的字符编码</li> <li><code>Params</code>：要求请求中必须包含某些参数值时，才让该方法处理</li> <li><code>headers</code>：要求请求中必须包含某些指定的header值，才能让该方法处理请求</li> </ol> <p>自定义Header可以通过<code>HttpServletResponse</code>对象进行设置：</p> <div class="language-java highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Java</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-51-1><span class=nd>@RequestMapping</span><span class=p>(</span><span class=s>&quot;/header&quot;</span><span class=p>)</span>
</span><span id=__span-51-2><span class=nd>@RestController</span>
</span><span id=__span-51-3><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>HeaderController</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-51-4>
</span><span id=__span-51-5><span class=w>    </span><span class=c1>// 使用传统方式设置Header</span>
</span><span id=__span-51-6><span class=w>    </span><span class=nd>@GetMapping</span><span class=p>(</span><span class=s>&quot;/setHeader&quot;</span><span class=p>)</span>
</span><span id=__span-51-7><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=nf>setHeader</span><span class=p>(</span><span class=n>HttpServletResponse</span><span class=w> </span><span class=n>response</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-51-8><span class=w>        </span><span class=n>response</span><span class=p>.</span><span class=na>setHeader</span><span class=p>(</span><span class=s>&quot;Test-Header&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;test&quot;</span><span class=p>);</span>
</span><span id=__span-51-9><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=s>&quot;设置Header成功&quot;</span><span class=p>;</span>
</span><span id=__span-51-10><span class=w>    </span><span class=p>}</span>
</span><span id=__span-51-11><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <aside class=md-source-file> <span class=md-source-file__fact> <span class=md-icon title=最后更新> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">2025年7月20日</span> </span> <span class=md-source-file__fact> <span class=md-icon title=创建日期> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">2025年7月16日</span> </span> </aside> <form class=md-feedback name=feedback hidden> <fieldset> <legend class=md-feedback__title> 页面有帮助吗？ </legend> <div class=md-feedback__inner> <div class=md-feedback__list> <button class="md-feedback__icon md-icon" type=submit title=页面对我有帮助 data-md-value=1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M5 9v12H1V9zm4 12a2 2 0 0 1-2-2V9c0-.55.22-1.05.59-1.41L14.17 1l1.06 1.06c.27.27.44.64.44 1.05l-.03.32L14.69 8H21a2 2 0 0 1 2 2v2c0 .26-.05.5-.14.73l-3.02 7.05C19.54 20.5 18.83 21 18 21zm0-2h9.03L21 12v-2h-8.79l1.13-5.32L9 9.03z"/></svg> </button> <button class="md-feedback__icon md-icon" type=submit title=页面没有帮助到我 data-md-value=0> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 15V3h4v12zM15 3a2 2 0 0 1 2 2v10c0 .55-.22 1.05-.59 1.41L9.83 23l-1.06-1.06c-.27-.27-.44-.64-.44-1.06l.03-.31.95-4.57H3a2 2 0 0 1-2-2v-2c0-.26.05-.5.14-.73l3.02-7.05C4.46 3.5 5.17 3 6 3zm0 2H5.97L3 12v2h8.78l-1.13 5.32L15 14.97z"/></svg> </button> </div> <div class=md-feedback__note> <div data-md-value=1 hidden> 谢谢你的反馈！ </div> <div data-md-value=0 hidden> 谢谢你的反馈！联系<a href=https://www.help-doc.top/%E4%BD%9C%E8%80%85/%E4%BD%9C%E8%80%85.html>作者</a>提供更详细的信息 </div> </div> </div> </fieldset> </form> <!-- 阅读进度条 - 直接在HTML中定义 --> <div class=reading-progress></div> <!-- 滚动指示器 - 直接在HTML中定义 --> <div class=scroll-indicator></div> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> 回到页面顶部 </button> </main> <!--
  Copyright (c) 2016-2024 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
--> <!-- Footer --> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-footer-copyright__highlight> Copyright &copy; 2024-2025 柯懒不是柯南 </div> </div> <!-- "一闪一闪亮晶晶"元素 - 插入在copyright和social之间 --> <div class="md-footer-love md-typeset"> 一闪一闪亮晶晶，不及<span class=love-highlight>小亮</span><span class=love-heart>♥</span>照我心。To Li Liang </div> <div class=md-social> <a href=https://github.com/H0308 target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> <a href=https://www.help-doc.top/%E4%BD%9C%E8%80%85/%E4%BD%9C%E8%80%85.html target=_blank rel=noopener title=www.help-doc.top class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M433.754 420.445c-11.526 1.393-44.86-52.741-44.86-52.741 0 31.345-16.136 72.247-51.051 101.786 16.842 5.192 54.843 19.167 45.803 34.421-7.316 12.343-125.51 7.881-159.632 4.037-34.122 3.844-152.316 8.306-159.632-4.037-9.045-15.25 28.918-29.214 45.783-34.415-34.92-29.539-51.059-70.445-51.059-101.792 0 0-33.334 54.134-44.859 52.741-5.37-.65-12.424-29.644 9.347-99.704 10.261-33.024 21.995-60.478 40.144-105.779C60.683 98.063 108.982.006 224 0c113.737.006 163.156 96.133 160.264 214.963 18.118 45.223 29.912 72.85 40.144 105.778 21.768 70.06 14.716 99.053 9.346 99.704"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../..", "features": ["navigation.indexes", "navigation.prune", "navigation.tabs", "navigation.top", "search.suggest", "search.highlight", "content.code.copy"], "search": "../../../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}, "version": null}</script> <script src=../../../assets/javascripts/bundle.c8b220af.min.js></script> <script src=../../../javascripts/katex.min.js></script> <script src=../../../javascripts/other.min.js></script> <script src=../../../javascripts/copyright.min.js></script> <script src=https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/katex.min.js></script> <script src=https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/contrib/auto-render.min.js></script> <script src=../../../assets/javascripts/toggle-sidebar.js async></script> <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body> </html>