<!doctype html><html lang=zh class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=canonical href=https://www.help-doc.top/python/class-obj-basic/class-obj-basic.html><link rel=prev href=../output-format-fileop/output-format-fileop.html><link rel=next href=../class-obj-advanced/class-obj-advanced.html><link rel=icon href=../../images/favicon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.12"><title>Python类和对象基础 - 柯懒的知识库</title><link rel=stylesheet href=../../assets/stylesheets/main.2afb09e1.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.06af60db.min.css><link rel=stylesheet href=../../css/timeline.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/katex.min.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-9XWRGNRRSY"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-9XWRGNRRSY",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-9XWRGNRRSY",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script><link rel=stylesheet href=../../stylesheets/colors.min.css><link rel=stylesheet href=../../stylesheets/theme2.min.css media="screen and (max-width: 1199px)"><link rel=stylesheet href=../../stylesheets/theme2.min.css media="screen and (min-width: 1200px)" id=theme2-desktop><link rel=stylesheet href=../../stylesheets/theme1.min.css media="screen and (min-width: 1200px)" id=theme1-desktop><link rel=stylesheet href=../../stylesheets/print.min.css><link rel=stylesheet href=../../stylesheets/font-dongguanti.min.css id=font-dongguanti><link rel=stylesheet href=../../stylesheets/font-oppoti.min.css id=font-oppoti disabled><link rel=stylesheet href=../../stylesheets/font-jiangchengti.min.css id=font-jiangchengti disabled><link rel=stylesheet href=../../stylesheets/font-lxgw.min.css id=font-lxgw disabled><link rel=stylesheet href=../../stylesheets/code-font-dejavu-sans-mono.min.css id=code-font-dejavu-sans-mono><link rel=stylesheet href=../../stylesheets/code-font-zsft-hk.min.css id=code-font-zsft-hk disabled><link rel=stylesheet href=../../stylesheets/code-font-google-sans-code.min.css id=code-font-google-sans-code disabled><link rel=stylesheet href=https://unpkg.com/@waline/client@v3/dist/waline.css><link rel=stylesheet href=../../stylesheets/waline.min.css><script src=../../javascripts/start.min.js></script><script defer src=https://cloud.umami.is/script.js data-website-id=02f9b8b7-93d4-4026-bdd8-221f2fcea2cf></script> <link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../../assets/javascripts/glightbox.min.js"></script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=white data-md-color-accent=cyan> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#python class=md-skip> 跳转至 </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=页眉> <a href=../../index.html title=柯懒的知识库 class="md-header__button md-logo" aria-label=柯懒的知识库 data-md-component=logo> <img src=../../assets/logo.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> 柯懒的知识库 </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Python类和对象基础 </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary=white data-md-color-accent=cyan aria-label type=radio name=__palette id=__palette_1> </form> <div class=header-avatar> <img src=../../author/作者.assets/20250206-200653.jpg alt=头像> <div class=avatar-dropdown> <p><strong>柯懒不是柯南</strong></p> <a href=../../author/contact/contact.html class=avatar-dropdown-item>联系作者</a> <div class=avatar-dropdown-divider></div> <a href=../../author/about/about.html class=avatar-dropdown-item>关于作者</a> <div class=avatar-dropdown-divider></div> <a href=https://github.com/H0308 class=avatar-dropdown-item>Github仓库</a> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=搜索 placeholder=搜索 autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=查找> <button type=reset class="md-search__icon md-icon" title=清空当前内容 aria-label=清空当前内容 tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> 正在初始化搜索引擎 </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> </nav> </header> <div class=toolbar-toggle-btn id=toolbarToggleBtn onclick=toggleToolbar()> <div class=toggle-icon> <svg class=toggle-arrow-icon viewbox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg width=16 height=16> <path d="M346.538667 1024L170.666667 853.333333l341.333333-341.333333-341.333333-341.333333 175.872-170.666667L853.333333 512z" fill=currentColor></path> </svg> </div> </div> <div class=floating-toolbar id=floatingToolbar> <div class="toolbar-item font-switcher"> <div class=toolbar-icon> <svg class=font-icon viewbox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg width=20 height=20> <path d="M913.408 1024l-66.56 0q-29.696 0-51.2-5.12t-36.864-15.872-26.112-27.136-19.968-37.888q-15.36-38.912-28.16-70.656t-22.016-55.296q-11.264-26.624-20.48-49.152l-254.976 0q-7.168 23.552-17.408 51.2-8.192 23.552-21.504 56.832t-30.72 72.192q-20.48 46.08-47.104 63.488t-60.416 17.408l-70.656 0q-45.056 0-60.928-19.968t2.56-68.096q18.432-46.08 43.008-108.544t52.224-132.608 57.344-143.872 57.344-144.384q65.536-164.864 137.216-343.04 7.168-17.408 18.432-31.744 10.24-11.264 27.136-21.504t42.496-10.24q26.624 0 43.52 10.752t28.16 24.064q12.288 15.36 19.456 33.792 72.704 180.224 138.24 345.088 27.648 70.656 57.344 143.872t56.832 142.336 51.2 129.536 41.472 104.448q14.336 34.816 4.096 62.464t-43.008 27.648zM616.448 634.88l-97.28-347.136-1.024 0-108.544 347.136 206.848 0z" fill=currentColor></path> </svg> </div> <div class=toolbar-label>内容字体</div> <div class=font-dropdown-toolbar> <div class=font-current-toolbar onclick=toggleFontDropdownToolbar()> <span class=current-font-name-toolbar>东观体</span> <svg class=dropdown-arrow-icon viewbox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg width=12 height=12> <path d="M878.592 250.88q29.696 0 48.128 11.264t24.576 29.696 0 41.472-26.624 45.568q-82.944 92.16-159.744 180.224t-148.48 164.864q-19.456 20.48-45.568 31.744t-53.76 11.776-53.248-8.704-43.008-28.672q-39.936-44.032-82.944-90.112l-88.064-92.16q-43.008-46.08-85.504-90.624t-79.36-86.528q-17.408-19.456-22.528-40.448t1.024-38.4 23.552-28.672 45.056-11.264q35.84 0 98.816-0.512t137.728-0.512l153.6 0 150.528 0 125.952 0 79.872 0z" fill=currentColor></path> </svg> </div> <div class=font-options-toolbar> <div class=font-option-toolbar data-font=dongguanti onclick="selectFontToolbar('dongguanti')">上图东观体 </div> <div class=font-option-toolbar data-font=oppoti onclick="selectFontToolbar('oppoti')">OPPO Sans </div> <div class=font-option-toolbar data-font=jiangchengti onclick="selectFontToolbar('jiangchengti')"> 江城黑体</div> <div class=font-option-toolbar data-font=lxgw onclick="selectFontToolbar('lxgw')">霞鹜臻楷</div> </div> </div> </div> <div class="toolbar-item code-font-switcher"> <div class=toolbar-icon> <svg t=1753672111433 class="icon code-font-icon" viewbox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg p-id=5148 width=20 height=20> <path d="M941.709938 0H82.290062A82.290062 82.290062 0 0 0 0 82.290062v859.419876A82.290062 82.290062 0 0 0 82.290062 1022.53923h859.419876A82.290062 82.290062 0 0 0 1022.53923 941.709938V82.290062A82.290062 82.290062 0 0 0 941.709938 0zM188.439372 553.631954a40.901569 40.901569 0 0 1-29.215406-70.116975L292.154066 351.558726 159.223966 218.628626a40.901569 40.901569 0 0 1 58.430813-57.94389l160.197813 162.145507a40.901569 40.901569 0 0 1 0 57.943889l-160.197813 160.684736a40.901569 40.901569 0 0 1-29.215407 12.173086z m443.587257 0H405.120304a40.901569 40.901569 0 0 1 0-82.290061H633.000476a40.901569 40.901569 0 0 1 0 82.290061z" fill=currentColor p-id=5149></path> </svg> </div> <div class=toolbar-label>代码字体</div> <div class=code-font-dropdown-toolbar> <div class=code-font-current-toolbar onclick=toggleCodeFontDropdownToolbar()> <span class=current-code-font-name-toolbar>DejaVu Sans Mono</span> <svg class=dropdown-arrow-icon viewbox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg width=12 height=12> <path d="M878.592 250.88q29.696 0 48.128 11.264t24.576 29.696 0 41.472-26.624 45.568q-82.944 92.16-159.744 180.224t-148.48 164.864q-19.456 20.48-45.568 31.744t-53.76 11.776-53.248-8.704-43.008-28.672q-39.936-44.032-82.944-90.112l-88.064-92.16q-43.008-46.08-85.504-90.624t-79.36-86.528q-17.408-19.456-22.528-40.448t1.024-38.4 23.552-28.672 45.056-11.264q35.84 0 98.816-0.512t137.728-0.512l153.6 0 150.528 0 125.952 0 79.872 0z" fill=currentColor></path> </svg> </div> <div class=code-font-options-toolbar> <div class=code-font-option-toolbar data-code-font=dejavu onclick="selectCodeFontToolbar('dejavu')"> DejaVu Sans Mono</div> <div class=code-font-option-toolbar data-code-font=google-sans-code onclick="selectCodeFontToolbar('google-sans-code')"> Google Sans Code</div> <div class=code-font-option-toolbar data-code-font=zsft onclick="selectCodeFontToolbar('zsft')"> JetBrains Mono</div> </div> </div> </div> <div class="toolbar-item theme-switcher" onclick=switchTheme()> <div class=toolbar-icon> <svg class=theme-icon viewbox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg width=20 height=20> <path d="M876.572788 522.301623c-1.886977 12.375865-9.657964 30.331819-35.880185 45.48903-56.489572 32.697703-150.21828 83.990926-174.010149 96.958262-13.143345 24.431435-66.067718 122.221646-98.141204 178.503487-16.117073 28.124548-36.055171 34.041304-50.030463 34.041304-0.031722 0-0.031722 0-0.031722 0-14.613836 0-29.1806-6.460132-43.234687-19.218714-47.183626-42.643216-125.994576-117.105115-146.013515-136.083351-27.757181-4.732791-138.338718-23.743774-200.584388-35.752272-17.924231-3.533476-32.649608-14.07046-40.372499-29.084409-5.78782-11.256368-10.281157-30.05962 1.471514-55.658647 26.989701-59.047838 74.126254-157.557432 85.957721-182.196599-3.437286-27.117614-16.996093-135.060045-23.760147-198.905142-1.886977-17.460674 3.901867-35.096333 15.829524-48.351218 12.791327-14.278191 30.667463-21.48943 49.854455-19.426445 63.669088 6.332219 173.259042 19.426445 200.584388 22.705118 24.335245-11.879562 121.085776-58.936297 180.133613-86.34146 9.91379-4.573155 19.85828-6.92369 29.596062-6.92369 28.748764 0 52.172243 20.642133 58.328453 51.421136 12.599969 62.997799 30.93864 166.70272 35.639708 193.484689 18.851347 19.682271 91.953272 96.031147 135.060045 143.07151C872.72004 487.125473 879.307062 504.71406 876.572788 522.301623L876.572788 522.301623zM825.375755 499.085876C776.017604 445.314205 687.245791 352.977193 686.365748 352.017332c-2.942005-3.069919-4.956895-6.971785-5.676279-11.208273-0.207731-1.215688-22.193465-127.001509-36.551474-198.936865-0.799202-3.917216-4.285606-16.836457-16.196891-16.836457-3.453658 0-7.30743 1.006933-11.464099 2.942005-67.282383 31.179117-183.955662 88.180342-185.170327 88.771813-3.693112 1.790786-7.850805 2.558265-11.975752 2.01489-1.295506-0.224104-133.63765-16.165168-205.988468-23.424502-0.079818 0-0.207731 0-0.287549 0-7.30743 0-11.128455 2.89391-13.319353 5.40408-3.677762 4.124947-5.644557 9.91379-5.068436 15.110139 7.674796 72.623018 24.255427 202.934922 24.463158 204.325595 0.511653 4.109598-0.159636 8.266267-1.966795 11.960403-0.591471 1.215688-57.657164 120.04712-88.339977 187.201589-3.565199 7.754614-4.41352 14.214746-2.350534 18.131963 1.935072 3.725858 6.588045 5.820566 10.360975 6.53995 70.719668 13.718443 204.644867 36.519752 206.036563 36.727483 4.189416 0.671289 8.058536 2.686179 11.112082 5.580089 1.006933 0.87902 96.414887 91.281983 150.090367 139.889027 8.314363 7.563256 13.143345 8.106632 14.437827 8.106632 3.485381 0 8.314363-4.621251 12.727882-12.391215 36.343743-63.828724 100.011808-181.988868 100.636025-183.155437 1.983167-3.64604 5.004991-6.667863 8.650007-8.650007 1.134847-0.671289 114.418936-62.373583 178.6314-99.516528 8.698103-5.036713 14.278191-10.568706 14.94948-14.854313C834.681702 511.845481 831.49922 505.800811 825.375755 499.085876L825.375755 499.085876zM935.333076 935.670256c-4.157693 4.157693-9.689686 6.299473-15.141862 6.299473-5.548366 0-11.048637-2.142803-15.238053-6.299473l-171.915441-171.915441c-8.362458-8.394181-8.362458-21.98471 0-30.426987 8.394181-8.394181 21.98471-8.394181 30.379914 0l171.915441 171.915441C943.727257 913.684522 943.727257 927.275052 935.333076 935.670256L935.333076 935.670256z" fill=currentColor></path> </svg> </div> <div class=toolbar-label>主题切换</div> </div> <div class="toolbar-item back-to-top" onclick=scrollToTop()> <div class=toolbar-icon> <svg class=back-to-top-icon viewbox="0 0 1024 1024" xmlns=http://www.w3.org/2000/svg> <path d="M882.688 624.128l-336.896-583.68c-15.872-27.136-54.784-27.136-70.656 0L138.24 624.128c-15.872 27.136 4.096 61.44 35.328 61.44H317.44c22.528 0 40.96 18.432 40.96 40.96v239.616c0 22.528 18.432 40.96 40.96 40.96h223.232c22.528 0 40.96-18.432 40.96-40.96v-239.616c0-22.528 18.432-40.96 40.96-40.96h143.872c30.208 0 50.176-34.304 34.304-61.44z"> </path> </svg> </div> <div class=toolbar-label>返回顶部</div> </div> </div> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=标签 data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../index.html class=md-tabs__link> 主页 </a> </li> <li class=md-tabs__item> <a href=../../timeline/timeline.html class=md-tabs__link> 网站时间线 </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../../languages/index.html class=md-tabs__link> 编程语言 </a> </li> <li class=md-tabs__item> <a href=../../data-structure-algo/index.html class=md-tabs__link> 数据结构与算法 </a> </li> <li class=md-tabs__item> <a href=../../Linux/index.html class=md-tabs__link> Linux </a> </li> <li class=md-tabs__item> <a href=../../front-end/index.html class=md-tabs__link> 前端 </a> </li> <li class=md-tabs__item> <a href=../../MySQL/index.html class=md-tabs__link> MySQL </a> </li> <li class=md-tabs__item> <a href=../../JavaEE/index.html class=md-tabs__link> JavaEE应用开发 </a> </li> <li class=md-tabs__item> <a href=../../software-test/index.html class=md-tabs__link> 软件测试 </a> </li> <li class=md-tabs__item> <a href=../../other/index.html class=md-tabs__link> 扩展知识 </a> </li> <li class=md-tabs__item> <a href=../../tooltips/index.html class=md-tabs__link> 工具帮助 </a> </li> <li class=md-tabs__item> <a href=../../test-encrypt/test-encrypt.html class=md-tabs__link> 测试加密功能 </a> </li> <li class=md-tabs__item> <a href=../../projects/index.html class=md-tabs__link> 项目 </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=导航栏 data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../index.html title=柯懒的知识库 class="md-nav__button md-logo" aria-label=柯懒的知识库 data-md-component=logo> <img src=../../assets/logo.png alt=logo> </a> 柯懒的知识库 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../index.html class=md-nav__link> <span class=md-ellipsis> 主页 </span> </a> </li> <li class=md-nav__item> <a href=../../timeline/timeline.html class=md-nav__link> <span class=md-ellipsis> 网站时间线 </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3 checked> <div class="md-nav__link md-nav__container"> <a href=../../languages/index.html class="md-nav__link "> <span class=md-ellipsis> 编程语言 </span> </a> <label class="md-nav__link " for=__nav_3 id=__nav_3_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=true> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> 编程语言 </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../c-lang/index.html class=md-nav__link> <span class=md-ellipsis> C语言 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../cpp/index.html class=md-nav__link> <span class=md-ellipsis> C++ </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../Java/index.html class=md-nav__link> <span class=md-ellipsis> Java </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_5 checked> <div class="md-nav__link md-nav__container"> <a href=../index.html class="md-nav__link "> <span class=md-ellipsis> Python </span> </a> <label class="md-nav__link " for=__nav_3_5 id=__nav_3_5_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_5_label aria-expanded=true> <label class=md-nav__title for=__nav_3_5> <span class="md-nav__icon md-icon"></span> Python </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../python-basic/python-basic.html class=md-nav__link> <span class=md-ellipsis> Python基础知识 </span> </a> </li> <li class=md-nav__item> <a href=../composite-data-type/composite-data-type.html class=md-nav__link> <span class=md-ellipsis> Python组合数据类型 </span> </a> </li> <li class=md-nav__item> <a href=../exception/exception.html class=md-nav__link> <span class=md-ellipsis> Python异常处理 </span> </a> </li> <li class=md-nav__item> <a href=../func/func.html class=md-nav__link> <span class=md-ellipsis> Python函数 </span> </a> </li> <li class=md-nav__item> <a href=../module/module.html class=md-nav__link> <span class=md-ellipsis> Python模块 </span> </a> </li> <li class=md-nav__item> <a href=../output-format-fileop/output-format-fileop.html class=md-nav__link> <span class=md-ellipsis> Python输出与文件操作 </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Python类和对象基础 </span> <span class="md-nav__icon md-icon"></span> </label> <a href=class-obj-basic.html class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Python类和对象基础 </span> </a> <nav class="md-nav md-nav--secondary" aria-label=本节目录> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> 本节目录 </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#python_1 class=md-nav__link> <span class=md-ellipsis> Python作用域和命名空间 </span> </a> </li> <li class=md-nav__item> <a href=#_1 class=md-nav__link> <span class=md-ellipsis> 类和对象 </span> </a> <nav class=md-nav aria-label=类和对象> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_2 class=md-nav__link> <span class=md-ellipsis> 创建类和实例化对象 </span> </a> </li> <li class=md-nav__item> <a href=#_3 class=md-nav__link> <span class=md-ellipsis> 类属性和类方法 </span> </a> </li> <li class=md-nav__item> <a href=#_4 class=md-nav__link> <span class=md-ellipsis> 类的静态方法 </span> </a> </li> <li class=md-nav__item> <a href=#_5 class=md-nav__link> <span class=md-ellipsis> 封装性 </span> </a> </li> <li class=md-nav__item> <a href=#_6 class=md-nav__link> <span class=md-ellipsis> 继承性 </span> </a> </li> <li class=md-nav__item> <a href=#_7 class=md-nav__link> <span class=md-ellipsis> 多态性 </span> </a> </li> <li class=md-nav__item> <a href=#_8 class=md-nav__link> <span class=md-ellipsis> 迭代器 </span> </a> </li> <li class=md-nav__item> <a href=#_9 class=md-nav__link> <span class=md-ellipsis> 生成器 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../class-obj-advanced/class-obj-advanced.html class=md-nav__link> <span class=md-ellipsis> Python类和对象进阶 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../data-structure-algo/index.html class=md-nav__link> <span class=md-ellipsis> 数据结构与算法 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../Linux/index.html class=md-nav__link> <span class=md-ellipsis> Linux </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../front-end/index.html class=md-nav__link> <span class=md-ellipsis> 前端 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../MySQL/index.html class=md-nav__link> <span class=md-ellipsis> MySQL </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../JavaEE/index.html class=md-nav__link> <span class=md-ellipsis> JavaEE应用开发 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../software-test/index.html class=md-nav__link> <span class=md-ellipsis> 软件测试 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../other/index.html class=md-nav__link> <span class=md-ellipsis> 扩展知识 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../tooltips/index.html class=md-nav__link> <span class=md-ellipsis> 工具帮助 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../test-encrypt/test-encrypt.html class=md-nav__link> <span class=md-ellipsis> 测试加密功能 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../projects/index.html class=md-nav__link> <span class=md-ellipsis> 项目 </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label=本节目录> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> 本节目录 </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#python_1 class=md-nav__link> <span class=md-ellipsis> Python作用域和命名空间 </span> </a> </li> <li class=md-nav__item> <a href=#_1 class=md-nav__link> <span class=md-ellipsis> 类和对象 </span> </a> <nav class=md-nav aria-label=类和对象> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_2 class=md-nav__link> <span class=md-ellipsis> 创建类和实例化对象 </span> </a> </li> <li class=md-nav__item> <a href=#_3 class=md-nav__link> <span class=md-ellipsis> 类属性和类方法 </span> </a> </li> <li class=md-nav__item> <a href=#_4 class=md-nav__link> <span class=md-ellipsis> 类的静态方法 </span> </a> </li> <li class=md-nav__item> <a href=#_5 class=md-nav__link> <span class=md-ellipsis> 封装性 </span> </a> </li> <li class=md-nav__item> <a href=#_6 class=md-nav__link> <span class=md-ellipsis> 继承性 </span> </a> </li> <li class=md-nav__item> <a href=#_7 class=md-nav__link> <span class=md-ellipsis> 多态性 </span> </a> </li> <li class=md-nav__item> <a href=#_8 class=md-nav__link> <span class=md-ellipsis> 迭代器 </span> </a> </li> <li class=md-nav__item> <a href=#_9 class=md-nav__link> <span class=md-ellipsis> 生成器 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=python>Python类和对象基础<a class=headerlink href=#python title="Permanent link">&para;</a></h1> <div style="margin-top: -30px; font-size: 0.75em; opacity: 0.7;"> <p><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10h-2a8 8 0 0 1-8 8 8 8 0 0 1-8-8 8 8 0 0 1 8-8zm6.78 1a.7.7 0 0 0-.48.2l-1.22 1.21 2.5 2.5L20.8 5.7c.26-.26.26-.7 0-.95L19.25 3.2c-.13-.13-.3-.2-.47-.2m-2.41 2.12L9 12.5V15h2.5l7.37-7.38z"/></svg></span> 约 4308 个字 <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6m80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3l89.3 89.4-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3"/></svg></span> 464 行代码 <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 20c4.42 0 8-3.58 8-8s-3.58-8-8-8-8 3.58-8 8 3.58 8 8 8m0-18c5.5 0 10 4.5 10 10s-4.5 10-10 10C6.47 22 2 17.5 2 12S6.5 2 12 2m.5 11H11V7h1.5v4.26l3.7-2.13.75 1.3z"/></svg></span> 预计阅读时间 20 分钟</p> </div> <h2 id=python_1>Python作用域和命名空间<a class=headerlink href=#python_1 title="Permanent link">&para;</a></h2> <p>namespace（命名空间）是从名称到对象的映射。现在，大多数命名空间都使用Python字典实现，但除非涉及到性能优化，一般不会关注这方面的事情，而且将来也可能会改变这种方式。在Python中，常见的命名空间例子有：</p> <ol> <li>内置名称集合（包括<code>abs()</code>函数以及内置异常的名称等）</li> <li>一个模块的全局作用域</li> <li>一个函数调用中的局部作用域</li> <li>对象的属性集合（实例的命名空间）</li> </ol> <p>与C++命名空间的作用类似，定义在不同的命名空间中的名称彼此之间互不冲突。例如，两个不同的模块都可以定义<code>maximize()</code>函数，且不会造成混淆。用户使用函数时必须要在函数名前面加上模块名指定是哪一个模块中的函数</p> <p>前面已经使用过很多次对象的方法，每一次调用方法都是通过<code>对象.方法名</code>的方式，实际上，点号之后的名称被称为属性，例如表达式<code>z.real</code>中，<code>real</code>是对象<code>z</code>的属性。同样，使用模块中的名称也被称为属性：表达式<code>modname.funcname</code>中，<code>modname</code>是模块对象，<code>funcname</code> 模块的属性</p> <p>命名空间是在不同时刻创建的，且拥有不同的生命周期。内置名称的命名空间是在Python解释器启动时创建的，永远不会被删除。模块的全局命名空间在读取模块定义时创建，通常，模块的命名空间也会持续到解释器退出。从脚本文件读取或交互式读取的，由解释器顶层调用执行的语句是<code>__main__</code>模块调用的一部分，也拥有自己的全局命名空间。内置名称实际上也在模块里，即<code>builtins</code></p> <p>函数的局部命名空间在函数被调用时被创建，并在函数返回或抛出未在函数内被处理的异常时被删除。对于递归调用来说，每次递归调用都有自己的局部命名空间</p> <p>在Python中，作用域虽然是被静态确定的，但会被动态使用。执行期间的任何时刻，都会有3或4个“命名空间可直接访问”的嵌套作用域：</p> <ol> <li>最内层作用域，包含局部名称，并首先在其中进行搜索（局部作用域）</li> <li>那些外层闭包函数的作用域，包含“非局部、非全局”的名称，从最靠内层的那个作用域开始，逐层向外搜索（嵌套函数的内部作用域）</li> <li>倒数第二层作用域，包含当前模块的全局名称（全局作用域）</li> <li>最外层（最后搜索）的作用域，是内置名称的命名空间（内置作用域）</li> </ol> <div class="admonition note"> <p class=admonition-title>Note</p> <p>“可直接访问”的意思是，该文本区域内的名称在被非限定引用（不需要使用<code>.</code>进行访问）时，查找名称的范围，是包括该命名空间在内的</p> </div> <h2 id=_1>类和对象<a class=headerlink href=#_1 title="Permanent link">&para;</a></h2> <h3 id=_2>创建类和实例化对象<a class=headerlink href=#_2 title="Permanent link">&para;</a></h3> <p>在Python中，创建类的格式如下：</p> <div class="language-python highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Python</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><span class=k>class</span><span class=w> </span><span class=nc>ClassName</span><span class=p>:</span>
</span><span id=__span-0-2>    <span class=o>&lt;</span><span class=n>语句</span><span class=o>-</span><span class=mi>1</span><span class=o>&gt;</span>
</span><span id=__span-0-3>    <span class=o>.</span>
</span><span id=__span-0-4>    <span class=o>.</span>
</span><span id=__span-0-5>    <span class=o>.</span>
</span><span id=__span-0-6>    <span class=o>&lt;</span><span class=n>语句</span><span class=o>-</span><span class=n>N</span><span class=o>&gt;</span>
</span></code></pre></div></td></tr></table></div> <p>当进入类定义时，将创建一个新的命名空间，并将其用作局部作用域，因此，所有对局部变量的赋值都是在这个新命名空间之内</p> <p>例如有下面的类：</p> <div class="language-python highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Python</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span>
<span class=normal>7</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-1-1><span class=k>class</span><span class=w> </span><span class=nc>Person</span><span class=p>:</span>
</span><span id=__span-1-2>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>age</span><span class=p>):</span>
</span><span id=__span-1-3>        <span class=bp>self</span><span class=o>.</span><span class=n>name</span> <span class=o>=</span> <span class=n>name</span>
</span><span id=__span-1-4>        <span class=bp>self</span><span class=o>.</span><span class=n>age</span> <span class=o>=</span> <span class=n>age</span>
</span><span id=__span-1-5>
</span><span id=__span-1-6>    <span class=k>def</span><span class=w> </span><span class=nf>say_hello</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-1-7>        <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;Hello, my name is&#39;</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> <p>在上面的类中，为了创建类的实例对象，需要使用到魔法方法<code>__init__</code>（这个方法也被称为类的构造方法），类中所有的成员方法第一个参数表示调用本方法的对象的引用（相当于C++、Java中的<code>this</code>），一般情况下将其命名为<code>self</code>，也可以命名为其他名称（但是不推荐）</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>注意，因为<code>__init__</code>是构造函数，所以创建对象时会自动调用，如果需要传递实参，对于<code>self</code>来说不需要传递，传递的实参分别对应于第二个参数开始的后面的形参</p> </div> <p>在构造方法<code>__init__</code>中，第二个参数开始都是为成员属性赋值的变量，注意，在Python中，类的成员属性不可以定义在<code>__init__</code>方法外，在该方法内部，使用<code>self.成员属性 = 形式参数</code>新增成员属性并使用形参进行赋值，例如上述例子中的<code>name</code>和<code>age</code></p> <p>接着在类内定义了一个方法<code>say_hello</code>，这个方法属于成员方法，需要类的实例对象去调用</p> <p>在Python中，创建类的实例对象可以使用下面的方法：</p> <div class="language-python highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Python</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-2-1><span class=n>变量名</span> <span class=o>=</span> <span class=n>类名</span><span class=p>()</span>
</span></code></pre></div></td></tr></table></div> <p>例如对于前面定义的<code>Person</code>类来说，创建其对象的方式如下：</p> <div class="language-python highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Python</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-3-1><span class=n>person</span> <span class=o>=</span> <span class=n>Person</span><span class=p>(</span><span class=s2>&quot;Marry&quot;</span><span class=p>,</span> <span class=mi>20</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> <p>注意，因为在<code>__init__</code>方法中给了参数，所以在创建对象时就需要传递实参，如果想创建一个空对象，可以不写<code>__init__</code>方法，或者给<code>__init__</code>方法中的参数默认值创建一个由默认值实例化的对象，所以可以将类修改为如下：</p> <div class="language-python highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Python</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-4-1><span class=c1># 创建一个空类对象</span>
</span><span id=__span-4-2><span class=k>class</span><span class=w> </span><span class=nc>Person</span><span class=p>:</span>
</span><span id=__span-4-3>    <span class=k>pass</span>
</span><span id=__span-4-4>
</span><span id=__span-4-5><span class=n>person</span> <span class=o>=</span> <span class=n>Person</span><span class=p>()</span>
</span><span id=__span-4-6>
</span><span id=__span-4-7><span class=c1># 构造方法中的参数赋予默认值</span>
</span><span id=__span-4-8><span class=k>class</span><span class=w> </span><span class=nc>Person</span><span class=p>:</span>
</span><span id=__span-4-9>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span> <span class=o>=</span> <span class=s2>&quot;zhangsan&quot;</span><span class=p>,</span> <span class=n>age</span> <span class=o>=</span> <span class=mi>19</span><span class=p>):</span>
</span><span id=__span-4-10>        <span class=bp>self</span><span class=o>.</span><span class=n>name</span> <span class=o>=</span> <span class=n>name</span>
</span><span id=__span-4-11>        <span class=bp>self</span><span class=o>.</span><span class=n>age</span> <span class=o>=</span> <span class=n>age</span>
</span><span id=__span-4-12>
</span><span id=__span-4-13>    <span class=k>def</span><span class=w> </span><span class=nf>say_hello</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-4-14>        <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Hello, my name is&quot;</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=p>)</span>
</span><span id=__span-4-15>
</span><span id=__span-4-16><span class=c1># 创建一个名字为zhangsan，年龄为19岁的person对象</span>
</span><span id=__span-4-17><span class=n>person</span> <span class=o>=</span> <span class=n>Person</span><span class=p>()</span>
</span><span id=__span-4-18>
</span><span id=__span-4-19><span class=c1># 创建一个名字为lisi，年龄为18岁的person1对象</span>
</span><span id=__span-4-20><span class=n>person1</span> <span class=o>=</span> <span class=n>Person</span><span class=p>(</span><span class=s2>&quot;lisi&quot;</span><span class=p>,</span> <span class=mi>18</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> <p>有了类对象后，就可以通过该对象去调用其中的方法，例如同样是前面的<code>Person</code>类：</p> <div class="language-python highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Python</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-5-1><span class=n>person</span><span class=o>.</span><span class=n>say_hello</span><span class=p>()</span>
</span><span id=__span-5-2>
</span><span id=__span-5-3><span class=n>输出结果</span><span class=err>：</span>
</span><span id=__span-5-4><span class=n>Hello</span><span class=p>,</span> <span class=n>my</span> <span class=n>name</span> <span class=ow>is</span> <span class=n>zhangsan</span>
</span></code></pre></div></td></tr></table></div> <h3 id=_3>类属性和类方法<a class=headerlink href=#_3 title="Permanent link">&para;</a></h3> <p>所谓类属性就是属于整个类的变量，其数据供所有当前类对象共享，一般定义在<code>__init__</code>方法的上面（实际上可以写在类的任何位置），例如下面的代码：</p> <div class="language-python highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Python</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-6-1><span class=n>lass</span> <span class=n>Person</span><span class=p>:</span>
</span><span id=__span-6-2>    <span class=c1># 类属性</span>
</span><span id=__span-6-3>    <span class=n>number</span> <span class=o>=</span> <span class=mi>0</span>
</span><span id=__span-6-4>
</span><span id=__span-6-5>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span> <span class=o>=</span> <span class=s2>&quot;zhangsan&quot;</span><span class=p>,</span> <span class=n>age</span> <span class=o>=</span> <span class=mi>19</span><span class=p>):</span>
</span><span id=__span-6-6>        <span class=bp>self</span><span class=o>.</span><span class=n>name</span> <span class=o>=</span> <span class=n>name</span>
</span><span id=__span-6-7>        <span class=bp>self</span><span class=o>.</span><span class=n>age</span> <span class=o>=</span> <span class=n>age</span>
</span><span id=__span-6-8>
</span><span id=__span-6-9>    <span class=k>def</span><span class=w> </span><span class=nf>say_hello</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-6-10>        <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;Hello, my name is&#39;</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> <p>当需要访问类属性时，需要用类名进行调用，例如需求：每创建一个<code>Person</code>类对象，<code>number</code>就加1：</p> <div class="language-python highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Python</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-7-1><span class=k>class</span><span class=w> </span><span class=nc>Person</span><span class=p>:</span>
</span><span id=__span-7-2>    <span class=c1># 类属性</span>
</span><span id=__span-7-3>    <span class=n>number</span> <span class=o>=</span> <span class=mi>0</span>
</span><span id=__span-7-4>
</span><span id=__span-7-5>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span> <span class=o>=</span> <span class=s2>&quot;zhangsan&quot;</span><span class=p>,</span> <span class=n>age</span> <span class=o>=</span> <span class=mi>19</span><span class=p>):</span>
</span><span id=__span-7-6>        <span class=bp>self</span><span class=o>.</span><span class=n>name</span> <span class=o>=</span> <span class=n>name</span>
</span><span id=__span-7-7>        <span class=bp>self</span><span class=o>.</span><span class=n>age</span> <span class=o>=</span> <span class=n>age</span>
</span><span id=__span-7-8>        <span class=c1># 创建一次对象，类属性number加1</span>
</span><span id=__span-7-9>        <span class=n>Person</span><span class=o>.</span><span class=n>number</span> <span class=o>+=</span> <span class=mi>1</span>
</span><span id=__span-7-10>
</span><span id=__span-7-11>    <span class=k>def</span><span class=w> </span><span class=nf>say_hello</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-7-12>        <span class=c1># 在方法中访问类属性需要使用类名调用</span>
</span><span id=__span-7-13>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;Hello, my name is </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s1>, I am No.</span><span class=si>{</span><span class=n>Person</span><span class=o>.</span><span class=n>number</span><span class=si>}</span><span class=s1>&#39;</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> <p>因为是类属性，所以在类外访问时也需要通过类名来调用而不建议使用对象调用，例如下面的代码：</p> <div class="language-python highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Python</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-8-1><span class=n>person</span> <span class=o>=</span> <span class=n>Person</span><span class=p>()</span>
</span><span id=__span-8-2>
</span><span id=__span-8-3><span class=c1># 可以使用对象访问类属性，但是不推荐</span>
</span><span id=__span-8-4><span class=nb>print</span><span class=p>(</span><span class=n>person</span><span class=o>.</span><span class=n>number</span><span class=p>)</span>  <span class=c1># 1</span>
</span><span id=__span-8-5><span class=c1># 可以使用类名访问类属性，推荐</span>
</span><span id=__span-8-6><span class=nb>print</span><span class=p>(</span><span class=n>Person</span><span class=o>.</span><span class=n>number</span><span class=p>)</span>  <span class=c1># 1</span>
</span></code></pre></div></td></tr></table></div> <p>除了有类属性外，还有类方法，与对象方法不同，类方法默认第一个参数传递的是<code>cls</code>，代表当前类，并且在定义类方法时，需要使用到装饰器<code>@classmethod</code>，例如下面的代码：</p> <div class="language-python highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Python</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-9-1><span class=k>class</span><span class=w> </span><span class=nc>Person</span><span class=p>:</span>
</span><span id=__span-9-2>    <span class=n>number</span> <span class=o>=</span> <span class=mi>0</span>
</span><span id=__span-9-3>
</span><span id=__span-9-4>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span> <span class=o>=</span> <span class=s2>&quot;zhangsan&quot;</span><span class=p>,</span> <span class=n>age</span> <span class=o>=</span> <span class=mi>19</span><span class=p>):</span>
</span><span id=__span-9-5>        <span class=bp>self</span><span class=o>.</span><span class=n>name</span> <span class=o>=</span> <span class=n>name</span>
</span><span id=__span-9-6>        <span class=bp>self</span><span class=o>.</span><span class=n>age</span> <span class=o>=</span> <span class=n>age</span>
</span><span id=__span-9-7>        <span class=c1># 创建一次对象，类属性number加1</span>
</span><span id=__span-9-8>        <span class=n>Person</span><span class=o>.</span><span class=n>number</span> <span class=o>+=</span> <span class=mi>1</span>
</span><span id=__span-9-9>
</span><span id=__span-9-10>    <span class=k>def</span><span class=w> </span><span class=nf>say_hello</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-9-11>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;Hello, my name is </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s1>, I am No.</span><span class=si>{</span><span class=n>Person</span><span class=o>.</span><span class=n>number</span><span class=si>}</span><span class=s1>&#39;</span><span class=p>)</span>
</span><span id=__span-9-12>
</span><span id=__span-9-13>    <span class=c1># 类方法</span>
</span><span id=__span-9-14>    <span class=nd>@classmethod</span>
</span><span id=__span-9-15>    <span class=k>def</span><span class=w> </span><span class=nf>get_number</span><span class=p>(</span><span class=bp>cls</span><span class=p>):</span>
</span><span id=__span-9-16>        <span class=k>return</span> <span class=bp>cls</span><span class=o>.</span><span class=n>number</span>
</span></code></pre></div></td></tr></table></div> <p>在上面的代码中，定义了一个<code>get_number</code>方法，该方法因为使用了装饰器<code>@classmethod</code>，所以是属于整个类的方法，第一个参数是<code>cls</code>，因为其代表的是当前类，所以调用类属性时就只需要用该参数调用即可</p> <p>在使用类方法时，需要使用类进行调用，也可以使用类对象调用，同样不推荐，例如下面的代码：</p> <div class="language-python highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Python</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-10-1><span class=n>person</span> <span class=o>=</span> <span class=n>Person</span><span class=p>()</span>
</span><span id=__span-10-2><span class=c1># 可以使用对象访问类方法，但是不推荐</span>
</span><span id=__span-10-3><span class=nb>print</span><span class=p>(</span><span class=n>person</span><span class=o>.</span><span class=n>get_number</span><span class=p>())</span> <span class=c1># 1</span>
</span><span id=__span-10-4><span class=c1># 可以使用类名访问类方法，推荐</span>
</span><span id=__span-10-5><span class=nb>print</span><span class=p>(</span><span class=n>Person</span><span class=o>.</span><span class=n>get_number</span><span class=p>())</span> <span class=c1># 1</span>
</span></code></pre></div></td></tr></table></div> <h3 id=_4>类的静态方法<a class=headerlink href=#_4 title="Permanent link">&para;</a></h3> <p>在Python中，除了有类方法以外，还有静态方法，与类方法非常类似，但是不同的是，其使用装饰器<code>@staticmethod</code>，并且默认情况下没有参数，例如下面的代码：</p> <div class="language-python highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Python</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-11-1><span class=k>class</span><span class=w> </span><span class=nc>Person</span><span class=p>:</span>
</span><span id=__span-11-2>    <span class=n>number</span> <span class=o>=</span> <span class=mi>0</span>
</span><span id=__span-11-3>
</span><span id=__span-11-4>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span> <span class=o>=</span> <span class=s2>&quot;zhangsan&quot;</span><span class=p>,</span> <span class=n>age</span> <span class=o>=</span> <span class=mi>19</span><span class=p>):</span>
</span><span id=__span-11-5>        <span class=bp>self</span><span class=o>.</span><span class=n>name</span> <span class=o>=</span> <span class=n>name</span>
</span><span id=__span-11-6>        <span class=bp>self</span><span class=o>.</span><span class=n>age</span> <span class=o>=</span> <span class=n>age</span>
</span><span id=__span-11-7>        <span class=c1># 创建一次对象，类属性number加1</span>
</span><span id=__span-11-8>        <span class=n>Person</span><span class=o>.</span><span class=n>number</span> <span class=o>+=</span> <span class=mi>1</span>
</span><span id=__span-11-9>
</span><span id=__span-11-10>    <span class=k>def</span><span class=w> </span><span class=nf>say_hello</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-11-11>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;Hello, my name is </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s1>, I am No.</span><span class=si>{</span><span class=n>Person</span><span class=o>.</span><span class=n>number</span><span class=si>}</span><span class=s1>&#39;</span><span class=p>)</span>
</span><span id=__span-11-12>
</span><span id=__span-11-13>    <span class=nd>@classmethod</span>
</span><span id=__span-11-14>    <span class=k>def</span><span class=w> </span><span class=nf>get_number</span><span class=p>(</span><span class=bp>cls</span><span class=p>):</span>
</span><span id=__span-11-15>        <span class=k>return</span> <span class=bp>cls</span><span class=o>.</span><span class=n>number</span>
</span><span id=__span-11-16>
</span><span id=__span-11-17>    <span class=c1># 静态方法</span>
</span><span id=__span-11-18>    <span class=nd>@staticmethod</span>
</span><span id=__span-11-19>    <span class=k>def</span><span class=w> </span><span class=nf>print_info</span><span class=p>():</span>
</span><span id=__span-11-20>        <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;这是一个静态方法&quot;</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> <p>调用类方法时，同样可以使用类或者该类对象调用，但是不推荐使用类对象进行调用，一般情况下静态方法且该类不创建对象时可以使该类成为一个工具类，所以大部分情况下都是使用类名调用静态方法，例如下面的代码：</p> <div class="language-python highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Python</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-12-1><span class=n>Person</span><span class=o>.</span><span class=n>print_info</span><span class=p>()</span>
</span><span id=__span-12-2>
</span><span id=__span-12-3><span class=n>输出结果</span><span class=err>：</span>
</span><span id=__span-12-4><span class=n>这是一个静态方法</span>
</span></code></pre></div></td></tr></table></div> <h3 id=_5>封装性<a class=headerlink href=#_5 title="Permanent link">&para;</a></h3> <p>面向对象三大特性：封装、继承和多态，Python作为面向对象的编程语言，同样具有该三大特性，下面介绍Python中的封装性</p> <p>在Python中，虽然不像Java或C++那样严格地支持访问控制修饰符（如<code>public</code>, <code>private</code>, <code>protected</code>），但仍然可以通过一些约定来实现封装性，一般情况下使用下面的习惯：</p> <ol> <li>使用单下划线前缀<code>_</code>来表示该成员变量或方法是受保护的，但是这种方法依旧可以在类外访问，不会出现运行报错，但是不建议外部直接访问</li> <li>使用双下划线前缀<code>__</code>来表示该成员变量是私有的，这种方法会产生名称改写，在类外访问类中的某私有变量就会报错，这使得属性难以从类外部直接访问到</li> </ol> <p>例如下面的代码：</p> <div class="language-python highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Python</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-13-1><span class=k>class</span><span class=w> </span><span class=nc>Person</span><span class=p>:</span>
</span><span id=__span-13-2>    <span class=c1># 类属性</span>
</span><span id=__span-13-3>    <span class=n>number</span> <span class=o>=</span> <span class=mi>0</span>
</span><span id=__span-13-4>
</span><span id=__span-13-5>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span> <span class=o>=</span> <span class=s2>&quot;zhangsan&quot;</span><span class=p>,</span> <span class=n>age</span> <span class=o>=</span> <span class=mi>19</span><span class=p>,</span> <span class=n>money</span> <span class=o>=</span> <span class=mi>100</span><span class=p>):</span>
</span><span id=__span-13-6>        <span class=c1># 保护属性</span>
</span><span id=__span-13-7>        <span class=bp>self</span><span class=o>.</span><span class=n>_name</span> <span class=o>=</span> <span class=n>name</span>
</span><span id=__span-13-8>        <span class=bp>self</span><span class=o>.</span><span class=n>_age</span> <span class=o>=</span> <span class=n>age</span>
</span><span id=__span-13-9>        <span class=c1># 私有属性</span>
</span><span id=__span-13-10>        <span class=bp>self</span><span class=o>.</span><span class=n>__money</span> <span class=o>=</span> <span class=n>money</span>
</span><span id=__span-13-11>        <span class=c1># 创建一次对象，类属性number加1</span>
</span><span id=__span-13-12>        <span class=n>Person</span><span class=o>.</span><span class=n>number</span> <span class=o>+=</span> <span class=mi>1</span>
</span><span id=__span-13-13>
</span><span id=__span-13-14>    <span class=k>def</span><span class=w> </span><span class=nf>say_hello</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-13-15>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;Hello, my name is </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>_name</span><span class=si>}</span><span class=s1>, I am No.</span><span class=si>{</span><span class=n>Person</span><span class=o>.</span><span class=n>number</span><span class=si>}</span><span class=s1>&#39;</span><span class=p>)</span>
</span><span id=__span-13-16>
</span><span id=__span-13-17>    <span class=c1># 类方法</span>
</span><span id=__span-13-18>    <span class=nd>@classmethod</span>
</span><span id=__span-13-19>    <span class=k>def</span><span class=w> </span><span class=nf>get_number</span><span class=p>(</span><span class=bp>cls</span><span class=p>):</span>
</span><span id=__span-13-20>        <span class=k>return</span> <span class=bp>cls</span><span class=o>.</span><span class=n>number</span>
</span><span id=__span-13-21>
</span><span id=__span-13-22>    <span class=c1># 静态方法</span>
</span><span id=__span-13-23>    <span class=nd>@staticmethod</span>
</span><span id=__span-13-24>    <span class=k>def</span><span class=w> </span><span class=nf>print_info</span><span class=p>():</span>
</span><span id=__span-13-25>        <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;这是一个静态方法&quot;</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> <p>对于命名前有<code>_</code>的保护属性来说，访问时依旧不会受到限制，但是不推荐在类外直接访问保护属性，而对于命名前有<code>__</code>的私有属性来说，访问会报错<code>AttributeError</code>：</p> <div class="language-python highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Python</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-14-1><span class=n>person</span> <span class=o>=</span> <span class=n>Person</span><span class=p>()</span>
</span><span id=__span-14-2>
</span><span id=__span-14-3><span class=nb>print</span><span class=p>(</span><span class=n>person</span><span class=o>.</span><span class=n>_name</span><span class=p>)</span> <span class=c1># zhangsan</span>
</span><span id=__span-14-4><span class=nb>print</span><span class=p>(</span><span class=n>person</span><span class=o>.</span><span class=n>__money</span><span class=p>)</span> <span class=c1># AttributeError: &#39;Person&#39; object has no attribute &#39;__money&#39;</span>
</span></code></pre></div></td></tr></table></div> <p>之所以访问不到<code>__money</code>是因为Python对私有属性进行了名称改写，通过实例对象的<code>__dict__</code>属性可以查看到当前类对象所有的成员，如下：</p> <div class="language-python highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Python</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-15-1><span class=nb>print</span><span class=p>(</span><span class=n>person</span><span class=o>.</span><span class=vm>__dict__</span><span class=p>)</span>
</span><span id=__span-15-2>
</span><span id=__span-15-3><span class=n>输出结果</span><span class=err>：</span>
</span><span id=__span-15-4><span class=p>{</span><span class=s1>&#39;_name&#39;</span><span class=p>:</span> <span class=s1>&#39;zhangsan&#39;</span><span class=p>,</span> <span class=s1>&#39;_age&#39;</span><span class=p>:</span> <span class=mi>19</span><span class=p>,</span> <span class=s1>&#39;_Person__money&#39;</span><span class=p>:</span> <span class=mi>100</span><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>可以看到除了保护属性以外，私有属性被改写为了<code>_Person__money</code>，如果访问这个名称就可以访问到类中的私有属性（不推荐），例如下面的代码：</p> <div class="language-python highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Python</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-16-1><span class=nb>print</span><span class=p>(</span><span class=n>person</span><span class=o>.</span><span class=n>_Person__money</span><span class=p>)</span> <span class=c1># 100</span>
</span></code></pre></div></td></tr></table></div> <p>注意，因为类中<code>__money</code>被Python进行了名称改写，如果这种情况下直接对<code>__money</code>进行赋值相当于相当于向类中添加了一个变量<code>__money</code>，而不是访问其中的<code>__money</code>属性，这一点和JavaScript是一致的</p> <p>既然对变量进行了保护或者私有，那么根据封装性，除了私有成员还需要对外提供相应的获取和修改接口，这也就是<code>getter</code>和<code>setter</code>，所以上面的类可以修改为：</p> <div class="language-python highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Python</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-17-1><span class=k>class</span><span class=w> </span><span class=nc>Person</span><span class=p>:</span>
</span><span id=__span-17-2>    <span class=n>number</span> <span class=o>=</span> <span class=mi>0</span>
</span><span id=__span-17-3>
</span><span id=__span-17-4>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span> <span class=o>=</span> <span class=s2>&quot;zhangsan&quot;</span><span class=p>,</span> <span class=n>age</span> <span class=o>=</span> <span class=mi>19</span><span class=p>,</span> <span class=n>money</span> <span class=o>=</span> <span class=mi>100</span><span class=p>):</span>
</span><span id=__span-17-5>        <span class=c1># 保护属性</span>
</span><span id=__span-17-6>        <span class=bp>self</span><span class=o>.</span><span class=n>_name</span> <span class=o>=</span> <span class=n>name</span>
</span><span id=__span-17-7>        <span class=bp>self</span><span class=o>.</span><span class=n>_age</span> <span class=o>=</span> <span class=n>age</span>
</span><span id=__span-17-8>        <span class=c1># 私有属性</span>
</span><span id=__span-17-9>        <span class=bp>self</span><span class=o>.</span><span class=n>__money</span> <span class=o>=</span> <span class=n>money</span>
</span><span id=__span-17-10>        <span class=n>Person</span><span class=o>.</span><span class=n>number</span> <span class=o>+=</span> <span class=mi>1</span>
</span><span id=__span-17-11>
</span><span id=__span-17-12>    <span class=c1># getter方法</span>
</span><span id=__span-17-13>    <span class=k>def</span><span class=w> </span><span class=nf>get_name</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-17-14>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_name</span>
</span><span id=__span-17-15>    <span class=k>def</span><span class=w> </span><span class=nf>get_age</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-17-16>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_age</span>
</span><span id=__span-17-17>
</span><span id=__span-17-18>    <span class=c1># setter方法</span>
</span><span id=__span-17-19>    <span class=k>def</span><span class=w> </span><span class=nf>set_name</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>):</span>
</span><span id=__span-17-20>        <span class=bp>self</span><span class=o>.</span><span class=n>_name</span> <span class=o>=</span> <span class=n>name</span>
</span><span id=__span-17-21>    <span class=k>def</span><span class=w> </span><span class=nf>set_age</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>age</span><span class=p>):</span>
</span><span id=__span-17-22>        <span class=bp>self</span><span class=o>.</span><span class=n>_age</span> <span class=o>=</span> <span class=n>age</span>
</span><span id=__span-17-23>
</span><span id=__span-17-24>    <span class=k>def</span><span class=w> </span><span class=nf>say_hello</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-17-25>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;Hello, my name is </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>_name</span><span class=si>}</span><span class=s1>, I am No.</span><span class=si>{</span><span class=n>Person</span><span class=o>.</span><span class=n>number</span><span class=si>}</span><span class=s1>&#39;</span><span class=p>)</span>
</span><span id=__span-17-26>
</span><span id=__span-17-27>    <span class=nd>@classmethod</span>
</span><span id=__span-17-28>    <span class=k>def</span><span class=w> </span><span class=nf>get_number</span><span class=p>(</span><span class=bp>cls</span><span class=p>):</span>
</span><span id=__span-17-29>        <span class=k>return</span> <span class=bp>cls</span><span class=o>.</span><span class=n>number</span>
</span><span id=__span-17-30>
</span><span id=__span-17-31>    <span class=nd>@staticmethod</span>
</span><span id=__span-17-32>    <span class=k>def</span><span class=w> </span><span class=nf>print_info</span><span class=p>():</span>
</span><span id=__span-17-33>        <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;这是一个静态方法&quot;</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> <p>注意，有时可以看到一些变量<code>__变量名__</code>（不但前面有双下划线，后面也有双下划线），这种不是私有变量，而是特殊变量</p> <h3 id=_6>继承性<a class=headerlink href=#_6 title="Permanent link">&para;</a></h3> <p>在Python中，要表示一个类继承自另外一个类，可以在类名后使用<code>(父类)</code>表示当前类继承自括号中的父类，例如下面的代码：</p> <div class="language-python highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Python</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span>
<span class=normal>39</span>
<span class=normal>40</span>
<span class=normal>41</span>
<span class=normal>42</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-18-1><span class=c1># 父类</span>
</span><span id=__span-18-2><span class=k>class</span><span class=w> </span><span class=nc>Person</span><span class=p>:</span>
</span><span id=__span-18-3>    <span class=c1># 类属性</span>
</span><span id=__span-18-4>    <span class=n>number</span> <span class=o>=</span> <span class=mi>0</span>
</span><span id=__span-18-5>
</span><span id=__span-18-6>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span> <span class=o>=</span> <span class=s2>&quot;zhangsan&quot;</span><span class=p>,</span> <span class=n>age</span> <span class=o>=</span> <span class=mi>19</span><span class=p>,</span> <span class=n>money</span> <span class=o>=</span> <span class=mi>100</span><span class=p>):</span>
</span><span id=__span-18-7>        <span class=c1># 保护属性</span>
</span><span id=__span-18-8>        <span class=bp>self</span><span class=o>.</span><span class=n>_name</span> <span class=o>=</span> <span class=n>name</span>
</span><span id=__span-18-9>        <span class=bp>self</span><span class=o>.</span><span class=n>_age</span> <span class=o>=</span> <span class=n>age</span>
</span><span id=__span-18-10>        <span class=c1># 私有属性</span>
</span><span id=__span-18-11>        <span class=bp>self</span><span class=o>.</span><span class=n>__money</span> <span class=o>=</span> <span class=n>money</span>
</span><span id=__span-18-12>        <span class=c1># 创建一次对象，类属性number加1</span>
</span><span id=__span-18-13>        <span class=n>Person</span><span class=o>.</span><span class=n>number</span> <span class=o>+=</span> <span class=mi>1</span>
</span><span id=__span-18-14>
</span><span id=__span-18-15>    <span class=c1># getter方法</span>
</span><span id=__span-18-16>    <span class=k>def</span><span class=w> </span><span class=nf>get_name</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-18-17>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_name</span>
</span><span id=__span-18-18>    <span class=k>def</span><span class=w> </span><span class=nf>get_age</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-18-19>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_age</span>
</span><span id=__span-18-20>
</span><span id=__span-18-21>    <span class=c1># setter方法</span>
</span><span id=__span-18-22>    <span class=k>def</span><span class=w> </span><span class=nf>set_name</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>):</span>
</span><span id=__span-18-23>        <span class=bp>self</span><span class=o>.</span><span class=n>_name</span> <span class=o>=</span> <span class=n>name</span>
</span><span id=__span-18-24>    <span class=k>def</span><span class=w> </span><span class=nf>set_age</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>age</span><span class=p>):</span>
</span><span id=__span-18-25>        <span class=bp>self</span><span class=o>.</span><span class=n>_age</span> <span class=o>=</span> <span class=n>age</span>
</span><span id=__span-18-26>
</span><span id=__span-18-27>    <span class=k>def</span><span class=w> </span><span class=nf>say_hello</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-18-28>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;Hello, my name is </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>_name</span><span class=si>}</span><span class=s1>, I am No.</span><span class=si>{</span><span class=n>Person</span><span class=o>.</span><span class=n>number</span><span class=si>}</span><span class=s1>&#39;</span><span class=p>)</span>
</span><span id=__span-18-29>
</span><span id=__span-18-30>    <span class=c1># 类方法</span>
</span><span id=__span-18-31>    <span class=nd>@classmethod</span>
</span><span id=__span-18-32>    <span class=k>def</span><span class=w> </span><span class=nf>get_number</span><span class=p>(</span><span class=bp>cls</span><span class=p>):</span>
</span><span id=__span-18-33>        <span class=k>return</span> <span class=bp>cls</span><span class=o>.</span><span class=n>number</span>
</span><span id=__span-18-34>
</span><span id=__span-18-35>    <span class=c1># 静态方法</span>
</span><span id=__span-18-36>    <span class=nd>@staticmethod</span>
</span><span id=__span-18-37>    <span class=k>def</span><span class=w> </span><span class=nf>print_info</span><span class=p>():</span>
</span><span id=__span-18-38>        <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;这是一个静态方法&quot;</span><span class=p>)</span>
</span><span id=__span-18-39>
</span><span id=__span-18-40><span class=c1># 子类</span>
</span><span id=__span-18-41><span class=k>class</span><span class=w> </span><span class=nc>Teacher</span><span class=p>(</span><span class=n>Person</span><span class=p>):</span>
</span><span id=__span-18-42>    <span class=k>pass</span>
</span></code></pre></div></td></tr></table></div> <p>在上面的代码中，创建了一个Teacher对象并继承自Person类</p> <p>在Python中，默认情况下所有类继承自<code>object</code>，只是在继承自<code>object</code>类时可以省略不写，既然说<code>Teacher</code>类是<code>Person</code>类的子类，那么肯定有办法判断Teacher对象就是<code>Person</code>类的子类对象，这时就需要使用到<code>isinstance</code>函数：</p> <div class="language-python highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Python</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-19-1><span class=n>teacher</span> <span class=o>=</span> <span class=n>Teacher</span><span class=p>()</span>
</span><span id=__span-19-2><span class=nb>print</span><span class=p>(</span><span class=nb>isinstance</span><span class=p>(</span><span class=n>teacher</span><span class=p>,</span> <span class=n>Teacher</span><span class=p>))</span> <span class=c1># True</span>
</span><span id=__span-19-3><span class=nb>print</span><span class=p>(</span><span class=nb>isinstance</span><span class=p>(</span><span class=n>teacher</span><span class=p>,</span> <span class=n>Person</span><span class=p>))</span> <span class=c1># True</span>
</span></code></pre></div></td></tr></table></div> <p>可以看到，<code>teacher</code>类对象根据<code>isinstance</code>函数的返回值可以判断出，其既是<code>Teacher</code>类的本类对象，也是<code>Person</code>类的子类对象，所以二者都返回<code>True</code></p> <p>除了使用<code>isinstance</code>以外，还可以使用<code>issubclass()</code>函数来判断类是否是某个类的子类：</p> <div class="language-python highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Python</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-20-1><span class=nb>print</span><span class=p>(</span><span class=nb>issubclass</span><span class=p>(</span><span class=n>Teacher</span><span class=p>,</span> <span class=n>Person</span><span class=p>))</span> <span class=c1># True</span>
</span></code></pre></div></td></tr></table></div> <p>既然是继承，就代表子类对象可以访问父类中所有的方法和属性，Python中的继承也不例外，但是对于私有属性和保护属性来说，尽管子类拥有，但是同样不推荐直接访问</p> <p>除了拥有父类的属性和方法外，子类也可以定义自己的属性和方法或者重写父类的方法，如果子类需要访问父类的方法或者属性时，可以使用<code>super()</code>，例如下面的代码：</p> <div class="language-python highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Python</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-21-1><span class=k>class</span><span class=w> </span><span class=nc>Teacher</span><span class=p>(</span><span class=n>Person</span><span class=p>):</span>
</span><span id=__span-21-2>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span> <span class=o>=</span> <span class=s2>&quot;zhangsan&quot;</span><span class=p>,</span> <span class=n>age</span> <span class=o>=</span> <span class=mi>19</span><span class=p>,</span> <span class=n>money</span> <span class=o>=</span> <span class=mi>100</span><span class=p>,</span> <span class=n>salary</span> <span class=o>=</span> <span class=mi>2000</span><span class=p>):</span>
</span><span id=__span-21-3>        <span class=c1># 调用父类的构造方法，初始化父类的属性</span>
</span><span id=__span-21-4>        <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=n>name</span><span class=p>,</span> <span class=n>age</span><span class=p>,</span> <span class=n>money</span><span class=p>)</span>
</span><span id=__span-21-5>        <span class=c1># 初始化子类的属性</span>
</span><span id=__span-21-6>        <span class=bp>self</span><span class=o>.</span><span class=n>_salary</span> <span class=o>=</span> <span class=n>salary</span>
</span><span id=__span-21-7>
</span><span id=__span-21-8>    <span class=c1># 重写父类的方法</span>
</span><span id=__span-21-9>    <span class=k>def</span><span class=w> </span><span class=nf>say_hello</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-21-10>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;Hello, my name is </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>_name</span><span class=si>}</span><span class=s1>, I am No.</span><span class=si>{</span><span class=n>Person</span><span class=o>.</span><span class=n>number</span><span class=si>}</span><span class=s1>, I am a teacher&#39;</span><span class=p>)</span>
</span><span id=__span-21-11>
</span><span id=__span-21-12>    <span class=c1># 子类的方法</span>
</span><span id=__span-21-13>    <span class=k>def</span><span class=w> </span><span class=nf>teach</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-21-14>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>_name</span><span class=si>}</span><span class=s1> is teaching&#39;</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> <h3 id=_7>多态性<a class=headerlink href=#_7 title="Permanent link">&para;</a></h3> <p>有了继承，就可以考虑实现多态，实现多态的前提条件如下：</p> <ol> <li>当前类继承另外一个类</li> <li>重写父类的方法</li> <li>父类引用指向子类对象</li> </ol> <p>但是，由于Python中没有变量类型限制，所以多态性更多还是体现在传递参数上，例如下面的代码：</p> <div class="language-python highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Python</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-22-1><span class=k>class</span><span class=w> </span><span class=nc>Dog</span><span class=p>:</span>
</span><span id=__span-22-2>    <span class=k>pass</span>
</span><span id=__span-22-3>
</span><span id=__span-22-4><span class=c1># 多态性</span>
</span><span id=__span-22-5><span class=k>def</span><span class=w> </span><span class=nf>who_am_i</span><span class=p>(</span><span class=n>person</span><span class=p>):</span>
</span><span id=__span-22-6>    <span class=n>person</span><span class=o>.</span><span class=n>say_hello</span><span class=p>()</span>
</span><span id=__span-22-7>
</span><span id=__span-22-8><span class=c1># 本类</span>
</span><span id=__span-22-9><span class=n>person</span> <span class=o>=</span> <span class=n>Person</span><span class=p>()</span>
</span><span id=__span-22-10><span class=c1># 子类</span>
</span><span id=__span-22-11><span class=n>teacher</span> <span class=o>=</span> <span class=n>Teacher</span><span class=p>()</span>
</span><span id=__span-22-12><span class=c1># 其他类</span>
</span><span id=__span-22-13><span class=n>dog</span> <span class=o>=</span> <span class=n>Dog</span><span class=p>()</span>
</span><span id=__span-22-14>
</span><span id=__span-22-15><span class=n>who_am_i</span><span class=p>(</span><span class=n>person</span><span class=p>)</span> <span class=c1># Hello, my name is zhangsan, I am No.2</span>
</span><span id=__span-22-16><span class=n>who_am_i</span><span class=p>(</span><span class=n>teacher</span><span class=p>)</span> <span class=c1># Hello, my name is zhangsan, I am No.2, I am a teacher</span>
</span><span id=__span-22-17><span class=n>who_am_i</span><span class=p>(</span><span class=n>dog</span><span class=p>)</span> <span class=c1># AttributeError: &#39;Dog&#39; object has no attribute &#39;say_hello&#39;</span>
</span></code></pre></div></td></tr></table></div> <p>如果<code>Dog</code>类中存在<code>say_hello()</code>方法，那么尽管函数中的<code>person.say_hello()</code>可以被调用，但是此时并不是多态，为了保证是多态，可以将函数改成：</p> <div class="language-python highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Python</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-23-1><span class=k>def</span><span class=w> </span><span class=nf>who_am_i</span><span class=p>(</span><span class=n>person</span><span class=p>):</span>
</span><span id=__span-23-2>    <span class=k>if</span><span class=p>(</span><span class=nb>isinstance</span><span class=p>(</span><span class=n>person</span><span class=p>,</span> <span class=n>Person</span><span class=p>)):</span>
</span><span id=__span-23-3>        <span class=n>person</span><span class=o>.</span><span class=n>say_hello</span><span class=p>()</span>
</span><span id=__span-23-4>    <span class=k>else</span><span class=p>:</span>
</span><span id=__span-23-5>        <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;不是Person类的对象或者子类的对象&quot;</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> <p>此时再执行上面的代码，结果就会不一样：</p> <div class="language-python highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Python</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-24-1><span class=c1># 本类</span>
</span><span id=__span-24-2><span class=n>person</span> <span class=o>=</span> <span class=n>Person</span><span class=p>()</span>
</span><span id=__span-24-3><span class=c1># 子类</span>
</span><span id=__span-24-4><span class=n>teacher</span> <span class=o>=</span> <span class=n>Teacher</span><span class=p>()</span>
</span><span id=__span-24-5><span class=c1># 其他类</span>
</span><span id=__span-24-6><span class=n>dog</span> <span class=o>=</span> <span class=n>Dog</span><span class=p>()</span>
</span><span id=__span-24-7>
</span><span id=__span-24-8><span class=n>who_am_i</span><span class=p>(</span><span class=n>person</span><span class=p>)</span>
</span><span id=__span-24-9><span class=n>who_am_i</span><span class=p>(</span><span class=n>teacher</span><span class=p>)</span>
</span><span id=__span-24-10><span class=n>who_am_i</span><span class=p>(</span><span class=n>dog</span><span class=p>)</span>
</span><span id=__span-24-11>
</span><span id=__span-24-12><span class=n>输出结果</span><span class=err>：</span>
</span><span id=__span-24-13><span class=n>Hello</span><span class=p>,</span> <span class=n>my</span> <span class=n>name</span> <span class=ow>is</span> <span class=n>zhangsan</span><span class=p>,</span> <span class=n>I</span> <span class=n>am</span> <span class=n>No</span><span class=mf>.2</span>
</span><span id=__span-24-14><span class=n>Hello</span><span class=p>,</span> <span class=n>my</span> <span class=n>name</span> <span class=ow>is</span> <span class=n>zhangsan</span><span class=p>,</span> <span class=n>I</span> <span class=n>am</span> <span class=n>No</span><span class=mf>.2</span><span class=p>,</span> <span class=n>I</span> <span class=n>am</span> <span class=n>a</span> <span class=n>teacher</span>
</span><span id=__span-24-15><span class=n>不是Person类的对象或者子类的对象</span>
</span></code></pre></div></td></tr></table></div> <h3 id=_8>迭代器<a class=headerlink href=#_8 title="Permanent link">&para;</a></h3> <p>前面多次提到可迭代对象，也对可迭代对象作了介绍，但是可能还是不清楚为什么可以实现<code>for</code>循环的那种遍历方式，实际上这就是因为迭代器的存在。回顾一下前面使用<code>for</code>循环遍历可迭代对象：</p> <div class="language-python highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Python</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-25-1><span class=k>for</span> <span class=n>element</span> <span class=ow>in</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>]:</span>
</span><span id=__span-25-2>    <span class=nb>print</span><span class=p>(</span><span class=n>element</span><span class=p>)</span>
</span><span id=__span-25-3><span class=k>for</span> <span class=n>element</span> <span class=ow>in</span> <span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>):</span>
</span><span id=__span-25-4>    <span class=nb>print</span><span class=p>(</span><span class=n>element</span><span class=p>)</span>
</span><span id=__span-25-5><span class=k>for</span> <span class=n>key</span> <span class=ow>in</span> <span class=p>{</span><span class=s1>&#39;one&#39;</span><span class=p>:</span><span class=mi>1</span><span class=p>,</span> <span class=s1>&#39;two&#39;</span><span class=p>:</span><span class=mi>2</span><span class=p>}:</span>
</span><span id=__span-25-6>    <span class=nb>print</span><span class=p>(</span><span class=n>key</span><span class=p>)</span>
</span><span id=__span-25-7><span class=k>for</span> <span class=n>char</span> <span class=ow>in</span> <span class=s2>&quot;123&quot;</span><span class=p>:</span>
</span><span id=__span-25-8>    <span class=nb>print</span><span class=p>(</span><span class=n>char</span><span class=p>)</span>
</span><span id=__span-25-9><span class=k>for</span> <span class=n>line</span> <span class=ow>in</span> <span class=nb>open</span><span class=p>(</span><span class=s2>&quot;myfile.txt&quot;</span><span class=p>):</span>
</span><span id=__span-25-10>    <span class=nb>print</span><span class=p>(</span><span class=n>line</span><span class=p>,</span> <span class=n>end</span><span class=o>=</span><span class=s1>&#39;&#39;</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> <p>在Python中，这种<code>for</code>的底层就是调用<code>iter()</code>函数，这个方法返回一个定义了<code>__next__()</code>方法的迭代器对象，这个方法将逐一访问容器中的元素，当遍历完最后一个元素时，<code>__next__()</code>将引发<code>StopIteration</code>异常来通知终止<code>for</code>循环</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>所谓可迭代对象就是实现了<code>__iter__()</code>魔法方法的对象，当调用<code>iter()</code>函数时，会转向调用对象的<code>__iter__()</code>方法，如果对象没有实现该方法会报错为<code>'type' object is not iterable</code>，如果对象实现了<code>__getitem__()</code>方法，Python会尝试创建一个迭代器来按索引访问元素</p> </div> <p>在Python中，可以通过<code>next()</code>内置函数，让该函数调用<code>__next__()</code>方法来了解其运作过程：</p> <div class="language-python highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Python</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-26-1><span class=n>li</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=mi>4</span><span class=p>,</span><span class=mi>5</span><span class=p>]</span>
</span><span id=__span-26-2><span class=n>it</span> <span class=o>=</span> <span class=nb>iter</span><span class=p>(</span><span class=n>li</span><span class=p>)</span>
</span><span id=__span-26-3><span class=nb>print</span><span class=p>(</span><span class=nb>next</span><span class=p>(</span><span class=n>it</span><span class=p>))</span> <span class=c1># 1</span>
</span><span id=__span-26-4><span class=nb>print</span><span class=p>(</span><span class=nb>next</span><span class=p>(</span><span class=n>it</span><span class=p>))</span> <span class=c1># 2</span>
</span><span id=__span-26-5><span class=nb>print</span><span class=p>(</span><span class=nb>next</span><span class=p>(</span><span class=n>it</span><span class=p>))</span> <span class=c1># 3</span>
</span><span id=__span-26-6><span class=nb>print</span><span class=p>(</span><span class=nb>next</span><span class=p>(</span><span class=n>it</span><span class=p>))</span> <span class=c1># 4</span>
</span><span id=__span-26-7><span class=nb>print</span><span class=p>(</span><span class=nb>next</span><span class=p>(</span><span class=n>it</span><span class=p>))</span> <span class=c1># 5</span>
</span><span id=__span-26-8><span class=k>try</span><span class=p>:</span>
</span><span id=__span-26-9>    <span class=nb>print</span><span class=p>(</span><span class=nb>next</span><span class=p>(</span><span class=n>it</span><span class=p>))</span> <span class=c1># StopIteration</span>
</span><span id=__span-26-10><span class=k>except</span> <span class=ne>StopIteration</span><span class=p>:</span>
</span><span id=__span-26-11>    <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;迭代结束&quot;</span><span class=p>)</span>
</span><span id=__span-26-12>
</span><span id=__span-26-13><span class=n>输出结果</span><span class=err>：</span>
</span><span id=__span-26-14><span class=mi>1</span>
</span><span id=__span-26-15><span class=mi>2</span>
</span><span id=__span-26-16><span class=mi>3</span>
</span><span id=__span-26-17><span class=mi>4</span>
</span><span id=__span-26-18><span class=mi>5</span>
</span><span id=__span-26-19><span class=n>迭代结束</span>
</span></code></pre></div></td></tr></table></div> <p>而使用<code>for</code>循环直接遍历可迭代对象就可以模拟为：</p> <div class="language-python highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Python</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-27-1><span class=n>err</span> <span class=o>=</span> <span class=mi>1</span>
</span><span id=__span-27-2><span class=k>while</span><span class=p>(</span><span class=n>err</span><span class=p>):</span>
</span><span id=__span-27-3>    <span class=k>try</span><span class=p>:</span>
</span><span id=__span-27-4>        <span class=nb>print</span><span class=p>(</span><span class=nb>next</span><span class=p>(</span><span class=n>it</span><span class=p>))</span>
</span><span id=__span-27-5>    <span class=k>except</span> <span class=ne>StopIteration</span><span class=p>:</span>
</span><span id=__span-27-6>        <span class=n>err</span> <span class=o>=</span> <span class=mi>0</span>
</span><span id=__span-27-7>
</span><span id=__span-27-8><span class=n>输出结果</span><span class=err>：</span>
</span><span id=__span-27-9><span class=mi>1</span>
</span><span id=__span-27-10><span class=mi>2</span>
</span><span id=__span-27-11><span class=mi>3</span>
</span><span id=__span-27-12><span class=mi>4</span>
</span><span id=__span-27-13><span class=mi>5</span>
</span></code></pre></div></td></tr></table></div> <p>接下来，为了更细致的了解<code>__iter__()</code>方法和<code>__next__()</code>方法分别在做什么，就需要看看官方是如何对他们进行定义的：</p> <div class="admonition info"> <p class=admonition-title><strong><code>__iter__()</code></strong></p> <p>返回<code>iterator</code>对象本身。这是同时允许容器和迭代器配合<code>for</code>和<code>in</code>语句使用所必须的</p> </div> <div class="admonition info"> <p class=admonition-title><strong><code>__next__()</code></strong></p> <p><code>iterator</code>中返回下一项。 如果已经没有可返回的项，则会引发<code>StopIteration</code>异常</p> </div> <p>从上面的概念可以得知，<code>__iter__()</code>方法本质就是返回迭代器对象本身，也就是说，如果当前类是个迭代器类，那么就直接返回<code>self</code>即可，而对于<code>__next__()</code>方法来说，因为其返回的是<code>iterator</code>的下一项，也就是说获取到下一个内容</p> <p>根据上面的概念，下面实现一个链表来详细描述这两个方法：</p> <div class="language-python highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Python</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span>
<span class=normal>39</span>
<span class=normal>40</span>
<span class=normal>41</span>
<span class=normal>42</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-28-1><span class=c1># 单链表头结点</span>
</span><span id=__span-28-2><span class=k>class</span><span class=w> </span><span class=nc>LinkedListNode</span><span class=p>:</span>
</span><span id=__span-28-3>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>val</span><span class=p>):</span>
</span><span id=__span-28-4>        <span class=bp>self</span><span class=o>.</span><span class=n>val</span> <span class=o>=</span> <span class=n>val</span>
</span><span id=__span-28-5>        <span class=bp>self</span><span class=o>.</span><span class=n>next</span> <span class=o>=</span> <span class=kc>None</span>
</span><span id=__span-28-6>
</span><span id=__span-28-7><span class=c1># 单链表迭代器</span>
</span><span id=__span-28-8><span class=k>class</span><span class=w> </span><span class=nc>LinkedListNodeIterable</span><span class=p>:</span>
</span><span id=__span-28-9>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>node</span><span class=p>):</span>
</span><span id=__span-28-10>        <span class=bp>self</span><span class=o>.</span><span class=n>_node</span> <span class=o>=</span> <span class=n>node</span>
</span><span id=__span-28-11>
</span><span id=__span-28-12>    <span class=k>def</span><span class=w> </span><span class=fm>__next__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-28-13>        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_node</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-28-14>            <span class=k>raise</span> <span class=ne>StopIteration</span>
</span><span id=__span-28-15>        <span class=n>cur</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_node</span>
</span><span id=__span-28-16>        <span class=bp>self</span><span class=o>.</span><span class=n>_node</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_node</span><span class=o>.</span><span class=n>next</span>
</span><span id=__span-28-17>        <span class=k>return</span> <span class=n>cur</span>
</span><span id=__span-28-18>
</span><span id=__span-28-19><span class=c1># 单链表</span>
</span><span id=__span-28-20><span class=k>class</span><span class=w> </span><span class=nc>LinkedList</span><span class=p>:</span>
</span><span id=__span-28-21>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>head</span><span class=p>:</span><span class=n>LinkedListNode</span> <span class=o>=</span> <span class=kc>None</span><span class=p>):</span>
</span><span id=__span-28-22>        <span class=bp>self</span><span class=o>.</span><span class=n>_head</span> <span class=o>=</span> <span class=n>head</span>
</span><span id=__span-28-23>
</span><span id=__span-28-24>    <span class=c1># 插入元素</span>
</span><span id=__span-28-25>    <span class=k>def</span><span class=w> </span><span class=nf>push_back</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>val</span><span class=p>):</span>
</span><span id=__span-28-26>        <span class=c1># 创建新节点</span>
</span><span id=__span-28-27>        <span class=n>new_node</span> <span class=o>=</span> <span class=n>LinkedListNode</span><span class=p>(</span><span class=n>val</span><span class=p>)</span>
</span><span id=__span-28-28>        <span class=c1># 如果头结点的下一个位置为空，链接到头结点的后方</span>
</span><span id=__span-28-29>        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_head</span><span class=o>.</span><span class=n>next</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-28-30>            <span class=bp>self</span><span class=o>.</span><span class=n>_head</span><span class=o>.</span><span class=n>next</span> <span class=o>=</span> <span class=n>new_node</span>
</span><span id=__span-28-31>            <span class=k>return</span> <span class=kc>None</span>
</span><span id=__span-28-32>
</span><span id=__span-28-33>        <span class=c1># 如果不为空，则链接到最后一个节点的下一个位置</span>
</span><span id=__span-28-34>        <span class=n>cur</span><span class=p>:</span><span class=n>LinkedListNode</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_head</span><span class=o>.</span><span class=n>next</span>
</span><span id=__span-28-35>        <span class=k>while</span> <span class=n>cur</span><span class=o>.</span><span class=n>next</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-28-36>            <span class=n>cur</span> <span class=o>=</span> <span class=n>cur</span><span class=o>.</span><span class=n>next</span>
</span><span id=__span-28-37>        <span class=c1># 尾部插入新节点</span>
</span><span id=__span-28-38>        <span class=n>cur</span><span class=o>.</span><span class=n>next</span> <span class=o>=</span> <span class=n>new_node</span>
</span><span id=__span-28-39>
</span><span id=__span-28-40>    <span class=c1># 创建迭代器对象</span>
</span><span id=__span-28-41>    <span class=k>def</span><span class=w> </span><span class=fm>__iter__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-28-42>        <span class=k>return</span> <span class=n>LinkedListNodeIterable</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_head</span><span class=o>.</span><span class=n>next</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> <p>重点看上面代码中涉及到迭代器的部分：</p> <div class="language-python highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Python</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-29-1><span class=c1># 单链表迭代器类</span>
</span><span id=__span-29-2><span class=k>class</span><span class=w> </span><span class=nc>LinkedListNodeIterable</span><span class=p>:</span>
</span><span id=__span-29-3>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>node</span><span class=p>):</span>
</span><span id=__span-29-4>        <span class=bp>self</span><span class=o>.</span><span class=n>_node</span> <span class=o>=</span> <span class=n>node</span>
</span><span id=__span-29-5>
</span><span id=__span-29-6>    <span class=k>def</span><span class=w> </span><span class=fm>__next__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-29-7>        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_node</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-29-8>            <span class=k>raise</span> <span class=ne>StopIteration</span>
</span><span id=__span-29-9>        <span class=n>cur</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_node</span>
</span><span id=__span-29-10>        <span class=bp>self</span><span class=o>.</span><span class=n>_node</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_node</span><span class=o>.</span><span class=n>next</span>
</span><span id=__span-29-11>        <span class=k>return</span> <span class=n>cur</span>
</span><span id=__span-29-12>
</span><span id=__span-29-13><span class=c1># 单链表类</span>
</span><span id=__span-29-14><span class=k>class</span><span class=w> </span><span class=nc>LinkedList</span><span class=p>:</span>
</span><span id=__span-29-15>    <span class=o>...</span>
</span><span id=__span-29-16>
</span><span id=__span-29-17>    <span class=c1># 创建迭代器对象</span>
</span><span id=__span-29-18>    <span class=k>def</span><span class=w> </span><span class=fm>__iter__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-29-19>        <span class=k>return</span> <span class=n>LinkedListNodeIterable</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_head</span><span class=o>.</span><span class=n>next</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> <p>在单链表中，实现了<code>__iter__()</code>方法，将头结点的下一个节点作为第一个节点创建单链表迭代器对象，因为最后遍历的是单链表，所以单链表类一定要实现<code>__iter__()</code>方法，接着进入单链表迭代器类中，因为需要一个节点记录下一次需要走向的位置，所以在<code>__init__()</code>方法中传入了一个参数<code>node</code>，接着要使单链表能够正常向后遍历，就需要使用到<code>__next__()</code>方法用于获取到下一个节点，使用<code>cur</code>变量记录当前节点并作为返回值，返回之前更新<code>node</code>到下一个节点的位置，如果<code>node</code>变量变为<code>None</code>，说明走到了链表结尾，此时就触发<code>StopIteration</code>异常即可</p> <p>上面的代码在下面的测试用例下是没有问题的：</p> <div class="language-python highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Python</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-30-1><span class=n>head</span> <span class=o>=</span> <span class=n>LinkedListNode</span><span class=p>(</span><span class=mi>0</span><span class=p>)</span>
</span><span id=__span-30-2><span class=n>linked_list</span> <span class=o>=</span> <span class=n>LinkedList</span><span class=p>(</span><span class=n>head</span><span class=p>)</span>
</span><span id=__span-30-3><span class=n>linked_list</span><span class=o>.</span><span class=n>push_back</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
</span><span id=__span-30-4><span class=n>linked_list</span><span class=o>.</span><span class=n>push_back</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span>
</span><span id=__span-30-5><span class=n>linked_list</span><span class=o>.</span><span class=n>push_back</span><span class=p>(</span><span class=mi>3</span><span class=p>)</span>
</span><span id=__span-30-6><span class=n>linked_list</span><span class=o>.</span><span class=n>push_back</span><span class=p>(</span><span class=mi>4</span><span class=p>)</span>
</span><span id=__span-30-7>
</span><span id=__span-30-8><span class=k>for</span> <span class=n>node</span> <span class=ow>in</span> <span class=n>linked_list</span><span class=p>:</span>
</span><span id=__span-30-9>    <span class=nb>print</span><span class=p>(</span><span class=n>node</span><span class=o>.</span><span class=n>val</span><span class=p>)</span>
</span><span id=__span-30-10>
</span><span id=__span-30-11><span class=n>输出结果</span><span class=err>：</span>
</span><span id=__span-30-12><span class=mi>1</span>
</span><span id=__span-30-13><span class=mi>2</span>
</span><span id=__span-30-14><span class=mi>3</span>
</span><span id=__span-30-15><span class=mi>4</span>
</span></code></pre></div></td></tr></table></div> <p>但是如果使用下面的测试用例，就会出现报错：</p> <div class="language-python highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Python</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-31-1><span class=n>head</span> <span class=o>=</span> <span class=n>LinkedListNode</span><span class=p>(</span><span class=mi>0</span><span class=p>)</span>
</span><span id=__span-31-2><span class=n>linked_list</span> <span class=o>=</span> <span class=n>LinkedList</span><span class=p>(</span><span class=n>head</span><span class=p>)</span>
</span><span id=__span-31-3><span class=n>linked_list</span><span class=o>.</span><span class=n>push_back</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
</span><span id=__span-31-4><span class=n>linked_list</span><span class=o>.</span><span class=n>push_back</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span>
</span><span id=__span-31-5><span class=n>linked_list</span><span class=o>.</span><span class=n>push_back</span><span class=p>(</span><span class=mi>3</span><span class=p>)</span>
</span><span id=__span-31-6><span class=n>linked_list</span><span class=o>.</span><span class=n>push_back</span><span class=p>(</span><span class=mi>4</span><span class=p>)</span>
</span><span id=__span-31-7><span class=c1># 创建迭代器对象</span>
</span><span id=__span-31-8><span class=n>lni</span> <span class=o>=</span> <span class=n>LinkedListNodeIterable</span><span class=p>(</span><span class=n>head</span><span class=o>.</span><span class=n>next</span><span class=p>)</span>
</span><span id=__span-31-9><span class=n>it</span> <span class=o>=</span> <span class=nb>iter</span><span class=p>(</span><span class=n>lni</span><span class=p>)</span>
</span><span id=__span-31-10><span class=k>for</span> <span class=n>node</span> <span class=ow>in</span> <span class=n>it</span><span class=p>:</span>
</span><span id=__span-31-11>    <span class=nb>print</span><span class=p>(</span><span class=n>node</span><span class=o>.</span><span class=n>val</span><span class=p>)</span>
</span><span id=__span-31-12>
</span><span id=__span-31-13><span class=n>输出结果</span><span class=err>：</span>
</span><span id=__span-31-14><span class=ne>TypeError</span><span class=p>:</span> <span class=s1>&#39;LinkedListNodeIterable&#39;</span> <span class=nb>object</span> <span class=ow>is</span> <span class=ow>not</span> <span class=n>iterable</span>
</span></code></pre></div></td></tr></table></div> <p>可以看到，提示<code>LinkedListNodeIterable</code>并不是一个可迭代对象，原因就是<code>LinkedListNodeIterable</code>没有实现<code>__iter__()</code>方法，而因为<code>LinkedListNodeIterable</code>本身就是迭代器类，所以对于<code>__iter__()</code>方法来说直接返回当前类对象<code>self</code>即可，即：</p> <div class="language-python highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Python</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span>
<span class=normal>7</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-32-1><span class=k>class</span><span class=w> </span><span class=nc>LinkedListNodeIterable</span><span class=p>:</span>
</span><span id=__span-32-2>    <span class=o>...</span>
</span><span id=__span-32-3>
</span><span id=__span-32-4>    <span class=k>def</span><span class=w> </span><span class=fm>__iter__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-32-5>        <span class=k>return</span> <span class=bp>self</span>
</span><span id=__span-32-6>
</span><span id=__span-32-7>    <span class=o>...</span>
</span></code></pre></div></td></tr></table></div> <p>再次测试即可得到正常遍历结果，此处不再演示</p> <p>通过上面的例子，可以说明如果一个类想要是可迭代对象，就必须实现<code>__init__()</code>方法，而为了可以获取到下一个元素，就需要实现<code>__next__()</code>方法，至于这个方法是否需要实现到一个单独的迭代器类中就完全取决于每个人的习惯</p> <h3 id=_9>生成器<a class=headerlink href=#_9 title="Permanent link">&para;</a></h3> <p>前面在设计迭代器时，既需要实现<code>__iter__()</code>方法，也需要实现<code>__next__()</code>方法，为了简化这个过程，可以使用生成器辅助创建迭代器</p> <p>Python中的生成器是一种特殊的迭代器，它允许程序员声明一个函数，该函数可以保存其状态并在多次调用之间保持这个状态。生成器是通过使用<code>yield</code>语句来实现的，而不是传统的<code>return</code>语句，即在一个函数体内使用<code>yield</code>表达式会使这个函数变成一个生成器函数</p> <p>例如下面的代码：</p> <div class="language-python highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Python</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-33-1><span class=k>def</span><span class=w> </span><span class=nf>simple_generator</span><span class=p>():</span>
</span><span id=__span-33-2>    <span class=k>yield</span> <span class=mi>1</span>
</span><span id=__span-33-3>    <span class=k>yield</span> <span class=mi>2</span>
</span><span id=__span-33-4>    <span class=k>yield</span> <span class=mi>3</span>
</span><span id=__span-33-5>
</span><span id=__span-33-6><span class=c1># 使用生成器</span>
</span><span id=__span-33-7><span class=n>gen</span> <span class=o>=</span> <span class=n>simple_generator</span><span class=p>()</span>
</span><span id=__span-33-8><span class=nb>print</span><span class=p>(</span><span class=nb>next</span><span class=p>(</span><span class=n>gen</span><span class=p>))</span>  <span class=c1># 输出 1</span>
</span><span id=__span-33-9><span class=nb>print</span><span class=p>(</span><span class=nb>next</span><span class=p>(</span><span class=n>gen</span><span class=p>))</span>  <span class=c1># 输出 2</span>
</span><span id=__span-33-10><span class=nb>print</span><span class=p>(</span><span class=nb>next</span><span class=p>(</span><span class=n>gen</span><span class=p>))</span>  <span class=c1># 输出 3</span>
</span><span id=__span-33-11><span class=c1># print(next(gen))  # 这里会抛出 StopIteration 异常</span>
</span></code></pre></div></td></tr></table></div> <p>在这个例子中，<code>simple_generator</code>函数是一个生成器函数，每次调用<code>next()</code>都会从上次离开的地方继续执行，直到没有更多的<code>yield</code>语句为止</p> <p>现在考虑使用生成器简化前面的链表迭代器的实现：</p> <div class="language-python highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Python</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-34-1><span class=c1># 单链表头结点</span>
</span><span id=__span-34-2><span class=k>class</span><span class=w> </span><span class=nc>LinkedListNode</span><span class=p>:</span>
</span><span id=__span-34-3>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>val</span><span class=p>):</span>
</span><span id=__span-34-4>        <span class=bp>self</span><span class=o>.</span><span class=n>val</span> <span class=o>=</span> <span class=n>val</span>
</span><span id=__span-34-5>        <span class=bp>self</span><span class=o>.</span><span class=n>next</span> <span class=o>=</span> <span class=kc>None</span>
</span><span id=__span-34-6>
</span><span id=__span-34-7><span class=c1># 单链表</span>
</span><span id=__span-34-8><span class=k>class</span><span class=w> </span><span class=nc>LinkedList</span><span class=p>:</span>
</span><span id=__span-34-9>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>head</span><span class=p>:</span><span class=n>LinkedListNode</span> <span class=o>=</span> <span class=kc>None</span><span class=p>):</span>
</span><span id=__span-34-10>        <span class=bp>self</span><span class=o>.</span><span class=n>_head</span> <span class=o>=</span> <span class=n>head</span>
</span><span id=__span-34-11>
</span><span id=__span-34-12>    <span class=c1># 插入元素</span>
</span><span id=__span-34-13>    <span class=k>def</span><span class=w> </span><span class=nf>push_back</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>val</span><span class=p>):</span>
</span><span id=__span-34-14>        <span class=c1># 创建新节点</span>
</span><span id=__span-34-15>        <span class=n>new_node</span> <span class=o>=</span> <span class=n>LinkedListNode</span><span class=p>(</span><span class=n>val</span><span class=p>)</span>
</span><span id=__span-34-16>        <span class=c1># 如果头结点的下一个位置为空，链接到头结点的后方</span>
</span><span id=__span-34-17>        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_head</span><span class=o>.</span><span class=n>next</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-34-18>            <span class=bp>self</span><span class=o>.</span><span class=n>_head</span><span class=o>.</span><span class=n>next</span> <span class=o>=</span> <span class=n>new_node</span>
</span><span id=__span-34-19>            <span class=k>return</span> <span class=kc>None</span>
</span><span id=__span-34-20>
</span><span id=__span-34-21>        <span class=c1># 如果不为空，则链接到最后一个节点的下一个位置</span>
</span><span id=__span-34-22>        <span class=n>cur</span><span class=p>:</span><span class=n>LinkedListNode</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_head</span><span class=o>.</span><span class=n>next</span>
</span><span id=__span-34-23>        <span class=k>while</span> <span class=n>cur</span><span class=o>.</span><span class=n>next</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-34-24>            <span class=n>cur</span> <span class=o>=</span> <span class=n>cur</span><span class=o>.</span><span class=n>next</span>
</span><span id=__span-34-25>        <span class=c1># 尾部插入新节点</span>
</span><span id=__span-34-26>        <span class=n>cur</span><span class=o>.</span><span class=n>next</span> <span class=o>=</span> <span class=n>new_node</span>
</span><span id=__span-34-27>
</span><span id=__span-34-28>    <span class=c1># 创建迭代器对象</span>
</span><span id=__span-34-29>    <span class=c1># def __iter__(self):</span>
</span><span id=__span-34-30>    <span class=c1>#     return LinkedListNodeIterable(self._head.next)</span>
</span><span id=__span-34-31>
</span><span id=__span-34-32>    <span class=c1># 生成器函数</span>
</span><span id=__span-34-33>    <span class=k>def</span><span class=w> </span><span class=nf>genertor</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-34-34>        <span class=n>cur</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_head</span><span class=o>.</span><span class=n>next</span>
</span><span id=__span-34-35>        <span class=k>while</span> <span class=n>cur</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-34-36>            <span class=k>yield</span> <span class=n>cur</span>
</span><span id=__span-34-37>            <span class=n>cur</span> <span class=o>=</span> <span class=n>cur</span><span class=o>.</span><span class=n>next</span>
</span></code></pre></div></td></tr></table></div> <p>有了生成器函数<code>generator</code>就只需要用类对象调用这个生成器函数就可以创建一个可迭代对象，执行步骤如下：</p> <ol> <li>初始化：方法开始时，<code>cur</code>被设置为<code>_head.next</code>，即链表的第一个实际节点</li> <li>循环遍历：通过<code>while cur is not None:</code>循环，从第一个实际节点开始遍历整个链表</li> <li><code>yield</code>语句：每当遇到<code>yield cur</code>时，当前的<code>cur</code>节点被返回给调用者，并且生成器函数会暂停执行。这意味着每次调用<code>next()</code>或在<code>for</code>循环中迭代时都会得到下一个节点</li> <li>状态保存：生成器在每次<code>yield</code>后会保存其内部状态，包括<code>cur</code>变量的值。当下一次需要继续迭代时，它将从上次暂停的地方继续执行</li> <li>移动到下一个节点：在<code>yield</code>之后，<code>cur = cur.next</code>将指针移到下一个节点，准备下一次迭代</li> </ol> <aside class=md-source-file> <span class=md-source-file__fact> <span class=md-icon title=最后更新> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">2024年11月30日</span> </span> </aside> <form class=md-feedback name=feedback hidden> <fieldset> <legend class=md-feedback__title> 页面有帮助吗？ </legend> <div class=md-feedback__inner> <div class=md-feedback__list> <button class="md-feedback__icon md-icon" type=submit title=页面对我有帮助 data-md-value=1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M5 9v12H1V9zm4 12a2 2 0 0 1-2-2V9c0-.55.22-1.05.59-1.41L14.17 1l1.06 1.06c.27.27.44.64.44 1.05l-.03.32L14.69 8H21a2 2 0 0 1 2 2v2c0 .26-.05.5-.14.73l-3.02 7.05C19.54 20.5 18.83 21 18 21zm0-2h9.03L21 12v-2h-8.79l1.13-5.32L9 9.03z"/></svg> </button> <button class="md-feedback__icon md-icon" type=submit title=页面没有帮助到我 data-md-value=0> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 15V3h4v12zM15 3a2 2 0 0 1 2 2v10c0 .55-.22 1.05-.59 1.41L9.83 23l-1.06-1.06c-.27-.27-.44-.64-.44-1.06l.03-.31.95-4.57H3a2 2 0 0 1-2-2v-2c0-.26.05-.5.14-.73l3.02-7.05C4.46 3.5 5.17 3 6 3zm0 2H5.97L3 12v2h8.78l-1.13 5.32L15 14.97z"/></svg> </button> </div> <div class=md-feedback__note> <div data-md-value=1 hidden> 谢谢你的反馈！ </div> <div data-md-value=0 hidden> 谢谢你的反馈！联系<a href=https://www.help-doc.top/author/contact/contact.html>作者</a>提供更详细的信息 </div> </div> </div> </fieldset> </form> <!-- Waline 评论系统 --> <div id=waline></div> <!-- 评论系统 --> <!-- Waline 评论系统 --> <div id=waline></div> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-footer-copyright__highlight> Copyright &copy; 2024-2025 柯懒不是柯南 </div> </div> <div class="md-footer-love md-typeset"> 一闪一闪亮晶晶，不及<span class=love-highlight>小亮</span><span class=love-heart>♥</span>照我心。To Li Liang </div> <div class=md-social> <a href=https://github.com/H0308 target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> <a href=https://www.help-doc.top/author/contact/contact.html target=_blank rel=noopener title=www.help-doc.top class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M433.754 420.445c-11.526 1.393-44.86-52.741-44.86-52.741 0 31.345-16.136 72.247-51.051 101.786 16.842 5.192 54.843 19.167 45.803 34.421-7.316 12.343-125.51 7.881-159.632 4.037-34.122 3.844-152.316 8.306-159.632-4.037-9.045-15.25 28.918-29.214 45.783-34.415-34.92-29.539-51.059-70.445-51.059-101.792 0 0-33.334 54.134-44.859 52.741-5.37-.65-12.424-29.644 9.347-99.704 10.261-33.024 21.995-60.478 40.144-105.779C60.683 98.063 108.982.006 224 0c113.737.006 163.156 96.133 160.264 214.963 18.118 45.223 29.912 72.85 40.144 105.778 21.768 70.06 14.716 99.053 9.346 99.704"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["navigation.indexes", "navigation.prune", "navigation.tabs", "search.highlight", "content.code.copy"], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}, "version": null}</script> <script src=../../assets/javascripts/bundle.c8b220af.min.js></script> <script src=../../javascripts/katex.min.js></script> <script src=../../javascripts/other.min.js></script> <script src=../../javascripts/copyright.min.js></script> <script src=../../javascripts/waline.min.js></script> <script src=https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/katex.min.js></script> <script src=https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/contrib/auto-render.min.js></script> <script src=https://cdn.jsdelivr.net/npm/mermaid@11.5.0/dist/mermaid.min.js></script> <script src=../../assets/javascripts/toggle-sidebar.js async></script> <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body> </html>