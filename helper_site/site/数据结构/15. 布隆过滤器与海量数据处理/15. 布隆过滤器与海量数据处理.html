<!doctype html><html lang=zh class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=canonical href=https://www.help-doc.top/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/15.%20%E5%B8%83%E9%9A%86%E8%BF%87%E6%BB%A4%E5%99%A8%E4%B8%8E%E6%B5%B7%E9%87%8F%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86/15.%20%E5%B8%83%E9%9A%86%E8%BF%87%E6%BB%A4%E5%99%A8%E4%B8%8E%E6%B5%B7%E9%87%8F%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86.html><link rel=prev href=../14.%20%E4%BD%8D%E5%9B%BE/14.%20%E4%BD%8D%E5%9B%BE.html><link rel=next href=../../%E7%AE%97%E6%B3%95/0.%20%E5%B8%B8%E7%94%A8%E5%86%85%E5%AE%B9/0.%20%E5%B8%B8%E7%94%A8%E5%86%85%E5%AE%B9.html><link rel=icon href=../../images/favicon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.12"><title>布隆过滤器与海量数据处理 - 柯懒的知识库</title><link rel=stylesheet href=../../assets/stylesheets/main.2afb09e1.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.06af60db.min.css><link rel=stylesheet href=../../css/timeline.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/katex.min.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-9XWRGNRRSY"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-9XWRGNRRSY",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-9XWRGNRRSY",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script><link rel=stylesheet href=../../stylesheets/colors.min.css><!-- 移动端和平板端始终只加载theme2 --><link rel=stylesheet href=../../stylesheets/theme2.min.css media="screen and (max-width: 1199px)"><!-- 桌面端主题切换：新版主题同时加载theme1和theme2，旧版主题只加载theme2 --><link rel=stylesheet href=../../stylesheets/theme2.min.css media="screen and (min-width: 1200px)" id=theme2-desktop><link rel=stylesheet href=../../stylesheets/theme1.min.css media="screen and (min-width: 1200px)" id=theme1-desktop><link rel=stylesheet href=../../stylesheets/print.min.css><!-- 字体样式表 --><link rel=stylesheet href=../../stylesheets/font-dongguanti.min.css id=font-dongguanti><link rel=stylesheet href=../../stylesheets/font-oppoti.min.css id=font-oppoti disabled><link rel=stylesheet href=../../stylesheets/font-jiangchengti.min.css id=font-jiangchengti disabled><link rel=stylesheet href=../../stylesheets/font-lxgw.min.css id=font-lxgw disabled><!-- 代码字体样式表 --><link rel=stylesheet href=../../stylesheets/code-font-dejavu-sans-mono.min.css id=code-font-dejavu-sans-mono><link rel=stylesheet href=../../stylesheets/code-font-zsft-hk.min.css id=code-font-zsft-hk disabled><script src=https://cdn.jsdelivr.net/npm/mermaid@11.5.0/dist/mermaid.min.js></script><script src=../../javascripts/start.min.js></script> <link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../../assets/javascripts/glightbox.min.js"></script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=white data-md-color-accent=teal> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#_1 class=md-skip> 跳转至 </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=页眉> <a href=../../index.html title=柯懒的知识库 class="md-header__button md-logo" aria-label=柯懒的知识库 data-md-component=logo> <img src=../../assets/logo.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> 柯懒的知识库 </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> 布隆过滤器与海量数据处理 </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary=white data-md-color-accent=teal aria-label type=radio name=__palette id=__palette_1> </form> <!-- 头像元素 - 直接在HTML中定义 --> <div class=header-avatar> <img src=../../作者/作者.assets/20250206-200653.jpg alt=头像> <div class=avatar-dropdown> <p><strong>柯懒不是柯南</strong></p> <a href=../../作者/联系作者/作者.html class=avatar-dropdown-item>吵醒柯懒</a> <div class=avatar-dropdown-divider></div> <a href=../../作者/关于作者/关于作者.html class=avatar-dropdown-item>柯懒自传</a> <div class=avatar-dropdown-divider></div> <a href=https://github.com/H0308 class=avatar-dropdown-item>柯懒的零食库</a> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=搜索 placeholder=搜索 autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=查找> <button type=reset class="md-search__icon md-icon" title=清空当前内容 aria-label=清空当前内容 tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> 正在初始化搜索引擎 </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> </nav> </header> <!-- 独立的切换按钮 --> <div class=toolbar-toggle-btn id=toolbarToggleBtn onclick=toggleToolbar()> <div class=toggle-icon> <svg class=toggle-arrow-icon viewbox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg width=16 height=16> <path d="M346.538667 1024L170.666667 853.333333l341.333333-341.333333-341.333333-341.333333 175.872-170.666667L853.333333 512z" fill=currentColor></path> </svg> </div> </div> <!-- 右侧固定功能条 - 独立于内容区 --> <div class=floating-toolbar id=floatingToolbar> <!-- 字体切换功能 --> <div class="toolbar-item font-switcher"> <div class=toolbar-icon> <svg class=font-icon viewbox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg width=20 height=20> <path d="M913.408 1024l-66.56 0q-29.696 0-51.2-5.12t-36.864-15.872-26.112-27.136-19.968-37.888q-15.36-38.912-28.16-70.656t-22.016-55.296q-11.264-26.624-20.48-49.152l-254.976 0q-7.168 23.552-17.408 51.2-8.192 23.552-21.504 56.832t-30.72 72.192q-20.48 46.08-47.104 63.488t-60.416 17.408l-70.656 0q-45.056 0-60.928-19.968t2.56-68.096q18.432-46.08 43.008-108.544t52.224-132.608 57.344-143.872 57.344-144.384q65.536-164.864 137.216-343.04 7.168-17.408 18.432-31.744 10.24-11.264 27.136-21.504t42.496-10.24q26.624 0 43.52 10.752t28.16 24.064q12.288 15.36 19.456 33.792 72.704 180.224 138.24 345.088 27.648 70.656 57.344 143.872t56.832 142.336 51.2 129.536 41.472 104.448q14.336 34.816 4.096 62.464t-43.008 27.648zM616.448 634.88l-97.28-347.136-1.024 0-108.544 347.136 206.848 0z" fill=currentColor></path> </svg> </div> <div class=toolbar-label>内容字体</div> <div class=font-dropdown-toolbar> <div class=font-current-toolbar onclick=toggleFontDropdownToolbar()> <span class=current-font-name-toolbar>东观体</span> <svg class=dropdown-arrow-icon viewbox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg width=12 height=12> <path d="M878.592 250.88q29.696 0 48.128 11.264t24.576 29.696 0 41.472-26.624 45.568q-82.944 92.16-159.744 180.224t-148.48 164.864q-19.456 20.48-45.568 31.744t-53.76 11.776-53.248-8.704-43.008-28.672q-39.936-44.032-82.944-90.112l-88.064-92.16q-43.008-46.08-85.504-90.624t-79.36-86.528q-17.408-19.456-22.528-40.448t1.024-38.4 23.552-28.672 45.056-11.264q35.84 0 98.816-0.512t137.728-0.512l153.6 0 150.528 0 125.952 0 79.872 0z" fill=currentColor></path> </svg> </div> <div class=font-options-toolbar> <div class=font-option-toolbar data-font=dongguanti onclick="selectFontToolbar('dongguanti')">上图东观体 </div> <div class=font-option-toolbar data-font=oppoti onclick="selectFontToolbar('oppoti')">OPPO Sans </div> <div class=font-option-toolbar data-font=jiangchengti onclick="selectFontToolbar('jiangchengti')"> 江城黑体</div> <div class=font-option-toolbar data-font=lxgw onclick="selectFontToolbar('lxgw')">霞鹜臻楷</div> </div> </div> </div> <!-- 代码字体切换功能 --> <div class="toolbar-item code-font-switcher"> <div class=toolbar-icon> <svg t=1753672111433 class="icon code-font-icon" viewbox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg p-id=5148 width=20 height=20> <path d="M941.709938 0H82.290062A82.290062 82.290062 0 0 0 0 82.290062v859.419876A82.290062 82.290062 0 0 0 82.290062 1022.53923h859.419876A82.290062 82.290062 0 0 0 1022.53923 941.709938V82.290062A82.290062 82.290062 0 0 0 941.709938 0zM188.439372 553.631954a40.901569 40.901569 0 0 1-29.215406-70.116975L292.154066 351.558726 159.223966 218.628626a40.901569 40.901569 0 0 1 58.430813-57.94389l160.197813 162.145507a40.901569 40.901569 0 0 1 0 57.943889l-160.197813 160.684736a40.901569 40.901569 0 0 1-29.215407 12.173086z m443.587257 0H405.120304a40.901569 40.901569 0 0 1 0-82.290061H633.000476a40.901569 40.901569 0 0 1 0 82.290061z" fill=currentColor p-id=5149></path> </svg> </div> <div class=toolbar-label>代码字体</div> <div class=code-font-dropdown-toolbar> <div class=code-font-current-toolbar onclick=toggleCodeFontDropdownToolbar()> <span class=current-code-font-name-toolbar>DejaVu Sans Mono</span> <svg class=dropdown-arrow-icon viewbox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg width=12 height=12> <path d="M878.592 250.88q29.696 0 48.128 11.264t24.576 29.696 0 41.472-26.624 45.568q-82.944 92.16-159.744 180.224t-148.48 164.864q-19.456 20.48-45.568 31.744t-53.76 11.776-53.248-8.704-43.008-28.672q-39.936-44.032-82.944-90.112l-88.064-92.16q-43.008-46.08-85.504-90.624t-79.36-86.528q-17.408-19.456-22.528-40.448t1.024-38.4 23.552-28.672 45.056-11.264q35.84 0 98.816-0.512t137.728-0.512l153.6 0 150.528 0 125.952 0 79.872 0z" fill=currentColor></path> </svg> </div> <div class=code-font-options-toolbar> <div class=code-font-option-toolbar data-code-font=dejavu onclick="selectCodeFontToolbar('dejavu')"> DejaVu Sans Mono</div> <div class=code-font-option-toolbar data-code-font=zsft onclick="selectCodeFontToolbar('zsft')"> JetBrains Mono</div> </div> </div> </div> <!-- 主题切换功能 --> <div class="toolbar-item theme-switcher" onclick=switchTheme()> <div class=toolbar-icon> <svg class=theme-icon viewbox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg width=20 height=20> <path d="M876.572788 522.301623c-1.886977 12.375865-9.657964 30.331819-35.880185 45.48903-56.489572 32.697703-150.21828 83.990926-174.010149 96.958262-13.143345 24.431435-66.067718 122.221646-98.141204 178.503487-16.117073 28.124548-36.055171 34.041304-50.030463 34.041304-0.031722 0-0.031722 0-0.031722 0-14.613836 0-29.1806-6.460132-43.234687-19.218714-47.183626-42.643216-125.994576-117.105115-146.013515-136.083351-27.757181-4.732791-138.338718-23.743774-200.584388-35.752272-17.924231-3.533476-32.649608-14.07046-40.372499-29.084409-5.78782-11.256368-10.281157-30.05962 1.471514-55.658647 26.989701-59.047838 74.126254-157.557432 85.957721-182.196599-3.437286-27.117614-16.996093-135.060045-23.760147-198.905142-1.886977-17.460674 3.901867-35.096333 15.829524-48.351218 12.791327-14.278191 30.667463-21.48943 49.854455-19.426445 63.669088 6.332219 173.259042 19.426445 200.584388 22.705118 24.335245-11.879562 121.085776-58.936297 180.133613-86.34146 9.91379-4.573155 19.85828-6.92369 29.596062-6.92369 28.748764 0 52.172243 20.642133 58.328453 51.421136 12.599969 62.997799 30.93864 166.70272 35.639708 193.484689 18.851347 19.682271 91.953272 96.031147 135.060045 143.07151C872.72004 487.125473 879.307062 504.71406 876.572788 522.301623L876.572788 522.301623zM825.375755 499.085876C776.017604 445.314205 687.245791 352.977193 686.365748 352.017332c-2.942005-3.069919-4.956895-6.971785-5.676279-11.208273-0.207731-1.215688-22.193465-127.001509-36.551474-198.936865-0.799202-3.917216-4.285606-16.836457-16.196891-16.836457-3.453658 0-7.30743 1.006933-11.464099 2.942005-67.282383 31.179117-183.955662 88.180342-185.170327 88.771813-3.693112 1.790786-7.850805 2.558265-11.975752 2.01489-1.295506-0.224104-133.63765-16.165168-205.988468-23.424502-0.079818 0-0.207731 0-0.287549 0-7.30743 0-11.128455 2.89391-13.319353 5.40408-3.677762 4.124947-5.644557 9.91379-5.068436 15.110139 7.674796 72.623018 24.255427 202.934922 24.463158 204.325595 0.511653 4.109598-0.159636 8.266267-1.966795 11.960403-0.591471 1.215688-57.657164 120.04712-88.339977 187.201589-3.565199 7.754614-4.41352 14.214746-2.350534 18.131963 1.935072 3.725858 6.588045 5.820566 10.360975 6.53995 70.719668 13.718443 204.644867 36.519752 206.036563 36.727483 4.189416 0.671289 8.058536 2.686179 11.112082 5.580089 1.006933 0.87902 96.414887 91.281983 150.090367 139.889027 8.314363 7.563256 13.143345 8.106632 14.437827 8.106632 3.485381 0 8.314363-4.621251 12.727882-12.391215 36.343743-63.828724 100.011808-181.988868 100.636025-183.155437 1.983167-3.64604 5.004991-6.667863 8.650007-8.650007 1.134847-0.671289 114.418936-62.373583 178.6314-99.516528 8.698103-5.036713 14.278191-10.568706 14.94948-14.854313C834.681702 511.845481 831.49922 505.800811 825.375755 499.085876L825.375755 499.085876zM935.333076 935.670256c-4.157693 4.157693-9.689686 6.299473-15.141862 6.299473-5.548366 0-11.048637-2.142803-15.238053-6.299473l-171.915441-171.915441c-8.362458-8.394181-8.362458-21.98471 0-30.426987 8.394181-8.394181 21.98471-8.394181 30.379914 0l171.915441 171.915441C943.727257 913.684522 943.727257 927.275052 935.333076 935.670256L935.333076 935.670256z" fill=currentColor></path> </svg> </div> <div class=toolbar-label>主题切换</div> </div> <!-- 返回顶部功能 --> <div class="toolbar-item back-to-top" onclick=scrollToTop()> <div class=toolbar-icon> <svg class=back-to-top-icon viewbox="0 0 1024 1024" xmlns=http://www.w3.org/2000/svg> <path d="M882.688 624.128l-336.896-583.68c-15.872-27.136-54.784-27.136-70.656 0L138.24 624.128c-15.872 27.136 4.096 61.44 35.328 61.44H317.44c22.528 0 40.96 18.432 40.96 40.96v239.616c0 22.528 18.432 40.96 40.96 40.96h223.232c22.528 0 40.96-18.432 40.96-40.96v-239.616c0-22.528 18.432-40.96 40.96-40.96h143.872c30.208 0 50.176-34.304 34.304-61.44z"> </path> </svg> </div> <div class=toolbar-label>返回顶部</div> </div> </div> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=标签 data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../index.html class=md-tabs__link> 主页 </a> </li> <li class=md-tabs__item> <a href=../../%E7%BD%91%E7%AB%99%E4%BB%8B%E7%BB%8D/%E7%BD%91%E7%AB%99%E4%BB%8B%E7%BB%8D.html class=md-tabs__link> 网站介绍 </a> </li> <li class=md-tabs__item> <a href=../../%E7%BD%91%E7%AB%99%E6%97%B6%E9%97%B4%E7%BA%BF/%E7%BD%91%E7%AB%99%E6%97%B6%E9%97%B4%E7%BA%BF.html class=md-tabs__link> 网站时间线 </a> </li> <li class=md-tabs__item> <a href=../../C%E8%AF%AD%E8%A8%80/index.html class=md-tabs__link> 编程语言 </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../1.%20%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%92%8C%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/1.%20%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E4%B8%8E%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6.html class=md-tabs__link> 数据结构与算法 </a> </li> <li class=md-tabs__item> <a href=../../Linux/1.%20Linux%E5%B8%B8%E7%94%A8%E9%80%89%E9%A1%B9%E5%92%8C%E6%8C%87%E4%BB%A4/1.%20Linux%E5%B8%B8%E7%94%A8%E9%80%89%E9%A1%B9%E5%92%8C%E6%8C%87%E4%BB%A4.html class=md-tabs__link> Linux </a> </li> <li class=md-tabs__item> <a href=../../HTML%E4%B8%8ECSS/HTML%E7%AC%94%E8%AE%B0/HTML%E7%AC%94%E8%AE%B0.html class=md-tabs__link> 前端 </a> </li> <li class=md-tabs__item> <a href=../../MySQL/MySQL%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8/MySQL%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8.html class=md-tabs__link> MySQL </a> </li> <li class=md-tabs__item> <a href=../../JavaEE/Spring/1.%20SpringMVC%E5%9F%BA%E7%A1%80/1.%20SpringMVC%E5%9F%BA%E7%A1%80.html class=md-tabs__link> JavaEE应用开发 </a> </li> <li class=md-tabs__item> <a href=../../%E5%85%B6%E5%AE%83/Shell%E8%84%9A%E6%9C%AC%E8%AF%AD%E8%A8%80/%E5%85%B3%E4%BA%8EShell.html class=md-tabs__link> 扩展知识 </a> </li> <li class=md-tabs__item> <a href=../../%E5%B7%A5%E5%85%B7%E5%B8%AE%E5%8A%A9/vscode%E4%B8%AD%E6%B7%BB%E5%8A%A0%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5/vscode%E4%B8%AD%E6%B7%BB%E5%8A%A0%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5.html class=md-tabs__link> 工具帮助 </a> </li> <li class=md-tabs__item> <a href=../../%E9%A1%B9%E7%9B%AE/1.%20Boost%E5%BA%93%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E/1.%20Boost%E5%BA%93%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E.html class=md-tabs__link> 项目 </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=导航栏 data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../index.html title=柯懒的知识库 class="md-nav__button md-logo" aria-label=柯懒的知识库 data-md-component=logo> <img src=../../assets/logo.png alt=logo> </a> 柯懒的知识库 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../index.html class=md-nav__link> <span class=md-ellipsis> 主页 </span> </a> </li> <li class=md-nav__item> <a href=../../%E7%BD%91%E7%AB%99%E4%BB%8B%E7%BB%8D/%E7%BD%91%E7%AB%99%E4%BB%8B%E7%BB%8D.html class=md-nav__link> <span class=md-ellipsis> 网站介绍 </span> </a> </li> <li class=md-nav__item> <a href=../../%E7%BD%91%E7%AB%99%E6%97%B6%E9%97%B4%E7%BA%BF/%E7%BD%91%E7%AB%99%E6%97%B6%E9%97%B4%E7%BA%BF.html class=md-nav__link> <span class=md-ellipsis> 网站时间线 </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../C%E8%AF%AD%E8%A8%80/index.html class=md-nav__link> <span class=md-ellipsis> 编程语言 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5 checked> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex> <span class=md-ellipsis> 数据结构与算法 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=true> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> 数据结构与算法 </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_1 checked> <label class=md-nav__link for=__nav_5_1 id=__nav_5_1_label tabindex=0> <span class=md-ellipsis> 数据结构 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_1_label aria-expanded=true> <label class=md-nav__title for=__nav_5_1> <span class="md-nav__icon md-icon"></span> 数据结构 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../1.%20%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%92%8C%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/1.%20%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E4%B8%8E%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6.html class=md-nav__link> <span class=md-ellipsis> 数据结构基础 </span> </a> </li> <li class=md-nav__item> <a href=../2.%20%E9%A1%BA%E5%BA%8F%E8%A1%A8/2.%20%E9%A1%BA%E5%BA%8F%E8%A1%A8.html class=md-nav__link> <span class=md-ellipsis> 顺序结构与顺序表 </span> </a> </li> <li class=md-nav__item> <a href=../3.%20%E9%93%BE%E8%A1%A8/3.%20%E9%93%BE%E8%A1%A8.html class=md-nav__link> <span class=md-ellipsis> 链表 </span> </a> </li> <li class=md-nav__item> <a href=../4.%20%E6%A0%88/4.%20%E6%A0%88.html class=md-nav__link> <span class=md-ellipsis> 栈 </span> </a> </li> <li class=md-nav__item> <a href=../5.%20%E9%98%9F%E5%88%97/5.%20%E9%98%9F%E5%88%97.html class=md-nav__link> <span class=md-ellipsis> 队列 </span> </a> </li> <li class=md-nav__item> <a href=../6.%20%E6%A0%91%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5/6.%20%E6%A0%91%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%BB%93%E6%9E%84.html class=md-nav__link> <span class=md-ellipsis> 树的基本概念 </span> </a> </li> <li class=md-nav__item> <a href=../7.%20%E4%BA%8C%E5%8F%89%E6%A0%91%EF%BC%88%E5%9F%BA%E7%A1%80%EF%BC%89/7.%20%E4%BA%8C%E5%8F%89%E6%A0%91%EF%BC%88%E5%9F%BA%E7%A1%80%EF%BC%89.html class=md-nav__link> <span class=md-ellipsis> 二叉树（基础） </span> </a> </li> <li class=md-nav__item> <a href=../8.%20%E5%A0%86/8.%20%E5%A0%86.html class=md-nav__link> <span class=md-ellipsis> 堆 </span> </a> </li> <li class=md-nav__item> <a href=../9.%20%E6%8E%92%E5%BA%8F/9.%20%E6%8E%92%E5%BA%8F.html class=md-nav__link> <span class=md-ellipsis> 排序 </span> </a> </li> <li class=md-nav__item> <a href=../10.%20%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91/10.%20%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91.html class=md-nav__link> <span class=md-ellipsis> 二叉搜索树 </span> </a> </li> <li class=md-nav__item> <a href=../11.%20AVL%E6%A0%91/11.%20AVL%E6%A0%91.html class=md-nav__link> <span class=md-ellipsis> AVL树 </span> </a> </li> <li class=md-nav__item> <a href=../12.%20%E7%BA%A2%E9%BB%91%E6%A0%91/12.%20%E7%BA%A2%E9%BB%91%E6%A0%91.html class=md-nav__link> <span class=md-ellipsis> 红黑树 </span> </a> </li> <li class=md-nav__item> <a href=../13.%20%E5%93%88%E5%B8%8C%E8%A1%A8/13.%20%E5%93%88%E5%B8%8C%E8%A1%A8.html class=md-nav__link> <span class=md-ellipsis> 哈希表 </span> </a> </li> <li class=md-nav__item> <a href=../14.%20%E4%BD%8D%E5%9B%BE/14.%20%E4%BD%8D%E5%9B%BE.html class=md-nav__link> <span class=md-ellipsis> 位图 </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> 布隆过滤器与海量数据处理 </span> <span class="md-nav__icon md-icon"></span> </label> <a href=15.%20%E5%B8%83%E9%9A%86%E8%BF%87%E6%BB%A4%E5%99%A8%E4%B8%8E%E6%B5%B7%E9%87%8F%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86.html class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> 布隆过滤器与海量数据处理 </span> </a> <nav class="md-nav md-nav--secondary" aria-label=目录> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> 目录 </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#_2 class=md-nav__link> <span class=md-ellipsis> 介绍 </span> </a> </li> <li class=md-nav__item> <a href=#_3 class=md-nav__link> <span class=md-ellipsis> 布隆过滤器误判率推导（了解） </span> </a> </li> <li class=md-nav__item> <a href=#_4 class=md-nav__link> <span class=md-ellipsis> 布隆过滤器代码实现 </span> </a> </li> <li class=md-nav__item> <a href=#_5 class=md-nav__link> <span class=md-ellipsis> 布隆过滤器删除问题 </span> </a> </li> <li class=md-nav__item> <a href=#_6 class=md-nav__link> <span class=md-ellipsis> 布隆过滤器的应用 </span> </a> </li> <li class=md-nav__item> <a href=#_7 class=md-nav__link> <span class=md-ellipsis> 海量数据处理问题 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../%E7%AE%97%E6%B3%95/0.%20%E5%B8%B8%E7%94%A8%E5%86%85%E5%AE%B9/0.%20%E5%B8%B8%E7%94%A8%E5%86%85%E5%AE%B9.html class=md-nav__link> <span class=md-ellipsis> 算法 </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../Linux/1.%20Linux%E5%B8%B8%E7%94%A8%E9%80%89%E9%A1%B9%E5%92%8C%E6%8C%87%E4%BB%A4/1.%20Linux%E5%B8%B8%E7%94%A8%E9%80%89%E9%A1%B9%E5%92%8C%E6%8C%87%E4%BB%A4.html class=md-nav__link> <span class=md-ellipsis> Linux </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../HTML%E4%B8%8ECSS/HTML%E7%AC%94%E8%AE%B0/HTML%E7%AC%94%E8%AE%B0.html class=md-nav__link> <span class=md-ellipsis> 前端 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../MySQL/MySQL%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8/MySQL%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8.html class=md-nav__link> <span class=md-ellipsis> MySQL </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../JavaEE/Spring/1.%20SpringMVC%E5%9F%BA%E7%A1%80/1.%20SpringMVC%E5%9F%BA%E7%A1%80.html class=md-nav__link> <span class=md-ellipsis> JavaEE应用开发 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../%E5%85%B6%E5%AE%83/Shell%E8%84%9A%E6%9C%AC%E8%AF%AD%E8%A8%80/%E5%85%B3%E4%BA%8EShell.html class=md-nav__link> <span class=md-ellipsis> 扩展知识 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../%E5%B7%A5%E5%85%B7%E5%B8%AE%E5%8A%A9/vscode%E4%B8%AD%E6%B7%BB%E5%8A%A0%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5/vscode%E4%B8%AD%E6%B7%BB%E5%8A%A0%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5.html class=md-nav__link> <span class=md-ellipsis> 工具帮助 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../%E9%A1%B9%E7%9B%AE/1.%20Boost%E5%BA%93%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E/1.%20Boost%E5%BA%93%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E.html class=md-nav__link> <span class=md-ellipsis> 项目 </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label=目录> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> 目录 </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#_2 class=md-nav__link> <span class=md-ellipsis> 介绍 </span> </a> </li> <li class=md-nav__item> <a href=#_3 class=md-nav__link> <span class=md-ellipsis> 布隆过滤器误判率推导（了解） </span> </a> </li> <li class=md-nav__item> <a href=#_4 class=md-nav__link> <span class=md-ellipsis> 布隆过滤器代码实现 </span> </a> </li> <li class=md-nav__item> <a href=#_5 class=md-nav__link> <span class=md-ellipsis> 布隆过滤器删除问题 </span> </a> </li> <li class=md-nav__item> <a href=#_6 class=md-nav__link> <span class=md-ellipsis> 布隆过滤器的应用 </span> </a> </li> <li class=md-nav__item> <a href=#_7 class=md-nav__link> <span class=md-ellipsis> 海量数据处理问题 </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=_1>布隆过滤器与海量数据处理问题<a class=headerlink href=#_1 title="Permanent link">&para;</a></h1> <div style="margin-top: -30px; font-size: 0.75em; opacity: 0.7;"> <p><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10h-2a8 8 0 0 1-8 8 8 8 0 0 1-8-8 8 8 0 0 1 8-8zm6.78 1a.7.7 0 0 0-.48.2l-1.22 1.21 2.5 2.5L20.8 5.7c.26-.26.26-.7 0-.95L19.25 3.2c-.13-.13-.3-.2-.47-.2m-2.41 2.12L9 12.5V15h2.5l7.37-7.38z"/></svg></span> 约 3031 个字 <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6m80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3l89.3 89.4-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3"/></svg></span> 101 行代码 <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 17H7V3h14m0-2H7a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2M3 5H1v16a2 2 0 0 0 2 2h16v-2H3m12.96-10.71-2.75 3.54-1.96-2.36L8.5 15h11z"/></svg></span> 5 张图片 <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 20c4.42 0 8-3.58 8-8s-3.58-8-8-8-8 3.58-8 8 3.58 8 8 8m0-18c5.5 0 10 4.5 10 10s-4.5 10-10 10C6.47 22 2 17.5 2 12S6.5 2 12 2m.5 11H11V7h1.5v4.26l3.7-2.13.75 1.3z"/></svg></span> 预计阅读时间 11 分钟</p> </div> <h2 id=_2>介绍<a class=headerlink href=#_2 title="Permanent link">&para;</a></h2> <p>前面学习到了位图，在处理含有大量无符号整型数据时有着格外好的性能，但是缺点就是只能处理无符号整型，但是在实际中，可能还存在大量非无符号整型数据需要处理，此时就需要使用布隆过滤器</p> <p>布隆过滤器底层依旧还是位图，但是因为位图只能处理无符号整型数据，所以需要先按照一种标准将需要判断的数据通过转换变为无符号整型再存储到位图中</p> <p>在布隆过滤器中，一般考虑采用哈希函数将非无符号整型的数据向无符号整型进行映射，此时就会涉及到一个问题：哈希冲突。如果只使用一位比特位作为在或者不在的判断标准，那么冲突的概率会非常大，所以一般可以考虑采用多个哈希函数计算出无符号整型分别映射到位图中，此时映射在位图的多个比特位整体是否全为1就变成了判断一个非无符号整型数据是否存在的标准</p> <p>实际上，上面提到的使用多个哈希函数的方式依旧会存在哈希冲突问题导致本来不存在的数据因为哈希冲突导致错误判断为存在（后面称为误判），所以上面的方式本质上是降低冲突而不是解决冲突</p> <p>布隆过滤器最大的缺点就是无法准确判断指定的数据是否存在，但是这种情况下，因为多个比特位同时为1才表示指定数据存在，而不存在只需要判断映射的位置有一个比特位为0就是不存在，而空间足够的情况下，0出现的次数肯定比1多，所以理论上可以认为布隆过滤器可以做到判定不存在是准确的，而判定存在是不准确的（即存在误判的情况）</p> <p>例如，正常情况下：</p> <p><a class=glightbox href="15. 布隆过滤器与海量数据处理.assets\image.png" data-type=image data-width=100% data-height=auto data-desc-position=bottom><img src="15. 布隆过滤器与海量数据处理.assets\image.png"></a></p> <p>而如果是下面的情况就是误判：</p> <p><a class=glightbox href="15. 布隆过滤器与海量数据处理.assets\image1.png" data-type=image data-width=100% data-height=auto data-desc-position=bottom><img src="15. 布隆过滤器与海量数据处理.assets\image1.png"></a></p> <h2 id=_3>布隆过滤器误判率推导（了解）<a class=headerlink href=#_3 title="Permanent link">&para;</a></h2> <p>推导过程：</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>说明：这个比较复杂，涉及概率论、极限、对数运算，求导函数等知识</p> </div> <p>假设 </p> <p><span class=arithmatex>\(m\)</span>：布隆过滤器的bit长度</p> <p><span class=arithmatex>\(n\)</span>：插入过滤器的元素个数</p> <p><span class=arithmatex>\(k\)</span>：哈希函数的个数</p> <p>布隆过滤器哈希函数等条件下某个位设置为1的概率：<span class=arithmatex>\(\frac{1}{m}\)</span></p> <p>布隆过滤器哈希函数等条件下某个位设置不为1的概率：<span class=arithmatex>\(1 - \frac{1}{m}\)</span></p> <p>在经过<span class=arithmatex>\(k\)</span>次哈希后，某个位置依旧不为1的概率：<span class=arithmatex>\((1 - \frac{1}{m})^k\)</span></p> <p>根据极限公式：<span class=arithmatex>\(\lim\limits_{m \to \infty}(1 - \frac{1}{m})^{-m} = e\)</span>可以得到下面的转化：</p> <p><span class=arithmatex>\(\left(1 - \frac{1}{m}\right)^{k} \approx \left[\left(1 - \frac{1}{m}\right)^{m}\right]^{\frac{k}{m}} \approx e^{-\frac{k}{m}}\)</span></p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>上面的推导过程中的<span class=arithmatex>\(\left[\left(1 - \frac{1}{m}\right)^{m}\right]^{\frac{k}{m}} \approx e^{-\frac{k}{m}}\)</span>将<span class=arithmatex>\(k\)</span>转换为<span class=arithmatex>\(\frac{k}{m} \times m\)</span>凑出前面的极限公式</p> </div> <p>所以可以得出：</p> <p>添加<span class=arithmatex>\(n\)</span>个元素某个位置不置为1的概率：<span class=arithmatex>\((1 - \frac{1}{m})^{kn} \approx e^{\frac{-kn}{m}}\)</span></p> <p>添加<span class=arithmatex>\(n\)</span>个元素某个位置置为1的概率：<span class=arithmatex>\(1 - (1 - \frac{1}{m})^{kn} \approx 1 - e^{\frac{-kn}{m}}\)</span></p> <p>查询⼀个元素，<span class=arithmatex>\(k\)</span>次哈希后误判的概率为都命中1的概率：<span class=arithmatex>\((1 - (1 - \frac{1}{m})^{kn})^k \approx (1 - e^{\frac{-kn}{m}}) ^ k\)</span></p> <p>最后：</p> <p>布隆过滤器的误判率为：<span class=arithmatex>\(f(k) = (1 - e^{\frac{-kn}{m}}) ^ k\)</span>，可以转化为<span class=arithmatex>\(f(k) = (1 - \frac{1}{e^{\frac{kn}{m}}}) ^ k\)</span></p> <p>由误判率公式可知，在<span class=arithmatex>\(k\)</span>一定的情况下，当<span class=arithmatex>\(n\)</span>增加时，误判率增加，<span class=arithmatex>\(m\)</span>增加时，误判率减少</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>在表达式中<span class=arithmatex>\(f(k) = (1 - \frac{1}{e^{\frac{kn}{m}}}) ^ k\)</span>，在<span class=arithmatex>\(k\)</span>一定的情况下，如果<span class=arithmatex>\(n\)</span>大于<span class=arithmatex>\(m\)</span>且<span class=arithmatex>\(n\)</span>持续增大，则指数就会越来越大，此时<span class=arithmatex>\(e^{\frac{kn}{m}}\)</span>就会越来越大，<span class=arithmatex>\(1\)</span>作为分子除以一个越来越大的数值就会导致整体越来越小，<span class=arithmatex>\(1\)</span>减去一个整体越来越小的数值就会导致减法值越来越大，再进行幂运算就是指数级增长，导致误判率增加，对于<span class=arithmatex>\(m\)</span>大于<span class=arithmatex>\(n\)</span>且<span class=arithmatex>\(m\)</span>持续增大则刚好相反</p> </div> <p>在<span class=arithmatex>\(m\)</span>和<span class=arithmatex>\(n\)</span>一定，在对误判率公式求导，误判率尽可能小的情况下，可以得到哈希函数个数为<span class=arithmatex>\(k=\frac{m}{n} ln{2}\)</span>时误判率最低</p> <p>希望的误判率<span class=arithmatex>\(p\)</span>和插入数据个数<span class=arithmatex>\(n\)</span>确定的情况下，再把上面的公式代入误判率公式可以得到，通过期望的误判率和插⼊数据个数<span class=arithmatex>\(n\)</span>得到需要的bit长度：<span class=arithmatex>\(m = -\frac{n \times ln{p}}{(ln2)^2}\)</span></p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>上面的具体推导过于复杂，不再展示</p> </div> <h2 id=_4>布隆过滤器代码实现<a class=headerlink href=#_4 title="Permanent link">&para;</a></h2> <p>需要使用到的模版参数：</p> <ol> <li>常量因子（相当于<span class=arithmatex>\(\frac{k}{ln2}\)</span>）：定义为<code>size_t X=5</code></li> <li>插入过滤器的元素个数：定义为<code>size_t N</code></li> <li>待存储类型：<code>class T = string</code></li> <li>三个哈希函数（默认为string）：<ol> <li>定义为<code>class hash1 = HashFuncBKDR</code></li> <li>定义为<code>class hash2 = HashFuncAP</code></li> <li>定义为<code>class hash3 = HashFuncDJB</code></li> </ol> </li> </ol> <p>示例代码如下：</p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>  1</span>
<span class=normal>  2</span>
<span class=normal>  3</span>
<span class=normal>  4</span>
<span class=normal>  5</span>
<span class=normal>  6</span>
<span class=normal>  7</span>
<span class=normal>  8</span>
<span class=normal>  9</span>
<span class=normal> 10</span>
<span class=normal> 11</span>
<span class=normal> 12</span>
<span class=normal> 13</span>
<span class=normal> 14</span>
<span class=normal> 15</span>
<span class=normal> 16</span>
<span class=normal> 17</span>
<span class=normal> 18</span>
<span class=normal> 19</span>
<span class=normal> 20</span>
<span class=normal> 21</span>
<span class=normal> 22</span>
<span class=normal> 23</span>
<span class=normal> 24</span>
<span class=normal> 25</span>
<span class=normal> 26</span>
<span class=normal> 27</span>
<span class=normal> 28</span>
<span class=normal> 29</span>
<span class=normal> 30</span>
<span class=normal> 31</span>
<span class=normal> 32</span>
<span class=normal> 33</span>
<span class=normal> 34</span>
<span class=normal> 35</span>
<span class=normal> 36</span>
<span class=normal> 37</span>
<span class=normal> 38</span>
<span class=normal> 39</span>
<span class=normal> 40</span>
<span class=normal> 41</span>
<span class=normal> 42</span>
<span class=normal> 43</span>
<span class=normal> 44</span>
<span class=normal> 45</span>
<span class=normal> 46</span>
<span class=normal> 47</span>
<span class=normal> 48</span>
<span class=normal> 49</span>
<span class=normal> 50</span>
<span class=normal> 51</span>
<span class=normal> 52</span>
<span class=normal> 53</span>
<span class=normal> 54</span>
<span class=normal> 55</span>
<span class=normal> 56</span>
<span class=normal> 57</span>
<span class=normal> 58</span>
<span class=normal> 59</span>
<span class=normal> 60</span>
<span class=normal> 61</span>
<span class=normal> 62</span>
<span class=normal> 63</span>
<span class=normal> 64</span>
<span class=normal> 65</span>
<span class=normal> 66</span>
<span class=normal> 67</span>
<span class=normal> 68</span>
<span class=normal> 69</span>
<span class=normal> 70</span>
<span class=normal> 71</span>
<span class=normal> 72</span>
<span class=normal> 73</span>
<span class=normal> 74</span>
<span class=normal> 75</span>
<span class=normal> 76</span>
<span class=normal> 77</span>
<span class=normal> 78</span>
<span class=normal> 79</span>
<span class=normal> 80</span>
<span class=normal> 81</span>
<span class=normal> 82</span>
<span class=normal> 83</span>
<span class=normal> 84</span>
<span class=normal> 85</span>
<span class=normal> 86</span>
<span class=normal> 87</span>
<span class=normal> 88</span>
<span class=normal> 89</span>
<span class=normal> 90</span>
<span class=normal> 91</span>
<span class=normal> 92</span>
<span class=normal> 93</span>
<span class=normal> 94</span>
<span class=normal> 95</span>
<span class=normal> 96</span>
<span class=normal> 97</span>
<span class=normal> 98</span>
<span class=normal> 99</span>
<span class=normal>100</span>
<span class=normal>101</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><span class=cp>#ifndef BLOOM_FILTER_H</span>
</span><span id=__span-0-2><span class=cp>#define BLOOM_FILTER_H</span>
</span><span id=__span-0-3><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;iostream&gt;</span>
</span><span id=__span-0-4><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;bitset&gt;</span>
</span><span id=__span-0-5><span class=k>namespace</span><span class=w> </span><span class=nn>BLOOM_FILTER</span>
</span><span id=__span-0-6><span class=p>{</span>
</span><span id=__span-0-7><span class=w>    </span><span class=k>struct</span><span class=w> </span><span class=nc>HashFuncBKDR</span>
</span><span id=__span-0-8><span class=w>    </span><span class=p>{</span>
</span><span id=__span-0-9><span class=w>        </span><span class=kt>size_t</span><span class=w> </span><span class=nf>operator</span><span class=p>()(</span><span class=k>const</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>string</span><span class=o>&amp;</span><span class=w> </span><span class=n>s</span><span class=p>)</span>
</span><span id=__span-0-10><span class=w>        </span><span class=p>{</span>
</span><span id=__span-0-11><span class=w>            </span><span class=kt>size_t</span><span class=w> </span><span class=n>hash</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-0-12><span class=w>            </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=k>auto</span><span class=w> </span><span class=n>ch</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=n>s</span><span class=p>)</span>
</span><span id=__span-0-13><span class=w>            </span><span class=p>{</span>
</span><span id=__span-0-14><span class=w>                </span><span class=n>hash</span><span class=w> </span><span class=o>*=</span><span class=w> </span><span class=mi>31</span><span class=p>;</span>
</span><span id=__span-0-15><span class=w>                </span><span class=n>hash</span><span class=w> </span><span class=o>+=</span><span class=w> </span><span class=n>ch</span><span class=p>;</span>
</span><span id=__span-0-16><span class=w>            </span><span class=p>}</span>
</span><span id=__span-0-17><span class=w>            </span><span class=k>return</span><span class=w> </span><span class=n>hash</span><span class=p>;</span>
</span><span id=__span-0-18><span class=w>        </span><span class=p>}</span>
</span><span id=__span-0-19><span class=w>    </span><span class=p>};</span>
</span><span id=__span-0-20>
</span><span id=__span-0-21><span class=w>    </span><span class=k>struct</span><span class=w> </span><span class=nc>HashFuncAP</span>
</span><span id=__span-0-22><span class=w>    </span><span class=p>{</span>
</span><span id=__span-0-23><span class=w>        </span><span class=kt>size_t</span><span class=w> </span><span class=nf>operator</span><span class=p>()(</span><span class=k>const</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>string</span><span class=o>&amp;</span><span class=w> </span><span class=n>s</span><span class=p>)</span>
</span><span id=__span-0-24><span class=w>        </span><span class=p>{</span>
</span><span id=__span-0-25><span class=w>            </span><span class=kt>size_t</span><span class=w> </span><span class=n>hash</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-0-26><span class=w>            </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kt>size_t</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>s</span><span class=p>.</span><span class=n>size</span><span class=p>();</span><span class=w> </span><span class=n>i</span><span class=o>++</span><span class=p>)</span>
</span><span id=__span-0-27><span class=w>            </span><span class=p>{</span>
</span><span id=__span-0-28><span class=w>                </span><span class=k>if</span><span class=w> </span><span class=p>((</span><span class=n>i</span><span class=w> </span><span class=o>&amp;</span><span class=w> </span><span class=mi>1</span><span class=p>)</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=mi>0</span><span class=p>)</span><span class=w> </span><span class=c1>// 偶数位字符</span>
</span><span id=__span-0-29><span class=w>                </span><span class=p>{</span>
</span><span id=__span-0-30><span class=w>                    </span><span class=n>hash</span><span class=w> </span><span class=o>^=</span><span class=w> </span><span class=p>((</span><span class=n>hash</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=mi>7</span><span class=p>)</span><span class=w> </span><span class=o>^</span><span class=w> </span><span class=p>(</span><span class=n>s</span><span class=p>[</span><span class=n>i</span><span class=p>])</span><span class=w> </span><span class=o>^</span><span class=w> </span><span class=p>(</span><span class=n>hash</span><span class=w> </span><span class=o>&gt;&gt;</span><span class=w> </span><span class=mi>3</span><span class=p>));</span>
</span><span id=__span-0-31><span class=w>                </span><span class=p>}</span>
</span><span id=__span-0-32><span class=w>                </span><span class=k>else</span><span class=w>              </span><span class=c1>// 奇数位字符</span>
</span><span id=__span-0-33><span class=w>                </span><span class=p>{</span>
</span><span id=__span-0-34><span class=w>                    </span><span class=n>hash</span><span class=w> </span><span class=o>^=</span><span class=w> </span><span class=p>(</span><span class=o>~</span><span class=p>((</span><span class=n>hash</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=mi>11</span><span class=p>)</span><span class=w> </span><span class=o>^</span><span class=w> </span><span class=p>(</span><span class=n>s</span><span class=p>[</span><span class=n>i</span><span class=p>])</span><span class=w> </span><span class=o>^</span><span class=w> </span><span class=p>(</span><span class=n>hash</span><span class=w> </span><span class=o>&gt;&gt;</span><span class=w> </span><span class=mi>5</span><span class=p>)));</span>
</span><span id=__span-0-35><span class=w>                </span><span class=p>}</span>
</span><span id=__span-0-36><span class=w>            </span><span class=p>}</span>
</span><span id=__span-0-37><span class=w>            </span><span class=k>return</span><span class=w> </span><span class=n>hash</span><span class=p>;</span>
</span><span id=__span-0-38><span class=w>        </span><span class=p>}</span>
</span><span id=__span-0-39><span class=w>    </span><span class=p>};</span>
</span><span id=__span-0-40>
</span><span id=__span-0-41><span class=w>    </span><span class=k>struct</span><span class=w> </span><span class=nc>HashFuncDJB</span>
</span><span id=__span-0-42><span class=w>    </span><span class=p>{</span>
</span><span id=__span-0-43><span class=w>        </span><span class=kt>size_t</span><span class=w> </span><span class=nf>operator</span><span class=p>()(</span><span class=k>const</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>string</span><span class=o>&amp;</span><span class=w> </span><span class=n>s</span><span class=p>)</span>
</span><span id=__span-0-44><span class=w>        </span><span class=p>{</span>
</span><span id=__span-0-45><span class=w>            </span><span class=kt>size_t</span><span class=w> </span><span class=n>hash</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>5381</span><span class=p>;</span>
</span><span id=__span-0-46><span class=w>            </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=k>auto</span><span class=w> </span><span class=n>ch</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=n>s</span><span class=p>)</span>
</span><span id=__span-0-47><span class=w>            </span><span class=p>{</span>
</span><span id=__span-0-48><span class=w>                </span><span class=n>hash</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>hash</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=mi>33</span><span class=w> </span><span class=o>^</span><span class=w> </span><span class=n>ch</span><span class=p>;</span>
</span><span id=__span-0-49><span class=w>            </span><span class=p>}</span>
</span><span id=__span-0-50><span class=w>            </span><span class=k>return</span><span class=w> </span><span class=n>hash</span><span class=p>;</span>
</span><span id=__span-0-51><span class=w>        </span><span class=p>}</span>
</span><span id=__span-0-52><span class=w>    </span><span class=p>};</span>
</span><span id=__span-0-53>
</span><span id=__span-0-54><span class=w>    </span><span class=k>template</span><span class=w> </span><span class=o>&lt;</span><span class=kt>size_t</span><span class=w> </span><span class=n>N</span><span class=p>,</span><span class=w> </span><span class=kt>size_t</span><span class=w> </span><span class=n>X</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>5</span><span class=p>,</span><span class=w> </span><span class=k>class</span><span class=w> </span><span class=nc>T</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>string</span><span class=p>,</span><span class=w> </span><span class=k>class</span><span class=w> </span><span class=nc>hash1</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>HashFuncBKDR</span><span class=p>,</span><span class=w> </span><span class=k>class</span><span class=w> </span><span class=nc>hash2</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>HashFuncAP</span><span class=p>,</span><span class=k>class</span><span class=w> </span><span class=nc>hash3</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>HashFuncDJB</span><span class=o>&gt;</span>
</span><span id=__span-0-55><span class=w>    </span><span class=k>class</span><span class=w> </span><span class=nc>Bloom_Filter</span>
</span><span id=__span-0-56><span class=w>    </span><span class=p>{</span>
</span><span id=__span-0-57><span class=w>    </span><span class=k>public</span><span class=o>:</span>
</span><span id=__span-0-58><span class=w>        </span><span class=kt>void</span><span class=w> </span><span class=n>set</span><span class=p>(</span><span class=k>const</span><span class=w> </span><span class=n>T</span><span class=o>&amp;</span><span class=w> </span><span class=n>value</span><span class=p>)</span>
</span><span id=__span-0-59><span class=w>        </span><span class=p>{</span>
</span><span id=__span-0-60><span class=w>            </span><span class=c1>// 计算出hash值</span>
</span><span id=__span-0-61><span class=w>            </span><span class=c1>// 与M取模确保hash值在布隆过滤器bit长度之内，防止越界</span>
</span><span id=__span-0-62><span class=w>            </span><span class=kt>size_t</span><span class=w> </span><span class=n>hs1</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>hash1</span><span class=p>()(</span><span class=n>value</span><span class=p>)</span><span class=w> </span><span class=o>%</span><span class=w> </span><span class=n>M</span><span class=p>;</span><span class=w> </span><span class=c1>// 匿名对象调用operator()</span>
</span><span id=__span-0-63><span class=w>            </span><span class=kt>size_t</span><span class=w> </span><span class=n>hs2</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>hash2</span><span class=p>()(</span><span class=n>value</span><span class=p>)</span><span class=w> </span><span class=o>%</span><span class=w> </span><span class=n>M</span><span class=p>;</span>
</span><span id=__span-0-64><span class=w>            </span><span class=kt>size_t</span><span class=w> </span><span class=n>hs3</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>hash3</span><span class=p>()(</span><span class=n>value</span><span class=p>)</span><span class=w> </span><span class=o>%</span><span class=w> </span><span class=n>M</span><span class=p>;</span>
</span><span id=__span-0-65>
</span><span id=__span-0-66><span class=w>            </span><span class=c1>// 设置标记位</span>
</span><span id=__span-0-67><span class=w>            </span><span class=n>_bf</span><span class=p>.</span><span class=n>set</span><span class=p>(</span><span class=n>hs1</span><span class=p>);</span>
</span><span id=__span-0-68><span class=w>            </span><span class=n>_bf</span><span class=p>.</span><span class=n>set</span><span class=p>(</span><span class=n>hs2</span><span class=p>);</span>
</span><span id=__span-0-69><span class=w>            </span><span class=n>_bf</span><span class=p>.</span><span class=n>set</span><span class=p>(</span><span class=n>hs3</span><span class=p>);</span>
</span><span id=__span-0-70><span class=w>        </span><span class=p>}</span>
</span><span id=__span-0-71>
</span><span id=__span-0-72><span class=w>        </span><span class=kt>bool</span><span class=w> </span><span class=n>test</span><span class=p>(</span><span class=k>const</span><span class=w> </span><span class=n>T</span><span class=o>&amp;</span><span class=w> </span><span class=n>value</span><span class=p>)</span>
</span><span id=__span-0-73><span class=w>        </span><span class=p>{</span>
</span><span id=__span-0-74><span class=w>            </span><span class=c1>// 计算出hash值</span>
</span><span id=__span-0-75><span class=w>            </span><span class=c1>// 只有有一个为0就返回false</span>
</span><span id=__span-0-76><span class=w>            </span><span class=kt>size_t</span><span class=w> </span><span class=n>hs1</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>hash1</span><span class=p>()(</span><span class=n>value</span><span class=p>)</span><span class=w> </span><span class=o>%</span><span class=w> </span><span class=n>M</span><span class=p>;</span>
</span><span id=__span-0-77><span class=w>            </span><span class=k>if</span><span class=p>(</span><span class=o>!</span><span class=n>_bf</span><span class=p>.</span><span class=n>test</span><span class=p>(</span><span class=n>hs1</span><span class=p>))</span>
</span><span id=__span-0-78><span class=w>            </span><span class=p>{</span>
</span><span id=__span-0-79><span class=w>                </span><span class=k>return</span><span class=w> </span><span class=nb>false</span><span class=p>;</span>
</span><span id=__span-0-80><span class=w>            </span><span class=p>}</span>
</span><span id=__span-0-81><span class=w>            </span><span class=kt>size_t</span><span class=w> </span><span class=n>hs2</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>hash2</span><span class=p>()(</span><span class=n>value</span><span class=p>)</span><span class=w> </span><span class=o>%</span><span class=w> </span><span class=n>M</span><span class=p>;</span>
</span><span id=__span-0-82><span class=w>            </span><span class=k>if</span><span class=p>(</span><span class=o>!</span><span class=n>_bf</span><span class=p>.</span><span class=n>test</span><span class=p>(</span><span class=n>hs2</span><span class=p>))</span>
</span><span id=__span-0-83><span class=w>            </span><span class=p>{</span>
</span><span id=__span-0-84><span class=w>                </span><span class=k>return</span><span class=w> </span><span class=nb>false</span><span class=p>;</span>
</span><span id=__span-0-85><span class=w>            </span><span class=p>}</span>
</span><span id=__span-0-86><span class=w>            </span><span class=kt>size_t</span><span class=w> </span><span class=n>hs3</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>hash3</span><span class=p>()(</span><span class=n>value</span><span class=p>)</span><span class=w> </span><span class=o>%</span><span class=w> </span><span class=n>M</span><span class=p>;</span>
</span><span id=__span-0-87><span class=w>            </span><span class=k>if</span><span class=p>(</span><span class=o>!</span><span class=n>_bf</span><span class=p>.</span><span class=n>test</span><span class=p>(</span><span class=n>hs3</span><span class=p>))</span>
</span><span id=__span-0-88><span class=w>            </span><span class=p>{</span>
</span><span id=__span-0-89><span class=w>                </span><span class=k>return</span><span class=w> </span><span class=nb>false</span><span class=p>;</span>
</span><span id=__span-0-90><span class=w>            </span><span class=p>}</span>
</span><span id=__span-0-91>
</span><span id=__span-0-92><span class=w>            </span><span class=c1>// 三个if都没走说明测试均为1</span>
</span><span id=__span-0-93><span class=w>            </span><span class=k>return</span><span class=w> </span><span class=nb>true</span><span class=p>;</span>
</span><span id=__span-0-94><span class=w>        </span><span class=p>}</span>
</span><span id=__span-0-95><span class=w>    </span><span class=k>private</span><span class=o>:</span>
</span><span id=__span-0-96><span class=w>        </span><span class=c1>// 长度</span>
</span><span id=__span-0-97><span class=w>        </span><span class=k>const</span><span class=w> </span><span class=kt>size_t</span><span class=w> </span><span class=n>M</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>N</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=n>X</span><span class=p>;</span>
</span><span id=__span-0-98><span class=w>        </span><span class=n>std</span><span class=o>::</span><span class=n>bitset</span><span class=o>&lt;</span><span class=n>N</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=n>X</span><span class=o>&gt;</span><span class=w> </span><span class=n>_bf</span><span class=p>;</span>
</span><span id=__span-0-99><span class=w>    </span><span class=p>};</span>
</span><span id=__span-0-100><span class=p>}</span>
</span><span id=__span-0-101><span class=cp>#endif </span><span class=c1>//BLOOM_FILTER_H</span>
</span></code></pre></div></td></tr></table></div> <h2 id=_5>布隆过滤器删除问题<a class=headerlink href=#_5 title="Permanent link">&para;</a></h2> <p><a class=glightbox href="15. 布隆过滤器与海量数据处理.assets\image2.png" data-type=image data-width=100% data-height=auto data-desc-position=bottom><img src="15. 布隆过滤器与海量数据处理.assets\image2.png"></a></p> <p>布隆过滤器默认是不支持删除的，因为比如<code>"猪八戒"</code>和<code>"孙悟空"</code>都映射在布隆过滤器中，他们映射的位有一个位是共同映射的（冲突的），如果把<code>"孙悟空"</code>删掉，那么再去查找<code>"猪八戒"</code>会查找不到，因为那么<code>"猪八戒"</code>间接被删掉了</p> <p>解决方案：可以考虑计数标记的方式，一个位置用多个位标记，记录映射这个位的计数值，删除时，仅仅减减计数，那么就可以某种程度支持删除。但是这个方案也有缺陷，如果一个值不在布隆过滤器中，则在删除时，映射位的计数自减也会影响已存在的值，从而导致一个确定存在的值，可能会变成不存在。当然也有人提出可以考虑计数方式支持删除，但是定期重建一下布隆过滤器，这样也是一种思路</p> <h2 id=_6>布隆过滤器的应用<a class=headerlink href=#_6 title="Permanent link">&para;</a></h2> <p>首先分析一下布隆过滤器的优缺点：</p> <p>优点：效率高，节省空间，相比位图，可以适用于各种类型的标记过滤</p> <p>缺点：存在误判（在是不准确的，不在是准确的），不好支持删除</p> <p>布隆过滤器在实际中的一些应用：</p> <ul> <li>爬虫系统中URL去重：</li> </ul> <p>在爬虫系统中，为了避免重复爬取相同的URL，可以使用布隆过滤器来进行URL去重。爬取到的URL可以通过布隆过滤器进行判断，已经存在的URL则可以直接忽略，避免重复的网络请求和数据处理</p> <ul> <li>垃圾邮件过滤：</li> </ul> <p>在垃圾邮件过滤系统中，布隆过滤器可以用来判断邮件是否是垃圾邮件系统可以将已知的垃圾邮件的特征信息存储在布隆过滤器中，当新的邮件到达时，可以通过布隆过滤器快速判断是否为垃圾邮件，从而提高过滤的效率</p> <ul> <li>预防缓存穿透：</li> </ul> <p>在分布式缓存系统中，布隆过滤器可以用来解决缓存穿透的问题。缓存穿透是指恶意用户请求一个不存在的数据，导致请求直接访问数据库，造成数据库压力过大。布隆过滤器可以先判断请求的数据是否存在于布隆过滤器中，如果不存在，直接返回不存在，避免对数据库的无效查询</p> <ul> <li>对数据库查询提效：</li> </ul> <p>在数据库中，布隆过滤器可以用来加速查询操作。例如：一个APP要快速判断一个电话号码是否注册过，可以使用布隆过滤器来判断一个用户电话号码是否存在于表中，如果不存在，可以直接返回不存在，避免对数据库进行无用的查询操作。如果在，再去数据库查询进行二次确认</p> <h2 id=_7>海量数据处理问题<a class=headerlink href=#_7 title="Permanent link">&para;</a></h2> <ul> <li> <p>10亿个整数里面求最大的前100个。</p> <p>经典Top-k问题，用堆解决，具体见<a href=https://www.help-doc.top/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/8.%20%E5%A0%86/8.%20%E5%A0%86.html#topk>堆</a></p> </li> <li> <p>给两个文件，分别有100亿个query，我们只有1G内存，如何找到两个文件交集</p> <p>解决方案1：</p> <p>这个首先可以用布隆过滤器解决，一个文件中的query放进布隆过滤器，另一个文件依次查找，在的就是交集，问题就是找到交集不够准确，因为在的值可能是误判的，但是交集一定被找到了</p> <p>解决方案2：</p> <p>哈希切分，首先内存的访问速度远大于硬盘，大文件放到内存搞不定，那么可以考虑切分为小文件，再放进内存处理。</p> <p>但是不要平均切分，因为平均切分以后，每个小文件都需要依次暴力处理，效率还是太低了。可以利用哈希切分，依次读取文件中query，<code>i=HashFunc(query)%N</code>，<code>N</code>为准备切分多少分小文件，<code>N</code>取决于切成多少份，内存能放下，query放进第<code>i</code>号小文件，这样A和B中相同的query算出的哈希值<code>i</code>是一样的，相同的query就进入的编号相同的小文件就可以编号相同的文件直接找交集，不用交叉找，效率就提升了。</p> <p>本质是相同的query在哈希切分过程中，一定进入的同一个小文件<code>Ai</code>和<code>Bi</code>，不可能出现A中的的query进入<code>Ai</code>，但是B中的相同query进入了和<code>Bj</code>的情况，所以对<code>Ai</code>和<code>Bi</code>进行求交集即可，不需要<code>Ai</code>和<code>Bj</code>求交集。（本段表述中和j是不同的整数）</p> <p>哈希切分的问题就是每个小文件不是均匀切分的，可能会导致某个小文件很大内存放不下。分析一下某个小文件很大有两种情况：</p> <ol> <li>这个小文件中大部分是同一个query</li> <li>这个小文件是有很多的不同query构成，本质是这些query冲突了</li> </ol> <p>针对情况1，其实放到内存的set中是可以放下的，因为set是去重的</p> <p>针对情况2，需要换个哈希函数继续二次哈希切分。所以如果遇到大于1G小文件，可以继续读到set中找交集，若set的<code>insert</code>时抛出了异常（set插入数据抛异常只可能是申请内存失败了，不会有其他情况），那么就说明内存放不下是情况2，换个哈希函数进行二次哈希切分后再对应找交集</p> <p><a class=glightbox href="15. 布隆过滤器与海量数据处理.assets\image3.png" data-type=image data-width=100% data-height=auto data-desc-position=bottom><img src="15. 布隆过滤器与海量数据处理.assets\image3.png"></a></p> </li> <li> <p>给一个超过100G大小的log file，log中存着IP地址，设计算法找到出现次数最多的IP地址，查找出现次数前10的IP地址</p> <p>本题的思路跟上题完全类似，依次读取文件A中IP，<code>i=HashFunc(query)%500,query</code>,放进<code>Ai</code>号小文件，然后依次用<code>map&lt;string,int&gt;</code>对每个<code>Ai</code>小文件统计IP次数，同时求出现次数最多的IP或者Top-k。本质是相同的IP在哈希切分过程中，一定进入的同一个小文件<code>Ai</code>，不可能出现同一个IP进入<code>Ai</code>和<code>Aj</code>的情况，所以对<code>Ai</code>进行统计次数就是准确的IP次数</p> <p><a class=glightbox href="15. 布隆过滤器与海量数据处理.assets\image4.png" data-type=image data-width=100% data-height=auto data-desc-position=bottom><img src="15. 布隆过滤器与海量数据处理.assets\image4.png"></a></p> </li> </ul> <div class="admonition note"> <p class=admonition-title>Note</p> <p>第2个问题和第3个问题本质就是利用相同的哈希值将相同的内容集中在相同的位置</p> </div> <aside class=md-source-file> <span class=md-source-file__fact> <span class=md-icon title=最后更新> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">2025年1月2日</span> </span> <span class=md-source-file__fact> <span class=md-icon title=创建日期> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">2024年10月10日</span> </span> </aside> <form class=md-feedback name=feedback hidden> <fieldset> <legend class=md-feedback__title> 页面有帮助吗？ </legend> <div class=md-feedback__inner> <div class=md-feedback__list> <button class="md-feedback__icon md-icon" type=submit title=页面对我有帮助 data-md-value=1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M5 9v12H1V9zm4 12a2 2 0 0 1-2-2V9c0-.55.22-1.05.59-1.41L14.17 1l1.06 1.06c.27.27.44.64.44 1.05l-.03.32L14.69 8H21a2 2 0 0 1 2 2v2c0 .26-.05.5-.14.73l-3.02 7.05C19.54 20.5 18.83 21 18 21zm0-2h9.03L21 12v-2h-8.79l1.13-5.32L9 9.03z"/></svg> </button> <button class="md-feedback__icon md-icon" type=submit title=页面没有帮助到我 data-md-value=0> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 15V3h4v12zM15 3a2 2 0 0 1 2 2v10c0 .55-.22 1.05-.59 1.41L9.83 23l-1.06-1.06c-.27-.27-.44-.64-.44-1.06l.03-.31.95-4.57H3a2 2 0 0 1-2-2v-2c0-.26.05-.5.14-.73l3.02-7.05C4.46 3.5 5.17 3 6 3zm0 2H5.97L3 12v2h8.78l-1.13 5.32L15 14.97z"/></svg> </button> </div> <div class=md-feedback__note> <div data-md-value=1 hidden> 谢谢你的反馈！ </div> <div data-md-value=0 hidden> 谢谢你的反馈！联系<a href=https://www.help-doc.top/%E4%BD%9C%E8%80%85/%E4%BD%9C%E8%80%85.html>作者</a>提供更详细的信息 </div> </div> </div> </fieldset> </form> <!-- Waline 评论系统 --> <div class=waline-comments-container> <div class=waline-comments-header> <h3>评论区</h3> <p>欢迎在这里留下你的想法和建议！</p> </div> <div id=waline></div> </div> <!-- Waline CSS --> <link rel=stylesheet href=https://unpkg.com/@waline/client@v3/dist/waline.css> <!-- Waline JavaScript --> <script type=module>
    import { init } from 'https://unpkg.com/@waline/client@v3/dist/waline.js';
    init({
        el: '#waline',
        serverURL: 'https://waline-g9cd3pdxr-mark-watneys-projects-c5945306.vercel.app/',
    });
</script> <style>
.waline-comments-container {
    margin-top: 3rem;
    padding: 2rem 0;
    border-top: 1px solid var(--md-default-fg-color--lightest);
}

.waline-comments-header {
    margin-bottom: 2rem;
    text-align: center;
}

.waline-comments-header h3 {
    margin: 0 0 0.5rem 0;
    font-size: 1.5rem;
    font-weight: 600;
    color: var(--md-default-fg-color);
}

.waline-comments-header p {
    margin: 0;
    color: var(--md-default-fg-color--light);
    font-size: 0.9rem;
}

/* 加载状态 */
.waline-loading {
    text-align: center;
    padding: 2rem;
    color: var(--md-default-fg-color--light);
}

.loading-spinner {
    width: 40px;
    height: 40px;
    border: 3px solid var(--md-default-fg-color--lightest);
    border-top: 3px solid var(--md-primary-fg-color);
    border-radius: 50%;
    animation: spin 1s linear infinite;
    margin: 0 auto 1rem;
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

/* 错误状态 */
.waline-error {
    text-align: center;
    padding: 2rem;
    color: var(--md-default-fg-color--light);
}

.error-icon {
    font-size: 2rem;
    margin-bottom: 1rem;
}

.retry-btn {
    background-color: var(--md-primary-fg-color);
    color: var(--md-primary-bg-color);
    border: none;
    padding: 0.5rem 1rem;
    border-radius: 4px;
    cursor: pointer;
    margin-top: 1rem;
    font-size: 0.9rem;
}

.retry-btn:hover {
    background-color: var(--md-primary-fg-color--dark);
}

.details-btn {
    background-color: transparent;
    color: var(--md-default-fg-color--light);
    border: 1px solid var(--md-default-fg-color--lightest);
    padding: 0.5rem 1rem;
    border-radius: 4px;
    cursor: pointer;
    margin-top: 1rem;
    margin-left: 0.5rem;
    font-size: 0.9rem;
}

.details-btn:hover {
    background-color: var(--md-default-fg-color--lightest);
}

.error-details {
    margin-top: 1rem;
    padding: 1rem;
    background-color: var(--md-default-bg-color);
    border: 1px solid var(--md-default-fg-color--lightest);
    border-radius: 4px;
    text-align: left;
    font-size: 0.85rem;
    line-height: 1.5;
    color: var(--md-default-fg-color--light);
}

/* 适配网站主题色彩 */
.waline-comments-container .wl-panel {
    border-radius: 8px;
    border: 1px solid var(--md-default-fg-color--lightest);
    background-color: var(--md-default-bg-color);
}

.waline-comments-container .wl-editor {
    background-color: var(--md-default-bg-color);
    border: 1px solid var(--md-default-fg-color--lightest);
    border-radius: 6px;
}

.waline-comments-container .wl-input {
    background-color: var(--md-default-bg-color);
    border: 1px solid var(--md-default-fg-color--lightest);
    color: var(--md-default-fg-color);
}

.waline-comments-container .wl-input:focus {
    border-color: var(--md-primary-fg-color);
}

.waline-comments-container .wl-btn {
    background-color: var(--md-primary-fg-color);
    border-color: var(--md-primary-fg-color);
    color: var(--md-primary-bg-color);
}

.waline-comments-container .wl-btn:hover {
    background-color: var(--md-primary-fg-color--dark);
    border-color: var(--md-primary-fg-color--dark);
}

/* 响应式设计 */
@media screen and (max-width: 768px) {
    .waline-comments-container {
        padding: 1.5rem 0;
        margin-top: 2rem;
    }
    
    .waline-comments-header h3 {
        font-size: 1.3rem;
    }
}

/* 暗色主题适配 */
[data-md-color-scheme="slate"] .waline-comments-container {
    border-top-color: var(--md-default-fg-color--lightest);
}

[data-md-color-scheme="slate"] .waline-comments-container .wl-panel {
    background-color: var(--md-default-bg-color);
    border-color: var(--md-default-fg-color--lightest);
}

[data-md-color-scheme="slate"] .waline-comments-container .wl-editor {
    background-color: var(--md-default-bg-color);
    border-color: var(--md-default-fg-color--lightest);
}

[data-md-color-scheme="slate"] .waline-comments-container .wl-input {
    background-color: var(--md-default-bg-color);
    border-color: var(--md-default-fg-color--lightest);
    color: var(--md-default-fg-color);
}

[data-md-color-scheme="slate"] .loading-spinner {
    border-color: var(--md-default-fg-color--lightest);
    border-top-color: var(--md-primary-fg-color);
}

[data-md-color-scheme="slate"] .retry-btn {
    background-color: var(--md-primary-fg-color);
    color: var(--md-primary-bg-color);
}

[data-md-color-scheme="slate"] .details-btn {
    background-color: transparent;
    color: var(--md-default-fg-color--light);
    border-color: var(--md-default-fg-color--lightest);
}

[data-md-color-scheme="slate"] .details-btn:hover {
    background-color: var(--md-default-fg-color--lightest);
}

[data-md-color-scheme="slate"] .error-details {
    background-color: var(--md-default-bg-color);
    border-color: var(--md-default-fg-color--lightest);
    color: var(--md-default-fg-color--light);
}
</style> <!-- 阅读进度条 - 直接在HTML中定义 --> <div class=reading-progress></div> <!-- 滚动指示器 - 直接在HTML中定义 --> <div class=scroll-indicator></div> <!-- 评论系统 - 只在文章页面显示，不在首页和索引页显示 --> <!-- Waline 评论系统 --> <div class=waline-comments-container> <div class=waline-comments-header> <h3>评论区</h3> <p>欢迎在这里留下你的想法和建议！</p> </div> <div id=waline></div> </div> <!-- Waline CSS --> <link rel=stylesheet href=https://unpkg.com/@waline/client@v3/dist/waline.css> <!-- Waline JavaScript --> <script type=module>
    import { init } from 'https://unpkg.com/@waline/client@v3/dist/waline.js';
    init({
        el: '#waline',
        serverURL: 'https://waline-g9cd3pdxr-mark-watneys-projects-c5945306.vercel.app/',
    });
</script> <style>
.waline-comments-container {
    margin-top: 3rem;
    padding: 2rem 0;
    border-top: 1px solid var(--md-default-fg-color--lightest);
}

.waline-comments-header {
    margin-bottom: 2rem;
    text-align: center;
}

.waline-comments-header h3 {
    margin: 0 0 0.5rem 0;
    font-size: 1.5rem;
    font-weight: 600;
    color: var(--md-default-fg-color);
}

.waline-comments-header p {
    margin: 0;
    color: var(--md-default-fg-color--light);
    font-size: 0.9rem;
}

/* 加载状态 */
.waline-loading {
    text-align: center;
    padding: 2rem;
    color: var(--md-default-fg-color--light);
}

.loading-spinner {
    width: 40px;
    height: 40px;
    border: 3px solid var(--md-default-fg-color--lightest);
    border-top: 3px solid var(--md-primary-fg-color);
    border-radius: 50%;
    animation: spin 1s linear infinite;
    margin: 0 auto 1rem;
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

/* 错误状态 */
.waline-error {
    text-align: center;
    padding: 2rem;
    color: var(--md-default-fg-color--light);
}

.error-icon {
    font-size: 2rem;
    margin-bottom: 1rem;
}

.retry-btn {
    background-color: var(--md-primary-fg-color);
    color: var(--md-primary-bg-color);
    border: none;
    padding: 0.5rem 1rem;
    border-radius: 4px;
    cursor: pointer;
    margin-top: 1rem;
    font-size: 0.9rem;
}

.retry-btn:hover {
    background-color: var(--md-primary-fg-color--dark);
}

.details-btn {
    background-color: transparent;
    color: var(--md-default-fg-color--light);
    border: 1px solid var(--md-default-fg-color--lightest);
    padding: 0.5rem 1rem;
    border-radius: 4px;
    cursor: pointer;
    margin-top: 1rem;
    margin-left: 0.5rem;
    font-size: 0.9rem;
}

.details-btn:hover {
    background-color: var(--md-default-fg-color--lightest);
}

.error-details {
    margin-top: 1rem;
    padding: 1rem;
    background-color: var(--md-default-bg-color);
    border: 1px solid var(--md-default-fg-color--lightest);
    border-radius: 4px;
    text-align: left;
    font-size: 0.85rem;
    line-height: 1.5;
    color: var(--md-default-fg-color--light);
}

/* 适配网站主题色彩 */
.waline-comments-container .wl-panel {
    border-radius: 8px;
    border: 1px solid var(--md-default-fg-color--lightest);
    background-color: var(--md-default-bg-color);
}

.waline-comments-container .wl-editor {
    background-color: var(--md-default-bg-color);
    border: 1px solid var(--md-default-fg-color--lightest);
    border-radius: 6px;
}

.waline-comments-container .wl-input {
    background-color: var(--md-default-bg-color);
    border: 1px solid var(--md-default-fg-color--lightest);
    color: var(--md-default-fg-color);
}

.waline-comments-container .wl-input:focus {
    border-color: var(--md-primary-fg-color);
}

.waline-comments-container .wl-btn {
    background-color: var(--md-primary-fg-color);
    border-color: var(--md-primary-fg-color);
    color: var(--md-primary-bg-color);
}

.waline-comments-container .wl-btn:hover {
    background-color: var(--md-primary-fg-color--dark);
    border-color: var(--md-primary-fg-color--dark);
}

/* 响应式设计 */
@media screen and (max-width: 768px) {
    .waline-comments-container {
        padding: 1.5rem 0;
        margin-top: 2rem;
    }
    
    .waline-comments-header h3 {
        font-size: 1.3rem;
    }
}

/* 暗色主题适配 */
[data-md-color-scheme="slate"] .waline-comments-container {
    border-top-color: var(--md-default-fg-color--lightest);
}

[data-md-color-scheme="slate"] .waline-comments-container .wl-panel {
    background-color: var(--md-default-bg-color);
    border-color: var(--md-default-fg-color--lightest);
}

[data-md-color-scheme="slate"] .waline-comments-container .wl-editor {
    background-color: var(--md-default-bg-color);
    border-color: var(--md-default-fg-color--lightest);
}

[data-md-color-scheme="slate"] .waline-comments-container .wl-input {
    background-color: var(--md-default-bg-color);
    border-color: var(--md-default-fg-color--lightest);
    color: var(--md-default-fg-color);
}

[data-md-color-scheme="slate"] .loading-spinner {
    border-color: var(--md-default-fg-color--lightest);
    border-top-color: var(--md-primary-fg-color);
}

[data-md-color-scheme="slate"] .retry-btn {
    background-color: var(--md-primary-fg-color);
    color: var(--md-primary-bg-color);
}

[data-md-color-scheme="slate"] .details-btn {
    background-color: transparent;
    color: var(--md-default-fg-color--light);
    border-color: var(--md-default-fg-color--lightest);
}

[data-md-color-scheme="slate"] .details-btn:hover {
    background-color: var(--md-default-fg-color--lightest);
}

[data-md-color-scheme="slate"] .error-details {
    background-color: var(--md-default-bg-color);
    border-color: var(--md-default-fg-color--lightest);
    color: var(--md-default-fg-color--light);
}
</style> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> </main> <!--
  Copyright (c) 2016-2024 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
--> <!-- Footer --> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-footer-copyright__highlight> Copyright &copy; 2024-2025 柯懒不是柯南 </div> </div> <div class="md-footer-love md-typeset"> 一闪一闪亮晶晶，不及<span class=love-highlight>小亮</span><span class=love-heart>♥</span>照我心。To Li Liang </div> <div class=md-social> <a href=https://github.com/H0308 target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> <a href=https://www.help-doc.top/%E4%BD%9C%E8%80%85/%E4%BD%9C%E8%80%85.html target=_blank rel=noopener title=www.help-doc.top class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M433.754 420.445c-11.526 1.393-44.86-52.741-44.86-52.741 0 31.345-16.136 72.247-51.051 101.786 16.842 5.192 54.843 19.167 45.803 34.421-7.316 12.343-125.51 7.881-159.632 4.037-34.122 3.844-152.316 8.306-159.632-4.037-9.045-15.25 28.918-29.214 45.783-34.415-34.92-29.539-51.059-70.445-51.059-101.792 0 0-33.334 54.134-44.859 52.741-5.37-.65-12.424-29.644 9.347-99.704 10.261-33.024 21.995-60.478 40.144-105.779C60.683 98.063 108.982.006 224 0c113.737.006 163.156 96.133 160.264 214.963 18.118 45.223 29.912 72.85 40.144 105.778 21.768 70.06 14.716 99.053 9.346 99.704"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["navigation.indexes", "navigation.prune", "navigation.tabs", "search.highlight", "content.code.copy"], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}, "version": null}</script> <script src=../../assets/javascripts/bundle.c8b220af.min.js></script> <script src=../../javascripts/katex.min.js></script> <script src=../../javascripts/other.min.js></script> <script src=../../javascripts/copyright.min.js></script> <script src=https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/katex.min.js></script> <script src=https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/contrib/auto-render.min.js></script> <script src=../../assets/javascripts/toggle-sidebar.js async></script> <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body> </html>