<!doctype html><html lang=zh class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=canonical href=https://www.help-doc.top/%E7%AE%97%E6%B3%95/8.%20%E5%9B%9E%E6%BA%AF%E7%AF%87/3.%20%E5%9B%9E%E6%BA%AF%E8%BF%9B%E9%98%B6%E7%BB%83%E4%B9%A0/3.%20%E5%9B%9E%E6%BA%AF%E8%BF%9B%E9%98%B6%E7%BB%83%E4%B9%A0.html><link rel=prev href=../2.%20%E5%9B%9E%E6%BA%AF%E5%9F%BA%E7%A1%80%E7%BB%83%E4%B9%A0/2.%20%E5%9B%9E%E6%BA%AF%E5%9F%BA%E7%A1%80%E7%BB%83%E4%B9%A0.html><link rel=next href=../../9.%20%E8%B4%AA%E5%BF%83%E7%AF%87/1.%20%E8%B4%AA%E5%BF%83%E7%90%86%E8%AE%BA%E5%9F%BA%E7%A1%80/1.%20%E8%B4%AA%E5%BF%83%E7%90%86%E8%AE%BA%E5%9F%BA%E7%A1%80.html><link rel=icon href=../../../images/favicon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.12"><title>回溯进阶练习 - 柯懒的知识库</title><link rel=stylesheet href=../../../assets/stylesheets/main.2afb09e1.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.06af60db.min.css><link rel=stylesheet href=../../../css/timeline.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/katex.min.css><script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-9XWRGNRRSY"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-9XWRGNRRSY",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-9XWRGNRRSY",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script><link rel=stylesheet href=../../../stylesheets/colors.min.css><link rel=stylesheet href=../../../stylesheets/theme2.min.css media="screen and (max-width: 767px)"><link rel=stylesheet href=../../../stylesheets/theme2.min.css media="screen and (min-width: 768px) and (max-width: 1199px)"><link rel=stylesheet href=../../../stylesheets/theme1.min.css media="screen and (min-width: 1200px)"><link rel=stylesheet href=../../../stylesheets/print.min.css><script src=https://cdn.jsdelivr.net/npm/mermaid@11.5.0/dist/mermaid.min.js></script><style>
    @import url("https://static.zeoseven.com/zsft/2/main/result.css");
    /* 江城黑体备用 */
    @import url("https://fontsapi.zeoseven.com/194/main/result.css");
    /* OPPO Sans主字体 */
    @import url("https://fonts.cdnfonts.com/css/opposans");
    /* Dejavu Sans Mono */
    @import url('https://fonts.cdnfonts.com/css/dejavu-sans-mono');
    /* 寒蝉团圆体 Sans */
    @import url("https://fontsapi.zeoseven.com/70/main/result.css");

    @font-face {
        font-family: "OPPOSans";
    }

    @font-face {
        font-family: "JiangChengHeiTi 400W";
    }

    @font-face {
        font-family: "LXGW ZhenKai";
    }

    @font-face {
        font-family: 'DejaVu Sans Mono';
    }

    /* JetBrains Mono字体 */
    @font-face {
        font-family: "ZSFT-hk";
        src: url("https://static.zeoseven.com/zsft/hk/main.woff2") format("woff2"),
            url("https://static-host.zeoseven.com/zsft/hk/main.woff2") format("woff2");
    }

    @font-face {
        font-family: "寒蝉团圆体 Sans";
    }

    .md-header__topic .md-ellipsis {
        font-family: "寒蝉团圆体 Sans" !important;
    }

    :root {
        --md-text-font: "OPPOSans", "JiangChengHeiTi 400W", sans-serif;
        --md-header-font: "LXGW ZhenKai", sans-serif;
        --md-code-font: "DejaVu Sans Mono", "ZSFT-hk";
        --code-font-color: var(--text-code);
    }

    h1+div>p {
        font-family: var(--md-header-font);
    }

    @media screen and (max-width: 1199px) {
        .theme-switch {
            display: none !important;
        }
    }

    .theme-switch {
        display: inline-flex;
        gap: 8px;
        margin-right: 1rem;
        padding: 4px;
    }

    .theme-switch {
        margin-right: 1rem;
    }

    .theme-btn {
        font-family: var(--md-text-font);
        font-size: medium;
        padding: 8px 16px;
        border: none;
        border-radius: 8px 8px;
        color: var(--text-white);
        cursor: pointer;
        min-width: 135px;
        height: 36px;
        position: relative;
        overflow: hidden;
        display: flex;
        align-items: center;
        justify-content: center;
        /* 创建一个横向的渐变，包含两种状态的颜色 */
        background-image: var(--gradient-theme-button);
        /* 设置背景尺寸为两倍按钮宽度，这样可以容纳两种状态 */
        background-size: 200% 100%;
        /* 初始位置显示右半部分（默认颜色） */
        background-position: 100% 0;
        background-repeat: no-repeat;
        /* 确保背景位置变化有过渡效果 */
        transition: background-position 0.5s cubic-bezier(0.4, 0, 0.2, 1),
            transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .theme-btn .current-theme,
    .theme-btn .target-theme {
        position: absolute;
        width: 100%;
        left: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        z-index: 2;
    }

    .theme-btn .current-theme {
        transform: translateX(0);
        opacity: 1;
        transition-delay: 0ms;
    }

    .theme-btn .target-theme {
        transform: translateX(-100%);
        opacity: 0;
        transition-delay: 0ms;
    }

    .theme-btn:hover {
        transform: scale(1.05);
        /* 悬浮时显示左半部分（悬浮颜色） */
        background-position: 0 0;
    }

    .theme-btn:hover .current-theme {
        transform: translateX(100%);
        opacity: 0;
        transition-delay: 100ms;
    }

    .theme-btn:hover .target-theme {
        transform: translateX(0);
        opacity: 1;
        transition-delay: 200ms;
    }

    .theme-btn:active {
        transform: scale(0.95);
        transition: all 100ms ease;
    }

    .md-content article>*:not(.md-top):not(.md-nav) {
        animation: flyIn 0.6s ease-out forwards;
        opacity: 0;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(1) {
        animation-delay: 0.1s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(2) {
        animation-delay: 0.15s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(3) {
        animation-delay: 0.2s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(4) {
        animation-delay: 0.25s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(5) {
        animation-delay: 0.3s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(6) {
        animation-delay: 0.35s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(7) {
        animation-delay: 0.4s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(8) {
        animation-delay: 0.45s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(9) {
        animation-delay: 0.5s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(10) {
        animation-delay: 0.55s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(11) {
        animation-delay: 0.6s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(12) {
        animation-delay: 0.65s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(13) {
        animation-delay: 0.7s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(14) {
        animation-delay: 0.75s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(15) {
        animation-delay: 0.8s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(16) {
        animation-delay: 0.85s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(17) {
        animation-delay: 0.9s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(18) {
        animation-delay: 0.95s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(19) {
        animation-delay: 1s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(20) {
        animation-delay: 1.05s;
    }

    .md-content article>*:not(.md-top):not(.md-nav):nth-child(n + 21) {
        animation-delay: 1.1s;
    }

    @keyframes flyIn {
        0% {
            opacity: 0;
            transform: translateY(-20px);
        }

        100% {
            opacity: 1;
            transform: translateY(0);
        }
    }

    @media (prefers-reduced-motion: reduce) {
        .md-content article>*:not(.md-top):not(.md-nav) {
            animation: none !important;
            opacity: 1 !important;
            transform: none !important;
        }
    }

    /* 添加超时后强制显示内容 */
    .md-content article>*:not(.md-top):not(.md-nav) {
        animation: flyIn 0.6s ease-out forwards;
        opacity: 0;
        /* 添加延迟后的备用显示 */
        animation-fill-mode: both;
    }

    /* 确保在3秒后强制显示所有内容 */
    .md-content {
        animation: ensureVisible 0.1s ease-out 3s forwards;
    }

    @keyframes ensureVisible {
        to {
            --force-visible: 1;
        }
    }

    .md-content[style*="--force-visible"] article>*:not(.md-top):not(.md-nav) {
        opacity: 1 !important;
        transform: translateY(0) !important;
    }

    li::marker {
        color: var(--primary-blue-semi);
    }

    [data-md-toggle=search]:checked~.md-header .md-search__form {
        border-radius: 8px 8px 0px 0px;
    }

    .md-search__form {
        background: var(--primary-blue-strong);
        border-radius: 20px;
        padding: 2px;
        transition: all 0.3s ease;
    }

    .md-search__input {
        border: none;
        border-radius: 18px;
        padding: 8px 16px;
        font-size: 14px;
        transition: all 0.3s ease;
    }

    .md-search__input::placeholder {
        color: var(--text-purple);
    }

    .md-search__input:hover,
    .md-search__input:focus {
        outline: none;
        box-shadow: var(--table-shadow);
        border-radius: 18px !important;
    }

    .md-search__output {
        border-radius: 0px 0px 8px 8px !important;
    }

    .md-tooltip {
        background-color: var(--overlay-dark);
        color: var(--text-white);
        border: none;
        border-radius: 6px;
        padding: 8px 12px;
        font-size: 12px;
        box-shadow: var(--shadow-dark);
        position: relative;
    }

    .md-tooltip:after {
        content: '';
        position: absolute;
        top: 100%;
        left: 50%;
        margin-left: -5px;
        width: 0;
        height: 0;
        border-left: 5px solid transparent;
        border-right: 5px solid transparent;
        border-top: 5px solid var(--overlay-dark);
    }

    :not(pre)>code {
        color: var(--text-orange) !important;
        font-weight: normal;
    }

    .highlight .c1,
    .highlight .cm {
        color: var(--text-gray);
    }

    .md-typeset .admonition,
    .md-typeset details {
        border-width: 0;
        border-left-width: 4px;
    }

    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
        font-family: var(--md-header-font);
        color: var(--primary-blue) !important;
    }

    body {
        font-family: var(--md-text-font);
    }

    pre code {
        color: var(--md-code-fg-color) !important;
    }

    .highlight pre {
        background-color: var(--md-code-bg-color) !important;
    }

    .md-typeset code {
        font-family: var(--md-code-font), var(--md-text-font);
    }

    .md-tabs__item.md-tabs__item--active {
        border-bottom: 2px solid var(--primary-blue-semi);
    }

    .md-tabs__list>.md-tabs__item--active>.md-tabs__link {
        color: var(--primary-blue-semi) !important;
    }

    .timeline-content::before {
        background-color: var(--bg-gray-light);
    }

    .timeline-card {
        background-color: var(--bg-gray-light) !important;
    }

    .changelog-content a {
        color: var(--text-blue) !important;
        word-break: break-word;
    }

    .changelog-content a:focus,
    .changelog-content a:hover {
        color: var(--text-teal) !important;
    }

    .changelog-type-pageupdate {
        background-color: var(--primary-blue-semi) !important;
    }

    .md-footer-runtime {
        position: relative;
        z-index: 3;
        margin: 0.5rem 0;
        padding: 0.4rem 0;
        font-size: 0.7rem;
        line-height: 1.6;
        color: var(--md-footer-fg-color--light);
        display: flex;
        align-items: center;
    }

    ::selection {
        background: var(--primary-blue-strong);
    }

    html {
        scroll-behavior: smooth !important;
        /* 强制启用平滑滚动 */
        scroll-padding-top: 53px;
        /* 设置滚动偏移量,避免标题被导航栏遮挡 */
    }

    strong {
        color: var(--text-purple);
    }

    a[href^="#"],
    a[href*="/#"] {
        scroll-behavior: smooth !important;
    }

    .custom-tooltip {
        position: relative;
        display: inline-block;
        cursor: help;
        color: var(--primary-blue-semi);
        border-bottom: 1px dashed var(--primary-blue-semi);
        text-decoration: none !important;
    }

    .custom-tooltip::before {
        content: attr(data-title);
        position: absolute;
        width: 300px;
        background-color: var(--overlay-dark);
        color: var(--text-white);
        text-align: left;
        padding: 10px;
        border-radius: 6px;
        bottom: 125%;
        /* 定位在链接上方 */
        left: 50%;
        transform: translateX(-50%);
        z-index: 99999;
        /* 确保显示在最上层 */
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.3s;
        font-weight: normal;
        font-size: 14px;
        line-height: 1.5;
        pointer-events: none;
        box-shadow: var(--shadow-dark);
        word-wrap: break-word;
        white-space: normal;
    }

    .custom-tooltip::after {
        content: "";
        position: absolute;
        bottom: 100%;
        left: 50%;
        margin-left: -5px;
        border-width: 5px;
        border-style: solid;
        border-color: var(--overlay-dark) transparent transparent transparent;
        z-index: 99999;
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.3s;
        pointer-events: none;
    }

    .custom-tooltip:hover::before {
        opacity: 1;
        visibility: visible;
    }

    .custom-tooltip:hover::after {
        opacity: 1;
        visibility: visible;
    }

    /* 修改移动设备上的 tooltip 样式，确保不会溢出屏幕 */
    @media (max-width: 767px) {
        .custom-tooltip::before {
            width: calc(100vw - 40px);
            max-width: 250px;
            white-space: normal;
            font-size: 14px;
            left: 50%;
            transform: translateX(-50%);
            bottom: 130%;
            /* 确保不会超出屏幕边缘 */
            box-sizing: border-box;

            /* 新增：定位逻辑调整，防止溢出 */
            position: fixed;
            top: auto;
            bottom: auto;
            left: 20px;
            /* 距离左边缘固定距离 */
            right: 20px;
            /* 距离右边缘固定距离 */
            transform: none;
            margin-top: -120px;
            /* 在目标元素上方显示，可根据需要调整 */
            width: auto;
            /* 宽度由left和right决定 */
        }

        /* 新增：处理靠近页面底部的 tooltip */
        .custom-tooltip:hover::before {
            max-height: 80vh;
            /* 最大高度限制 */
            overflow-y: auto;
            /* 内容过多时可滚动 */
        }
    }

    .md-content a.custom-tooltip::after {
        display: none !important;
    }

    @media screen and (max-width: 767px) {

        /* 移除可能导致问题的现有样式 */
        .md-typeset .arithmatex {
            max-width: 100%;
            overflow-x: hidden;
            text-overflow: ellipsis;
        }

        /* 修改为更有效的样式 */
        .katex-display {
            overflow-x: auto;
            overflow-y: hidden;
            max-width: 100%;
            padding: 0.25em 0;
        }

        /* 对于行内公式的新样式 */
        .katex {
            font-size: 1em !important;
            /* 减小字体大小 */
        }

        /* 调整整体数学公式容器的样式 */
        .md-typeset .arithmatex {
            max-width: 100% !important;
            overflow-x: auto;
            padding: 0.1em 0;
            margin: 0;
            display: block;
        }

        /* 确保行内公式不破坏布局 */
        .katex-inline {
            display: inline-block;
            max-width: 100%;
            overflow-x: auto;
            vertical-align: middle;
            white-space: normal;
            line-break: anywhere;
        }

        /* 添加淡出效果指示可滚动 */
        .katex-display::after {
            content: "";
            position: absolute;
            right: 0;
            top: 0;
            height: 100%;
            width: 20px;
            background: linear-gradient(to right,
                    rgba(255, 255, 255, 0),
                    rgba(255, 255, 255, 0.7));
            pointer-events: none;
        }
    }

    /* 头像样式 - 增强版，添加悬浮区域控制 */
    .header-avatar {
        display: inline-flex;
        align-items: center;
        margin-right: 0.8rem;
        position: relative;
        z-index: 10;
        /* 添加一个内边距以增加可点击区域，但不会影响布局 */
        padding: 3px;
    }

    .header-avatar img {
        width: 36px;
        height: 36px;
        border-radius: 50%;
        object-fit: cover;
        border: 2px solid #fff;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
        transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
        position: relative;
        z-index: 5;
    }

    /* 下拉菜单样式 - 增强版，改进悬浮区域控制 */
    .avatar-dropdown {
        position: absolute;
        top: 100%;
        left: 50%;
        transform: translateX(-50%) translateY(25px) scale(0.95);
        background-color: var(--avatar-dropdown-color);
        border-radius: 12px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.18);
        padding: 45px 0 8px 0;
        /* 增加更多顶部内边距 */
        min-width: 140px;
        opacity: 0;
        visibility: hidden;
        transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
        z-index: 4;
        /* 低于头像 */
        margin-top: -10px;
        /* 让菜单上移覆盖头像下半部分 */
        /* 添加一个缓冲区，防止鼠标离开时闪烁 */
        pointer-events: none;
    }

    /* 悬停效果，修改触发条件和过渡延迟 */
    .header-avatar:hover .avatar-dropdown {
        opacity: 1;
        visibility: visible;
        transform: translateX(-50%) translateY(15px) scale(1);
        /* 添加延迟以防止闪烁 */
        transition-delay: 0.05s;
        pointer-events: auto;
    }

    /* 添加间隙区域保持悬停状态 */
    .avatar-dropdown::after {
        content: "";
        position: absolute;
        top: -20px;
        /* 创建顶部缓冲区 */
        left: 0;
        width: 100%;
        height: 20px;
        background: transparent;
    }

    .header-avatar:hover img {
        transform: scale(1.5) translateY(18px);
        /* 放大并稍微向下移动 */
        box-shadow: 0 6px 16px rgba(77, 166, 218, 0.35);
        border-color: var(--primary-blue-semi);
        /* 添加延迟以防止闪烁 */
        transition-delay: 0s;
    }

    /* 菜单三角形指示器 - 隐藏，因为视觉上头像已经作为指示器 */
    .avatar-dropdown::before {
        display: none;
    }

    /* 菜单项样式 */
    .avatar-dropdown-item {
        display: block;
        padding: 10px 16px;
        color: var(--text-primary);
        font-size: 14px;
        text-decoration: none;
        transition: all 0.25s ease;
        text-align: center;
        position: relative;
        white-space: nowrap;
    }

    .avatar-dropdown p {
        padding: 10px 16px;
        color: var(--text-primary);
        font-size: 16px;
        text-align: center;
        white-space: nowrap;
    }

    .avatar-dropdown-item:hover {
        background-color: rgba(77, 166, 218, 0.08);
        color: var(--primary-blue-semi);
    }

    .avatar-dropdown-item:hover::after {
        content: "";
        position: absolute;
        left: 8px;
        width: 3px;
        height: 70%;
        background: var(--primary-blue-semi);
        border-radius: 2px;
        top: 15%;
    }

    .avatar-dropdown-divider {
        height: 1px;
        background-color: rgba(0, 0, 0, 0.06);
        margin: 4px 8px;
    }

    /* 响应式设计调整 */
    @media screen and (max-width: 1199px) {
        .theme-switch {
            display: none !important;
        }

        .header-avatar {
            margin-right: 0.5rem;
        }
    }

    /* 响应式设计调整 */
    @media screen and (max-width: 1200px) {
        .header-avatar {
            margin-right: 0.3rem;
            padding: 2px;
        }

        .header-avatar img {
            width: 32px;
            height: 32px;
        }

        /* 调整菜单位置，靠左侧显示 */
        .avatar-dropdown {
            /* 调整left确保显示在左侧 */
            left: -120px;
            transform: translateX(0) translateY(25px) scale(0.95);
            padding-top: 15px;
            margin-top: 0;
            min-width: 130px;
            position: absolute;
            z-index: 100;
        }

        /* 点击时的行为，而不是悬停 */
        .header-avatar:hover .avatar-dropdown {
            transform: translateX(0) translateY(5px) scale(1);
        }

        /* 移动端头像不放大，防止页面移动 */
        .header-avatar:hover img {
            transform: none;
            border-color: var(--primary-blue-semi);
            box-shadow: 0 4px 12px rgba(77, 166, 218, 0.3);
        }

        /* 调整导航栏布局 */
        .md-header__inner {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        /* 确保下拉菜单不遮挡其他元素 */
        .avatar-dropdown {
            max-width: 85vw;
        }
    }

    ::-webkit-scrollbar {
        width: 8px;
        height: 8px;
    }

    ::-webkit-scrollbar-track {
        background: #f1f1f1;
        border-radius: 4px;
    }

    ::-webkit-scrollbar-thumb {
        background: #ccc;
        border-radius: 4px;
    }

    ::-webkit-scrollbar-thumb:hover {
        background: #999;
    }

    /* 主题切换蒙版 - 优化结构和性能 */
    .theme-transition-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: var(--theme-transition-overlay);
        z-index: 9999;
        opacity: 0;
        visibility: hidden;
        pointer-events: none;
        display: flex;
        align-items: center;
        justify-content: center;
        /* 简化过渡效果，提高性能 */
        transition: opacity 0.3s ease-out, visibility 0.3s ease-out,
            background-color 0.3s ease-out, backdrop-filter 0.3s ease-out;
        backdrop-filter: blur(0px);
    }

    .theme-transition-overlay.active {
        opacity: 1;
        visibility: visible;
        pointer-events: all;
        backdrop-filter: blur(5px);
    }

    /* 主题切换内容容器 - 整合样式 */
    .theme-transition-content {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        gap: 20px;
        transform: scale(0.9);
        opacity: 0;
        transition: transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1),
            opacity 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
    }

    .theme-transition-overlay.active .theme-transition-content {
        transform: scale(1);
        opacity: 1;
    }

    /* 简化加载图标结构，移除不必要的嵌套 */
    .theme-transition-spinner {
        width: 50px;
        height: 50px;
        border: 5px solid rgba(77, 166, 218, 0.2);
        border-top-color: var(--primary-blue-semi);
        border-radius: 50%;
        animation: none;
        transition: opacity 0.3s ease;
    }

    .theme-transition-overlay.active .theme-transition-spinner {
        animation: spin 1s linear infinite;
    }

    @keyframes spin {
        to {
            transform: rotate(360deg);
        }
    }

    /* 主题切换文字样式 */
    .theme-transition-text {
        font-family: var(--md-text-font);
        color: var(--primary-blue-semi);
        font-size: 16px;
        font-weight: 500;
        text-align: center;
        margin-top: 10px;
    }

    /* 页脚爱情宣言样式 */
    .md-footer-love {
        position: relative;
        font-family: var(--md-header-font);
        font-size: 0.9rem;
        line-height: 1.6;
        margin: 0.5rem 0;
        padding: 0.5rem 1rem;
        color: rgba(255, 255, 255, 0.85);
        text-align: center;
        border-radius: 8px;
        background: linear-gradient(135deg,
                rgba(255, 255, 255, 0.1),
                rgba(255, 255, 255, 0.05));
        backdrop-filter: blur(4px);
        transition: all 0.4s ease;
        overflow: hidden;
        border-left: 3px solid rgba(255, 182, 193, 0.6);
    }

    .md-footer-love:hover {
        background: linear-gradient(135deg,
                rgba(255, 182, 193, 0.2),
                rgba(255, 255, 255, 0.1));
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(255, 182, 193, 0.15);
    }

    /* 添加闪烁星星效果 */
    .md-footer-love::before,
    .md-footer-love::after {
        content: "★";
        position: absolute;
        opacity: 0;
        font-size: 0.8rem;
        color: rgba(255, 223, 223, 0.8);
        animation: twinkle 3s ease-in-out infinite alternate;
    }

    .md-footer-love::before {
        left: 0.5rem;
        top: 0.4rem;
        animation-delay: 0s;
    }

    .md-footer-love::after {
        right: 0.5rem;
        top: 0.4rem;
        animation-delay: 1.5s;
    }

    @keyframes twinkle {
        0% {
            opacity: 0.3;
            transform: scale(0.8);
        }

        50% {
            opacity: 0.9;
            transform: scale(1.2);
        }

        100% {
            opacity: 0.3;
            transform: scale(0.8);
        }
    }

    /* 名字高亮显示 */
    .love-highlight {
        font-weight: 500;
        background: linear-gradient(120deg, #ffb6c1, #ffc0cb);
        background-clip: text;
        -webkit-background-clip: text;
        color: transparent;
        padding: 0 0.2rem;
        position: relative;
        white-space: nowrap;
    }

    /* 添加心跳动画效果 */
    .love-heart {
        display: inline-block;
        font-size: 0.9em;
        color: rgba(255, 182, 193, 0.9);
        transform-origin: center;
        margin: 0 0.2rem;
        animation: heartbeat 1.5s ease-in-out infinite;
    }

    @keyframes heartbeat {
        0% {
            transform: scale(1);
        }

        15% {
            transform: scale(1.25);
        }

        30% {
            transform: scale(1);
        }

        45% {
            transform: scale(1.25);
        }

        60% {
            transform: scale(1);
        }

        100% {
            transform: scale(1);
        }
    }

    /* 添加响应式样式 - 平板设备 */
    @media screen and (max-width: 1199px) {
        .md-footer-love {
            font-size: 0.8rem;
            padding: 0.4rem 0.8rem;
            margin: 0.4rem 0;
        }

        .md-footer-love::before,
        .md-footer-love::after {
            font-size: 0.7rem;
        }
    }

    /* 添加响应式样式 - 移动设备 */
    @media screen and (max-width: 767px) {
        .md-footer-love {
            font-size: 0.75rem;
            padding: 0.3rem 0.5rem;
            margin: 0.3rem 0;
            border-radius: 6px;
            max-width: 90%;
            margin-left: auto;
            margin-right: auto;
            border-left-width: 2px;
        }

        .md-footer-love:hover {
            transform: translateY(-1px);
            box-shadow: 0 2px 8px rgba(255, 182, 193, 0.12);
        }

        .md-footer-love::before,
        .md-footer-love::after {
            font-size: 0.6rem;
        }

        .love-heart {
            font-size: 0.8em;
        }

        /* 在非常小的屏幕上隐藏星星效果 */
        @media screen and (max-width: 360px) {

            .md-footer-love::before,
            .md-footer-love::after {
                display: none;
            }
        }
    }

    /* Atom One Light 语法高亮样式 - 仅覆盖代码块语法高亮 */
    .highlight .hll {
        background-color: var(--code-bg) !important;
    }

    .highlight .c {
        color: var(--code-comment) !important;
    }

    /* Comment */
    .highlight .err {
        color: var(--code-string) !important;
    }

    /* Error */
    .highlight .k {
        color: var(--code-keyword) !important;
    }

    /* Keyword */
    .highlight .l {
        color: var(--code-number) !important;
    }

    /* Literal */
    .highlight .n {
        color: var(--code-text) !important;
    }

    /* Name */
    .highlight .o {
        color: var(--code-text) !important;
    }

    /* Operator */
    .highlight .p {
        color: var(--code-text) !important;
    }

    /* Punctuation */
    .highlight .ch {
        color: var(--code-comment) !important;
    }

    /* Comment.Hashbang */
    .highlight .cm {
        color: var(--code-comment) !important;
    }

    /* Comment.Multiline */
    .highlight .cp {
        color: var(--code-keyword) !important;
    }

    /* Comment.Preproc */
    .highlight .cpf {
        color: var(--code-string) !important;
    }

    /* Comment.PreprocFile */
    .highlight .c1 {
        color: var(--code-comment) !important;
    }

    /* Comment.Single */
    .highlight .cs {
        color: var(--code-comment) !important;
    }

    /* Comment.Special */
    .highlight .gd {
        color: var(--code-string) !important;
    }

    /* Generic.Deleted */
    .highlight .ge {}

    /* Generic.Emph */
    .highlight .gr {
        color: var(--code-string) !important;
    }

    /* Generic.Error */
    .highlight .gh {
        color: var(--code-function) !important;
        font-weight: bold !important;
    }

    /* Generic.Heading */
    .highlight .gi {
        color: var(--code-string) !important;
    }

    /* Generic.Inserted */
    .highlight .go {
        color: var(--code-text) !important;
    }

    /* Generic.Output */
    .highlight .gp {
        color: var(--code-text) !important;
    }

    /* Generic.Prompt */
    .highlight .gs {
        font-weight: bold !important;
    }

    /* Generic.Strong */
    .highlight .gu {
        color: var(--code-function) !important;
        font-weight: bold !important;
    }

    /* Generic.Subheading */
    .highlight .gt {
        color: var(--code-string) !important;
    }

    /* Generic.Traceback */
    .highlight .kc {
        color: var(--code-keyword) !important;
    }

    /* Keyword.Constant */
    .highlight .kd {
        color: var(--code-keyword) !important;
    }

    /* Keyword.Declaration */
    .highlight .kn {
        color: var(--code-keyword) !important;
    }

    /* Keyword.Namespace */
    .highlight .kp {
        color: var(--code-keyword) !important;
    }

    /* Keyword.Pseudo */
    .highlight .kr {
        color: var(--code-keyword) !important;
    }

    /* Keyword.Reserved */
    .highlight .kt {
        color: var(--code-class) !important;
    }

    /* Keyword.Type */
    .highlight .ld {
        color: var(--code-builtin) !important;
    }

    /* Literal.Date */
    .highlight .m {
        color: var(--code-number) !important;
    }

    /* Literal.Number */
    .highlight .s {
        color: var(--code-builtin) !important;
    }

    /* Literal.String */
    .highlight .na {
        color: var(--code-class) !important;
    }

    /* Name.Attribute */
    .highlight .nb {
        color: var(--code-class) !important;
    }

    /* Name.Builtin */
    .highlight .nc {
        color: var(--code-class) !important;
    }

    /* Name.Class */
    .highlight .no {
        color: var(--code-string) !important;
    }

    /* Name.Constant */
    .highlight .nd {
        color: var(--code-function) !important;
    }

    /* Name.Decorator */
    .highlight .ni {
        color: var(--code-text) !important;
    }

    /* Name.Entity */
    .highlight .ne {
        color: var(--code-string) !important;
    }

    /* Name.Exception */
    .highlight .nf {
        color: var(--code-function) !important;
    }

    /* Name.Function */
    .highlight .nl {
        color: var(--code-text) !important;
    }

    /* Name.Label */
    .highlight .nn {
        color: var(--code-text) !important;
    }

    /* Name.Namespace */
    .highlight .nx {
        color: var(--code-function) !important;
    }

    /* Name.Other */
    .highlight .py {
        color: var(--code-text) !important;
    }

    /* Name.Property */
    .highlight .nt {
        color: var(--code-variable) !important;
    }

    /* Name.Tag */
    .highlight .nv {
        color: var(--code-string) !important;
    }

    /* Name.Variable */
    .highlight .ow {
        color: var(--code-keyword) !important;
    }

    /* Operator.Word */
    .highlight .w {
        color: var(--code-text) !important;
    }

    /* Text.Whitespace */
    .highlight .mb {
        color: var(--code-number) !important;
    }

    /* Literal.Number.Bin */
    .highlight .mf {
        color: var(--code-number) !important;
    }

    /* Literal.Number.Float */
    .highlight .mh {
        color: var(--code-number) !important;
    }

    /* Literal.Number.Hex */
    .highlight .mi {
        color: var(--code-number) !important;
    }

    /* Literal.Number.Integer */
    .highlight .mo {
        color: var(--code-number) !important;
    }

    /* Literal.Number.Oct */
    .highlight .sa {
        color: var(--code-builtin) !important;
    }

    /* Literal.String.Affix */
    .highlight .sb {
        color: var(--code-builtin) !important;
    }

    /* Literal.String.Backtick */
    .highlight .sc {
        color: var(--code-builtin) !important;
    }

    /* Literal.String.Char */
    .highlight .dl {
        color: var(--code-builtin) !important;
    }

    /* Literal.String.Delimiter */
    .highlight .sd {
        color: var(--code-comment) !important;
    }

    /* Literal.String.Doc */
    .highlight .s2 {
        color: var(--code-builtin) !important;
    }

    /* Literal.String.Double */
    .highlight .se {
        color: var(--code-function) !important;
    }

    /* Literal.String.Escape */
    .highlight .sh {
        color: var(--code-builtin) !important;
    }

    /* Literal.String.Heredoc */
    .highlight .si {
        color: var(--code-function) !important;
    }

    /* Literal.String.Interpol */
    .highlight .sx {
        color: var(--code-builtin) !important;
    }

    /* Literal.String.Other */
    .highlight .sr {
        color: var(--code-builtin) !important;
    }

    /* Literal.String.Regex */
    .highlight .s1 {
        color: var(--code-builtin) !important;
    }

    /* Literal.String.Single */
    .highlight .ss {
        color: var(--code-builtin) !important;
    }

    /* Literal.String.Symbol */
    .highlight .bp {
        color: var(--code-class) !important;
    }

    /* Name.Builtin.Pseudo */
    .highlight .fm {
        color: var(--code-function) !important;
    }

    /* Name.Function.Magic */
    .highlight .vc {
        color: var(--code-string) !important;
    }

    /* Name.Variable.Class */
    .highlight .vg {
        color: var(--code-string) !important;
    }

    /* Name.Variable.Global */
    .highlight .vi {
        color: var(--code-string) !important;
    }

    /* Name.Variable.Instance */
    .highlight .vm {
        color: var(--code-string) !important;
    }

    /* Name.Variable.Magic */
    .highlight .il {
        color: var(--code-number) !important;
    }

    /* Literal.Number.Integer.Long */

    /* 特殊语言的额外样式调整 */
    .highlight[data-lang="json"] .nt {
        color: var(--code-variable) !important;
    }

    /* JSON keys */
    .highlight[data-lang="yaml"] .na {
        color: var(--code-variable) !important;
    }

    /* YAML keys */
    .highlight[data-lang="yml"] .na {
        color: var(--code-variable) !important;
    }

    /* YAML keys */
    .highlight[data-lang="xml"] .nt {
        color: var(--code-variable) !important;
    }

    /* XML tags */
    .highlight[data-lang="html"] .nt {
        color: var(--code-variable) !important;
    }

    /* HTML tags */

    /* CSS特殊处理 */
    .highlight[data-lang="css"] .nc {
        color: var(--code-class) !important;
    }

    /* CSS class selectors */
    .highlight[data-lang="css"] .nf {
        color: var(--code-function) !important;
    }

    /* CSS functions */
    .highlight[data-lang="css"] .nt {
        color: var(--code-variable) !important;
    }

    /* CSS element selectors */
    .highlight[data-lang="css"] .nd {
        color: var(--code-keyword) !important;
    }

    /* CSS pseudo-classes */

    /* JavaScript特殊处理 */
    .highlight[data-lang="javascript"] .nx {
        color: var(--code-function) !important;
    }

    /* JS functions and variables */
    .highlight[data-lang="js"] .nx {
        color: var(--code-function) !important;
    }

    /* JS functions and variables */

    /* Python特殊处理 */
    .highlight[data-lang="python"] .nd {
        color: var(--code-function) !important;
    }

    /* Python decorators */
    .highlight[data-lang="python"] .nf {
        color: var(--code-function) !important;
    }

    /* Python functions */
    .highlight[data-lang="python"] .nc {
        color: var(--code-class) !important;
    }

    /* Python classes */

    /* Shell/Bash特殊处理 */
    .highlight[data-lang="bash"] .nv {
        color: var(--code-string) !important;
    }

    /* Bash variables */
    .highlight[data-lang="shell"] .nv {
        color: var(--code-string) !important;
    }

    /* Shell variables */
    .highlight[data-lang="sh"] .nv {
        color: var(--code-string) !important;
    }

    /* Shell variables */

    /* C/C++特殊处理 */
    .highlight[data-lang="c"] .kt {
        color: var(--code-keyword) !important;
    }

    /* C types */
    .highlight[data-lang="cpp"] .kt {
        color: var(--code-keyword) !important;
    }

    /* C++ types */
    .highlight[data-lang="c++"] .kt {
        color: var(--code-keyword) !important;
    }

    /* C++ types */

    /* Java特殊处理 */
    .highlight[data-lang="java"] .nc {
        color: var(--code-class) !important;
    }

    /* Java classes */
    .highlight[data-lang="java"] .kt {
        color: var(--code-keyword) !important;
    }

    /* Java types */
</style><script>
    document.addEventListener("DOMContentLoaded", () => {
        const savedTheme = localStorage.getItem("preferred-theme") || "theme1";

        // 初始化主题按钮文本
        updateThemeSwitchButton(savedTheme);

        const initialTheme = localStorage.getItem("preferred-theme");
        if (initialTheme) {
            const theme1Link = document.querySelector('link[href*="theme1"]');
            const theme2Link = document.querySelector('link[href*="theme2"]');

            // 关闭过渡动画，直接设置主题
            if (initialTheme === "theme1") {
                theme1Link.removeAttribute("disabled");
                theme2Link.setAttribute("disabled", "true");
            } else {
                theme2Link.removeAttribute("disabled");
                theme1Link.setAttribute("disabled", "true");
            }
        }

        // 添加加载完成后的检测
        setTimeout(() => {
            const hiddenElements = document.querySelectorAll('.md-content article>*[style*="opacity: 0"]');
            hiddenElements.forEach(el => {
                el.style.opacity = '1';
                el.style.transform = 'translateY(0)';
            });
        }, 2000); // 2秒后强制显示所有隐藏元素
    });

    (function initTheme() {
        const savedTheme = localStorage.getItem("preferred-theme");
        if (savedTheme) {
            const theme1Link = document.querySelector('link[href*="theme1"]');
            const theme2Link = document.querySelector('link[href*="theme2"]');
            if (theme1Link && theme2Link) {
                if (savedTheme === "theme1") {
                    theme1Link.removeAttribute("disabled");
                    theme2Link.setAttribute("disabled", "true");
                } else {
                    theme2Link.removeAttribute("disabled");
                    theme1Link.setAttribute("disabled", "true");
                }
            }
        }
    })();

    function switchTheme() {
        // 获取当前和目标主题信息
        const currentTheme =
            localStorage.getItem("preferred-theme") || "theme1";
        const newTheme = currentTheme === "theme1" ? "theme2" : "theme1";
        const targetThemeText = newTheme === "theme1" ? "新版主题" : "原生主题";

        // 获取主题样式链接
        const theme1Link = document.querySelector('link[href*="theme1"]');
        const theme2Link = document.querySelector('link[href*="theme2"]');

        if (!theme1Link || !theme2Link) {
            console.error("无法找到主题样式链接");
            return;
        }

        // 创建和添加过渡覆盖层
        const overlay = document.createElement("div");
        overlay.className = "theme-transition-overlay";
        overlay.innerHTML = `
        <div class="theme-transition-content">
            <div class="theme-transition-spinner"></div>
            <div class="theme-transition-text">正在切换到：${targetThemeText}</div>
        </div>
    `;
        document.body.appendChild(overlay);

        // 确保DOM已更新后再添加active类
        requestAnimationFrame(() => {
            // 激活蒙版
            overlay.classList.add("active");

            // 添加适当的延迟以确保蒙版已完全显示
            setTimeout(() => {
                // 切换主题样式
                if (newTheme === "theme1") {
                    theme1Link.removeAttribute("disabled");
                    theme2Link.setAttribute("disabled", "true");
                } else {
                    theme2Link.removeAttribute("disabled");
                    theme1Link.setAttribute("disabled", "true");
                }

                // 保存主题设置
                localStorage.setItem("preferred-theme", newTheme);

                // 更新切换按钮文本
                updateThemeSwitchButton(newTheme);

                // 给予足够的时间加载主题
                setTimeout(() => {
                    // 平滑淡出效果
                    fadeOutOverlay(overlay);
                }, 2500); // 主题加载时间
            }, 250); // 蒙版显示时间
        });
    }

    // 更新主题切换按钮文本
    function updateThemeSwitchButton(theme) {
        const themeBtn = document.querySelector(".theme-btn");
        if (themeBtn) {
            const currentThemeEl = themeBtn.querySelector(".current-theme");
            const targetThemeEl = themeBtn.querySelector(".target-theme");

            if (currentThemeEl && targetThemeEl) {
                currentThemeEl.textContent =
                    theme === "theme1" ? "当前：新版主题" : "当前：原生主题";
                targetThemeEl.textContent =
                    theme === "theme1"
                        ? "切换到：原生主题"
                        : "切换到：新版主题";
            }
        }
    }

    // 平滑淡出蒙版
    function fadeOutOverlay(overlay) {
        // 先改变背景色，制造渐变效果
        overlay.style.backgroundColor = "rgba(255, 255, 255, 0.85)";

        // 短暂延迟后淡出
        setTimeout(() => {
            overlay.classList.remove("active");

            // 等待淡出动画完成后移除元素
            setTimeout(() => {
                document.body.removeChild(overlay);
            }, 300);
        }, 150);
    }
</script> <link href="../../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../../../assets/javascripts/glightbox.min.js"></script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=white data-md-color-accent=teal> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#_1 class=md-skip> 跳转至 </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=页眉> <a href=../../../index.html title=柯懒的知识库 class="md-header__button md-logo" aria-label=柯懒的知识库 data-md-component=logo> <img src=../../../assets/logo.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> 柯懒的知识库 </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> 回溯进阶练习 </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary=white data-md-color-accent=teal aria-label type=radio name=__palette id=__palette_1> </form> <!-- 头像元素 - 直接在HTML中定义 --> <div class=header-avatar> <img src=../../../作者/作者.assets/20250206-200653.jpg alt=头像> <div class=avatar-dropdown> <p><strong>柯懒不是柯南</strong></p> <a href=../../../作者/联系作者/作者.html class=avatar-dropdown-item>吵醒柯懒</a> <div class=avatar-dropdown-divider></div> <a href=../../../作者/关于作者/关于作者.html class=avatar-dropdown-item>柯懒自传</a> <div class=avatar-dropdown-divider></div> <a href=https://github.com/H0308 class=avatar-dropdown-item>柯懒的零食库</a> </div> </div> <!-- 主题切换按钮 - 直接在HTML中定义 --> <div class=theme-switch> <button class=theme-btn onclick=switchTheme()> <span class=current-theme>当前：新版主题</span> <span class=target-theme>切换到：原生主题</span> </button> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=搜索 placeholder=搜索 autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=查找> <button type=reset class="md-search__icon md-icon" title=清空当前内容 aria-label=清空当前内容 tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> 正在初始化搜索引擎 </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=标签 data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../../index.html class=md-tabs__link> 主页 </a> </li> <li class=md-tabs__item> <a href=../../../%E7%BD%91%E7%AB%99%E4%BB%8B%E7%BB%8D/%E7%BD%91%E7%AB%99%E4%BB%8B%E7%BB%8D.html class=md-tabs__link> 网站介绍 </a> </li> <li class=md-tabs__item> <a href=../../../%E7%BD%91%E7%AB%99%E6%97%B6%E9%97%B4%E7%BA%BF/%E7%BD%91%E7%AB%99%E6%97%B6%E9%97%B4%E7%BA%BF.html class=md-tabs__link> 网站时间线 </a> </li> <li class=md-tabs__item> <a href=../../../C%E8%AF%AD%E8%A8%80/index.html class=md-tabs__link> 编程语言 </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../../../%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/1.%20%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%92%8C%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/1.%20%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E4%B8%8E%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6.html class=md-tabs__link> 数据结构与算法 </a> </li> <li class=md-tabs__item> <a href=../../../Linux/1.%20Linux%E5%B8%B8%E7%94%A8%E9%80%89%E9%A1%B9%E5%92%8C%E6%8C%87%E4%BB%A4/1.%20Linux%E5%B8%B8%E7%94%A8%E9%80%89%E9%A1%B9%E5%92%8C%E6%8C%87%E4%BB%A4.html class=md-tabs__link> Linux </a> </li> <li class=md-tabs__item> <a href=../../../HTML%E4%B8%8ECSS/HTML%E7%AC%94%E8%AE%B0/HTML%E7%AC%94%E8%AE%B0.html class=md-tabs__link> 前端 </a> </li> <li class=md-tabs__item> <a href=../../../MySQL/MySQL%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8/MySQL%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8.html class=md-tabs__link> MySQL </a> </li> <li class=md-tabs__item> <a href=../../../JavaEE/Spring/1.%20SpringMVC%E5%9F%BA%E7%A1%80/1.%20SpringMVC%E5%9F%BA%E7%A1%80.html class=md-tabs__link> JavaEE应用开发 </a> </li> <li class=md-tabs__item> <a href=../../../%E5%85%B6%E5%AE%83/Shell%E8%84%9A%E6%9C%AC%E8%AF%AD%E8%A8%80/%E5%85%B3%E4%BA%8EShell.html class=md-tabs__link> 扩展知识 </a> </li> <li class=md-tabs__item> <a href=../../../%E5%B7%A5%E5%85%B7%E5%B8%AE%E5%8A%A9/vscode%E4%B8%AD%E6%B7%BB%E5%8A%A0%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5/vscode%E4%B8%AD%E6%B7%BB%E5%8A%A0%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5.html class=md-tabs__link> 工具帮助 </a> </li> <li class=md-tabs__item> <a href=../../../%E9%A1%B9%E7%9B%AE/1.%20Boost%E5%BA%93%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E/1.%20Boost%E5%BA%93%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E.html class=md-tabs__link> 项目 </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=导航栏 data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../../index.html title=柯懒的知识库 class="md-nav__button md-logo" aria-label=柯懒的知识库 data-md-component=logo> <img src=../../../assets/logo.png alt=logo> </a> 柯懒的知识库 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../index.html class=md-nav__link> <span class=md-ellipsis> 主页 </span> </a> </li> <li class=md-nav__item> <a href=../../../%E7%BD%91%E7%AB%99%E4%BB%8B%E7%BB%8D/%E7%BD%91%E7%AB%99%E4%BB%8B%E7%BB%8D.html class=md-nav__link> <span class=md-ellipsis> 网站介绍 </span> </a> </li> <li class=md-nav__item> <a href=../../../%E7%BD%91%E7%AB%99%E6%97%B6%E9%97%B4%E7%BA%BF/%E7%BD%91%E7%AB%99%E6%97%B6%E9%97%B4%E7%BA%BF.html class=md-nav__link> <span class=md-ellipsis> 网站时间线 </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../C%E8%AF%AD%E8%A8%80/index.html class=md-nav__link> <span class=md-ellipsis> 编程语言 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5 checked> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex> <span class=md-ellipsis> 数据结构与算法 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=true> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> 数据结构与算法 </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/1.%20%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%92%8C%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/1.%20%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E4%B8%8E%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6.html class=md-nav__link> <span class=md-ellipsis> 数据结构 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_2 checked> <label class=md-nav__link for=__nav_5_2 id=__nav_5_2_label tabindex=0> <span class=md-ellipsis> 算法 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_2_label aria-expanded=true> <label class=md-nav__title for=__nav_5_2> <span class="md-nav__icon md-icon"></span> 算法 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../0.%20%E5%B8%B8%E7%94%A8%E5%86%85%E5%AE%B9/0.%20%E5%B8%B8%E7%94%A8%E5%86%85%E5%AE%B9.html class=md-nav__link> <span class=md-ellipsis> 算法比赛常用内容 </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../1.%20%E6%95%B0%E7%BB%84%E5%9F%BA%E7%A1%80%E7%AF%87/1.%20%E6%95%B0%E7%BB%84%E7%90%86%E8%AE%BA%E5%9F%BA%E7%A1%80/1.%20%E6%95%B0%E7%BB%84%E7%90%86%E8%AE%BA%E5%9F%BA%E7%A1%80.html class=md-nav__link> <span class=md-ellipsis> 数组基础篇 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../2.%20%E9%93%BE%E8%A1%A8%E7%AF%87/1.%20%E9%93%BE%E8%A1%A8%E7%90%86%E8%AE%BA%E5%9F%BA%E7%A1%80/1.%20%E9%93%BE%E8%A1%A8%E7%90%86%E8%AE%BA%E5%9F%BA%E7%A1%80.html class=md-nav__link> <span class=md-ellipsis> 链表篇 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../3.%20%E5%93%88%E5%B8%8C%E8%A1%A8%E7%AF%87/1.%20%E5%93%88%E5%B8%8C%E8%A1%A8%E7%90%86%E8%AE%BA%E5%9F%BA%E7%A1%80/1.%20%E5%93%88%E5%B8%8C%E8%A1%A8%E7%90%86%E8%AE%BA%E5%9F%BA%E7%A1%80.html class=md-nav__link> <span class=md-ellipsis> 哈希表篇 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../4.%20%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%AF%87/1.%20%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%9F%BA%E7%A1%80%E7%BB%83%E4%B9%A0/1.%20%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%9F%BA%E7%A1%80%E7%BB%83%E4%B9%A0.html class=md-nav__link> <span class=md-ellipsis> 字符串篇 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class=md-nav__item> <a href=../../5.%20%E5%8F%8C%E6%8C%87%E9%92%88%E7%AF%87/5.%20%E5%8F%8C%E6%8C%87%E9%92%88%E7%AE%97%E6%B3%95.html class=md-nav__link> <span class=md-ellipsis> 双指针 </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../6.%20%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97%E7%AF%87/1.%20%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97%E7%90%86%E8%AE%BA%E5%9F%BA%E7%A1%80/1.%20%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97%E7%90%86%E8%AE%BA%E5%9F%BA%E7%A1%80.html class=md-nav__link> <span class=md-ellipsis> 栈和队列篇 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../7.%20%E9%80%92%E5%BD%92%E4%B8%8E%E4%BA%8C%E5%8F%89%E6%A0%91%E7%AF%87/0.%20%E9%80%92%E5%BD%92%E4%BB%8B%E7%BB%8D/0.%20%E9%80%92%E5%BD%92%E4%BB%8B%E7%BB%8D.html class=md-nav__link> <span class=md-ellipsis> 递归与二叉树篇 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_2_9 checked> <label class=md-nav__link for=__nav_5_2_9 id=__nav_5_2_9_label tabindex=0> <span class=md-ellipsis> 回溯篇 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_5_2_9_label aria-expanded=true> <label class=md-nav__title for=__nav_5_2_9> <span class="md-nav__icon md-icon"></span> 回溯篇 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../1.%20%E5%9B%9E%E6%BA%AF%E7%90%86%E8%AE%BA%E5%9F%BA%E7%A1%80/1.%20%E5%9B%9E%E6%BA%AF%E7%90%86%E8%AE%BA%E5%9F%BA%E7%A1%80.html class=md-nav__link> <span class=md-ellipsis> 回溯理论基础 </span> </a> </li> <li class=md-nav__item> <a href=../2.%20%E5%9B%9E%E6%BA%AF%E5%9F%BA%E7%A1%80%E7%BB%83%E4%B9%A0/2.%20%E5%9B%9E%E6%BA%AF%E5%9F%BA%E7%A1%80%E7%BB%83%E4%B9%A0.html class=md-nav__link> <span class=md-ellipsis> 回溯基础练习 </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> 回溯进阶练习 </span> <span class="md-nav__icon md-icon"></span> </label> <a href=3.%20%E5%9B%9E%E6%BA%AF%E8%BF%9B%E9%98%B6%E7%BB%83%E4%B9%A0.html class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> 回溯进阶练习 </span> </a> <nav class="md-nav md-nav--secondary" aria-label=目录> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> 目录 </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#_2 class=md-nav__link> <span class=md-ellipsis> 本篇介绍 </span> </a> </li> <li class=md-nav__item> <a href=#1863 class=md-nav__link> <span class=md-ellipsis> 力扣1863.找出所有子集的异或总和再求和 </span> </a> </li> <li class=md-nav__item> <a href=#22 class=md-nav__link> <span class=md-ellipsis> 力扣22.括号生成 </span> </a> </li> <li class=md-nav__item> <a href=#494 class=md-nav__link> <span class=md-ellipsis> 力扣494.目标和 </span> </a> </li> <li class=md-nav__item> <a href=#784 class=md-nav__link> <span class=md-ellipsis> 力扣784.字母大小写全排列 </span> </a> </li> <li class=md-nav__item> <a href=#526 class=md-nav__link> <span class=md-ellipsis> 力扣526.优美的排列 </span> </a> </li> <li class=md-nav__item> <a href=#79 class=md-nav__link> <span class=md-ellipsis> 力扣79.单词搜索 </span> </a> </li> <li class=md-nav__item> <a href=#1219 class=md-nav__link> <span class=md-ellipsis> 力扣1219.黄金矿工 </span> </a> </li> <li class=md-nav__item> <a href=#980iii class=md-nav__link> <span class=md-ellipsis> 力扣980.不同路径Ⅲ </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../9.%20%E8%B4%AA%E5%BF%83%E7%AF%87/1.%20%E8%B4%AA%E5%BF%83%E7%90%86%E8%AE%BA%E5%9F%BA%E7%A1%80/1.%20%E8%B4%AA%E5%BF%83%E7%90%86%E8%AE%BA%E5%9F%BA%E7%A1%80.html class=md-nav__link> <span class=md-ellipsis> 贪心篇 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../10.%20%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%E7%AF%87/1.%20%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%E7%90%86%E8%AE%BA%E5%9F%BA%E7%A1%80/1.%20%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%E7%90%86%E8%AE%BA%E5%9F%BA%E7%A1%80.html class=md-nav__link> <span class=md-ellipsis> 动态规划篇 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../%E5%85%B6%E4%BB%96%E7%AE%97%E6%B3%95/KMP%E7%AE%97%E6%B3%95/KMP%E7%AE%97%E6%B3%95.html class=md-nav__link> <span class=md-ellipsis> 其他算法 </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../Linux/1.%20Linux%E5%B8%B8%E7%94%A8%E9%80%89%E9%A1%B9%E5%92%8C%E6%8C%87%E4%BB%A4/1.%20Linux%E5%B8%B8%E7%94%A8%E9%80%89%E9%A1%B9%E5%92%8C%E6%8C%87%E4%BB%A4.html class=md-nav__link> <span class=md-ellipsis> Linux </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../HTML%E4%B8%8ECSS/HTML%E7%AC%94%E8%AE%B0/HTML%E7%AC%94%E8%AE%B0.html class=md-nav__link> <span class=md-ellipsis> 前端 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../MySQL/MySQL%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8/MySQL%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8.html class=md-nav__link> <span class=md-ellipsis> MySQL </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../JavaEE/Spring/1.%20SpringMVC%E5%9F%BA%E7%A1%80/1.%20SpringMVC%E5%9F%BA%E7%A1%80.html class=md-nav__link> <span class=md-ellipsis> JavaEE应用开发 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../%E5%85%B6%E5%AE%83/Shell%E8%84%9A%E6%9C%AC%E8%AF%AD%E8%A8%80/%E5%85%B3%E4%BA%8EShell.html class=md-nav__link> <span class=md-ellipsis> 扩展知识 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../%E5%B7%A5%E5%85%B7%E5%B8%AE%E5%8A%A9/vscode%E4%B8%AD%E6%B7%BB%E5%8A%A0%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5/vscode%E4%B8%AD%E6%B7%BB%E5%8A%A0%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5.html class=md-nav__link> <span class=md-ellipsis> 工具帮助 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../%E9%A1%B9%E7%9B%AE/1.%20Boost%E5%BA%93%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E/1.%20Boost%E5%BA%93%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E.html class=md-nav__link> <span class=md-ellipsis> 项目 </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label=目录> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> 目录 </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#_2 class=md-nav__link> <span class=md-ellipsis> 本篇介绍 </span> </a> </li> <li class=md-nav__item> <a href=#1863 class=md-nav__link> <span class=md-ellipsis> 力扣1863.找出所有子集的异或总和再求和 </span> </a> </li> <li class=md-nav__item> <a href=#22 class=md-nav__link> <span class=md-ellipsis> 力扣22.括号生成 </span> </a> </li> <li class=md-nav__item> <a href=#494 class=md-nav__link> <span class=md-ellipsis> 力扣494.目标和 </span> </a> </li> <li class=md-nav__item> <a href=#784 class=md-nav__link> <span class=md-ellipsis> 力扣784.字母大小写全排列 </span> </a> </li> <li class=md-nav__item> <a href=#526 class=md-nav__link> <span class=md-ellipsis> 力扣526.优美的排列 </span> </a> </li> <li class=md-nav__item> <a href=#79 class=md-nav__link> <span class=md-ellipsis> 力扣79.单词搜索 </span> </a> </li> <li class=md-nav__item> <a href=#1219 class=md-nav__link> <span class=md-ellipsis> 力扣1219.黄金矿工 </span> </a> </li> <li class=md-nav__item> <a href=#980iii class=md-nav__link> <span class=md-ellipsis> 力扣980.不同路径Ⅲ </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=_1>回溯进阶练习<a class=headerlink href=#_1 title="Permanent link">&para;</a></h1> <div style="margin-top: -30px; font-size: 0.75em; opacity: 0.7;"> <p><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10h-2a8 8 0 0 1-8 8 8 8 0 0 1-8-8 8 8 0 0 1 8-8zm6.78 1a.7.7 0 0 0-.48.2l-1.22 1.21 2.5 2.5L20.8 5.7c.26-.26.26-.7 0-.95L19.25 3.2c-.13-.13-.3-.2-.47-.2m-2.41 2.12L9 12.5V15h2.5l7.37-7.38z"/></svg></span> 约 2189 个字 <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6m80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3l89.3 89.4-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3"/></svg></span> 405 行代码 <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 17H7V3h14m0-2H7a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2M3 5H1v16a2 2 0 0 0 2 2h16v-2H3m12.96-10.71-2.75 3.54-1.96-2.36L8.5 15h11z"/></svg></span> 3 张图片 <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 20c4.42 0 8-3.58 8-8s-3.58-8-8-8-8 3.58-8 8 3.58 8 8 8m0-18c5.5 0 10 4.5 10 10s-4.5 10-10 10C6.47 22 2 17.5 2 12S6.5 2 12 2m.5 11H11V7h1.5v4.26l3.7-2.13.75 1.3z"/></svg></span> 预计阅读时间 12 分钟</p> </div> <h2 id=_2>本篇介绍<a class=headerlink href=#_2 title="Permanent link">&para;</a></h2> <p>在<a href=https://www.help-doc.top/%E7%AE%97%E6%B3%95/8.%20%E5%9B%9E%E6%BA%AF%E7%AF%87/2.%20%E5%9B%9E%E6%BA%AF%E5%9F%BA%E7%A1%80%E7%BB%83%E4%B9%A0/2.%20%E5%9B%9E%E6%BA%AF%E5%9F%BA%E7%A1%80%E7%BB%83%E4%B9%A0.html#_1>回溯基础练习</a>中已经大致了解到回溯解决的问题，并且在题目中也更深刻理解了前面在<a href=https://www.help-doc.top/%E7%AE%97%E6%B3%95/8.%20%E5%9B%9E%E6%BA%AF%E7%AF%87/1.%20%E5%9B%9E%E6%BA%AF%E7%90%86%E8%AE%BA%E5%9F%BA%E7%A1%80/1.%20%E5%9B%9E%E6%BA%AF%E7%90%86%E8%AE%BA%E5%9F%BA%E7%A1%80.html#_6>回溯理论基础</a>提到的回溯法模板，但是这个模板只是为了便于理解回溯算法，并不能将所有题目都强行为了填充模板而限制了思考，所以为了从模板思路跳脱出来，需要考虑下面的练习</p> <h2 id=1863>力扣1863.找出所有子集的异或总和再求和<a class=headerlink href=#1863 title="Permanent link">&para;</a></h2> <p><a href=https://leetcode.cn/problems/sum-of-all-subset-xor-totals/ >力扣1863.找出所有子集的异或总和再求和</a></p> <p><strong>问题描述：</strong></p> <div class="admonition quote"> <p class=admonition-title>Quote</p> <p>一个数组的异或总和定义为数组中所有元素按位<code>XOR</code>的结果；如果数组为空，则异或总和为0。</p> <p>例如，数组<code>[2,5,6]</code>的异或总和为<code>2 XOR 5 XOR 6 = 1</code>。 给你一个数组<code>nums</code>，请你求出<code>nums</code>中每个子集的异或总和，计算并返回这些值相加之和。</p> <p>注意：在本题中，元素相同的不同子集应多次计数。</p> <p>数组<code>a</code>是数组<code>b</code>的一个子集的前提条件是：从<code>b</code>删除几个（也可能不删除）元素能够得到<code>a</code>。</p> <p>示例 1：</p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span>
<span class=normal>7</span>
<span class=normal>8</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><span class=n>输入</span><span class=err>：</span><span class=n>nums</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>3</span><span class=p>]</span>
</span><span id=__span-0-2><span class=n>输出</span><span class=err>：</span><span class=mi>6</span>
</span><span id=__span-0-3><span class=n>解释</span><span class=err>：</span><span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>3</span><span class=p>]</span><span class=w> </span><span class=n>共有</span><span class=w> </span><span class=mi>4</span><span class=w> </span><span class=n>个子集</span><span class=err>：</span>
</span><span id=__span-0-4><span class=o>-</span><span class=w> </span><span class=n>空子集的异或总和是</span><span class=w> </span><span class=mi>0</span><span class=w> </span><span class=err>。</span>
</span><span id=__span-0-5><span class=o>-</span><span class=w> </span><span class=p>[</span><span class=mi>1</span><span class=p>]</span><span class=w> </span><span class=n>的异或总和为</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=err>。</span>
</span><span id=__span-0-6><span class=o>-</span><span class=w> </span><span class=p>[</span><span class=mi>3</span><span class=p>]</span><span class=w> </span><span class=n>的异或总和为</span><span class=w> </span><span class=mi>3</span><span class=w> </span><span class=err>。</span>
</span><span id=__span-0-7><span class=o>-</span><span class=w> </span><span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>3</span><span class=p>]</span><span class=w> </span><span class=n>的异或总和为</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=n>XOR</span><span class=w> </span><span class=mi>3</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>2</span><span class=w> </span><span class=err>。</span>
</span><span id=__span-0-8><span class=mi>0</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>3</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>2</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>6</span>
</span></code></pre></div></td></tr></table></div> <p>示例 2：</p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-1-1><span class=n>输入</span><span class=err>：</span><span class=n>nums</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>[</span><span class=mi>5</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>6</span><span class=p>]</span>
</span><span id=__span-1-2><span class=n>输出</span><span class=err>：</span><span class=mi>28</span>
</span><span id=__span-1-3><span class=n>解释</span><span class=err>：</span><span class=p>[</span><span class=mi>5</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>6</span><span class=p>]</span><span class=w> </span><span class=n>共有</span><span class=w> </span><span class=mi>8</span><span class=w> </span><span class=n>个子集</span><span class=err>：</span>
</span><span id=__span-1-4><span class=o>-</span><span class=w> </span><span class=n>空子集的异或总和是</span><span class=w> </span><span class=mi>0</span><span class=w> </span><span class=err>。</span>
</span><span id=__span-1-5><span class=o>-</span><span class=w> </span><span class=p>[</span><span class=mi>5</span><span class=p>]</span><span class=w> </span><span class=n>的异或总和为</span><span class=w> </span><span class=mi>5</span><span class=w> </span><span class=err>。</span>
</span><span id=__span-1-6><span class=o>-</span><span class=w> </span><span class=p>[</span><span class=mi>1</span><span class=p>]</span><span class=w> </span><span class=n>的异或总和为</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=err>。</span>
</span><span id=__span-1-7><span class=o>-</span><span class=w> </span><span class=p>[</span><span class=mi>6</span><span class=p>]</span><span class=w> </span><span class=n>的异或总和为</span><span class=w> </span><span class=mi>6</span><span class=w> </span><span class=err>。</span>
</span><span id=__span-1-8><span class=o>-</span><span class=w> </span><span class=p>[</span><span class=mi>5</span><span class=p>,</span><span class=mi>1</span><span class=p>]</span><span class=w> </span><span class=n>的异或总和为</span><span class=w> </span><span class=mi>5</span><span class=w> </span><span class=n>XOR</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>4</span><span class=w> </span><span class=err>。</span>
</span><span id=__span-1-9><span class=o>-</span><span class=w> </span><span class=p>[</span><span class=mi>5</span><span class=p>,</span><span class=mi>6</span><span class=p>]</span><span class=w> </span><span class=n>的异或总和为</span><span class=w> </span><span class=mi>5</span><span class=w> </span><span class=n>XOR</span><span class=w> </span><span class=mi>6</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>3</span><span class=w> </span><span class=err>。</span>
</span><span id=__span-1-10><span class=o>-</span><span class=w> </span><span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>6</span><span class=p>]</span><span class=w> </span><span class=n>的异或总和为</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=n>XOR</span><span class=w> </span><span class=mi>6</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>7</span><span class=w> </span><span class=err>。</span>
</span><span id=__span-1-11><span class=o>-</span><span class=w> </span><span class=p>[</span><span class=mi>5</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>6</span><span class=p>]</span><span class=w> </span><span class=n>的异或总和为</span><span class=w> </span><span class=mi>5</span><span class=w> </span><span class=n>XOR</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=n>XOR</span><span class=w> </span><span class=mi>6</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>2</span><span class=w> </span><span class=err>。</span>
</span><span id=__span-1-12><span class=mi>0</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>5</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>6</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>4</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>3</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>7</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>2</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>28</span>
</span></code></pre></div></td></tr></table></div> <p>示例 3：</p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-2-1><span class=n>输入</span><span class=err>：</span><span class=n>nums</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>[</span><span class=mi>3</span><span class=p>,</span><span class=mi>4</span><span class=p>,</span><span class=mi>5</span><span class=p>,</span><span class=mi>6</span><span class=p>,</span><span class=mi>7</span><span class=p>,</span><span class=mi>8</span><span class=p>]</span>
</span><span id=__span-2-2><span class=n>输出</span><span class=err>：</span><span class=mi>480</span>
</span><span id=__span-2-3><span class=n>解释</span><span class=err>：</span><span class=n>每个子集的全部异或总和值之和为</span><span class=w> </span><span class=mi>480</span><span class=w> </span><span class=err>。</span>
</span></code></pre></div></td></tr></table></div> </div> <p><strong>思路分析：</strong></p> <p>本题的基本思路就是求出子集，根据每一个子集求出异或和，最后对所有子集的异或和进行求和，所以基本步骤就是通过变量<code>sum</code>记录所有子集的异或和之和，<code>xorSum</code>记录每一个子集的异或和，为了隐藏异或和的回溯，可以考虑在参数部分使用无副作用运算</p> <p><strong>参考代码：</strong></p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-3-1><span class=k>class</span><span class=w> </span><span class=nc>Solution1863</span>
</span><span id=__span-3-2><span class=p>{</span>
</span><span id=__span-3-3><span class=k>public</span><span class=o>:</span>
</span><span id=__span-3-4><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>sum</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-3-5>
</span><span id=__span-3-6><span class=w>    </span><span class=kt>void</span><span class=w> </span><span class=nf>backtracing</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span><span class=w> </span><span class=o>&amp;</span><span class=n>nums</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>start</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>xorSum</span><span class=p>)</span>
</span><span id=__span-3-7><span class=w>    </span><span class=p>{</span>
</span><span id=__span-3-8><span class=w>        </span><span class=c1>// 计算当前已经存在的子集的异或和之和，注意xorSum因为是无副作用，所以回溯部分是交给递归完成的</span>
</span><span id=__span-3-9><span class=w>        </span><span class=n>sum</span><span class=w> </span><span class=o>+=</span><span class=w> </span><span class=n>xorSum</span><span class=p>;</span>
</span><span id=__span-3-10><span class=w>        </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>start</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>nums</span><span class=p>.</span><span class=n>size</span><span class=p>();</span><span class=w> </span><span class=n>i</span><span class=o>++</span><span class=p>)</span>
</span><span id=__span-3-11><span class=w>            </span><span class=n>backtracing</span><span class=p>(</span><span class=n>nums</span><span class=p>,</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=n>xorSum</span><span class=w> </span><span class=o>^</span><span class=w> </span><span class=n>nums</span><span class=p>[</span><span class=n>i</span><span class=p>]);</span>
</span><span id=__span-3-12><span class=w>    </span><span class=p>}</span>
</span><span id=__span-3-13>
</span><span id=__span-3-14><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=nf>subsetXORSum</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span><span class=w> </span><span class=o>&amp;</span><span class=n>nums</span><span class=p>)</span>
</span><span id=__span-3-15><span class=w>    </span><span class=p>{</span>
</span><span id=__span-3-16><span class=w>        </span><span class=n>backtracing</span><span class=p>(</span><span class=n>nums</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>);</span>
</span><span id=__span-3-17><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>sum</span><span class=p>;</span>
</span><span id=__span-3-18><span class=w>    </span><span class=p>}</span>
</span><span id=__span-3-19><span class=p>};</span>
</span></code></pre></div></td></tr></table></div> <h2 id=22>力扣22.括号生成<a class=headerlink href=#22 title="Permanent link">&para;</a></h2> <p><a href=https://leetcode.cn/problems/generate-parentheses/description/ >力扣22.括号生成</a></p> <p><strong>问题描述：</strong></p> <div class="admonition quote"> <p class=admonition-title>Quote</p> <p>数字<code>n</code>代表生成括号的对数，请你设计一个函数，用于能够生成所有可能的并且有效的括号组合。</p> <p>示例 1：</p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-4-1><span class=n>输入</span><span class=err>：</span><span class=n>n</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>3</span>
</span><span id=__span-4-2><span class=n>输出</span><span class=err>：</span><span class=p>[</span><span class=s>&quot;((()))&quot;</span><span class=p>,</span><span class=s>&quot;(()())&quot;</span><span class=p>,</span><span class=s>&quot;(())()&quot;</span><span class=p>,</span><span class=s>&quot;()(())&quot;</span><span class=p>,</span><span class=s>&quot;()()()&quot;</span><span class=p>]</span>
</span></code></pre></div></td></tr></table></div> <p>示例 2：</p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-5-1><span class=n>输入</span><span class=err>：</span><span class=n>n</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span>
</span><span id=__span-5-2><span class=n>输出</span><span class=err>：</span><span class=p>[</span><span class=s>&quot;()&quot;</span><span class=p>]</span>
</span></code></pre></div></td></tr></table></div> </div> <p><strong>思路分析：</strong></p> <p>本题的基本思路是依次枚举当前位置可以填入的括号，因为是括号对，所以一个位置有两种情况：左括号和右括号，假设有三对括号对，那么需要填充的位置就是6个，根据有效的括号对条件：</p> <ol> <li>左括号数量等于右括号数量</li> <li>从第一个括号字符开始，每一个子字符串都满足左括号数量大于等于右括号数量</li> </ol> <p>先枚举左括号，当左括号的个数小于需要的括号对数时，说明还可以添加左括号，否则枚举右括号，当右括号的个数大于等于左括号时，说明右括号不可以再插入。最后，当右括号的个数等于括号对数时，说明已经找到满足要求个数的括号对</p> <p><strong>参考代码：</strong></p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span>
<span class=normal>39</span>
<span class=normal>40</span>
<span class=normal>41</span>
<span class=normal>42</span>
<span class=normal>43</span>
<span class=normal>44</span>
<span class=normal>45</span>
<span class=normal>46</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-6-1><span class=k>class</span><span class=w> </span><span class=nc>Solution22</span>
</span><span id=__span-6-2><span class=p>{</span>
</span><span id=__span-6-3><span class=k>public</span><span class=o>:</span>
</span><span id=__span-6-4><span class=w>    </span><span class=c1>// 记录左括号数量</span>
</span><span id=__span-6-5><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>left</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-6-6><span class=w>    </span><span class=c1>// 记录右括号数量</span>
</span><span id=__span-6-7><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>right</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-6-8><span class=w>    </span><span class=n>string</span><span class=w> </span><span class=n>path</span><span class=p>;</span>
</span><span id=__span-6-9><span class=w>    </span><span class=n>vector</span><span class=o>&lt;</span><span class=n>string</span><span class=o>&gt;</span><span class=w> </span><span class=n>ret</span><span class=p>;</span>
</span><span id=__span-6-10>
</span><span id=__span-6-11><span class=w>    </span><span class=kt>void</span><span class=w> </span><span class=nf>backtracking</span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>all</span><span class=p>)</span>
</span><span id=__span-6-12><span class=w>    </span><span class=p>{</span>
</span><span id=__span-6-13><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>right</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>all</span><span class=p>)</span>
</span><span id=__span-6-14><span class=w>        </span><span class=p>{</span>
</span><span id=__span-6-15><span class=w>            </span><span class=n>ret</span><span class=p>.</span><span class=n>push_back</span><span class=p>(</span><span class=n>path</span><span class=p>);</span>
</span><span id=__span-6-16><span class=w>            </span><span class=k>return</span><span class=p>;</span>
</span><span id=__span-6-17><span class=w>        </span><span class=p>}</span>
</span><span id=__span-6-18>
</span><span id=__span-6-19><span class=w>        </span><span class=c1>// 有效的括号组合条件：</span>
</span><span id=__span-6-20><span class=w>        </span><span class=c1>// 1. 左括号数量等于右括号数量</span>
</span><span id=__span-6-21><span class=w>        </span><span class=c1>// 2. 从第一个括号字符开始，每一个子字符串都满足左括号数量大于等于右括号数量</span>
</span><span id=__span-6-22><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>left</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>all</span><span class=p>)</span><span class=w> </span><span class=c1>// 当左括号数量小于总数，说明此时还没有足够的括号对</span>
</span><span id=__span-6-23><span class=w>        </span><span class=p>{</span>
</span><span id=__span-6-24><span class=w>            </span><span class=n>path</span><span class=w> </span><span class=o>+=</span><span class=w> </span><span class=s>&quot;(&quot;</span><span class=p>;</span>
</span><span id=__span-6-25><span class=w>            </span><span class=n>left</span><span class=o>++</span><span class=p>;</span>
</span><span id=__span-6-26><span class=w>            </span><span class=n>backtracking</span><span class=p>(</span><span class=n>all</span><span class=p>);</span>
</span><span id=__span-6-27><span class=w>            </span><span class=n>left</span><span class=o>--</span><span class=p>;</span>
</span><span id=__span-6-28><span class=w>            </span><span class=n>path</span><span class=p>.</span><span class=n>pop_back</span><span class=p>();</span>
</span><span id=__span-6-29><span class=w>        </span><span class=p>}</span>
</span><span id=__span-6-30>
</span><span id=__span-6-31><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>right</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>left</span><span class=p>)</span><span class=w> </span><span class=c1>// 当右括号数量小于左括号时就添加右括号，此时左括号已经到达最大数量</span>
</span><span id=__span-6-32><span class=w>        </span><span class=p>{</span>
</span><span id=__span-6-33><span class=w>            </span><span class=n>path</span><span class=w> </span><span class=o>+=</span><span class=w> </span><span class=s>&quot;)&quot;</span><span class=p>;</span>
</span><span id=__span-6-34><span class=w>            </span><span class=n>right</span><span class=o>++</span><span class=p>;</span>
</span><span id=__span-6-35><span class=w>            </span><span class=n>backtracking</span><span class=p>(</span><span class=n>all</span><span class=p>);</span>
</span><span id=__span-6-36><span class=w>            </span><span class=n>right</span><span class=o>--</span><span class=p>;</span>
</span><span id=__span-6-37><span class=w>            </span><span class=n>path</span><span class=p>.</span><span class=n>pop_back</span><span class=p>();</span>
</span><span id=__span-6-38><span class=w>        </span><span class=p>}</span>
</span><span id=__span-6-39><span class=w>    </span><span class=p>}</span>
</span><span id=__span-6-40>
</span><span id=__span-6-41><span class=w>    </span><span class=n>vector</span><span class=o>&lt;</span><span class=n>string</span><span class=o>&gt;</span><span class=w> </span><span class=n>generateParenthesis</span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>n</span><span class=p>)</span>
</span><span id=__span-6-42><span class=w>    </span><span class=p>{</span>
</span><span id=__span-6-43><span class=w>        </span><span class=n>backtracking</span><span class=p>(</span><span class=n>n</span><span class=p>);</span>
</span><span id=__span-6-44><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>ret</span><span class=p>;</span>
</span><span id=__span-6-45><span class=w>    </span><span class=p>}</span>
</span><span id=__span-6-46><span class=p>};</span>
</span></code></pre></div></td></tr></table></div> <h2 id=494>力扣494.目标和<a class=headerlink href=#494 title="Permanent link">&para;</a></h2> <p><a href=https://leetcode.cn/problems/target-sum/description/ >力扣494.目标和</a></p> <p><strong>问题描述：</strong></p> <div class="admonition quote"> <p class=admonition-title>Quote</p> <p>给你一个非负整数数组<code>nums</code>和一个整数<code>target</code>。</p> <p>向数组中的每个整数前添加<code>+</code>或<code>-</code>，然后串联起所有整数，可以构造一个表达式：</p> <p>例如，<code>nums = [2, 1]</code>，可以在<code>2</code>之前添加<code>+</code>，在<code>1</code>之前添加<code>-</code>，然后串联起来得到表达式<code>+2-1</code>。 返回可以通过上述方法构造的、运算结果等于<code>target</code>的不同表达式的数目。</p> <p>示例 1：</p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span>
<span class=normal>7</span>
<span class=normal>8</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-7-1><span class=n>输入</span><span class=err>：</span><span class=n>nums</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>1</span><span class=p>],</span><span class=w> </span><span class=n>target</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>3</span>
</span><span id=__span-7-2><span class=n>输出</span><span class=err>：</span><span class=mi>5</span>
</span><span id=__span-7-3><span class=n>解释</span><span class=err>：</span><span class=n>一共有</span><span class=w> </span><span class=mi>5</span><span class=w> </span><span class=n>种方法让最终目标和为</span><span class=w> </span><span class=mi>3</span><span class=w> </span><span class=err>。</span>
</span><span id=__span-7-4><span class=mi>-1</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>3</span>
</span><span id=__span-7-5><span class=o>+</span><span class=mi>1</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>3</span>
</span><span id=__span-7-6><span class=o>+</span><span class=mi>1</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>3</span>
</span><span id=__span-7-7><span class=o>+</span><span class=mi>1</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>3</span>
</span><span id=__span-7-8><span class=o>+</span><span class=mi>1</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>3</span>
</span></code></pre></div></td></tr></table></div> <p>示例 2：</p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-8-1><span class=n>输入</span><span class=err>：</span><span class=n>nums</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>[</span><span class=mi>1</span><span class=p>],</span><span class=w> </span><span class=n>target</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span>
</span><span id=__span-8-2><span class=n>输出</span><span class=err>：</span><span class=mi>1</span>
</span></code></pre></div></td></tr></table></div> </div> <p><strong>思路分析：</strong></p> <p>本题因为每个数字都有两种情况，所以可以理解为两棵二叉树，第一棵二叉树根节点为1，第二棵二叉树根节点为-1，以此类推，根据符号后会出现两种情况：</p> <ol> <li>当前数值为正数，计算和为<code>sum+nums[i]</code></li> <li>当前数值为负数，计算和为<code>sum-nums[i]</code></li> </ol> <p><strong>参考代码：</strong></p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-9-1><span class=k>class</span><span class=w> </span><span class=nc>Solution494</span>
</span><span id=__span-9-2><span class=p>{</span>
</span><span id=__span-9-3><span class=k>public</span><span class=o>:</span>
</span><span id=__span-9-4><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>count</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-9-5>
</span><span id=__span-9-6><span class=w>    </span><span class=kt>void</span><span class=w> </span><span class=nf>backtracking</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span><span class=w> </span><span class=o>&amp;</span><span class=n>nums</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>target</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>start</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>sum</span><span class=p>)</span>
</span><span id=__span-9-7><span class=w>    </span><span class=p>{</span>
</span><span id=__span-9-8><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>start</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>nums</span><span class=p>.</span><span class=n>size</span><span class=p>())</span>
</span><span id=__span-9-9><span class=w>        </span><span class=p>{</span>
</span><span id=__span-9-10><span class=w>            </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>sum</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>target</span><span class=p>)</span>
</span><span id=__span-9-11><span class=w>                </span><span class=n>count</span><span class=o>++</span><span class=p>;</span>
</span><span id=__span-9-12><span class=w>            </span><span class=k>return</span><span class=p>;</span>
</span><span id=__span-9-13><span class=w>        </span><span class=p>}</span>
</span><span id=__span-9-14>
</span><span id=__span-9-15><span class=w>        </span><span class=c1>// 当取正号</span>
</span><span id=__span-9-16><span class=w>        </span><span class=n>backtracking</span><span class=p>(</span><span class=n>nums</span><span class=p>,</span><span class=w> </span><span class=n>target</span><span class=p>,</span><span class=w> </span><span class=n>start</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=n>nums</span><span class=p>[</span><span class=n>start</span><span class=p>]</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>sum</span><span class=p>);</span>
</span><span id=__span-9-17><span class=w>        </span><span class=c1>// 当取负号</span>
</span><span id=__span-9-18><span class=w>        </span><span class=n>backtracking</span><span class=p>(</span><span class=n>nums</span><span class=p>,</span><span class=w> </span><span class=n>target</span><span class=p>,</span><span class=w> </span><span class=n>start</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=n>sum</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=n>nums</span><span class=p>[</span><span class=n>start</span><span class=p>]);</span>
</span><span id=__span-9-19><span class=w>    </span><span class=p>}</span>
</span><span id=__span-9-20>
</span><span id=__span-9-21><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=nf>findTargetSumWays</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span><span class=w> </span><span class=o>&amp;</span><span class=n>nums</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>target</span><span class=p>)</span>
</span><span id=__span-9-22><span class=w>    </span><span class=p>{</span>
</span><span id=__span-9-23><span class=w>        </span><span class=n>backtracking</span><span class=p>(</span><span class=n>nums</span><span class=p>,</span><span class=w> </span><span class=n>target</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>);</span>
</span><span id=__span-9-24>
</span><span id=__span-9-25><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>count</span><span class=p>;</span>
</span><span id=__span-9-26><span class=w>    </span><span class=p>}</span>
</span><span id=__span-9-27><span class=p>};</span>
</span></code></pre></div></td></tr></table></div> <h2 id=784>力扣784.字母大小写全排列<a class=headerlink href=#784 title="Permanent link">&para;</a></h2> <p><a href=https://leetcode.cn/problems/letter-case-permutation/ >力扣784.字母大小写全排列</a></p> <p><strong>问题描述：</strong></p> <div class="admonition quote"> <p class=admonition-title>Quote</p> <p>给定一个字符串<code>s</code>，通过将字符串<code>s</code>中的每个字母转变大小写，我们可以获得一个新的字符串。</p> <p>返回所有可能得到的字符串集合。以任意顺序返回输出。</p> <p>示例 1：</p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-10-1><span class=n>输入</span><span class=err>：</span><span class=n>s</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;a1b2&quot;</span>
</span><span id=__span-10-2><span class=n>输出</span><span class=err>：</span><span class=p>[</span><span class=s>&quot;a1b2&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;a1B2&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;A1b2&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;A1B2&quot;</span><span class=p>]</span>
</span></code></pre></div></td></tr></table></div> <p>示例 2:</p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-11-1><span class=nl>输入</span><span class=p>:</span><span class=w> </span><span class=n>s</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;3z4&quot;</span>
</span><span id=__span-11-2><span class=nl>输出</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=s>&quot;3z4&quot;</span><span class=p>,</span><span class=s>&quot;3Z4&quot;</span><span class=p>]</span>
</span></code></pre></div></td></tr></table></div> </div> <p><strong>思路分析：</strong></p> <p>本题的基本思路是根据是否需要转变大小写分情况进行递归，如果是字母就走两种递归，一种是大写，另外一种是小写，否则就是数字直接走即可</p> <p><strong>参考代码：</strong></p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-12-1><span class=k>class</span><span class=w> </span><span class=nc>Solution784</span>
</span><span id=__span-12-2><span class=p>{</span>
</span><span id=__span-12-3><span class=k>public</span><span class=o>:</span>
</span><span id=__span-12-4><span class=w>    </span><span class=n>vector</span><span class=o>&lt;</span><span class=n>string</span><span class=o>&gt;</span><span class=w> </span><span class=n>ret</span><span class=p>;</span>
</span><span id=__span-12-5>
</span><span id=__span-12-6><span class=w>    </span><span class=kt>void</span><span class=w> </span><span class=nf>backtracking</span><span class=p>(</span><span class=k>const</span><span class=w> </span><span class=n>string</span><span class=w> </span><span class=o>&amp;</span><span class=n>s</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>start</span><span class=p>,</span><span class=w> </span><span class=n>string</span><span class=w> </span><span class=n>path</span><span class=p>)</span>
</span><span id=__span-12-7><span class=w>    </span><span class=p>{</span>
</span><span id=__span-12-8><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>start</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>s</span><span class=p>.</span><span class=n>size</span><span class=p>())</span>
</span><span id=__span-12-9><span class=w>        </span><span class=p>{</span>
</span><span id=__span-12-10><span class=w>            </span><span class=n>ret</span><span class=p>.</span><span class=n>push_back</span><span class=p>(</span><span class=n>path</span><span class=p>);</span>
</span><span id=__span-12-11><span class=w>            </span><span class=k>return</span><span class=p>;</span>
</span><span id=__span-12-12><span class=w>        </span><span class=p>}</span>
</span><span id=__span-12-13>
</span><span id=__span-12-14><span class=w>        </span><span class=c1>// 遇到字母时走两种</span>
</span><span id=__span-12-15><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>isalpha</span><span class=p>(</span><span class=n>s</span><span class=p>[</span><span class=n>start</span><span class=p>]))</span>
</span><span id=__span-12-16><span class=w>        </span><span class=p>{</span>
</span><span id=__span-12-17><span class=w>            </span><span class=n>backtracking</span><span class=p>(</span><span class=n>s</span><span class=p>,</span><span class=w> </span><span class=n>start</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=n>path</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=p>(</span><span class=kt>char</span><span class=p>)</span><span class=w> </span><span class=n>toupper</span><span class=p>(</span><span class=n>s</span><span class=p>[</span><span class=n>start</span><span class=p>]));</span>
</span><span id=__span-12-18><span class=w>            </span><span class=n>backtracking</span><span class=p>(</span><span class=n>s</span><span class=p>,</span><span class=w> </span><span class=n>start</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=n>path</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=p>(</span><span class=kt>char</span><span class=p>)</span><span class=w> </span><span class=n>tolower</span><span class=p>(</span><span class=n>s</span><span class=p>[</span><span class=n>start</span><span class=p>]));</span>
</span><span id=__span-12-19><span class=w>        </span><span class=p>}</span>
</span><span id=__span-12-20><span class=w>        </span><span class=k>else</span>
</span><span id=__span-12-21><span class=w>            </span><span class=n>backtracking</span><span class=p>(</span><span class=n>s</span><span class=p>,</span><span class=w> </span><span class=n>start</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=n>path</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>s</span><span class=p>[</span><span class=n>start</span><span class=p>]);</span>
</span><span id=__span-12-22><span class=w>    </span><span class=p>}</span>
</span><span id=__span-12-23>
</span><span id=__span-12-24><span class=w>    </span><span class=n>vector</span><span class=o>&lt;</span><span class=n>string</span><span class=o>&gt;</span><span class=w> </span><span class=n>letterCasePermutation</span><span class=p>(</span><span class=n>string</span><span class=w> </span><span class=n>s</span><span class=p>)</span>
</span><span id=__span-12-25><span class=w>    </span><span class=p>{</span>
</span><span id=__span-12-26><span class=w>        </span><span class=n>backtracking</span><span class=p>(</span><span class=n>s</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=s>&quot;&quot;</span><span class=p>);</span>
</span><span id=__span-12-27>
</span><span id=__span-12-28><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>ret</span><span class=p>;</span>
</span><span id=__span-12-29><span class=w>    </span><span class=p>}</span>
</span><span id=__span-12-30><span class=p>};</span>
</span></code></pre></div></td></tr></table></div> <h2 id=526>力扣526.优美的排列<a class=headerlink href=#526 title="Permanent link">&para;</a></h2> <p><a href=https://leetcode.cn/problems/beautiful-arrangement/description/ >力扣526.优美的排列</a></p> <p><strong>问题描述：</strong></p> <div class="admonition quote"> <p class=admonition-title>Quote</p> <p>假设有从1到<code>n</code>的<code>n</code>个整数。用这些整数构造一个数组<code>perm</code>（下标从 1 开始），只要满足下述条件之一，该数组就是一个优美的排列：</p> <ol> <li><code>perm[i]</code>能够被<code>i</code>整除</li> <li><code>i</code>能够被<code>perm[i]</code>整除</li> </ol> <p>给你一个整数<code>n</code>，返回可以构造的优美排列的数量 。</p> <p>示例 1：</p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span>
<span class=normal>7</span>
<span class=normal>8</span>
<span class=normal>9</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-13-1><span class=n>输入</span><span class=err>：</span><span class=n>n</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>2</span>
</span><span id=__span-13-2><span class=n>输出</span><span class=err>：</span><span class=mi>2</span>
</span><span id=__span-13-3><span class=n>解释</span><span class=err>：</span>
</span><span id=__span-13-4><span class=n>第</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=n>个优美的排列是</span><span class=w> </span><span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>]</span><span class=err>：</span>
</span><span id=__span-13-5><span class=o>-</span><span class=w> </span><span class=n>perm</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=n>能被</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=n>整除</span>
</span><span id=__span-13-6><span class=o>-</span><span class=w> </span><span class=n>perm</span><span class=p>[</span><span class=mi>2</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>2</span><span class=w> </span><span class=n>能被</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>2</span><span class=w> </span><span class=n>整除</span>
</span><span id=__span-13-7><span class=n>第</span><span class=w> </span><span class=mi>2</span><span class=w> </span><span class=n>个优美的排列是</span><span class=w> </span><span class=p>[</span><span class=mi>2</span><span class=p>,</span><span class=mi>1</span><span class=p>]</span><span class=o>:</span>
</span><span id=__span-13-8><span class=o>-</span><span class=w> </span><span class=n>perm</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>2</span><span class=w> </span><span class=n>能被</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=n>整除</span>
</span><span id=__span-13-9><span class=o>-</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>2</span><span class=w> </span><span class=n>能被</span><span class=w> </span><span class=n>perm</span><span class=p>[</span><span class=mi>2</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=n>整除</span>
</span></code></pre></div></td></tr></table></div> <p>示例 2：</p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-14-1><span class=n>输入</span><span class=err>：</span><span class=n>n</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span>
</span><span id=__span-14-2><span class=n>输出</span><span class=err>：</span><span class=mi>1</span>
</span></code></pre></div></td></tr></table></div> </div> <p><strong>思路分析：</strong></p> <p>本题的基本思路就是根据优美排列的规则枚举所有可能的情况，但是需要注意，根据给定个数n，第一个位置有n种情况，第二个位置有n-1种情况，以此类推，所以此时就需要涉及到树枝去重，防止在同一个优美排列结果中出现一个数字使用两次的情况。另外，当一个数值无法满足优美排列的条件，就需要枚举后面的值而不是直接跳出循环</p> <p><strong>参考代码：</strong></p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span>
<span class=normal>39</span>
<span class=normal>40</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-15-1><span class=k>class</span><span class=w> </span><span class=nc>Solution526</span>
</span><span id=__span-15-2><span class=p>{</span>
</span><span id=__span-15-3><span class=k>public</span><span class=o>:</span>
</span><span id=__span-15-4><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>count</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-15-5>
</span><span id=__span-15-6><span class=w>    </span><span class=kt>void</span><span class=w> </span><span class=nf>backtracking</span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>n</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>index</span><span class=p>,</span><span class=w> </span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>bool</span><span class=o>&gt;</span><span class=w> </span><span class=o>&amp;</span><span class=n>used</span><span class=p>)</span>
</span><span id=__span-15-7><span class=w>    </span><span class=p>{</span>
</span><span id=__span-15-8><span class=w>        </span><span class=c1>// index大于n时说明已经到达叶子节点</span>
</span><span id=__span-15-9><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>index</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=n>n</span><span class=p>)</span>
</span><span id=__span-15-10><span class=w>        </span><span class=p>{</span>
</span><span id=__span-15-11><span class=w>            </span><span class=n>count</span><span class=o>++</span><span class=p>;</span>
</span><span id=__span-15-12><span class=w>            </span><span class=k>return</span><span class=p>;</span>
</span><span id=__span-15-13><span class=w>        </span><span class=p>}</span>
</span><span id=__span-15-14>
</span><span id=__span-15-15><span class=w>        </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>&lt;=</span><span class=w> </span><span class=n>n</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=o>++</span><span class=p>)</span>
</span><span id=__span-15-16><span class=w>        </span><span class=p>{</span>
</span><span id=__span-15-17><span class=w>            </span><span class=c1>// 判断当前值是否可以满足优美排列条件之一</span>
</span><span id=__span-15-18><span class=w>            </span><span class=c1>// 满足就可以继续进行递归，否则当前条件直接排除</span>
</span><span id=__span-15-19><span class=w>            </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>i</span><span class=w> </span><span class=o>%</span><span class=w> </span><span class=n>index</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=mi>0</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>index</span><span class=w> </span><span class=o>%</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=mi>0</span><span class=p>)</span>
</span><span id=__span-15-20><span class=w>            </span><span class=p>{</span>
</span><span id=__span-15-21><span class=w>                </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>used</span><span class=p>[</span><span class=n>i</span><span class=p>])</span>
</span><span id=__span-15-22><span class=w>                    </span><span class=k>continue</span><span class=p>;</span>
</span><span id=__span-15-23>
</span><span id=__span-15-24><span class=w>                </span><span class=n>used</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>true</span><span class=p>;</span>
</span><span id=__span-15-25><span class=w>                </span><span class=n>backtracking</span><span class=p>(</span><span class=n>n</span><span class=p>,</span><span class=w> </span><span class=n>index</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=n>used</span><span class=p>);</span>
</span><span id=__span-15-26><span class=w>                </span><span class=n>used</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>false</span><span class=p>;</span>
</span><span id=__span-15-27><span class=w>            </span><span class=p>}</span>
</span><span id=__span-15-28><span class=w>            </span><span class=k>else</span>
</span><span id=__span-15-29><span class=w>                </span><span class=k>continue</span><span class=p>;</span><span class=w> </span><span class=c1>// 当前值不满足优美排列，继续枚举后面的值</span>
</span><span id=__span-15-30><span class=w>        </span><span class=p>}</span>
</span><span id=__span-15-31><span class=w>    </span><span class=p>}</span>
</span><span id=__span-15-32>
</span><span id=__span-15-33><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=nf>countArrangement</span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>n</span><span class=p>)</span>
</span><span id=__span-15-34><span class=w>    </span><span class=p>{</span>
</span><span id=__span-15-35><span class=w>        </span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>bool</span><span class=o>&gt;</span><span class=w> </span><span class=n>used</span><span class=p>(</span><span class=n>n</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=nb>false</span><span class=p>);</span>
</span><span id=__span-15-36><span class=w>        </span><span class=n>backtracking</span><span class=p>(</span><span class=n>n</span><span class=p>,</span><span class=w> </span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=n>used</span><span class=p>);</span>
</span><span id=__span-15-37>
</span><span id=__span-15-38><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>count</span><span class=p>;</span>
</span><span id=__span-15-39><span class=w>    </span><span class=p>}</span>
</span><span id=__span-15-40><span class=p>};</span>
</span></code></pre></div></td></tr></table></div> <h2 id=79>力扣79.单词搜索<a class=headerlink href=#79 title="Permanent link">&para;</a></h2> <p><a href=https://leetcode.cn/problems/word-search/description/ >力扣79.单词搜索</a></p> <p><strong>问题描述：</strong></p> <div class="admonition quote"> <p class=admonition-title>Quote</p> <p>给定一个<code>m x n</code>二维字符网格<code>board</code>和一个字符串单词<code>word</code>。如果<code>word</code>存在于网格中，返回<code>true</code>；否则，返回<code>false</code>。</p> <p>单词必须按照字母顺序，通过相邻的单元格内的字母构成，其中“相邻”单元格是那些水平相邻或垂直相邻的单元格。同一个单元格内的字母不允许被重复使用。</p> <p>示例 1：</p> <p><a class=glightbox href="3. 回溯进阶练习.assets\word2.jpg" data-type=image data-width=100% data-height=auto data-desc-position=bottom><img src="3. 回溯进阶练习.assets\word2.jpg"></a></p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-16-1><span class=n>输入</span><span class=err>：</span><span class=n>board</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>[[</span><span class=s>&quot;A&quot;</span><span class=p>,</span><span class=s>&quot;B&quot;</span><span class=p>,</span><span class=s>&quot;C&quot;</span><span class=p>,</span><span class=s>&quot;E&quot;</span><span class=p>],[</span><span class=s>&quot;S&quot;</span><span class=p>,</span><span class=s>&quot;F&quot;</span><span class=p>,</span><span class=s>&quot;C&quot;</span><span class=p>,</span><span class=s>&quot;S&quot;</span><span class=p>],[</span><span class=s>&quot;A&quot;</span><span class=p>,</span><span class=s>&quot;D&quot;</span><span class=p>,</span><span class=s>&quot;E&quot;</span><span class=p>,</span><span class=s>&quot;E&quot;</span><span class=p>]],</span><span class=w> </span><span class=n>word</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;ABCCED&quot;</span>
</span><span id=__span-16-2><span class=n>输出</span><span class=err>：</span><span class=nb>true</span>
</span></code></pre></div></td></tr></table></div> <p>示例 2：</p> <p><a class=glightbox href="3. 回溯进阶练习.assets\word-1.jpg" data-type=image data-width=100% data-height=auto data-desc-position=bottom><img src="3. 回溯进阶练习.assets\word-1.jpg"></a></p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-17-1><span class=n>输入</span><span class=err>：</span><span class=n>board</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>[[</span><span class=s>&quot;A&quot;</span><span class=p>,</span><span class=s>&quot;B&quot;</span><span class=p>,</span><span class=s>&quot;C&quot;</span><span class=p>,</span><span class=s>&quot;E&quot;</span><span class=p>],[</span><span class=s>&quot;S&quot;</span><span class=p>,</span><span class=s>&quot;F&quot;</span><span class=p>,</span><span class=s>&quot;C&quot;</span><span class=p>,</span><span class=s>&quot;S&quot;</span><span class=p>],[</span><span class=s>&quot;A&quot;</span><span class=p>,</span><span class=s>&quot;D&quot;</span><span class=p>,</span><span class=s>&quot;E&quot;</span><span class=p>,</span><span class=s>&quot;E&quot;</span><span class=p>]],</span><span class=w> </span><span class=n>word</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;SEE&quot;</span>
</span><span id=__span-17-2><span class=n>输出</span><span class=err>：</span><span class=nb>true</span>
</span></code></pre></div></td></tr></table></div> <p>示例 3：</p> <p><a class=glightbox href="3. 回溯进阶练习.assets\word3.jpg" data-type=image data-width=100% data-height=auto data-desc-position=bottom><img src="3. 回溯进阶练习.assets\word3.jpg"></a></p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-18-1><span class=n>输入</span><span class=err>：</span><span class=n>board</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>[[</span><span class=s>&quot;A&quot;</span><span class=p>,</span><span class=s>&quot;B&quot;</span><span class=p>,</span><span class=s>&quot;C&quot;</span><span class=p>,</span><span class=s>&quot;E&quot;</span><span class=p>],[</span><span class=s>&quot;S&quot;</span><span class=p>,</span><span class=s>&quot;F&quot;</span><span class=p>,</span><span class=s>&quot;C&quot;</span><span class=p>,</span><span class=s>&quot;S&quot;</span><span class=p>],[</span><span class=s>&quot;A&quot;</span><span class=p>,</span><span class=s>&quot;D&quot;</span><span class=p>,</span><span class=s>&quot;E&quot;</span><span class=p>,</span><span class=s>&quot;E&quot;</span><span class=p>]],</span><span class=w> </span><span class=n>word</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;ABCB&quot;</span>
</span><span id=__span-18-2><span class=n>输出</span><span class=err>：</span><span class=nb>false</span>
</span></code></pre></div></td></tr></table></div> </div> <p><strong>思路分析：</strong></p> <p>本题的基本思路是枚举每一个位置，如果当前位置是需要的字符就继续递归查找下一个，否则直接返回<code>false</code>，需要注意的是，因为只有第一个字符需要考虑整个字符表，所以只需要在主函数中使用二维数组遍历找出起始字符，其他的只需要根据相邻字符是否存在进行递归查找即可。因为不能重复走一个位置，所以需要<code>used</code>数组去重</p> <p><strong>参考代码：</strong></p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span>
<span class=normal>39</span>
<span class=normal>40</span>
<span class=normal>41</span>
<span class=normal>42</span>
<span class=normal>43</span>
<span class=normal>44</span>
<span class=normal>45</span>
<span class=normal>46</span>
<span class=normal>47</span>
<span class=normal>48</span>
<span class=normal>49</span>
<span class=normal>50</span>
<span class=normal>51</span>
<span class=normal>52</span>
<span class=normal>53</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-19-1><span class=k>class</span><span class=w> </span><span class=nc>Solution79</span>
</span><span id=__span-19-2><span class=p>{</span>
</span><span id=__span-19-3><span class=k>public</span><span class=o>:</span>
</span><span id=__span-19-4><span class=w>    </span><span class=kt>bool</span><span class=w> </span><span class=n>_exist</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>char</span><span class=o>&gt;&gt;</span><span class=w> </span><span class=o>&amp;</span><span class=n>board</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>row</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>col</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>index</span><span class=p>,</span><span class=w> </span><span class=k>const</span><span class=w> </span><span class=n>string</span><span class=w> </span><span class=o>&amp;</span><span class=n>word</span><span class=p>,</span>
</span><span id=__span-19-5><span class=w>                </span><span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>bool</span><span class=o>&gt;&gt;</span><span class=w> </span><span class=o>&amp;</span><span class=n>used</span><span class=p>)</span>
</span><span id=__span-19-6><span class=w>    </span><span class=p>{</span>
</span><span id=__span-19-7><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>index</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=n>word</span><span class=p>.</span><span class=n>size</span><span class=p>())</span>
</span><span id=__span-19-8><span class=w>            </span><span class=k>return</span><span class=w> </span><span class=nb>true</span><span class=p>;</span>
</span><span id=__span-19-9>
</span><span id=__span-19-10><span class=w>        </span><span class=c1>// 越界直接返回</span>
</span><span id=__span-19-11><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>row</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=mi>0</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>row</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=n>board</span><span class=p>.</span><span class=n>size</span><span class=p>()</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>col</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=mi>0</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>col</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=n>board</span><span class=p>[</span><span class=mi>0</span><span class=p>].</span><span class=n>size</span><span class=p>())</span>
</span><span id=__span-19-12><span class=w>            </span><span class=k>return</span><span class=w> </span><span class=nb>false</span><span class=p>;</span>
</span><span id=__span-19-13>
</span><span id=__span-19-14><span class=w>        </span><span class=c1>// 已经使用过的位置不能再使用</span>
</span><span id=__span-19-15><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>used</span><span class=p>[</span><span class=n>row</span><span class=p>][</span><span class=n>col</span><span class=p>])</span>
</span><span id=__span-19-16><span class=w>            </span><span class=k>return</span><span class=w> </span><span class=nb>false</span><span class=p>;</span>
</span><span id=__span-19-17>
</span><span id=__span-19-18><span class=w>        </span><span class=c1>// 当前位置的字符不等于目标字符，直接返回</span>
</span><span id=__span-19-19><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>board</span><span class=p>[</span><span class=n>row</span><span class=p>][</span><span class=n>col</span><span class=p>]</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=n>word</span><span class=p>[</span><span class=n>index</span><span class=p>])</span>
</span><span id=__span-19-20><span class=w>            </span><span class=k>return</span><span class=w> </span><span class=nb>false</span><span class=p>;</span>
</span><span id=__span-19-21>
</span><span id=__span-19-22><span class=w>        </span><span class=c1>// 标记当前位置已经使用</span>
</span><span id=__span-19-23><span class=w>        </span><span class=n>used</span><span class=p>[</span><span class=n>row</span><span class=p>][</span><span class=n>col</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>true</span><span class=p>;</span>
</span><span id=__span-19-24>
</span><span id=__span-19-25><span class=w>        </span><span class=c1>// 递归查找</span>
</span><span id=__span-19-26><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>_exist</span><span class=p>(</span><span class=n>board</span><span class=p>,</span><span class=w> </span><span class=n>row</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=n>col</span><span class=p>,</span><span class=w> </span><span class=n>index</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=n>word</span><span class=p>,</span><span class=w> </span><span class=n>used</span><span class=p>)</span><span class=w> </span><span class=o>||</span>
</span><span id=__span-19-27><span class=w>            </span><span class=n>_exist</span><span class=p>(</span><span class=n>board</span><span class=p>,</span><span class=w> </span><span class=n>row</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=n>col</span><span class=p>,</span><span class=w> </span><span class=n>index</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=n>word</span><span class=p>,</span><span class=w> </span><span class=n>used</span><span class=p>)</span><span class=w> </span><span class=o>||</span>
</span><span id=__span-19-28><span class=w>            </span><span class=n>_exist</span><span class=p>(</span><span class=n>board</span><span class=p>,</span><span class=w> </span><span class=n>row</span><span class=p>,</span><span class=w> </span><span class=n>col</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=n>index</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=n>word</span><span class=p>,</span><span class=w> </span><span class=n>used</span><span class=p>)</span><span class=w> </span><span class=o>||</span>
</span><span id=__span-19-29><span class=w>            </span><span class=n>_exist</span><span class=p>(</span><span class=n>board</span><span class=p>,</span><span class=w> </span><span class=n>row</span><span class=p>,</span><span class=w> </span><span class=n>col</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=n>index</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=n>word</span><span class=p>,</span><span class=w> </span><span class=n>used</span><span class=p>))</span>
</span><span id=__span-19-30><span class=w>            </span><span class=k>return</span><span class=w> </span><span class=nb>true</span><span class=p>;</span>
</span><span id=__span-19-31>
</span><span id=__span-19-32><span class=w>        </span><span class=n>used</span><span class=p>[</span><span class=n>row</span><span class=p>][</span><span class=n>col</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>false</span><span class=p>;</span>
</span><span id=__span-19-33>
</span><span id=__span-19-34><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=nb>false</span><span class=p>;</span>
</span><span id=__span-19-35><span class=w>    </span><span class=p>}</span>
</span><span id=__span-19-36>
</span><span id=__span-19-37><span class=w>    </span><span class=kt>bool</span><span class=w> </span><span class=n>exist</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>char</span><span class=o>&gt;&gt;</span><span class=w> </span><span class=o>&amp;</span><span class=n>board</span><span class=p>,</span><span class=w> </span><span class=n>string</span><span class=w> </span><span class=n>word</span><span class=p>)</span>
</span><span id=__span-19-38><span class=w>    </span><span class=p>{</span>
</span><span id=__span-19-39><span class=w>        </span><span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>bool</span><span class=o>&gt;&gt;</span><span class=w> </span><span class=n>used</span><span class=p>(</span><span class=n>board</span><span class=p>.</span><span class=n>size</span><span class=p>(),</span><span class=w> </span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>bool</span><span class=o>&gt;</span><span class=p>(</span><span class=n>board</span><span class=p>[</span><span class=mi>0</span><span class=p>].</span><span class=n>size</span><span class=p>(),</span><span class=w> </span><span class=nb>false</span><span class=p>));</span>
</span><span id=__span-19-40>
</span><span id=__span-19-41><span class=w>        </span><span class=c1>// 枚举起始位置</span>
</span><span id=__span-19-42><span class=w>        </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>board</span><span class=p>.</span><span class=n>size</span><span class=p>();</span><span class=w> </span><span class=n>i</span><span class=o>++</span><span class=p>)</span>
</span><span id=__span-19-43><span class=w>        </span><span class=p>{</span>
</span><span id=__span-19-44><span class=w>            </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>j</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=n>j</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>board</span><span class=p>[</span><span class=mi>0</span><span class=p>].</span><span class=n>size</span><span class=p>();</span><span class=w> </span><span class=n>j</span><span class=o>++</span><span class=p>)</span>
</span><span id=__span-19-45><span class=w>            </span><span class=p>{</span>
</span><span id=__span-19-46><span class=w>                </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>_exist</span><span class=p>(</span><span class=n>board</span><span class=p>,</span><span class=w> </span><span class=n>i</span><span class=p>,</span><span class=w> </span><span class=n>j</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=n>word</span><span class=p>,</span><span class=w> </span><span class=n>used</span><span class=p>))</span>
</span><span id=__span-19-47><span class=w>                    </span><span class=k>return</span><span class=w> </span><span class=nb>true</span><span class=p>;</span>
</span><span id=__span-19-48><span class=w>            </span><span class=p>}</span>
</span><span id=__span-19-49><span class=w>        </span><span class=p>}</span>
</span><span id=__span-19-50>
</span><span id=__span-19-51><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=nb>false</span><span class=p>;</span>
</span><span id=__span-19-52><span class=w>    </span><span class=p>}</span>
</span><span id=__span-19-53><span class=p>};</span>
</span></code></pre></div></td></tr></table></div> <h2 id=1219>力扣1219.黄金矿工<a class=headerlink href=#1219 title="Permanent link">&para;</a></h2> <p><a href=https://leetcode.cn/problems/path-with-maximum-gold/description/ >力扣1219.黄金矿工</a></p> <p><strong>问题描述：</strong></p> <div class="admonition quote"> <p class=admonition-title>Quote</p> <p>你要开发一座金矿，地质勘测学家已经探明了这座金矿中的资源分布，并用大小为<code>m * n</code>的网格<code>grid</code>进行了标注。每个单元格中的整数就表示这一单元格中的黄金数量；如果该单元格是空的，那么就是0。</p> <p>为了使收益最大化，矿工需要按以下规则来开采黄金：</p> <ol> <li>每当矿工进入一个单元，就会收集该单元格中的所有黄金。</li> <li>矿工每次可以从当前位置向上下左右四个方向走。</li> <li>每个单元格只能被开采（进入）一次。</li> <li>不得开采（进入）黄金数目为 0 的单元格。</li> <li>矿工可以从网格中任意一个有黄金的单元格出发或者是停止。</li> </ol> <p>示例 1：</p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span>
<span class=normal>7</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-20-1><span class=n>输入</span><span class=err>：</span><span class=n>grid</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>[[</span><span class=mi>0</span><span class=p>,</span><span class=mi>6</span><span class=p>,</span><span class=mi>0</span><span class=p>],[</span><span class=mi>5</span><span class=p>,</span><span class=mi>8</span><span class=p>,</span><span class=mi>7</span><span class=p>],[</span><span class=mi>0</span><span class=p>,</span><span class=mi>9</span><span class=p>,</span><span class=mi>0</span><span class=p>]]</span>
</span><span id=__span-20-2><span class=n>输出</span><span class=err>：</span><span class=mi>24</span>
</span><span id=__span-20-3><span class=n>解释</span><span class=err>：</span>
</span><span id=__span-20-4><span class=p>[[</span><span class=mi>0</span><span class=p>,</span><span class=mi>6</span><span class=p>,</span><span class=mi>0</span><span class=p>],</span>
</span><span id=__span-20-5><span class=p>[</span><span class=mi>5</span><span class=p>,</span><span class=mi>8</span><span class=p>,</span><span class=mi>7</span><span class=p>],</span>
</span><span id=__span-20-6><span class=p>[</span><span class=mi>0</span><span class=p>,</span><span class=mi>9</span><span class=p>,</span><span class=mi>0</span><span class=p>]]</span>
</span><span id=__span-20-7><span class=n>一种收集最多黄金的路线是</span><span class=err>：</span><span class=mi>9</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=mi>8</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=mi>7</span><span class=err>。</span>
</span></code></pre></div></td></tr></table></div> <p>示例 2：</p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span>
<span class=normal>7</span>
<span class=normal>8</span>
<span class=normal>9</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-21-1><span class=n>输入</span><span class=err>：</span><span class=n>grid</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>[[</span><span class=mi>1</span><span class=p>,</span><span class=mi>0</span><span class=p>,</span><span class=mi>7</span><span class=p>],[</span><span class=mi>2</span><span class=p>,</span><span class=mi>0</span><span class=p>,</span><span class=mi>6</span><span class=p>],[</span><span class=mi>3</span><span class=p>,</span><span class=mi>4</span><span class=p>,</span><span class=mi>5</span><span class=p>],[</span><span class=mi>0</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=mi>0</span><span class=p>],[</span><span class=mi>9</span><span class=p>,</span><span class=mi>0</span><span class=p>,</span><span class=mi>20</span><span class=p>]]</span>
</span><span id=__span-21-2><span class=n>输出</span><span class=err>：</span><span class=mi>28</span>
</span><span id=__span-21-3><span class=n>解释</span><span class=err>：</span>
</span><span id=__span-21-4><span class=p>[[</span><span class=mi>1</span><span class=p>,</span><span class=mi>0</span><span class=p>,</span><span class=mi>7</span><span class=p>],</span>
</span><span id=__span-21-5><span class=p>[</span><span class=mi>2</span><span class=p>,</span><span class=mi>0</span><span class=p>,</span><span class=mi>6</span><span class=p>],</span>
</span><span id=__span-21-6><span class=p>[</span><span class=mi>3</span><span class=p>,</span><span class=mi>4</span><span class=p>,</span><span class=mi>5</span><span class=p>],</span>
</span><span id=__span-21-7><span class=p>[</span><span class=mi>0</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=mi>0</span><span class=p>],</span>
</span><span id=__span-21-8><span class=p>[</span><span class=mi>9</span><span class=p>,</span><span class=mi>0</span><span class=p>,</span><span class=mi>20</span><span class=p>]]</span>
</span><span id=__span-21-9><span class=n>一种收集最多黄金的路线是</span><span class=err>：</span><span class=mi>1</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=mi>2</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=mi>3</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=mi>4</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=mi>5</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=mi>6</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=mi>7</span><span class=err>。</span>
</span></code></pre></div></td></tr></table></div> </div> <p><strong>思路分析：</strong></p> <p>本题的基本思路就是固定每一个有效的起点，从该起点出发获取每一条有效路径上的总和，直到求出最大值。因为不能重复走一个位置，所以需要<code>used</code>数组去重</p> <p><strong>参考代码：</strong></p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span>
<span class=normal>39</span>
<span class=normal>40</span>
<span class=normal>41</span>
<span class=normal>42</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-22-1><span class=k>class</span><span class=w> </span><span class=nc>Solution1219</span>
</span><span id=__span-22-2><span class=p>{</span>
</span><span id=__span-22-3><span class=k>public</span><span class=o>:</span>
</span><span id=__span-22-4><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>maxVal</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>INT_MIN</span><span class=p>;</span>
</span><span id=__span-22-5>
</span><span id=__span-22-6><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=nf>_getMaximumGold</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&gt;</span><span class=w> </span><span class=o>&amp;</span><span class=n>grid</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>row</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>col</span><span class=p>,</span><span class=w> </span><span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>bool</span><span class=o>&gt;&gt;</span><span class=w> </span><span class=o>&amp;</span><span class=n>used</span><span class=p>)</span>
</span><span id=__span-22-7><span class=w>    </span><span class=p>{</span>
</span><span id=__span-22-8><span class=w>        </span><span class=c1>// 越界或者当前位置为0</span>
</span><span id=__span-22-9><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>row</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=mi>0</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>row</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=n>grid</span><span class=p>.</span><span class=n>size</span><span class=p>()</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>col</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=mi>0</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>col</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=n>grid</span><span class=p>[</span><span class=mi>0</span><span class=p>].</span><span class=n>size</span><span class=p>()</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>used</span><span class=p>[</span><span class=n>row</span><span class=p>][</span><span class=n>col</span><span class=p>]</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>grid</span><span class=p>[</span><span class=n>row</span><span class=p>][</span><span class=n>col</span><span class=p>]</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=mi>0</span><span class=p>)</span>
</span><span id=__span-22-10><span class=w>            </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-22-11>
</span><span id=__span-22-12><span class=w>        </span><span class=n>used</span><span class=p>[</span><span class=n>row</span><span class=p>][</span><span class=n>col</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>true</span><span class=p>;</span>
</span><span id=__span-22-13>
</span><span id=__span-22-14><span class=w>        </span><span class=c1>// 上</span>
</span><span id=__span-22-15><span class=w>        </span><span class=kt>int</span><span class=w> </span><span class=n>top</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>_getMaximumGold</span><span class=p>(</span><span class=n>grid</span><span class=p>,</span><span class=w> </span><span class=n>row</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=n>col</span><span class=p>,</span><span class=w> </span><span class=n>used</span><span class=p>);</span>
</span><span id=__span-22-16><span class=w>        </span><span class=c1>// 下</span>
</span><span id=__span-22-17><span class=w>        </span><span class=kt>int</span><span class=w> </span><span class=n>bottom</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>_getMaximumGold</span><span class=p>(</span><span class=n>grid</span><span class=p>,</span><span class=w> </span><span class=n>row</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=n>col</span><span class=p>,</span><span class=w> </span><span class=n>used</span><span class=p>);</span>
</span><span id=__span-22-18><span class=w>        </span><span class=c1>// 左</span>
</span><span id=__span-22-19><span class=w>        </span><span class=kt>int</span><span class=w> </span><span class=n>left</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>_getMaximumGold</span><span class=p>(</span><span class=n>grid</span><span class=p>,</span><span class=w> </span><span class=n>row</span><span class=p>,</span><span class=w> </span><span class=n>col</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=n>used</span><span class=p>);</span>
</span><span id=__span-22-20><span class=w>        </span><span class=c1>// 右</span>
</span><span id=__span-22-21><span class=w>        </span><span class=kt>int</span><span class=w> </span><span class=n>right</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>_getMaximumGold</span><span class=p>(</span><span class=n>grid</span><span class=p>,</span><span class=w> </span><span class=n>row</span><span class=p>,</span><span class=w> </span><span class=n>col</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=n>used</span><span class=p>);</span>
</span><span id=__span-22-22>
</span><span id=__span-22-23><span class=w>        </span><span class=c1>// 找到最大的叶子</span>
</span><span id=__span-22-24><span class=w>        </span><span class=kt>int</span><span class=w> </span><span class=n>ret</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>max</span><span class=p>(</span><span class=n>max</span><span class=p>(</span><span class=n>top</span><span class=p>,</span><span class=w> </span><span class=n>bottom</span><span class=p>),</span><span class=w> </span><span class=n>max</span><span class=p>(</span><span class=n>left</span><span class=p>,</span><span class=w> </span><span class=n>right</span><span class=p>));</span>
</span><span id=__span-22-25>
</span><span id=__span-22-26><span class=w>        </span><span class=n>used</span><span class=p>[</span><span class=n>row</span><span class=p>][</span><span class=n>col</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>false</span><span class=p>;</span>
</span><span id=__span-22-27>
</span><span id=__span-22-28><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>ret</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>grid</span><span class=p>[</span><span class=n>row</span><span class=p>][</span><span class=n>col</span><span class=p>];</span>
</span><span id=__span-22-29><span class=w>    </span><span class=p>}</span>
</span><span id=__span-22-30>
</span><span id=__span-22-31><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=nf>getMaximumGold</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&gt;</span><span class=w> </span><span class=o>&amp;</span><span class=n>grid</span><span class=p>)</span>
</span><span id=__span-22-32><span class=w>    </span><span class=p>{</span>
</span><span id=__span-22-33><span class=w>        </span><span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>bool</span><span class=o>&gt;&gt;</span><span class=w> </span><span class=n>used</span><span class=p>(</span><span class=n>grid</span><span class=p>.</span><span class=n>size</span><span class=p>(),</span><span class=w> </span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>bool</span><span class=o>&gt;</span><span class=p>(</span><span class=n>grid</span><span class=p>[</span><span class=mi>0</span><span class=p>].</span><span class=n>size</span><span class=p>(),</span><span class=w> </span><span class=nb>false</span><span class=p>));</span>
</span><span id=__span-22-34>
</span><span id=__span-22-35><span class=w>        </span><span class=c1>// 枚举每一个位置</span>
</span><span id=__span-22-36><span class=w>        </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>grid</span><span class=p>.</span><span class=n>size</span><span class=p>();</span><span class=w> </span><span class=n>i</span><span class=o>++</span><span class=p>)</span>
</span><span id=__span-22-37><span class=w>            </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>j</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=n>j</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>grid</span><span class=p>[</span><span class=mi>0</span><span class=p>].</span><span class=n>size</span><span class=p>();</span><span class=w> </span><span class=n>j</span><span class=o>++</span><span class=p>)</span>
</span><span id=__span-22-38><span class=w>                </span><span class=n>maxVal</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>max</span><span class=p>(</span><span class=n>maxVal</span><span class=p>,</span><span class=w> </span><span class=n>_getMaximumGold</span><span class=p>(</span><span class=n>grid</span><span class=p>,</span><span class=w> </span><span class=n>i</span><span class=p>,</span><span class=w> </span><span class=n>j</span><span class=p>,</span><span class=w> </span><span class=n>used</span><span class=p>));</span>
</span><span id=__span-22-39>
</span><span id=__span-22-40><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>maxVal</span><span class=p>;</span>
</span><span id=__span-22-41><span class=w>    </span><span class=p>}</span>
</span><span id=__span-22-42><span class=p>};</span>
</span></code></pre></div></td></tr></table></div> <h2 id=980iii>力扣980.不同路径Ⅲ<a class=headerlink href=#980iii title="Permanent link">&para;</a></h2> <p><a href=https://leetcode.cn/problems/unique-paths-iii/description/ >力扣980.不同路径Ⅲ</a></p> <p><strong>问题描述：</strong></p> <div class="admonition quote"> <p class=admonition-title>Quote</p> <p>在二维网格<code>grid</code>上，有4种类型的方格：</p> <ul> <li>1表示起始方格。且只有一个起始方格。</li> <li>2表示结束方格，且只有一个结束方格。</li> <li>0表示我们可以走过的空方格。</li> <li>-1表示我们无法跨越的障碍。</li> </ul> <p>返回在四个方向（上、下、左、右）上行走时，从起始方格到结束方格的不同路径的数目。</p> <p>每一个无障碍方格都要通过一次，但是一条路径中不能重复通过同一个方格。</p> <p>示例 1：</p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-23-1><span class=n>输入</span><span class=err>：</span><span class=p>[[</span><span class=mi>1</span><span class=p>,</span><span class=mi>0</span><span class=p>,</span><span class=mi>0</span><span class=p>,</span><span class=mi>0</span><span class=p>],[</span><span class=mi>0</span><span class=p>,</span><span class=mi>0</span><span class=p>,</span><span class=mi>0</span><span class=p>,</span><span class=mi>0</span><span class=p>],[</span><span class=mi>0</span><span class=p>,</span><span class=mi>0</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>-1</span><span class=p>]]</span>
</span><span id=__span-23-2><span class=n>输出</span><span class=err>：</span><span class=mi>2</span>
</span><span id=__span-23-3><span class=n>解释</span><span class=err>：</span><span class=n>我们有以下两条路径</span><span class=err>（</span><span class=n>每个括号内都是经过的元素下标</span><span class=err>）：</span>
</span><span id=__span-23-4><span class=mf>1.</span><span class=w> </span><span class=p>(</span><span class=mi>0</span><span class=p>,</span><span class=mi>0</span><span class=p>),(</span><span class=mi>0</span><span class=p>,</span><span class=mi>1</span><span class=p>),(</span><span class=mi>0</span><span class=p>,</span><span class=mi>2</span><span class=p>),(</span><span class=mi>0</span><span class=p>,</span><span class=mi>3</span><span class=p>),(</span><span class=mi>1</span><span class=p>,</span><span class=mi>3</span><span class=p>),(</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>),(</span><span class=mi>1</span><span class=p>,</span><span class=mi>1</span><span class=p>),(</span><span class=mi>1</span><span class=p>,</span><span class=mi>0</span><span class=p>),(</span><span class=mi>2</span><span class=p>,</span><span class=mi>0</span><span class=p>),(</span><span class=mi>2</span><span class=p>,</span><span class=mi>1</span><span class=p>),(</span><span class=mi>2</span><span class=p>,</span><span class=mi>2</span><span class=p>)</span>
</span><span id=__span-23-5><span class=mf>2.</span><span class=w> </span><span class=p>(</span><span class=mi>0</span><span class=p>,</span><span class=mi>0</span><span class=p>),(</span><span class=mi>1</span><span class=p>,</span><span class=mi>0</span><span class=p>),(</span><span class=mi>2</span><span class=p>,</span><span class=mi>0</span><span class=p>),(</span><span class=mi>2</span><span class=p>,</span><span class=mi>1</span><span class=p>),(</span><span class=mi>1</span><span class=p>,</span><span class=mi>1</span><span class=p>),(</span><span class=mi>0</span><span class=p>,</span><span class=mi>1</span><span class=p>),(</span><span class=mi>0</span><span class=p>,</span><span class=mi>2</span><span class=p>),(</span><span class=mi>0</span><span class=p>,</span><span class=mi>3</span><span class=p>),(</span><span class=mi>1</span><span class=p>,</span><span class=mi>3</span><span class=p>),(</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>),(</span><span class=mi>2</span><span class=p>,</span><span class=mi>2</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> <p>示例 2：</p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span>
<span class=normal>7</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-24-1><span class=n>输入</span><span class=err>：</span><span class=p>[[</span><span class=mi>1</span><span class=p>,</span><span class=mi>0</span><span class=p>,</span><span class=mi>0</span><span class=p>,</span><span class=mi>0</span><span class=p>],[</span><span class=mi>0</span><span class=p>,</span><span class=mi>0</span><span class=p>,</span><span class=mi>0</span><span class=p>,</span><span class=mi>0</span><span class=p>],[</span><span class=mi>0</span><span class=p>,</span><span class=mi>0</span><span class=p>,</span><span class=mi>0</span><span class=p>,</span><span class=mi>2</span><span class=p>]]</span>
</span><span id=__span-24-2><span class=n>输出</span><span class=err>：</span><span class=mi>4</span>
</span><span id=__span-24-3><span class=n>解释</span><span class=err>：</span><span class=n>我们有以下四条路径</span><span class=err>：</span><span class=w> </span>
</span><span id=__span-24-4><span class=mf>1.</span><span class=w> </span><span class=p>(</span><span class=mi>0</span><span class=p>,</span><span class=mi>0</span><span class=p>),(</span><span class=mi>0</span><span class=p>,</span><span class=mi>1</span><span class=p>),(</span><span class=mi>0</span><span class=p>,</span><span class=mi>2</span><span class=p>),(</span><span class=mi>0</span><span class=p>,</span><span class=mi>3</span><span class=p>),(</span><span class=mi>1</span><span class=p>,</span><span class=mi>3</span><span class=p>),(</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>),(</span><span class=mi>1</span><span class=p>,</span><span class=mi>1</span><span class=p>),(</span><span class=mi>1</span><span class=p>,</span><span class=mi>0</span><span class=p>),(</span><span class=mi>2</span><span class=p>,</span><span class=mi>0</span><span class=p>),(</span><span class=mi>2</span><span class=p>,</span><span class=mi>1</span><span class=p>),(</span><span class=mi>2</span><span class=p>,</span><span class=mi>2</span><span class=p>),(</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>)</span>
</span><span id=__span-24-5><span class=mf>2.</span><span class=w> </span><span class=p>(</span><span class=mi>0</span><span class=p>,</span><span class=mi>0</span><span class=p>),(</span><span class=mi>0</span><span class=p>,</span><span class=mi>1</span><span class=p>),(</span><span class=mi>1</span><span class=p>,</span><span class=mi>1</span><span class=p>),(</span><span class=mi>1</span><span class=p>,</span><span class=mi>0</span><span class=p>),(</span><span class=mi>2</span><span class=p>,</span><span class=mi>0</span><span class=p>),(</span><span class=mi>2</span><span class=p>,</span><span class=mi>1</span><span class=p>),(</span><span class=mi>2</span><span class=p>,</span><span class=mi>2</span><span class=p>),(</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>),(</span><span class=mi>0</span><span class=p>,</span><span class=mi>2</span><span class=p>),(</span><span class=mi>0</span><span class=p>,</span><span class=mi>3</span><span class=p>),(</span><span class=mi>1</span><span class=p>,</span><span class=mi>3</span><span class=p>),(</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>)</span>
</span><span id=__span-24-6><span class=mf>3.</span><span class=w> </span><span class=p>(</span><span class=mi>0</span><span class=p>,</span><span class=mi>0</span><span class=p>),(</span><span class=mi>1</span><span class=p>,</span><span class=mi>0</span><span class=p>),(</span><span class=mi>2</span><span class=p>,</span><span class=mi>0</span><span class=p>),(</span><span class=mi>2</span><span class=p>,</span><span class=mi>1</span><span class=p>),(</span><span class=mi>2</span><span class=p>,</span><span class=mi>2</span><span class=p>),(</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>),(</span><span class=mi>1</span><span class=p>,</span><span class=mi>1</span><span class=p>),(</span><span class=mi>0</span><span class=p>,</span><span class=mi>1</span><span class=p>),(</span><span class=mi>0</span><span class=p>,</span><span class=mi>2</span><span class=p>),(</span><span class=mi>0</span><span class=p>,</span><span class=mi>3</span><span class=p>),(</span><span class=mi>1</span><span class=p>,</span><span class=mi>3</span><span class=p>),(</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>)</span>
</span><span id=__span-24-7><span class=mf>4.</span><span class=w> </span><span class=p>(</span><span class=mi>0</span><span class=p>,</span><span class=mi>0</span><span class=p>),(</span><span class=mi>1</span><span class=p>,</span><span class=mi>0</span><span class=p>),(</span><span class=mi>2</span><span class=p>,</span><span class=mi>0</span><span class=p>),(</span><span class=mi>2</span><span class=p>,</span><span class=mi>1</span><span class=p>),(</span><span class=mi>1</span><span class=p>,</span><span class=mi>1</span><span class=p>),(</span><span class=mi>0</span><span class=p>,</span><span class=mi>1</span><span class=p>),(</span><span class=mi>0</span><span class=p>,</span><span class=mi>2</span><span class=p>),(</span><span class=mi>0</span><span class=p>,</span><span class=mi>3</span><span class=p>),(</span><span class=mi>1</span><span class=p>,</span><span class=mi>3</span><span class=p>),(</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>),(</span><span class=mi>2</span><span class=p>,</span><span class=mi>2</span><span class=p>),(</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> <p>示例 3：</p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-25-1><span class=n>输入</span><span class=err>：</span><span class=p>[[</span><span class=mi>0</span><span class=p>,</span><span class=mi>1</span><span class=p>],[</span><span class=mi>2</span><span class=p>,</span><span class=mi>0</span><span class=p>]]</span>
</span><span id=__span-25-2><span class=n>输出</span><span class=err>：</span><span class=mi>0</span>
</span><span id=__span-25-3><span class=n>解释</span><span class=err>：</span>
</span><span id=__span-25-4><span class=n>没有一条路能完全穿过每一个空的方格一次</span><span class=err>。</span>
</span><span id=__span-25-5><span class=n>请注意</span><span class=err>，</span><span class=n>起始和结束方格可以位于网格中的任意位置</span><span class=err>。</span>
</span></code></pre></div></td></tr></table></div> </div> <p><strong>思路分析：</strong></p> <p>本题基本思路就是从起点依次走0的位置，直到找出可以遍历到所有0位置的路径更新计数器即可，需要注意，因为不能重复走一个位置，所以需要使用<code>used</code>数组去重</p> <p><strong>参考代码：</strong></p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span>
<span class=normal>39</span>
<span class=normal>40</span>
<span class=normal>41</span>
<span class=normal>42</span>
<span class=normal>43</span>
<span class=normal>44</span>
<span class=normal>45</span>
<span class=normal>46</span>
<span class=normal>47</span>
<span class=normal>48</span>
<span class=normal>49</span>
<span class=normal>50</span>
<span class=normal>51</span>
<span class=normal>52</span>
<span class=normal>53</span>
<span class=normal>54</span>
<span class=normal>55</span>
<span class=normal>56</span>
<span class=normal>57</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-26-1><span class=k>class</span><span class=w> </span><span class=nc>Solution980</span>
</span><span id=__span-26-2><span class=p>{</span>
</span><span id=__span-26-3><span class=k>public</span><span class=o>:</span>
</span><span id=__span-26-4><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>count</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-26-5>
</span><span id=__span-26-6><span class=w>    </span><span class=c1>// 判断所有0位置是否为true</span>
</span><span id=__span-26-7><span class=w>    </span><span class=kt>bool</span><span class=w> </span><span class=nf>testZero</span><span class=p>(</span><span class=k>const</span><span class=w> </span><span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&gt;</span><span class=w> </span><span class=o>&amp;</span><span class=n>grid</span><span class=p>,</span><span class=w> </span><span class=k>const</span><span class=w> </span><span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>bool</span><span class=o>&gt;&gt;</span><span class=w> </span><span class=o>&amp;</span><span class=n>used</span><span class=p>)</span>
</span><span id=__span-26-8><span class=w>    </span><span class=p>{</span>
</span><span id=__span-26-9><span class=w>        </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>grid</span><span class=p>.</span><span class=n>size</span><span class=p>();</span><span class=w> </span><span class=n>i</span><span class=o>++</span><span class=p>)</span>
</span><span id=__span-26-10><span class=w>            </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>j</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=n>j</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>grid</span><span class=p>[</span><span class=mi>0</span><span class=p>].</span><span class=n>size</span><span class=p>();</span><span class=w> </span><span class=n>j</span><span class=o>++</span><span class=p>)</span>
</span><span id=__span-26-11><span class=w>                </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>grid</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>j</span><span class=p>]</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=mi>0</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=o>!</span><span class=n>used</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>j</span><span class=p>])</span>
</span><span id=__span-26-12><span class=w>                    </span><span class=k>return</span><span class=w> </span><span class=nb>false</span><span class=p>;</span>
</span><span id=__span-26-13>
</span><span id=__span-26-14><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=nb>true</span><span class=p>;</span>
</span><span id=__span-26-15><span class=w>    </span><span class=p>}</span>
</span><span id=__span-26-16>
</span><span id=__span-26-17><span class=w>    </span><span class=kt>void</span><span class=w> </span><span class=nf>_uniquePathsIII</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&gt;</span><span class=w> </span><span class=o>&amp;</span><span class=n>grid</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>row</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>col</span><span class=p>,</span><span class=w> </span><span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>bool</span><span class=o>&gt;&gt;</span><span class=w> </span><span class=o>&amp;</span><span class=n>used</span><span class=p>)</span>
</span><span id=__span-26-18><span class=w>    </span><span class=p>{</span>
</span><span id=__span-26-19><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>row</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=mi>0</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>row</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=n>grid</span><span class=p>.</span><span class=n>size</span><span class=p>()</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>col</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=mi>0</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>col</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=n>grid</span><span class=p>[</span><span class=mi>0</span><span class=p>].</span><span class=n>size</span><span class=p>()</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>used</span><span class=p>[</span><span class=n>row</span><span class=p>][</span><span class=n>col</span><span class=p>]</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>grid</span><span class=p>[</span><span class=n>row</span><span class=p>][</span><span class=n>col</span><span class=p>]</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=mi>-1</span><span class=p>)</span>
</span><span id=__span-26-20><span class=w>            </span><span class=k>return</span><span class=p>;</span>
</span><span id=__span-26-21>
</span><span id=__span-26-22><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>grid</span><span class=p>[</span><span class=n>row</span><span class=p>][</span><span class=n>col</span><span class=p>]</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=mi>2</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=n>testZero</span><span class=p>(</span><span class=n>grid</span><span class=p>,</span><span class=w> </span><span class=n>used</span><span class=p>))</span>
</span><span id=__span-26-23><span class=w>        </span><span class=p>{</span>
</span><span id=__span-26-24><span class=w>            </span><span class=n>count</span><span class=o>++</span><span class=p>;</span>
</span><span id=__span-26-25><span class=w>            </span><span class=k>return</span><span class=p>;</span>
</span><span id=__span-26-26><span class=w>        </span><span class=p>}</span>
</span><span id=__span-26-27>
</span><span id=__span-26-28><span class=w>        </span><span class=n>used</span><span class=p>[</span><span class=n>row</span><span class=p>][</span><span class=n>col</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>true</span><span class=p>;</span>
</span><span id=__span-26-29>
</span><span id=__span-26-30><span class=w>        </span><span class=c1>// 上下左右都走一遍</span>
</span><span id=__span-26-31><span class=w>        </span><span class=n>_uniquePathsIII</span><span class=p>(</span><span class=n>grid</span><span class=p>,</span><span class=w> </span><span class=n>row</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=n>col</span><span class=p>,</span><span class=w> </span><span class=n>used</span><span class=p>);</span>
</span><span id=__span-26-32><span class=w>        </span><span class=n>_uniquePathsIII</span><span class=p>(</span><span class=n>grid</span><span class=p>,</span><span class=w> </span><span class=n>row</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=n>col</span><span class=p>,</span><span class=w> </span><span class=n>used</span><span class=p>);</span>
</span><span id=__span-26-33><span class=w>        </span><span class=n>_uniquePathsIII</span><span class=p>(</span><span class=n>grid</span><span class=p>,</span><span class=w> </span><span class=n>row</span><span class=p>,</span><span class=w> </span><span class=n>col</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=n>used</span><span class=p>);</span>
</span><span id=__span-26-34><span class=w>        </span><span class=n>_uniquePathsIII</span><span class=p>(</span><span class=n>grid</span><span class=p>,</span><span class=w> </span><span class=n>row</span><span class=p>,</span><span class=w> </span><span class=n>col</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=n>used</span><span class=p>);</span>
</span><span id=__span-26-35>
</span><span id=__span-26-36><span class=w>        </span><span class=n>used</span><span class=p>[</span><span class=n>row</span><span class=p>][</span><span class=n>col</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>false</span><span class=p>;</span>
</span><span id=__span-26-37><span class=w>    </span><span class=p>}</span>
</span><span id=__span-26-38>
</span><span id=__span-26-39><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=nf>uniquePathsIII</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&gt;</span><span class=w> </span><span class=o>&amp;</span><span class=n>grid</span><span class=p>)</span>
</span><span id=__span-26-40><span class=w>    </span><span class=p>{</span>
</span><span id=__span-26-41><span class=w>        </span><span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>bool</span><span class=o>&gt;&gt;</span><span class=w> </span><span class=n>used</span><span class=p>(</span><span class=n>grid</span><span class=p>.</span><span class=n>size</span><span class=p>(),</span><span class=w> </span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>bool</span><span class=o>&gt;</span><span class=p>(</span><span class=n>grid</span><span class=p>[</span><span class=mi>0</span><span class=p>].</span><span class=n>size</span><span class=p>(),</span><span class=w> </span><span class=nb>false</span><span class=p>));</span>
</span><span id=__span-26-42>
</span><span id=__span-26-43><span class=w>        </span><span class=c1>// 找到1开始</span>
</span><span id=__span-26-44><span class=w>        </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>grid</span><span class=p>.</span><span class=n>size</span><span class=p>();</span><span class=w> </span><span class=n>i</span><span class=o>++</span><span class=p>)</span>
</span><span id=__span-26-45><span class=w>        </span><span class=p>{</span>
</span><span id=__span-26-46><span class=w>            </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>j</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=n>j</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>grid</span><span class=p>[</span><span class=mi>0</span><span class=p>].</span><span class=n>size</span><span class=p>();</span><span class=w> </span><span class=n>j</span><span class=o>++</span><span class=p>)</span>
</span><span id=__span-26-47><span class=w>            </span><span class=p>{</span>
</span><span id=__span-26-48><span class=w>                </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>grid</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>j</span><span class=p>]</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=mi>1</span><span class=p>)</span>
</span><span id=__span-26-49><span class=w>                </span><span class=p>{</span>
</span><span id=__span-26-50><span class=w>                    </span><span class=n>_uniquePathsIII</span><span class=p>(</span><span class=n>grid</span><span class=p>,</span><span class=w> </span><span class=n>i</span><span class=p>,</span><span class=w> </span><span class=n>j</span><span class=p>,</span><span class=w> </span><span class=n>used</span><span class=p>);</span>
</span><span id=__span-26-51><span class=w>                </span><span class=p>}</span>
</span><span id=__span-26-52><span class=w>            </span><span class=p>}</span>
</span><span id=__span-26-53><span class=w>        </span><span class=p>}</span>
</span><span id=__span-26-54>
</span><span id=__span-26-55><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>count</span><span class=p>;</span>
</span><span id=__span-26-56><span class=w>    </span><span class=p>}</span>
</span><span id=__span-26-57><span class=p>};</span>
</span></code></pre></div></td></tr></table></div> <aside class=md-source-file> <span class=md-source-file__fact> <span class=md-icon title=最后更新> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">2025年1月23日</span> </span> <span class=md-source-file__fact> <span class=md-icon title=创建日期> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">2025年1月23日</span> </span> </aside> <form class=md-feedback name=feedback hidden> <fieldset> <legend class=md-feedback__title> 页面有帮助吗？ </legend> <div class=md-feedback__inner> <div class=md-feedback__list> <button class="md-feedback__icon md-icon" type=submit title=页面对我有帮助 data-md-value=1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M5 9v12H1V9zm4 12a2 2 0 0 1-2-2V9c0-.55.22-1.05.59-1.41L14.17 1l1.06 1.06c.27.27.44.64.44 1.05l-.03.32L14.69 8H21a2 2 0 0 1 2 2v2c0 .26-.05.5-.14.73l-3.02 7.05C19.54 20.5 18.83 21 18 21zm0-2h9.03L21 12v-2h-8.79l1.13-5.32L9 9.03z"/></svg> </button> <button class="md-feedback__icon md-icon" type=submit title=页面没有帮助到我 data-md-value=0> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 15V3h4v12zM15 3a2 2 0 0 1 2 2v10c0 .55-.22 1.05-.59 1.41L9.83 23l-1.06-1.06c-.27-.27-.44-.64-.44-1.06l.03-.31.95-4.57H3a2 2 0 0 1-2-2v-2c0-.26.05-.5.14-.73l3.02-7.05C4.46 3.5 5.17 3 6 3zm0 2H5.97L3 12v2h8.78l-1.13 5.32L15 14.97z"/></svg> </button> </div> <div class=md-feedback__note> <div data-md-value=1 hidden> 谢谢你的反馈！ </div> <div data-md-value=0 hidden> 谢谢你的反馈！联系<a href=https://www.help-doc.top/%E4%BD%9C%E8%80%85/%E4%BD%9C%E8%80%85.html>作者</a>提供更详细的信息 </div> </div> </div> </fieldset> </form> <!-- 阅读进度条 - 直接在HTML中定义 --> <div class=reading-progress></div> <!-- 滚动指示器 - 直接在HTML中定义 --> <div class=scroll-indicator></div> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> 回到页面顶部 </button> </main> <!--
  Copyright (c) 2016-2024 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
--> <!-- Footer --> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-footer-copyright__highlight> Copyright &copy; 2024-2025 柯懒不是柯南 </div> </div> <!-- "一闪一闪亮晶晶"元素 - 插入在copyright和social之间 --> <div class="md-footer-love md-typeset"> 一闪一闪亮晶晶，不及<span class=love-highlight>小亮</span><span class=love-heart>♥</span>照我心。To Li Liang </div> <div class=md-social> <a href=https://github.com/H0308 target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> <a href=https://www.help-doc.top/%E4%BD%9C%E8%80%85/%E4%BD%9C%E8%80%85.html target=_blank rel=noopener title=www.help-doc.top class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M433.754 420.445c-11.526 1.393-44.86-52.741-44.86-52.741 0 31.345-16.136 72.247-51.051 101.786 16.842 5.192 54.843 19.167 45.803 34.421-7.316 12.343-125.51 7.881-159.632 4.037-34.122 3.844-152.316 8.306-159.632-4.037-9.045-15.25 28.918-29.214 45.783-34.415-34.92-29.539-51.059-70.445-51.059-101.792 0 0-33.334 54.134-44.859 52.741-5.37-.65-12.424-29.644 9.347-99.704 10.261-33.024 21.995-60.478 40.144-105.779C60.683 98.063 108.982.006 224 0c113.737.006 163.156 96.133 160.264 214.963 18.118 45.223 29.912 72.85 40.144 105.778 21.768 70.06 14.716 99.053 9.346 99.704"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../..", "features": ["navigation.indexes", "navigation.prune", "navigation.tabs", "navigation.top", "search.suggest", "search.highlight", "content.code.copy"], "search": "../../../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}, "version": null}</script> <script src=../../../assets/javascripts/bundle.c8b220af.min.js></script> <script src=../../../javascripts/katex.min.js></script> <script src=../../../javascripts/other.min.js></script> <script src=../../../javascripts/copyright.min.js></script> <script src=https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/katex.min.js></script> <script src=https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/contrib/auto-render.min.js></script> <script src=../../../assets/javascripts/toggle-sidebar.js async></script> <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body> </html>