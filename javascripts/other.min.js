document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".highlight").forEach((highlight)=>{const nav=highlight.querySelector(".md-code__nav");if(nav&&nav.parentElement!==highlight){highlight.appendChild(nav);nav.style.position="absolute";nav.style.top="0.2rem";nav.style.right="0.5rem";nav.style.left="auto";nav.style.zIndex="10";}});document.querySelectorAll(".md-code__button").forEach((button)=>{button.addEventListener("click",function(){const codeBlock=this.closest(".highlight");if(!codeBlock)return;const oldFlash=codeBlock.querySelector(".copy-flash");if(oldFlash){oldFlash.remove();}
const flash=document.createElement("div");flash.className="copy-flash";codeBlock.appendChild(flash);flash.addEventListener("animationend",()=>{flash.remove();});});});});function adjustTooltipPosition(){const tooltips=document.querySelectorAll('.custom-tooltip');tooltips.forEach(tooltip=>{tooltip.classList.remove('tooltip-left','tooltip-right');const rect=tooltip.getBoundingClientRect();const viewportWidth=window.innerWidth;const tooltipWidth=Math.min(300,viewportWidth-20);const rightOverflow=(rect.left+tooltipWidth/2)>(viewportWidth-10);const leftOverflow=(rect.left-tooltipWidth/2)<10;if(rightOverflow){tooltip.classList.add('tooltip-right');}else if(leftOverflow){tooltip.classList.add('tooltip-left');}
});}
document.addEventListener('DOMContentLoaded',adjustTooltipPosition);window.addEventListener('resize',adjustTooltipPosition);document.addEventListener('click',function(e){if(e.target.classList.contains('custom-tooltip')){setTimeout(adjustTooltipPosition,10);}});function updateActiveBorder(){document.querySelectorAll('.active-border').forEach(el=>{el.classList.remove('active-border');});let actives=document.querySelectorAll('.md-nav--secondary .md-nav__link--active');let active=actives[1];let active_parent=active&&active.parentNode;if(active&&active_parent){active_parent.classList.add('active-border');}}
document.addEventListener('DOMContentLoaded',updateActiveBorder);window.addEventListener('scroll',function(){clearTimeout(window.scrollTimer);window.scrollTimer=setTimeout(updateActiveBorder,5);});document.addEventListener('click',function(e){if(e.target.closest('.md-nav__link')){setTimeout(updateActiveBorder,5);}});