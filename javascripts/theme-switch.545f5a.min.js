document.addEventListener('DOMContentLoaded',()=>{const themeSwitch=document.createElement('div');themeSwitch.className='theme-switch';const savedTheme=localStorage.getItem('preferred-theme')||'theme1';themeSwitch.innerHTML=`
        <button class="theme-btn" onclick="switchTheme()">
            <span class="current-theme">${savedTheme === 'theme1' ? '新版主题' : '旧版主题'}</span>
            <span class="target-theme">${savedTheme === 'theme1' ? '旧版主题' : '新版主题'}</span>
        </button>
    `;const searchEl=document.querySelector('.md-search');searchEl.parentNode.insertBefore(themeSwitch,searchEl);const theme1Link=document.querySelector('link[href*="theme1"]');const theme2Link=document.querySelector('link[href*="theme2"]');if(savedTheme==='theme1'){theme1Link.removeAttribute('disabled');theme2Link.setAttribute('disabled','true');}else{theme2Link.removeAttribute('disabled');theme1Link.setAttribute('disabled','true');}});function switchTheme(){const currentTheme=localStorage.getItem('preferred-theme')||'theme1';const newTheme=currentTheme==='theme1'?'theme2':'theme1';const theme1Link=document.querySelector('link[href*="theme1"]');const theme2Link=document.querySelector('link[href*="theme2"]');if(newTheme==='theme1'){theme1Link.removeAttribute('disabled');theme2Link.setAttribute('disabled','true');}else{theme2Link.removeAttribute('disabled');theme1Link.setAttribute('disabled','true');}
localStorage.setItem('preferred-theme',newTheme);const themeBtn=document.querySelector('.theme-btn');const currentThemeEl=themeBtn.querySelector('.current-theme');const targetThemeEl=themeBtn.querySelector('.target-theme');currentThemeEl.textContent=newTheme==='theme1'?'新版主题':'旧版主题';targetThemeEl.textContent=newTheme==='theme1'?'旧版主题':'新版主题';}