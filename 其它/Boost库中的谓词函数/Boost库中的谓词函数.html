<!doctype html><html lang=zh class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=canonical href=https://www.help-doc.top/%E5%85%B6%E5%AE%83/Boost%E5%BA%93%E4%B8%AD%E7%9A%84%E8%B0%93%E8%AF%8D%E5%87%BD%E6%95%B0/Boost%E5%BA%93%E4%B8%AD%E7%9A%84%E8%B0%93%E8%AF%8D%E5%87%BD%E6%95%B0.html><link rel=icon href=../../images/favicon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.12"><title>Boost库中的谓词函数 - 柯懒的知识库</title><link rel=stylesheet href=../../assets/stylesheets/main.2afb09e1.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.06af60db.min.css><link rel=stylesheet href=../../css/timeline.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/katex.min.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-9XWRGNRRSY"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-9XWRGNRRSY",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-9XWRGNRRSY",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script><link rel=stylesheet href=../../stylesheets/colors.min.css><!-- 移动端和平板端始终只加载theme2 --><link rel=stylesheet href=../../stylesheets/theme2.min.css media="screen and (max-width: 1199px)"><!-- 桌面端主题切换：新版主题同时加载theme1和theme2，旧版主题只加载theme2 --><link rel=stylesheet href=../../stylesheets/theme2.min.css media="screen and (min-width: 1200px)" id=theme2-desktop><link rel=stylesheet href=../../stylesheets/theme1.min.css media="screen and (min-width: 1200px)" id=theme1-desktop><link rel=stylesheet href=../../stylesheets/print.min.css><!-- 字体样式表 --><link rel=stylesheet href=../../stylesheets/font-dongguanti.min.css id=font-dongguanti><link rel=stylesheet href=../../stylesheets/font-oppoti.min.css id=font-oppoti disabled><link rel=stylesheet href=../../stylesheets/font-jiangchengti.min.css id=font-jiangchengti disabled><link rel=stylesheet href=../../stylesheets/font-lxgw.min.css id=font-lxgw disabled><!-- 代码字体样式表 --><link rel=stylesheet href=../../stylesheets/code-font-dejavu-sans-mono.min.css id=code-font-dejavu-sans-mono><link rel=stylesheet href=../../stylesheets/code-font-zsft-hk.min.css id=code-font-zsft-hk disabled><script src=https://cdn.jsdelivr.net/npm/mermaid@11.5.0/dist/mermaid.min.js></script><script src=../../javascripts/start.min.js></script> <link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../../assets/javascripts/glightbox.min.js"></script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=white data-md-color-accent=teal> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#boost class=md-skip> 跳转至 </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=页眉> <a href=../../index.html title=柯懒的知识库 class="md-header__button md-logo" aria-label=柯懒的知识库 data-md-component=logo> <img src=../../assets/logo.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> 柯懒的知识库 </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Boost库中的谓词函数 </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary=white data-md-color-accent=teal aria-label type=radio name=__palette id=__palette_1> </form> <!-- 头像元素 - 直接在HTML中定义 --> <div class=header-avatar> <img src=../../作者/作者.assets/20250206-200653.jpg alt=头像> <div class=avatar-dropdown> <p><strong>柯懒不是柯南</strong></p> <a href=../../作者/联系作者/作者.html class=avatar-dropdown-item>吵醒柯懒</a> <div class=avatar-dropdown-divider></div> <a href=../../作者/关于作者/关于作者.html class=avatar-dropdown-item>柯懒自传</a> <div class=avatar-dropdown-divider></div> <a href=https://github.com/H0308 class=avatar-dropdown-item>柯懒的零食库</a> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=搜索 placeholder=搜索 autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=查找> <button type=reset class="md-search__icon md-icon" title=清空当前内容 aria-label=清空当前内容 tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> 正在初始化搜索引擎 </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> </nav> </header> <!-- 独立的切换按钮 --> <div class=toolbar-toggle-btn id=toolbarToggleBtn onclick=toggleToolbar()> <div class=toggle-icon> <svg class=toggle-arrow-icon viewbox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg width=16 height=16> <path d="M346.538667 1024L170.666667 853.333333l341.333333-341.333333-341.333333-341.333333 175.872-170.666667L853.333333 512z" fill=currentColor></path> </svg> </div> </div> <!-- 右侧固定功能条 - 独立于内容区 --> <div class=floating-toolbar id=floatingToolbar> <!-- 字体切换功能 --> <div class="toolbar-item font-switcher"> <div class=toolbar-icon> <svg class=font-icon viewbox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg width=20 height=20> <path d="M913.408 1024l-66.56 0q-29.696 0-51.2-5.12t-36.864-15.872-26.112-27.136-19.968-37.888q-15.36-38.912-28.16-70.656t-22.016-55.296q-11.264-26.624-20.48-49.152l-254.976 0q-7.168 23.552-17.408 51.2-8.192 23.552-21.504 56.832t-30.72 72.192q-20.48 46.08-47.104 63.488t-60.416 17.408l-70.656 0q-45.056 0-60.928-19.968t2.56-68.096q18.432-46.08 43.008-108.544t52.224-132.608 57.344-143.872 57.344-144.384q65.536-164.864 137.216-343.04 7.168-17.408 18.432-31.744 10.24-11.264 27.136-21.504t42.496-10.24q26.624 0 43.52 10.752t28.16 24.064q12.288 15.36 19.456 33.792 72.704 180.224 138.24 345.088 27.648 70.656 57.344 143.872t56.832 142.336 51.2 129.536 41.472 104.448q14.336 34.816 4.096 62.464t-43.008 27.648zM616.448 634.88l-97.28-347.136-1.024 0-108.544 347.136 206.848 0z" fill=currentColor></path> </svg> </div> <div class=toolbar-label>内容字体</div> <div class=font-dropdown-toolbar> <div class=font-current-toolbar onclick=toggleFontDropdownToolbar()> <span class=current-font-name-toolbar>东观体</span> <svg class=dropdown-arrow-icon viewbox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg width=12 height=12> <path d="M878.592 250.88q29.696 0 48.128 11.264t24.576 29.696 0 41.472-26.624 45.568q-82.944 92.16-159.744 180.224t-148.48 164.864q-19.456 20.48-45.568 31.744t-53.76 11.776-53.248-8.704-43.008-28.672q-39.936-44.032-82.944-90.112l-88.064-92.16q-43.008-46.08-85.504-90.624t-79.36-86.528q-17.408-19.456-22.528-40.448t1.024-38.4 23.552-28.672 45.056-11.264q35.84 0 98.816-0.512t137.728-0.512l153.6 0 150.528 0 125.952 0 79.872 0z" fill=currentColor></path> </svg> </div> <div class=font-options-toolbar> <div class=font-option-toolbar data-font=dongguanti onclick="selectFontToolbar('dongguanti')">上图东观体 </div> <div class=font-option-toolbar data-font=oppoti onclick="selectFontToolbar('oppoti')">OPPO Sans </div> <div class=font-option-toolbar data-font=jiangchengti onclick="selectFontToolbar('jiangchengti')"> 江城黑体</div> <div class=font-option-toolbar data-font=lxgw onclick="selectFontToolbar('lxgw')">霞鹜臻楷</div> </div> </div> </div> <!-- 代码字体切换功能 --> <div class="toolbar-item code-font-switcher"> <div class=toolbar-icon> <svg t=1753672111433 class="icon code-font-icon" viewbox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg p-id=5148 width=20 height=20> <path d="M941.709938 0H82.290062A82.290062 82.290062 0 0 0 0 82.290062v859.419876A82.290062 82.290062 0 0 0 82.290062 1022.53923h859.419876A82.290062 82.290062 0 0 0 1022.53923 941.709938V82.290062A82.290062 82.290062 0 0 0 941.709938 0zM188.439372 553.631954a40.901569 40.901569 0 0 1-29.215406-70.116975L292.154066 351.558726 159.223966 218.628626a40.901569 40.901569 0 0 1 58.430813-57.94389l160.197813 162.145507a40.901569 40.901569 0 0 1 0 57.943889l-160.197813 160.684736a40.901569 40.901569 0 0 1-29.215407 12.173086z m443.587257 0H405.120304a40.901569 40.901569 0 0 1 0-82.290061H633.000476a40.901569 40.901569 0 0 1 0 82.290061z" fill=currentColor p-id=5149></path> </svg> </div> <div class=toolbar-label>代码字体</div> <div class=code-font-dropdown-toolbar> <div class=code-font-current-toolbar onclick=toggleCodeFontDropdownToolbar()> <span class=current-code-font-name-toolbar>DejaVu Sans Mono</span> <svg class=dropdown-arrow-icon viewbox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg width=12 height=12> <path d="M878.592 250.88q29.696 0 48.128 11.264t24.576 29.696 0 41.472-26.624 45.568q-82.944 92.16-159.744 180.224t-148.48 164.864q-19.456 20.48-45.568 31.744t-53.76 11.776-53.248-8.704-43.008-28.672q-39.936-44.032-82.944-90.112l-88.064-92.16q-43.008-46.08-85.504-90.624t-79.36-86.528q-17.408-19.456-22.528-40.448t1.024-38.4 23.552-28.672 45.056-11.264q35.84 0 98.816-0.512t137.728-0.512l153.6 0 150.528 0 125.952 0 79.872 0z" fill=currentColor></path> </svg> </div> <div class=code-font-options-toolbar> <div class=code-font-option-toolbar data-code-font=dejavu onclick="selectCodeFontToolbar('dejavu')"> DejaVu Sans Mono</div> <div class=code-font-option-toolbar data-code-font=zsft onclick="selectCodeFontToolbar('zsft')"> JetBrains Mono</div> </div> </div> </div> <!-- 主题切换功能 --> <div class="toolbar-item theme-switcher" onclick=switchTheme()> <div class=toolbar-icon> <svg class=theme-icon viewbox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg width=20 height=20> <path d="M876.572788 522.301623c-1.886977 12.375865-9.657964 30.331819-35.880185 45.48903-56.489572 32.697703-150.21828 83.990926-174.010149 96.958262-13.143345 24.431435-66.067718 122.221646-98.141204 178.503487-16.117073 28.124548-36.055171 34.041304-50.030463 34.041304-0.031722 0-0.031722 0-0.031722 0-14.613836 0-29.1806-6.460132-43.234687-19.218714-47.183626-42.643216-125.994576-117.105115-146.013515-136.083351-27.757181-4.732791-138.338718-23.743774-200.584388-35.752272-17.924231-3.533476-32.649608-14.07046-40.372499-29.084409-5.78782-11.256368-10.281157-30.05962 1.471514-55.658647 26.989701-59.047838 74.126254-157.557432 85.957721-182.196599-3.437286-27.117614-16.996093-135.060045-23.760147-198.905142-1.886977-17.460674 3.901867-35.096333 15.829524-48.351218 12.791327-14.278191 30.667463-21.48943 49.854455-19.426445 63.669088 6.332219 173.259042 19.426445 200.584388 22.705118 24.335245-11.879562 121.085776-58.936297 180.133613-86.34146 9.91379-4.573155 19.85828-6.92369 29.596062-6.92369 28.748764 0 52.172243 20.642133 58.328453 51.421136 12.599969 62.997799 30.93864 166.70272 35.639708 193.484689 18.851347 19.682271 91.953272 96.031147 135.060045 143.07151C872.72004 487.125473 879.307062 504.71406 876.572788 522.301623L876.572788 522.301623zM825.375755 499.085876C776.017604 445.314205 687.245791 352.977193 686.365748 352.017332c-2.942005-3.069919-4.956895-6.971785-5.676279-11.208273-0.207731-1.215688-22.193465-127.001509-36.551474-198.936865-0.799202-3.917216-4.285606-16.836457-16.196891-16.836457-3.453658 0-7.30743 1.006933-11.464099 2.942005-67.282383 31.179117-183.955662 88.180342-185.170327 88.771813-3.693112 1.790786-7.850805 2.558265-11.975752 2.01489-1.295506-0.224104-133.63765-16.165168-205.988468-23.424502-0.079818 0-0.207731 0-0.287549 0-7.30743 0-11.128455 2.89391-13.319353 5.40408-3.677762 4.124947-5.644557 9.91379-5.068436 15.110139 7.674796 72.623018 24.255427 202.934922 24.463158 204.325595 0.511653 4.109598-0.159636 8.266267-1.966795 11.960403-0.591471 1.215688-57.657164 120.04712-88.339977 187.201589-3.565199 7.754614-4.41352 14.214746-2.350534 18.131963 1.935072 3.725858 6.588045 5.820566 10.360975 6.53995 70.719668 13.718443 204.644867 36.519752 206.036563 36.727483 4.189416 0.671289 8.058536 2.686179 11.112082 5.580089 1.006933 0.87902 96.414887 91.281983 150.090367 139.889027 8.314363 7.563256 13.143345 8.106632 14.437827 8.106632 3.485381 0 8.314363-4.621251 12.727882-12.391215 36.343743-63.828724 100.011808-181.988868 100.636025-183.155437 1.983167-3.64604 5.004991-6.667863 8.650007-8.650007 1.134847-0.671289 114.418936-62.373583 178.6314-99.516528 8.698103-5.036713 14.278191-10.568706 14.94948-14.854313C834.681702 511.845481 831.49922 505.800811 825.375755 499.085876L825.375755 499.085876zM935.333076 935.670256c-4.157693 4.157693-9.689686 6.299473-15.141862 6.299473-5.548366 0-11.048637-2.142803-15.238053-6.299473l-171.915441-171.915441c-8.362458-8.394181-8.362458-21.98471 0-30.426987 8.394181-8.394181 21.98471-8.394181 30.379914 0l171.915441 171.915441C943.727257 913.684522 943.727257 927.275052 935.333076 935.670256L935.333076 935.670256z" fill=currentColor></path> </svg> </div> <div class=toolbar-label>主题切换</div> </div> <!-- 返回顶部功能 --> <div class="toolbar-item back-to-top" onclick=scrollToTop()> <div class=toolbar-icon> <svg class=back-to-top-icon viewbox="0 0 1024 1024" xmlns=http://www.w3.org/2000/svg> <path d="M882.688 624.128l-336.896-583.68c-15.872-27.136-54.784-27.136-70.656 0L138.24 624.128c-15.872 27.136 4.096 61.44 35.328 61.44H317.44c22.528 0 40.96 18.432 40.96 40.96v239.616c0 22.528 18.432 40.96 40.96 40.96h223.232c22.528 0 40.96-18.432 40.96-40.96v-239.616c0-22.528 18.432-40.96 40.96-40.96h143.872c30.208 0 50.176-34.304 34.304-61.44z"> </path> </svg> </div> <div class=toolbar-label>返回顶部</div> </div> </div> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=标签 data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../index.html class=md-tabs__link> 主页 </a> </li> <li class=md-tabs__item> <a href=../../%E7%BD%91%E7%AB%99%E4%BB%8B%E7%BB%8D/%E7%BD%91%E7%AB%99%E4%BB%8B%E7%BB%8D.html class=md-tabs__link> 网站介绍 </a> </li> <li class=md-tabs__item> <a href=../../%E7%BD%91%E7%AB%99%E6%97%B6%E9%97%B4%E7%BA%BF/%E7%BD%91%E7%AB%99%E6%97%B6%E9%97%B4%E7%BA%BF.html class=md-tabs__link> 网站时间线 </a> </li> <li class=md-tabs__item> <a href=../../C%E8%AF%AD%E8%A8%80/index.html class=md-tabs__link> 编程语言 </a> </li> <li class=md-tabs__item> <a href=../../%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/1.%20%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%92%8C%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/1.%20%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E4%B8%8E%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6.html class=md-tabs__link> 数据结构与算法 </a> </li> <li class=md-tabs__item> <a href=../../Linux/1.%20Linux%E5%B8%B8%E7%94%A8%E9%80%89%E9%A1%B9%E5%92%8C%E6%8C%87%E4%BB%A4/1.%20Linux%E5%B8%B8%E7%94%A8%E9%80%89%E9%A1%B9%E5%92%8C%E6%8C%87%E4%BB%A4.html class=md-tabs__link> Linux </a> </li> <li class=md-tabs__item> <a href=../../HTML%E4%B8%8ECSS/HTML%E7%AC%94%E8%AE%B0/HTML%E7%AC%94%E8%AE%B0.html class=md-tabs__link> 前端 </a> </li> <li class=md-tabs__item> <a href=../../MySQL/MySQL%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8/MySQL%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8.html class=md-tabs__link> MySQL </a> </li> <li class=md-tabs__item> <a href=../../JavaEE/Spring/1.%20SpringMVC%E5%9F%BA%E7%A1%80/1.%20SpringMVC%E5%9F%BA%E7%A1%80.html class=md-tabs__link> JavaEE应用开发 </a> </li> <li class=md-tabs__item> <a href=../Shell%E8%84%9A%E6%9C%AC%E8%AF%AD%E8%A8%80/%E5%85%B3%E4%BA%8EShell.html class=md-tabs__link> 扩展知识 </a> </li> <li class=md-tabs__item> <a href=../../%E5%B7%A5%E5%85%B7%E5%B8%AE%E5%8A%A9/vscode%E4%B8%AD%E6%B7%BB%E5%8A%A0%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5/vscode%E4%B8%AD%E6%B7%BB%E5%8A%A0%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5.html class=md-tabs__link> 工具帮助 </a> </li> <li class=md-tabs__item> <a href=../../%E9%A1%B9%E7%9B%AE/1.%20Boost%E5%BA%93%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E/1.%20Boost%E5%BA%93%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E.html class=md-tabs__link> 项目 </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=导航栏 data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../index.html title=柯懒的知识库 class="md-nav__button md-logo" aria-label=柯懒的知识库 data-md-component=logo> <img src=../../assets/logo.png alt=logo> </a> 柯懒的知识库 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../index.html class=md-nav__link> <span class=md-ellipsis> 主页 </span> </a> </li> <li class=md-nav__item> <a href=../../%E7%BD%91%E7%AB%99%E4%BB%8B%E7%BB%8D/%E7%BD%91%E7%AB%99%E4%BB%8B%E7%BB%8D.html class=md-nav__link> <span class=md-ellipsis> 网站介绍 </span> </a> </li> <li class=md-nav__item> <a href=../../%E7%BD%91%E7%AB%99%E6%97%B6%E9%97%B4%E7%BA%BF/%E7%BD%91%E7%AB%99%E6%97%B6%E9%97%B4%E7%BA%BF.html class=md-nav__link> <span class=md-ellipsis> 网站时间线 </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../C%E8%AF%AD%E8%A8%80/index.html class=md-nav__link> <span class=md-ellipsis> 编程语言 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/1.%20%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%92%8C%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/1.%20%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E4%B8%8E%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6.html class=md-nav__link> <span class=md-ellipsis> 数据结构与算法 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../Linux/1.%20Linux%E5%B8%B8%E7%94%A8%E9%80%89%E9%A1%B9%E5%92%8C%E6%8C%87%E4%BB%A4/1.%20Linux%E5%B8%B8%E7%94%A8%E9%80%89%E9%A1%B9%E5%92%8C%E6%8C%87%E4%BB%A4.html class=md-nav__link> <span class=md-ellipsis> Linux </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../HTML%E4%B8%8ECSS/HTML%E7%AC%94%E8%AE%B0/HTML%E7%AC%94%E8%AE%B0.html class=md-nav__link> <span class=md-ellipsis> 前端 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../MySQL/MySQL%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8/MySQL%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8.html class=md-nav__link> <span class=md-ellipsis> MySQL </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../JavaEE/Spring/1.%20SpringMVC%E5%9F%BA%E7%A1%80/1.%20SpringMVC%E5%9F%BA%E7%A1%80.html class=md-nav__link> <span class=md-ellipsis> JavaEE应用开发 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../Shell%E8%84%9A%E6%9C%AC%E8%AF%AD%E8%A8%80/%E5%85%B3%E4%BA%8EShell.html class=md-nav__link> <span class=md-ellipsis> 扩展知识 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../%E5%B7%A5%E5%85%B7%E5%B8%AE%E5%8A%A9/vscode%E4%B8%AD%E6%B7%BB%E5%8A%A0%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5/vscode%E4%B8%AD%E6%B7%BB%E5%8A%A0%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5.html class=md-nav__link> <span class=md-ellipsis> 工具帮助 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../%E9%A1%B9%E7%9B%AE/1.%20Boost%E5%BA%93%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E/1.%20Boost%E5%BA%93%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E.html class=md-nav__link> <span class=md-ellipsis> 项目 </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label=目录> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> 目录 </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#_1 class=md-nav__link> <span class=md-ellipsis> 谓词函数基础概念 </span> </a> <nav class=md-nav aria-label=谓词函数基础概念> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_2 class=md-nav__link> <span class=md-ellipsis> 谓词函数的基本类型 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#boost_1 class=md-nav__link> <span class=md-ellipsis> Boost库中的谓词相关功能 </span> </a> <nav class=md-nav aria-label=Boost库中的谓词相关功能> <ul class=md-nav__list> <li class=md-nav__item> <a href=#boostfunctionboostbindboostlambda class=md-nav__link> <span class=md-ellipsis> Boost.Function、Boost.Bind和Boost.Lambda </span> </a> </li> <li class=md-nav__item> <a href=#boostphoenix class=md-nav__link> <span class=md-ellipsis> Boost.Phoenix </span> </a> </li> <li class=md-nav__item> <a href=#boostalgorithm class=md-nav__link> <span class=md-ellipsis> Boost.Algorithm </span> </a> </li> <li class=md-nav__item> <a href=#boostfusion class=md-nav__link> <span class=md-ellipsis> Boost.Fusion </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_3 class=md-nav__link> <span class=md-ellipsis> 标准库中的谓词函数 </span> </a> </li> <li class=md-nav__item> <a href=#boost_2 class=md-nav__link> <span class=md-ellipsis> Boost与标准库谓词函数的对比 </span> </a> <nav class=md-nav aria-label=Boost与标准库谓词函数的对比> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_4 class=md-nav__link> <span class=md-ellipsis> 功能对比 </span> </a> </li> <li class=md-nav__item> <a href=#_5 class=md-nav__link> <span class=md-ellipsis> 实现细节对比 </span> </a> </li> <li class=md-nav__item> <a href=#boost_3 class=md-nav__link> <span class=md-ellipsis> 何时使用Boost而非标准库 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_6 class=md-nav__link> <span class=md-ellipsis> 高级谓词操作与最佳实践 </span> </a> <nav class=md-nav aria-label=高级谓词操作与最佳实践> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_7 class=md-nav__link> <span class=md-ellipsis> 组合谓词 </span> </a> </li> <li class=md-nav__item> <a href=#_8 class=md-nav__link> <span class=md-ellipsis> 惰性求值 </span> </a> </li> <li class=md-nav__item> <a href=#_9 class=md-nav__link> <span class=md-ellipsis> 带状态的谓词 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_10 class=md-nav__link> <span class=md-ellipsis> 应用实例 </span> </a> <nav class=md-nav aria-label=应用实例> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_11 class=md-nav__link> <span class=md-ellipsis> 自定义数据过滤 </span> </a> </li> <li class=md-nav__item> <a href=#_12 class=md-nav__link> <span class=md-ellipsis> 多条件排序 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_13 class=md-nav__link> <span class=md-ellipsis> 底层实现原理 </span> </a> <nav class=md-nav aria-label=底层实现原理> <ul class=md-nav__list> <li class=md-nav__item> <a href=#boostphoenix_1 class=md-nav__link> <span class=md-ellipsis> Boost.Phoenix的谓词实现机制 </span> </a> </li> <li class=md-nav__item> <a href=#_14 class=md-nav__link> <span class=md-ellipsis> 动态谓词与静态谓词 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_15 class=md-nav__link> <span class=md-ellipsis> 性能考量 </span> </a> <nav class=md-nav aria-label=性能考量> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_16 class=md-nav__link> <span class=md-ellipsis> 谓词函数的性能影响 </span> </a> </li> <li class=md-nav__item> <a href=#_17 class=md-nav__link> <span class=md-ellipsis> 优化谓词函数 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=boost>Boost库中的谓词函数<a class=headerlink href=#boost title="Permanent link">&para;</a></h1> <div style="margin-top: -30px; font-size: 0.75em; opacity: 0.7;"> <p><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10h-2a8 8 0 0 1-8 8 8 8 0 0 1-8-8 8 8 0 0 1 8-8zm6.78 1a.7.7 0 0 0-.48.2l-1.22 1.21 2.5 2.5L20.8 5.7c.26-.26.26-.7 0-.95L19.25 3.2c-.13-.13-.3-.2-.47-.2m-2.41 2.12L9 12.5V15h2.5l7.37-7.38z"/></svg></span> 约 1263 个字 <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6m80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3l89.3 89.4-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3"/></svg></span> 354 行代码 <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 20c4.42 0 8-3.58 8-8s-3.58-8-8-8-8 3.58-8 8 3.58 8 8 8m0-18c5.5 0 10 4.5 10 10s-4.5 10-10 10C6.47 22 2 17.5 2 12S6.5 2 12 2m.5 11H11V7h1.5v4.26l3.7-2.13.75 1.3z"/></svg></span> 预计阅读时间 9 分钟</p> </div> <h2 id=_1>谓词函数基础概念<a class=headerlink href=#_1 title="Permanent link">&para;</a></h2> <p>在编程中，<strong>谓词函数</strong>（Predicate Function）是指返回布尔值（<code>true</code>或<code>false</code>）的函数，用于检测输入是否满足特定条件。谓词函数在STL算法和Boost库中被广泛使用，特别是在过滤、查找和条件操作中</p> <h3 id=_2>谓词函数的基本类型<a class=headerlink href=#_2 title="Permanent link">&para;</a></h3> <ul> <li><strong>一元谓词</strong>：接受一个参数并返回布尔值</li> <li><strong>二元谓词</strong>：接受两个参数并返回布尔值</li> <li><strong>N元谓词</strong>：接受N个参数并返回布尔值</li> </ul> <h2 id=boost_1>Boost库中的谓词相关功能<a class=headerlink href=#boost_1 title="Permanent link">&para;</a></h2> <p>Boost库提供了多种用于创建、组合和使用谓词函数的工具，分布在不同的模块中</p> <h3 id=boostfunctionboostbindboostlambda>Boost.Function、Boost.Bind和Boost.Lambda<a class=headerlink href=#boostfunctionboostbindboostlambda title="Permanent link">&para;</a></h3> <p><code>Boost.Function</code>允许存储和调用任何可调用对象，包括谓词函数：</p> <div class="language-cpp highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;boost/function.hpp&gt;</span>
</span><span id=__span-0-2><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;iostream&gt;</span>
</span><span id=__span-0-3>
</span><span id=__span-0-4><span class=kt>bool</span><span class=w> </span><span class=nf>is_positive</span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>x</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-0-5><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=n>x</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-0-6><span class=p>}</span>
</span><span id=__span-0-7>
</span><span id=__span-0-8><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-0-9><span class=w>    </span><span class=n>boost</span><span class=o>::</span><span class=n>function</span><span class=o>&lt;</span><span class=kt>bool</span><span class=p>(</span><span class=kt>int</span><span class=p>)</span><span class=o>&gt;</span><span class=w> </span><span class=n>predicate</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>is_positive</span><span class=p>;</span>
</span><span id=__span-0-10><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;Is 5 positive? &quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>predicate</span><span class=p>(</span><span class=mi>5</span><span class=p>)</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-0-11><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;Is -3 positive? &quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>predicate</span><span class=p>(</span><span class=mi>-3</span><span class=p>)</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-0-12><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-0-13><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>上面这个功能也可以通过C++11的包装器实现，因为<code>Boost.Function</code>是C++11的<code>function</code>的前身，例如上面的代码可以使用包装器修改为：</p> <div class="language-cpp highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-1-1><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;iostream&gt;</span>
</span><span id=__span-1-2><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;functional&gt;</span>
</span><span id=__span-1-3><span class=kt>bool</span><span class=w> </span><span class=nf>is_positive</span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>x</span><span class=p>)</span>
</span><span id=__span-1-4><span class=p>{</span>
</span><span id=__span-1-5><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=n>x</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-1-6><span class=p>}</span>
</span><span id=__span-1-7>
</span><span id=__span-1-8><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>()</span>
</span><span id=__span-1-9><span class=p>{</span>
</span><span id=__span-1-10><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>function</span><span class=o>&lt;</span><span class=kt>bool</span><span class=p>(</span><span class=kt>int</span><span class=p>)</span><span class=o>&gt;</span><span class=w> </span><span class=n>predicate</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>is_positive</span><span class=p>;</span>
</span><span id=__span-1-11>
</span><span id=__span-1-12><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;Is 5 positive? &quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>predicate</span><span class=p>(</span><span class=mi>5</span><span class=p>)</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-1-13><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;Is -3 positive? &quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>predicate</span><span class=p>(</span><span class=mi>-3</span><span class=p>)</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-1-14>
</span><span id=__span-1-15><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-1-16><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>但是，Boost库中的绑定与Lambda表达式与C++11中的绑定和Lambda有所区别</p> <div class="language-cpp highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-2-1><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;boost/bind.hpp&gt;</span>
</span><span id=__span-2-2><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;boost/lambda/lambda.hpp&gt;</span>
</span><span id=__span-2-3><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;functional&gt;</span>
</span><span id=__span-2-4><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;iostream&gt;</span>
</span><span id=__span-2-5><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;vector&gt;</span>
</span><span id=__span-2-6><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;algorithm&gt;</span>
</span><span id=__span-2-7>
</span><span id=__span-2-8><span class=kt>bool</span><span class=w> </span><span class=nf>is_in_range</span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>value</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>lower</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>upper</span><span class=p>)</span>
</span><span id=__span-2-9><span class=p>{</span>
</span><span id=__span-2-10><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=n>lower</span><span class=w> </span><span class=o>&lt;=</span><span class=w> </span><span class=n>value</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=n>value</span><span class=w> </span><span class=o>&lt;=</span><span class=w> </span><span class=n>upper</span><span class=p>;</span>
</span><span id=__span-2-11><span class=p>}</span>
</span><span id=__span-2-12>
</span><span id=__span-2-13><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>()</span>
</span><span id=__span-2-14><span class=p>{</span>
</span><span id=__span-2-15><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span><span class=w> </span><span class=n>v</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=mi>5</span><span class=p>,</span><span class=w> </span><span class=mi>10</span><span class=p>,</span><span class=w> </span><span class=mi>15</span><span class=p>,</span><span class=w> </span><span class=mi>20</span><span class=p>,</span><span class=w> </span><span class=mi>25</span><span class=p>,</span><span class=w> </span><span class=mi>30</span><span class=p>};</span>
</span><span id=__span-2-16>
</span><span id=__span-2-17><span class=w>    </span><span class=c1>// 使用boost::bind创建谓词</span>
</span><span id=__span-2-18><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>count1</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>count_if</span><span class=p>(</span><span class=n>v</span><span class=p>.</span><span class=n>begin</span><span class=p>(),</span><span class=w> </span><span class=n>v</span><span class=p>.</span><span class=n>end</span><span class=p>(),</span>
</span><span id=__span-2-19><span class=w>                               </span><span class=n>boost</span><span class=o>::</span><span class=n>bind</span><span class=p>(</span><span class=n>is_in_range</span><span class=p>,</span><span class=w> </span><span class=n>boost</span><span class=o>::</span><span class=n>lambda</span><span class=o>::</span><span class=n>_1</span><span class=p>,</span><span class=w> </span><span class=mi>10</span><span class=p>,</span><span class=w> </span><span class=mi>20</span><span class=p>));</span>
</span><span id=__span-2-20><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;10到20之间的元素数量 (bind): &quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>count1</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-2-21><span class=w>    </span><span class=c1>// 使用标准库中的bind创建谓词</span>
</span><span id=__span-2-22><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>count2</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>count_if</span><span class=p>(</span><span class=n>v</span><span class=p>.</span><span class=n>begin</span><span class=p>(),</span><span class=w> </span><span class=n>v</span><span class=p>.</span><span class=n>end</span><span class=p>(),</span>
</span><span id=__span-2-23><span class=w>                               </span><span class=n>std</span><span class=o>::</span><span class=n>bind</span><span class=p>(</span><span class=n>is_in_range</span><span class=p>,</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>placeholders</span><span class=o>::</span><span class=n>_1</span><span class=p>,</span><span class=w> </span><span class=mi>10</span><span class=p>,</span><span class=w> </span><span class=mi>20</span><span class=p>));</span>
</span><span id=__span-2-24><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;10到20之间的元素数量 (bind): &quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>count2</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-2-25>
</span><span id=__span-2-26><span class=w>    </span><span class=c1>// 使用boost::lambda创建谓词</span>
</span><span id=__span-2-27><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>count3</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>count_if</span><span class=p>(</span><span class=n>v</span><span class=p>.</span><span class=n>begin</span><span class=p>(),</span><span class=w> </span><span class=n>v</span><span class=p>.</span><span class=n>end</span><span class=p>(),</span><span class=w> </span><span class=n>boost</span><span class=o>::</span><span class=n>lambda</span><span class=o>::</span><span class=n>_1</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=mi>10</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=n>boost</span><span class=o>::</span><span class=n>lambda</span><span class=o>::</span><span class=n>_1</span><span class=w> </span><span class=o>&lt;=</span><span class=w> </span><span class=mi>20</span><span class=p>);</span>
</span><span id=__span-2-28><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;10到20之间的元素数量 (lambda): &quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>count3</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-2-29><span class=w>    </span><span class=c1>// 使用标准库中的lambda创建谓词</span>
</span><span id=__span-2-30><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>count4</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>count_if</span><span class=p>(</span><span class=n>v</span><span class=p>.</span><span class=n>begin</span><span class=p>(),</span><span class=w> </span><span class=n>v</span><span class=p>.</span><span class=n>end</span><span class=p>(),</span><span class=w> </span><span class=p>[](</span><span class=kt>int</span><span class=w> </span><span class=n>x</span><span class=p>)</span>
</span><span id=__span-2-31><span class=w>                               </span><span class=p>{</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=n>x</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=mi>10</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=n>x</span><span class=w> </span><span class=o>&lt;=</span><span class=w> </span><span class=mi>20</span><span class=p>;</span><span class=w> </span><span class=p>});</span>
</span><span id=__span-2-32><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;10到20之间的元素数量 (lambda): &quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>count4</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-2-33>
</span><span id=__span-2-34><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-2-35><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h3 id=boostphoenix>Boost.Phoenix<a class=headerlink href=#boostphoenix title="Permanent link">&para;</a></h3> <p><code>Boost.Phoenix</code>库提供了强大的lambda表达式功能，可以方便地创建谓词函数：</p> <div class="language-cpp highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-3-1><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;boost/phoenix/phoenix.hpp&gt;</span>
</span><span id=__span-3-2><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;boost/phoenix/function/function.hpp&gt;</span>
</span><span id=__span-3-3><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;iostream&gt;</span>
</span><span id=__span-3-4><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;vector&gt;</span>
</span><span id=__span-3-5><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;algorithm&gt;</span>
</span><span id=__span-3-6>
</span><span id=__span-3-7><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-3-8><span class=w>    </span><span class=k>using</span><span class=w> </span><span class=k>namespace</span><span class=w> </span><span class=nn>boost</span><span class=o>::</span><span class=nn>phoenix</span><span class=p>;</span>
</span><span id=__span-3-9><span class=w>    </span><span class=k>using</span><span class=w> </span><span class=k>namespace</span><span class=w> </span><span class=nn>boost</span><span class=o>::</span><span class=nn>phoenix</span><span class=o>::</span><span class=nn>arg_names</span><span class=p>;</span>
</span><span id=__span-3-10>
</span><span id=__span-3-11><span class=w>    </span><span class=c1>// 创建一个谓词函数：检查数值是否大于10</span>
</span><span id=__span-3-12><span class=w>    </span><span class=k>auto</span><span class=w> </span><span class=n>is_greater_than_10</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>arg1</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=mi>10</span><span class=p>;</span>
</span><span id=__span-3-13>
</span><span id=__span-3-14><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span><span class=w> </span><span class=n>numbers</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span><span class=mi>5</span><span class=p>,</span><span class=w> </span><span class=mi>15</span><span class=p>,</span><span class=w> </span><span class=mi>7</span><span class=p>,</span><span class=w> </span><span class=mi>20</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>,</span><span class=w> </span><span class=mi>12</span><span class=p>};</span>
</span><span id=__span-3-15>
</span><span id=__span-3-16><span class=w>    </span><span class=c1>// 使用谓词计算大于10的元素数量</span>
</span><span id=__span-3-17><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>count</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>count_if</span><span class=p>(</span><span class=n>numbers</span><span class=p>.</span><span class=n>begin</span><span class=p>(),</span><span class=w> </span><span class=n>numbers</span><span class=p>.</span><span class=n>end</span><span class=p>(),</span><span class=w> </span><span class=n>is_greater_than_10</span><span class=p>);</span>
</span><span id=__span-3-18><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;大于10的元素数量: &quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>count</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-3-19>
</span><span id=__span-3-20><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-3-21><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h3 id=boostalgorithm>Boost.Algorithm<a class=headerlink href=#boostalgorithm title="Permanent link">&para;</a></h3> <p>Boost.Algorithm提供了许多谓词函数和使用谓词的算法：</p> <div class="language-cpp highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-4-1><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;boost/algorithm/cxx11/any_of.hpp&gt;</span>
</span><span id=__span-4-2><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;boost/algorithm/cxx11/all_of.hpp&gt;</span>
</span><span id=__span-4-3><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;boost/algorithm/cxx11/none_of.hpp&gt;</span>
</span><span id=__span-4-4><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;iostream&gt;</span>
</span><span id=__span-4-5><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;vector&gt;</span>
</span><span id=__span-4-6>
</span><span id=__span-4-7><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-4-8><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span><span class=w> </span><span class=n>v</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span><span class=mi>2</span><span class=p>,</span><span class=w> </span><span class=mi>4</span><span class=p>,</span><span class=w> </span><span class=mi>6</span><span class=p>,</span><span class=w> </span><span class=mi>8</span><span class=p>,</span><span class=w> </span><span class=mi>10</span><span class=p>};</span>
</span><span id=__span-4-9>
</span><span id=__span-4-10><span class=w>    </span><span class=c1>// 检查是否有任何元素是奇数</span>
</span><span id=__span-4-11><span class=w>    </span><span class=kt>bool</span><span class=w> </span><span class=n>has_odd</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>boost</span><span class=o>::</span><span class=n>algorithm</span><span class=o>::</span><span class=n>any_of</span><span class=p>(</span><span class=n>v</span><span class=p>,</span><span class=w> </span><span class=p>[](</span><span class=kt>int</span><span class=w> </span><span class=n>i</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>%</span><span class=w> </span><span class=mi>2</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=mi>1</span><span class=p>;</span><span class=w> </span><span class=p>});</span>
</span><span id=__span-4-12>
</span><span id=__span-4-13><span class=w>    </span><span class=c1>// 检查是否所有元素都是偶数</span>
</span><span id=__span-4-14><span class=w>    </span><span class=kt>bool</span><span class=w> </span><span class=n>all_even</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>boost</span><span class=o>::</span><span class=n>algorithm</span><span class=o>::</span><span class=n>all_of</span><span class=p>(</span><span class=n>v</span><span class=p>,</span><span class=w> </span><span class=p>[](</span><span class=kt>int</span><span class=w> </span><span class=n>i</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>%</span><span class=w> </span><span class=mi>2</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=p>});</span>
</span><span id=__span-4-15>
</span><span id=__span-4-16><span class=w>    </span><span class=c1>// 检查是否没有元素是负数</span>
</span><span id=__span-4-17><span class=w>    </span><span class=kt>bool</span><span class=w> </span><span class=n>no_negative</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>boost</span><span class=o>::</span><span class=n>algorithm</span><span class=o>::</span><span class=n>none_of</span><span class=p>(</span><span class=n>v</span><span class=p>,</span><span class=w> </span><span class=p>[](</span><span class=kt>int</span><span class=w> </span><span class=n>i</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=p>});</span>
</span><span id=__span-4-18>
</span><span id=__span-4-19><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;有奇数？ &quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=p>(</span><span class=n>has_odd</span><span class=w> </span><span class=o>?</span><span class=w> </span><span class=s>&quot;是&quot;</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=s>&quot;否&quot;</span><span class=p>)</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-4-20><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;全是偶数？ &quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=p>(</span><span class=n>all_even</span><span class=w> </span><span class=o>?</span><span class=w> </span><span class=s>&quot;是&quot;</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=s>&quot;否&quot;</span><span class=p>)</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-4-21><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;没有负数？ &quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=p>(</span><span class=n>no_negative</span><span class=w> </span><span class=o>?</span><span class=w> </span><span class=s>&quot;是&quot;</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=s>&quot;否&quot;</span><span class=p>)</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-4-22>
</span><span id=__span-4-23><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-4-24><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h3 id=boostfusion>Boost.Fusion<a class=headerlink href=#boostfusion title="Permanent link">&para;</a></h3> <p>Boost.Fusion提供了针对异构集合（如tuple或struct）的谓词操作：</p> <div class="language-cpp highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-5-1><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;boost/fusion/include/vector.hpp&gt;</span>
</span><span id=__span-5-2><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;boost/fusion/include/algorithm.hpp&gt;</span>
</span><span id=__span-5-3><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;boost/phoenix/phoenix.hpp&gt;</span>
</span><span id=__span-5-4><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;iostream&gt;</span>
</span><span id=__span-5-5>
</span><span id=__span-5-6><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-5-7><span class=w>    </span><span class=k>using</span><span class=w> </span><span class=k>namespace</span><span class=w> </span><span class=nn>boost</span><span class=o>::</span><span class=nn>phoenix</span><span class=o>::</span><span class=nn>arg_names</span><span class=p>;</span>
</span><span id=__span-5-8>
</span><span id=__span-5-9><span class=w>    </span><span class=c1>// 创建一个异构集合</span>
</span><span id=__span-5-10><span class=w>    </span><span class=n>boost</span><span class=o>::</span><span class=n>fusion</span><span class=o>::</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>,</span><span class=w> </span><span class=kt>double</span><span class=p>,</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>string</span><span class=o>&gt;</span><span class=w> </span><span class=n>data</span><span class=p>(</span><span class=mi>10</span><span class=p>,</span><span class=w> </span><span class=mf>3.14</span><span class=p>,</span><span class=w> </span><span class=s>&quot;hello&quot;</span><span class=p>);</span>
</span><span id=__span-5-11>
</span><span id=__span-5-12><span class=w>    </span><span class=c1>// 检查所有元素是否转换为bool后为true</span>
</span><span id=__span-5-13><span class=w>    </span><span class=kt>bool</span><span class=w> </span><span class=n>all_true</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>boost</span><span class=o>::</span><span class=n>fusion</span><span class=o>::</span><span class=n>all</span><span class=p>(</span><span class=n>data</span><span class=p>,</span><span class=w> </span><span class=n>arg1</span><span class=p>);</span>
</span><span id=__span-5-14>
</span><span id=__span-5-15><span class=w>    </span><span class=c1>// 检查是否有任何元素是字符串类型</span>
</span><span id=__span-5-16><span class=w>    </span><span class=kt>bool</span><span class=w> </span><span class=n>has_string</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>boost</span><span class=o>::</span><span class=n>fusion</span><span class=o>::</span><span class=n>any</span><span class=p>(</span><span class=n>data</span><span class=p>,</span><span class=w> </span><span class=n>boost</span><span class=o>::</span><span class=n>phoenix</span><span class=o>::</span><span class=n>is_same_type</span><span class=o>&lt;</span><span class=n>arg1</span><span class=p>,</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>string</span><span class=o>&gt;</span><span class=p>());</span>
</span><span id=__span-5-17>
</span><span id=__span-5-18><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;所有元素都为true？ &quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=p>(</span><span class=n>all_true</span><span class=w> </span><span class=o>?</span><span class=w> </span><span class=s>&quot;是&quot;</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=s>&quot;否&quot;</span><span class=p>)</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-5-19><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;包含字符串？ &quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=p>(</span><span class=n>has_string</span><span class=w> </span><span class=o>?</span><span class=w> </span><span class=s>&quot;是&quot;</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=s>&quot;否&quot;</span><span class=p>)</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-5-20>
</span><span id=__span-5-21><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-5-22><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h2 id=_3>标准库中的谓词函数<a class=headerlink href=#_3 title="Permanent link">&para;</a></h2> <p>C++11及以后版本的标准库中引入了许多使用谓词的算法，特别是在<code>&lt;algorithm&gt;</code>头文件中：</p> <p>例如：<code>std::any_of</code>，<code>std::all_of</code>和<code>std::none_of</code></p> <div class="language-cpp highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-6-1><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;algorithm&gt;</span>
</span><span id=__span-6-2><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;vector&gt;</span>
</span><span id=__span-6-3><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;iostream&gt;</span>
</span><span id=__span-6-4>
</span><span id=__span-6-5><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-6-6><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span><span class=w> </span><span class=n>v</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>,</span><span class=w> </span><span class=mi>5</span><span class=p>,</span><span class=w> </span><span class=mi>7</span><span class=p>,</span><span class=w> </span><span class=mi>9</span><span class=p>};</span>
</span><span id=__span-6-7>
</span><span id=__span-6-8><span class=w>    </span><span class=c1>// 检查是否有任何元素是偶数</span>
</span><span id=__span-6-9><span class=w>    </span><span class=kt>bool</span><span class=w> </span><span class=n>has_even</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>any_of</span><span class=p>(</span><span class=n>v</span><span class=p>.</span><span class=n>begin</span><span class=p>(),</span><span class=w> </span><span class=n>v</span><span class=p>.</span><span class=n>end</span><span class=p>(),</span><span class=w> </span><span class=p>[](</span><span class=kt>int</span><span class=w> </span><span class=n>i</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>%</span><span class=w> </span><span class=mi>2</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=p>});</span>
</span><span id=__span-6-10>
</span><span id=__span-6-11><span class=w>    </span><span class=c1>// 检查是否所有元素都是奇数</span>
</span><span id=__span-6-12><span class=w>    </span><span class=kt>bool</span><span class=w> </span><span class=n>all_odd</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>all_of</span><span class=p>(</span><span class=n>v</span><span class=p>.</span><span class=n>begin</span><span class=p>(),</span><span class=w> </span><span class=n>v</span><span class=p>.</span><span class=n>end</span><span class=p>(),</span><span class=w> </span><span class=p>[](</span><span class=kt>int</span><span class=w> </span><span class=n>i</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>%</span><span class=w> </span><span class=mi>2</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=mi>1</span><span class=p>;</span><span class=w> </span><span class=p>});</span>
</span><span id=__span-6-13>
</span><span id=__span-6-14><span class=w>    </span><span class=c1>// 检查是否没有元素大于10</span>
</span><span id=__span-6-15><span class=w>    </span><span class=kt>bool</span><span class=w> </span><span class=n>none_above_10</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>none_of</span><span class=p>(</span><span class=n>v</span><span class=p>.</span><span class=n>begin</span><span class=p>(),</span><span class=w> </span><span class=n>v</span><span class=p>.</span><span class=n>end</span><span class=p>(),</span><span class=w> </span><span class=p>[](</span><span class=kt>int</span><span class=w> </span><span class=n>i</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=mi>10</span><span class=p>;</span><span class=w> </span><span class=p>});</span>
</span><span id=__span-6-16>
</span><span id=__span-6-17><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;有偶数？ &quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=p>(</span><span class=n>has_even</span><span class=w> </span><span class=o>?</span><span class=w> </span><span class=s>&quot;是&quot;</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=s>&quot;否&quot;</span><span class=p>)</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-6-18><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;全是奇数？ &quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=p>(</span><span class=n>all_odd</span><span class=w> </span><span class=o>?</span><span class=w> </span><span class=s>&quot;是&quot;</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=s>&quot;否&quot;</span><span class=p>)</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-6-19><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;没有大于10的元素？ &quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=p>(</span><span class=n>none_above_10</span><span class=w> </span><span class=o>?</span><span class=w> </span><span class=s>&quot;是&quot;</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=s>&quot;否&quot;</span><span class=p>)</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-6-20>
</span><span id=__span-6-21><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-6-22><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h2 id=boost_2>Boost与标准库谓词函数的对比<a class=headerlink href=#boost_2 title="Permanent link">&para;</a></h2> <h3 id=_4>功能对比<a class=headerlink href=#_4 title="Permanent link">&para;</a></h3> <ol> <li> <p><strong>接口一致性</strong>：</p> <ul> <li>Boost的算法通常提供更一致的接口风格，而标准库算法的接口在不同版本间可能略有差异</li> <li>Boost的算法接口通常有更多变体，提供更多灵活性</li> </ul> </li> <li> <p><strong>范围支持</strong>：</p> <ul> <li>标准库（C++20之前）通常使用迭代器对（begin/end）表示范围</li> <li>Boost.Range和后来的C++20 Ranges提供了更便捷的范围操作</li> </ul> <div class="language-cpp highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span>
<span class=normal>7</span>
<span class=normal>8</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-7-1><span class=c1>// 标准库</span>
</span><span id=__span-7-2><span class=n>std</span><span class=o>::</span><span class=n>any_of</span><span class=p>(</span><span class=n>v</span><span class=p>.</span><span class=n>begin</span><span class=p>(),</span><span class=w> </span><span class=n>v</span><span class=p>.</span><span class=n>end</span><span class=p>(),</span><span class=w> </span><span class=n>predicate</span><span class=p>);</span>
</span><span id=__span-7-3>
</span><span id=__span-7-4><span class=c1>// Boost</span>
</span><span id=__span-7-5><span class=n>boost</span><span class=o>::</span><span class=n>algorithm</span><span class=o>::</span><span class=n>any_of</span><span class=p>(</span><span class=n>v</span><span class=p>,</span><span class=w> </span><span class=n>predicate</span><span class=p>);</span><span class=w>  </span><span class=c1>// 可直接传容器</span>
</span><span id=__span-7-6>
</span><span id=__span-7-7><span class=c1>// C++20</span>
</span><span id=__span-7-8><span class=n>std</span><span class=o>::</span><span class=n>ranges</span><span class=o>::</span><span class=n>any_of</span><span class=p>(</span><span class=n>v</span><span class=p>,</span><span class=w> </span><span class=n>predicate</span><span class=p>);</span><span class=w>  </span><span class=c1>// 类似Boost的简化用法</span>
</span></code></pre></div></td></tr></table></div> </li> <li> <p><strong>组合谓词的能力</strong>：</p> <ul> <li>Boost提供了更多组合谓词的工具，如<code>Boost.Phoenix</code>、<code>Boost.Lambda</code>等。</li> <li>标准库主要依赖C++11后的lambda表达式。</li> </ul> <div class="language-cpp highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-8-1><span class=c1>// Boost组合谓词</span>
</span><span id=__span-8-2><span class=k>using</span><span class=w> </span><span class=k>namespace</span><span class=w> </span><span class=nn>boost</span><span class=o>::</span><span class=nn>phoenix</span><span class=o>::</span><span class=nn>arg_names</span><span class=p>;</span>
</span><span id=__span-8-3><span class=k>auto</span><span class=w> </span><span class=n>complex_pred</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>arg1</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=mi>0</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=n>arg1</span><span class=w> </span><span class=o>%</span><span class=w> </span><span class=mi>2</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-8-4>
</span><span id=__span-8-5><span class=c1>// 标准库使用lambda</span>
</span><span id=__span-8-6><span class=k>auto</span><span class=w> </span><span class=n>complex_pred</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>[](</span><span class=kt>int</span><span class=w> </span><span class=n>x</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=n>x</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=mi>0</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=n>x</span><span class=w> </span><span class=o>%</span><span class=w> </span><span class=mi>2</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=p>};</span>
</span></code></pre></div></td></tr></table></div> </li> </ol> <h3 id=_5>实现细节对比<a class=headerlink href=#_5 title="Permanent link">&para;</a></h3> <ol> <li><strong>错误处理</strong>：</li> <li>Boost通常提供更详细的编译错误信息和运行时错误处理。</li> <li> <p>Boost库通常有更多的静态断言检查。</p> </li> <li> <p><strong>性能优化</strong>：</p> </li> <li>Boost和标准库在性能优化方面各有优势，具体取决于实现和用例。</li> <li> <p>Boost有时会采用更激进的优化策略，牺牲编译时间来提高运行时性能。</p> </li> <li> <p><strong>元编程支持</strong>：</p> </li> <li>Boost在谓词与元编程结合方面提供了更广泛的支持。</li> <li>标准库主要聚焦于运行时谓词而非编译时谓词操作。</li> </ol> <h3 id=boost_3>何时使用Boost而非标准库<a class=headerlink href=#boost_3 title="Permanent link">&para;</a></h3> <ul> <li>当需要更复杂、更灵活的谓词组合功能时</li> <li>当处理特殊集合类型（如异构集合）时</li> <li>当需要更高级的谓词优化和反射功能时</li> <li>当需要在旧的C++标准上使用新特性时（Boost通常会前向移植C++新特性）</li> </ul> <h2 id=_6>高级谓词操作与最佳实践<a class=headerlink href=#_6 title="Permanent link">&para;</a></h2> <h3 id=_7>组合谓词<a class=headerlink href=#_7 title="Permanent link">&para;</a></h3> <p>使用Boost的功能组合谓词可以创建复杂的条件判断：</p> <div class="language-cpp highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-9-1><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;boost/phoenix.hpp&gt;</span>
</span><span id=__span-9-2><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;boost/algorithm/cxx11/any_of.hpp&gt;</span>
</span><span id=__span-9-3><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;iostream&gt;</span>
</span><span id=__span-9-4><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;vector&gt;</span>
</span><span id=__span-9-5><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;string&gt;</span>
</span><span id=__span-9-6>
</span><span id=__span-9-7><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-9-8><span class=w>    </span><span class=k>using</span><span class=w> </span><span class=k>namespace</span><span class=w> </span><span class=nn>boost</span><span class=o>::</span><span class=nn>phoenix</span><span class=p>;</span>
</span><span id=__span-9-9><span class=w>    </span><span class=k>using</span><span class=w> </span><span class=k>namespace</span><span class=w> </span><span class=nn>boost</span><span class=o>::</span><span class=nn>phoenix</span><span class=o>::</span><span class=nn>arg_names</span><span class=p>;</span>
</span><span id=__span-9-10>
</span><span id=__span-9-11><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>vector</span><span class=o>&lt;</span><span class=n>std</span><span class=o>::</span><span class=n>string</span><span class=o>&gt;</span><span class=w> </span><span class=n>words</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span><span class=s>&quot;apple&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;banana&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;cherry&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;date&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;elderberry&quot;</span><span class=p>};</span>
</span><span id=__span-9-12>
</span><span id=__span-9-13><span class=w>    </span><span class=c1>// 组合谓词：长度大于5且包含字母&#39;e&#39;</span>
</span><span id=__span-9-14><span class=w>    </span><span class=k>auto</span><span class=w> </span><span class=n>is_long_with_e</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=n>arg1</span><span class=p>.</span><span class=n>length</span><span class=p>()</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=mi>5</span><span class=p>)</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=p>(</span><span class=n>arg1</span><span class=p>.</span><span class=n>find</span><span class=p>(</span><span class=sc>&#39;e&#39;</span><span class=p>)</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>string</span><span class=o>::</span><span class=n>npos</span><span class=p>);</span>
</span><span id=__span-9-15>
</span><span id=__span-9-16><span class=w>    </span><span class=c1>// 使用组合谓词</span>
</span><span id=__span-9-17><span class=w>    </span><span class=kt>bool</span><span class=w> </span><span class=n>result</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>boost</span><span class=o>::</span><span class=n>algorithm</span><span class=o>::</span><span class=n>any_of</span><span class=p>(</span><span class=n>words</span><span class=p>,</span><span class=w> </span><span class=n>is_long_with_e</span><span class=p>);</span>
</span><span id=__span-9-18>
</span><span id=__span-9-19><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;有长度大于5且包含&#39;e&#39;的单词？ &quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=p>(</span><span class=n>result</span><span class=w> </span><span class=o>?</span><span class=w> </span><span class=s>&quot;是&quot;</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=s>&quot;否&quot;</span><span class=p>)</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-9-20>
</span><span id=__span-9-21><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-9-22><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h3 id=_8>惰性求值<a class=headerlink href=#_8 title="Permanent link">&para;</a></h3> <p>Boost.Phoenix提供的谓词支持惰性求值，这在某些场景下可以提高性能：</p> <div class="language-cpp highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-10-1><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;boost/phoenix.hpp&gt;</span>
</span><span id=__span-10-2><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;boost/algorithm/cxx11/any_of.hpp&gt;</span>
</span><span id=__span-10-3><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;iostream&gt;</span>
</span><span id=__span-10-4><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;vector&gt;</span>
</span><span id=__span-10-5>
</span><span id=__span-10-6><span class=c1>// 模拟一个耗时操作</span>
</span><span id=__span-10-7><span class=kt>bool</span><span class=w> </span><span class=nf>expensive_check</span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>x</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-10-8><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;执行耗时检查 &quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>x</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-10-9><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=n>x</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=mi>100</span><span class=p>;</span>
</span><span id=__span-10-10><span class=p>}</span>
</span><span id=__span-10-11>
</span><span id=__span-10-12><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-10-13><span class=w>    </span><span class=k>using</span><span class=w> </span><span class=k>namespace</span><span class=w> </span><span class=nn>boost</span><span class=o>::</span><span class=nn>phoenix</span><span class=p>;</span>
</span><span id=__span-10-14><span class=w>    </span><span class=k>using</span><span class=w> </span><span class=k>namespace</span><span class=w> </span><span class=nn>boost</span><span class=o>::</span><span class=nn>phoenix</span><span class=o>::</span><span class=nn>arg_names</span><span class=p>;</span>
</span><span id=__span-10-15>
</span><span id=__span-10-16><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span><span class=w> </span><span class=n>nums</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span><span class=mi>5</span><span class=p>,</span><span class=w> </span><span class=mi>10</span><span class=p>,</span><span class=w> </span><span class=mi>150</span><span class=p>,</span><span class=w> </span><span class=mi>20</span><span class=p>};</span>
</span><span id=__span-10-17>
</span><span id=__span-10-18><span class=w>    </span><span class=c1>// 创建短路逻辑：先检查简单条件，再执行昂贵操作</span>
</span><span id=__span-10-19><span class=w>    </span><span class=k>auto</span><span class=w> </span><span class=n>smart_predicate</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=n>arg1</span><span class=w> </span><span class=o>%</span><span class=w> </span><span class=mi>2</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=mi>0</span><span class=p>)</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=n>bind</span><span class=p>(</span><span class=n>expensive_check</span><span class=p>,</span><span class=w> </span><span class=n>arg1</span><span class=p>);</span>
</span><span id=__span-10-20>
</span><span id=__span-10-21><span class=w>    </span><span class=c1>// 使用组合谓词（注意短路评估的效果）</span>
</span><span id=__span-10-22><span class=w>    </span><span class=kt>bool</span><span class=w> </span><span class=n>result</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>boost</span><span class=o>::</span><span class=n>algorithm</span><span class=o>::</span><span class=n>any_of</span><span class=p>(</span><span class=n>nums</span><span class=p>,</span><span class=w> </span><span class=n>smart_predicate</span><span class=p>);</span>
</span><span id=__span-10-23>
</span><span id=__span-10-24><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;结果: &quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=p>(</span><span class=n>result</span><span class=w> </span><span class=o>?</span><span class=w> </span><span class=s>&quot;是&quot;</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=s>&quot;否&quot;</span><span class=p>)</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-10-25>
</span><span id=__span-10-26><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-10-27><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h3 id=_9>带状态的谓词<a class=headerlink href=#_9 title="Permanent link">&para;</a></h3> <p>Boost可以轻松创建有状态的谓词函数：</p> <div class="language-cpp highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-11-1><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;boost/phoenix.hpp&gt;</span>
</span><span id=__span-11-2><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;boost/algorithm/cxx11/all_of.hpp&gt;</span>
</span><span id=__span-11-3><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;iostream&gt;</span>
</span><span id=__span-11-4><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;vector&gt;</span>
</span><span id=__span-11-5>
</span><span id=__span-11-6><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-11-7><span class=w>    </span><span class=k>using</span><span class=w> </span><span class=k>namespace</span><span class=w> </span><span class=nn>boost</span><span class=o>::</span><span class=nn>phoenix</span><span class=p>;</span>
</span><span id=__span-11-8>
</span><span id=__span-11-9><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span><span class=w> </span><span class=n>sequence</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=mi>2</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>,</span><span class=w> </span><span class=mi>4</span><span class=p>,</span><span class=w> </span><span class=mi>5</span><span class=p>};</span>
</span><span id=__span-11-10>
</span><span id=__span-11-11><span class=w>    </span><span class=c1>// 创建带状态的谓词：检查序列是否单调递增</span>
</span><span id=__span-11-12><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>previous</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-11-13><span class=w>    </span><span class=k>auto</span><span class=w> </span><span class=n>is_increasing</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>[</span><span class=o>&amp;</span><span class=n>previous</span><span class=p>](</span><span class=kt>int</span><span class=w> </span><span class=n>current</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-11-14><span class=w>        </span><span class=kt>bool</span><span class=w> </span><span class=n>result</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>current</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=n>previous</span><span class=p>;</span>
</span><span id=__span-11-15><span class=w>        </span><span class=n>previous</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>current</span><span class=p>;</span>
</span><span id=__span-11-16><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>result</span><span class=p>;</span>
</span><span id=__span-11-17><span class=w>    </span><span class=p>};</span>
</span><span id=__span-11-18>
</span><span id=__span-11-19><span class=w>    </span><span class=c1>// 使用带状态的谓词</span>
</span><span id=__span-11-20><span class=w>    </span><span class=kt>bool</span><span class=w> </span><span class=n>monotonic</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>boost</span><span class=o>::</span><span class=n>algorithm</span><span class=o>::</span><span class=n>all_of</span><span class=p>(</span><span class=n>sequence</span><span class=p>,</span><span class=w> </span><span class=n>is_increasing</span><span class=p>);</span>
</span><span id=__span-11-21>
</span><span id=__span-11-22><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;序列是单调递增的？ &quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=p>(</span><span class=n>monotonic</span><span class=w> </span><span class=o>?</span><span class=w> </span><span class=s>&quot;是&quot;</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=s>&quot;否&quot;</span><span class=p>)</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-11-23>
</span><span id=__span-11-24><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-11-25><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h2 id=_10>应用实例<a class=headerlink href=#_10 title="Permanent link">&para;</a></h2> <h3 id=_11>自定义数据过滤<a class=headerlink href=#_11 title="Permanent link">&para;</a></h3> <div class="language-cpp highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span>
<span class=normal>39</span>
<span class=normal>40</span>
<span class=normal>41</span>
<span class=normal>42</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-12-1><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;boost/phoenix.hpp&gt;</span>
</span><span id=__span-12-2><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;boost/algorithm/cxx11/copy_if.hpp&gt;</span>
</span><span id=__span-12-3><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;iostream&gt;</span>
</span><span id=__span-12-4><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;vector&gt;</span>
</span><span id=__span-12-5><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;string&gt;</span>
</span><span id=__span-12-6>
</span><span id=__span-12-7><span class=k>struct</span><span class=w> </span><span class=nc>Person</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-12-8><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>string</span><span class=w> </span><span class=n>name</span><span class=p>;</span>
</span><span id=__span-12-9><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>age</span><span class=p>;</span>
</span><span id=__span-12-10><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>string</span><span class=w> </span><span class=n>city</span><span class=p>;</span>
</span><span id=__span-12-11><span class=p>};</span>
</span><span id=__span-12-12>
</span><span id=__span-12-13><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-12-14><span class=w>    </span><span class=k>using</span><span class=w> </span><span class=k>namespace</span><span class=w> </span><span class=nn>boost</span><span class=o>::</span><span class=nn>phoenix</span><span class=p>;</span>
</span><span id=__span-12-15><span class=w>    </span><span class=k>using</span><span class=w> </span><span class=k>namespace</span><span class=w> </span><span class=nn>boost</span><span class=o>::</span><span class=nn>phoenix</span><span class=o>::</span><span class=nn>arg_names</span><span class=p>;</span>
</span><span id=__span-12-16>
</span><span id=__span-12-17><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>vector</span><span class=o>&lt;</span><span class=n>Person</span><span class=o>&gt;</span><span class=w> </span><span class=n>people</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-12-18><span class=w>        </span><span class=p>{</span><span class=s>&quot;张三&quot;</span><span class=p>,</span><span class=w> </span><span class=mi>25</span><span class=p>,</span><span class=w> </span><span class=s>&quot;北京&quot;</span><span class=p>},</span>
</span><span id=__span-12-19><span class=w>        </span><span class=p>{</span><span class=s>&quot;李四&quot;</span><span class=p>,</span><span class=w> </span><span class=mi>30</span><span class=p>,</span><span class=w> </span><span class=s>&quot;上海&quot;</span><span class=p>},</span>
</span><span id=__span-12-20><span class=w>        </span><span class=p>{</span><span class=s>&quot;王五&quot;</span><span class=p>,</span><span class=w> </span><span class=mi>22</span><span class=p>,</span><span class=w> </span><span class=s>&quot;北京&quot;</span><span class=p>},</span>
</span><span id=__span-12-21><span class=w>        </span><span class=p>{</span><span class=s>&quot;赵六&quot;</span><span class=p>,</span><span class=w> </span><span class=mi>35</span><span class=p>,</span><span class=w> </span><span class=s>&quot;广州&quot;</span><span class=p>},</span>
</span><span id=__span-12-22><span class=w>        </span><span class=p>{</span><span class=s>&quot;钱七&quot;</span><span class=p>,</span><span class=w> </span><span class=mi>28</span><span class=p>,</span><span class=w> </span><span class=s>&quot;上海&quot;</span><span class=p>}</span>
</span><span id=__span-12-23><span class=w>    </span><span class=p>};</span>
</span><span id=__span-12-24>
</span><span id=__span-12-25><span class=w>    </span><span class=c1>// 创建复杂谓词：北京的年轻人（25岁以下）或上海的年长者（30岁以上）</span>
</span><span id=__span-12-26><span class=w>    </span><span class=k>auto</span><span class=w> </span><span class=n>complex_filter</span><span class=w> </span><span class=o>=</span><span class=w> </span>
</span><span id=__span-12-27><span class=w>        </span><span class=p>(</span><span class=n>arg1</span><span class=p>.</span><span class=n>city</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s>&quot;北京&quot;</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=n>arg1</span><span class=p>.</span><span class=n>age</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=mi>25</span><span class=p>)</span><span class=w> </span><span class=o>||</span><span class=w> </span>
</span><span id=__span-12-28><span class=w>        </span><span class=p>(</span><span class=n>arg1</span><span class=p>.</span><span class=n>city</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s>&quot;上海&quot;</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=n>arg1</span><span class=p>.</span><span class=n>age</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=mi>30</span><span class=p>);</span>
</span><span id=__span-12-29>
</span><span id=__span-12-30><span class=w>    </span><span class=c1>// 应用过滤</span>
</span><span id=__span-12-31><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>vector</span><span class=o>&lt;</span><span class=n>Person</span><span class=o>&gt;</span><span class=w> </span><span class=n>filtered</span><span class=p>;</span>
</span><span id=__span-12-32><span class=w>    </span><span class=n>boost</span><span class=o>::</span><span class=n>algorithm</span><span class=o>::</span><span class=n>copy_if</span><span class=p>(</span><span class=n>people</span><span class=p>,</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>back_inserter</span><span class=p>(</span><span class=n>filtered</span><span class=p>),</span><span class=w> </span><span class=n>complex_filter</span><span class=p>);</span>
</span><span id=__span-12-33>
</span><span id=__span-12-34><span class=w>    </span><span class=c1>// 显示结果</span>
</span><span id=__span-12-35><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;符合条件的人:&quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-12-36><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=k>const</span><span class=w> </span><span class=k>auto</span><span class=o>&amp;</span><span class=w> </span><span class=n>person</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=n>filtered</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-12-37><span class=w>        </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>person</span><span class=p>.</span><span class=n>name</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;, &quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>person</span><span class=p>.</span><span class=n>age</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;岁, &quot;</span><span class=w> </span>
</span><span id=__span-12-38><span class=w>                  </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>person</span><span class=p>.</span><span class=n>city</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-12-39><span class=w>    </span><span class=p>}</span>
</span><span id=__span-12-40>
</span><span id=__span-12-41><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-12-42><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h3 id=_12>多条件排序<a class=headerlink href=#_12 title="Permanent link">&para;</a></h3> <div class="language-cpp highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span>
<span class=normal>39</span>
<span class=normal>40</span>
<span class=normal>41</span>
<span class=normal>42</span>
<span class=normal>43</span>
<span class=normal>44</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-13-1><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;boost/phoenix.hpp&gt;</span>
</span><span id=__span-13-2><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;iostream&gt;</span>
</span><span id=__span-13-3><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;vector&gt;</span>
</span><span id=__span-13-4><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;string&gt;</span>
</span><span id=__span-13-5><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;algorithm&gt;</span>
</span><span id=__span-13-6>
</span><span id=__span-13-7><span class=k>struct</span><span class=w> </span><span class=nc>Student</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-13-8><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>string</span><span class=w> </span><span class=n>name</span><span class=p>;</span>
</span><span id=__span-13-9><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>grade</span><span class=p>;</span>
</span><span id=__span-13-10><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>age</span><span class=p>;</span>
</span><span id=__span-13-11><span class=p>};</span>
</span><span id=__span-13-12>
</span><span id=__span-13-13><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-13-14><span class=w>    </span><span class=k>using</span><span class=w> </span><span class=k>namespace</span><span class=w> </span><span class=nn>boost</span><span class=o>::</span><span class=nn>phoenix</span><span class=p>;</span>
</span><span id=__span-13-15><span class=w>    </span><span class=k>using</span><span class=w> </span><span class=k>namespace</span><span class=w> </span><span class=nn>boost</span><span class=o>::</span><span class=nn>phoenix</span><span class=o>::</span><span class=nn>arg_names</span><span class=p>;</span>
</span><span id=__span-13-16>
</span><span id=__span-13-17><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>vector</span><span class=o>&lt;</span><span class=n>Student</span><span class=o>&gt;</span><span class=w> </span><span class=n>students</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-13-18><span class=w>        </span><span class=p>{</span><span class=s>&quot;张三&quot;</span><span class=p>,</span><span class=w> </span><span class=mi>85</span><span class=p>,</span><span class=w> </span><span class=mi>16</span><span class=p>},</span>
</span><span id=__span-13-19><span class=w>        </span><span class=p>{</span><span class=s>&quot;李四&quot;</span><span class=p>,</span><span class=w> </span><span class=mi>90</span><span class=p>,</span><span class=w> </span><span class=mi>17</span><span class=p>},</span>
</span><span id=__span-13-20><span class=w>        </span><span class=p>{</span><span class=s>&quot;王五&quot;</span><span class=p>,</span><span class=w> </span><span class=mi>85</span><span class=p>,</span><span class=w> </span><span class=mi>15</span><span class=p>},</span>
</span><span id=__span-13-21><span class=w>        </span><span class=p>{</span><span class=s>&quot;赵六&quot;</span><span class=p>,</span><span class=w> </span><span class=mi>80</span><span class=p>,</span><span class=w> </span><span class=mi>16</span><span class=p>},</span>
</span><span id=__span-13-22><span class=w>        </span><span class=p>{</span><span class=s>&quot;钱七&quot;</span><span class=p>,</span><span class=w> </span><span class=mi>90</span><span class=p>,</span><span class=w> </span><span class=mi>16</span><span class=p>}</span>
</span><span id=__span-13-23><span class=w>    </span><span class=p>};</span>
</span><span id=__span-13-24>
</span><span id=__span-13-25><span class=w>    </span><span class=c1>// 创建复合排序谓词：首先按成绩降序，然后按年龄升序</span>
</span><span id=__span-13-26><span class=w>    </span><span class=k>auto</span><span class=w> </span><span class=n>sort_predicate</span><span class=w> </span><span class=o>=</span><span class=w> </span>
</span><span id=__span-13-27><span class=w>        </span><span class=n>if_else</span><span class=p>(</span>
</span><span id=__span-13-28><span class=w>            </span><span class=n>arg1</span><span class=p>.</span><span class=n>grade</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=n>arg2</span><span class=p>.</span><span class=n>grade</span><span class=p>,</span>
</span><span id=__span-13-29><span class=w>            </span><span class=n>arg1</span><span class=p>.</span><span class=n>grade</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=n>arg2</span><span class=p>.</span><span class=n>grade</span><span class=p>,</span><span class=w>  </span><span class=c1>// 成绩降序</span>
</span><span id=__span-13-30><span class=w>            </span><span class=n>arg1</span><span class=p>.</span><span class=n>age</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>arg2</span><span class=p>.</span><span class=n>age</span><span class=w>       </span><span class=c1>// 同等成绩时按年龄升序</span>
</span><span id=__span-13-31><span class=w>        </span><span class=p>);</span>
</span><span id=__span-13-32>
</span><span id=__span-13-33><span class=w>    </span><span class=c1>// 排序</span>
</span><span id=__span-13-34><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>sort</span><span class=p>(</span><span class=n>students</span><span class=p>.</span><span class=n>begin</span><span class=p>(),</span><span class=w> </span><span class=n>students</span><span class=p>.</span><span class=n>end</span><span class=p>(),</span><span class=w> </span><span class=n>sort_predicate</span><span class=p>);</span>
</span><span id=__span-13-35>
</span><span id=__span-13-36><span class=w>    </span><span class=c1>// 显示结果</span>
</span><span id=__span-13-37><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;排序后的学生:&quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-13-38><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=k>const</span><span class=w> </span><span class=k>auto</span><span class=o>&amp;</span><span class=w> </span><span class=n>student</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=n>students</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-13-39><span class=w>        </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>student</span><span class=p>.</span><span class=n>name</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;: 成绩=&quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>student</span><span class=p>.</span><span class=n>grade</span><span class=w> </span>
</span><span id=__span-13-40><span class=w>                  </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;, 年龄=&quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>student</span><span class=p>.</span><span class=n>age</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-13-41><span class=w>    </span><span class=p>}</span>
</span><span id=__span-13-42>
</span><span id=__span-13-43><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-13-44><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h2 id=_13>底层实现原理<a class=headerlink href=#_13 title="Permanent link">&para;</a></h2> <h3 id=boostphoenix_1>Boost.Phoenix的谓词实现机制<a class=headerlink href=#boostphoenix_1 title="Permanent link">&para;</a></h3> <p>Boost.Phoenix使用表达式模板和惰性求值技术来实现高效的谓词函数：</p> <ol> <li><strong>表达式模板</strong>：将操作符重载为模板类，在编译时构建表达式树。</li> <li><strong>惰性求值</strong>：表达式树只在需要结果时才被求值。</li> <li><strong>占位符系统</strong>：通过arg1, arg2等占位符表示函数参数。</li> </ol> <div class="language-cpp highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-14-1><span class=c1>// 简化后的Phoenix实现原理示意</span>
</span><span id=__span-14-2><span class=k>template</span><span class=w> </span><span class=o>&lt;</span><span class=k>typename</span><span class=w> </span><span class=nc>Arg1</span><span class=p>,</span><span class=w> </span><span class=k>typename</span><span class=w> </span><span class=nc>Arg2</span><span class=o>&gt;</span>
</span><span id=__span-14-3><span class=k>struct</span><span class=w> </span><span class=nc>greater_than_expr</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-14-4><span class=w>    </span><span class=n>greater_than_expr</span><span class=p>(</span><span class=n>Arg1</span><span class=w> </span><span class=n>a1</span><span class=p>,</span><span class=w> </span><span class=n>Arg2</span><span class=w> </span><span class=n>a2</span><span class=p>)</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=n>arg1</span><span class=p>(</span><span class=n>a1</span><span class=p>),</span><span class=w> </span><span class=n>arg2</span><span class=p>(</span><span class=n>a2</span><span class=p>)</span><span class=w> </span><span class=p>{}</span>
</span><span id=__span-14-5>
</span><span id=__span-14-6><span class=w>    </span><span class=k>template</span><span class=w> </span><span class=o>&lt;</span><span class=k>typename</span><span class=w> </span><span class=nc>T</span><span class=o>&gt;</span>
</span><span id=__span-14-7><span class=w>    </span><span class=kt>bool</span><span class=w> </span><span class=k>operator</span><span class=p>()(</span><span class=n>T</span><span class=w> </span><span class=k>const</span><span class=o>&amp;</span><span class=w> </span><span class=n>val</span><span class=p>)</span><span class=w> </span><span class=k>const</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-14-8><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>arg1</span><span class=p>(</span><span class=n>val</span><span class=p>)</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=n>arg2</span><span class=p>(</span><span class=n>val</span><span class=p>);</span>
</span><span id=__span-14-9><span class=w>    </span><span class=p>}</span>
</span><span id=__span-14-10>
</span><span id=__span-14-11><span class=w>    </span><span class=n>Arg1</span><span class=w> </span><span class=n>arg1</span><span class=p>;</span>
</span><span id=__span-14-12><span class=w>    </span><span class=n>Arg2</span><span class=w> </span><span class=n>arg2</span><span class=p>;</span>
</span><span id=__span-14-13><span class=p>};</span>
</span><span id=__span-14-14>
</span><span id=__span-14-15><span class=c1>// 使用时</span>
</span><span id=__span-14-16><span class=k>auto</span><span class=w> </span><span class=n>predicate</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>arg1</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=mi>10</span><span class=p>;</span><span class=w>  </span><span class=c1>// 实际创建了greater_than_expr对象</span>
</span></code></pre></div></td></tr></table></div> <h3 id=_14>动态谓词与静态谓词<a class=headerlink href=#_14 title="Permanent link">&para;</a></h3> <p>Boost支持两种谓词实现方式：</p> <ol> <li><strong>动态谓词</strong>：运行时决定行为，通常使用函数指针或std::function。</li> <li><strong>静态谓词</strong>：编译时决定行为，通常使用模板和内联函数。</li> </ol> <div class="language-cpp highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-15-1><span class=c1>// 动态谓词（运行时多态）</span>
</span><span id=__span-15-2><span class=kt>bool</span><span class=w> </span><span class=p>(</span><span class=o>*</span><span class=n>dynamic_pred</span><span class=p>)(</span><span class=kt>int</span><span class=p>)</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>is_positive</span><span class=p>;</span>
</span><span id=__span-15-3><span class=n>std</span><span class=o>::</span><span class=n>function</span><span class=o>&lt;</span><span class=kt>bool</span><span class=p>(</span><span class=kt>int</span><span class=p>)</span><span class=o>&gt;</span><span class=w> </span><span class=n>func_pred</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>is_positive</span><span class=p>;</span>
</span><span id=__span-15-4>
</span><span id=__span-15-5><span class=c1>// 静态谓词（编译时多态）</span>
</span><span id=__span-15-6><span class=k>struct</span><span class=w> </span><span class=nc>static_pred</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-15-7><span class=w>    </span><span class=k>template</span><span class=w> </span><span class=o>&lt;</span><span class=k>typename</span><span class=w> </span><span class=nc>T</span><span class=o>&gt;</span>
</span><span id=__span-15-8><span class=w>    </span><span class=kt>bool</span><span class=w> </span><span class=k>operator</span><span class=p>()(</span><span class=n>T</span><span class=w> </span><span class=k>const</span><span class=o>&amp;</span><span class=w> </span><span class=n>val</span><span class=p>)</span><span class=w> </span><span class=k>const</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-15-9><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>val</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-15-10><span class=w>    </span><span class=p>}</span>
</span><span id=__span-15-11><span class=p>};</span>
</span></code></pre></div></td></tr></table></div> <h2 id=_15>性能考量<a class=headerlink href=#_15 title="Permanent link">&para;</a></h2> <h3 id=_16>谓词函数的性能影响<a class=headerlink href=#_16 title="Permanent link">&para;</a></h3> <p>不同谓词实现方式的性能对比：</p> <table> <thead> <tr> <th>谓词类型</th> <th>优点</th> <th>缺点</th> </tr> </thead> <tbody> <tr> <td>函数指针</td> <td>简单直观</td> <td>无法内联，可能导致性能损失</td> </tr> <tr> <td>Lambda表达式</td> <td>便捷，可能被内联</td> <td>捕获大量变量时可能有性能开销</td> </tr> <tr> <td>函数对象</td> <td>高效，可内联</td> <td>需要定义类或结构</td> </tr> <tr> <td>Boost.Phoenix表达式</td> <td>灵活组合，通常高效</td> <td>复杂表达式可能增加编译时间</td> </tr> </tbody> </table> <h3 id=_17>优化谓词函数<a class=headerlink href=#_17 title="Permanent link">&para;</a></h3> <ol> <li><strong>避免副作用</strong>：纯谓词函数更容易被编译器优化</li> <li><strong>尽量内联</strong>：小型谓词函数通常会被自动内联</li> <li><strong>避免无谓的计算</strong>：利用短路逻辑避免不必要的计算</li> <li><strong>选择合适的抽象级别</strong>：过度抽象可能引入性能开销</li> </ol> <aside class=md-source-file> <span class=md-source-file__fact> <span class=md-icon title=最后更新> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">2025年4月2日</span> </span> <span class=md-source-file__fact> <span class=md-icon title=创建日期> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">2025年4月1日</span> </span> </aside> <form class=md-feedback name=feedback hidden> <fieldset> <legend class=md-feedback__title> 页面有帮助吗？ </legend> <div class=md-feedback__inner> <div class=md-feedback__list> <button class="md-feedback__icon md-icon" type=submit title=页面对我有帮助 data-md-value=1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M5 9v12H1V9zm4 12a2 2 0 0 1-2-2V9c0-.55.22-1.05.59-1.41L14.17 1l1.06 1.06c.27.27.44.64.44 1.05l-.03.32L14.69 8H21a2 2 0 0 1 2 2v2c0 .26-.05.5-.14.73l-3.02 7.05C19.54 20.5 18.83 21 18 21zm0-2h9.03L21 12v-2h-8.79l1.13-5.32L9 9.03z"/></svg> </button> <button class="md-feedback__icon md-icon" type=submit title=页面没有帮助到我 data-md-value=0> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 15V3h4v12zM15 3a2 2 0 0 1 2 2v10c0 .55-.22 1.05-.59 1.41L9.83 23l-1.06-1.06c-.27-.27-.44-.64-.44-1.06l.03-.31.95-4.57H3a2 2 0 0 1-2-2v-2c0-.26.05-.5.14-.73l3.02-7.05C4.46 3.5 5.17 3 6 3zm0 2H5.97L3 12v2h8.78l-1.13 5.32L15 14.97z"/></svg> </button> </div> <div class=md-feedback__note> <div data-md-value=1 hidden> 谢谢你的反馈！ </div> <div data-md-value=0 hidden> 谢谢你的反馈！联系<a href=https://www.help-doc.top/%E4%BD%9C%E8%80%85/%E4%BD%9C%E8%80%85.html>作者</a>提供更详细的信息 </div> </div> </div> </fieldset> </form> <!-- Waline 评论系统 --> <div class=waline-comments-container> <div class=waline-comments-header> <h3>评论区</h3> <p>欢迎在这里留下你的想法和建议！</p> </div> <div id=waline></div> </div> <!-- Waline CSS --> <link rel=stylesheet href=https://unpkg.com/@waline/client@v3/dist/waline.css> <!-- Waline JavaScript --> <script type=module>
    import { init } from 'https://unpkg.com/@waline/client@v3/dist/waline.js';
    init({
        el: '#waline',
        serverURL: 'https://waline-g9cd3pdxr-mark-watneys-projects-c5945306.vercel.app/',
    });
</script> <style>
.waline-comments-container {
    margin-top: 3rem;
    padding: 2rem 0;
    border-top: 1px solid var(--md-default-fg-color--lightest);
}

.waline-comments-header {
    margin-bottom: 2rem;
    text-align: center;
}

.waline-comments-header h3 {
    margin: 0 0 0.5rem 0;
    font-size: 1.5rem;
    font-weight: 600;
    color: var(--md-default-fg-color);
}

.waline-comments-header p {
    margin: 0;
    color: var(--md-default-fg-color--light);
    font-size: 0.9rem;
}

/* 加载状态 */
.waline-loading {
    text-align: center;
    padding: 2rem;
    color: var(--md-default-fg-color--light);
}

.loading-spinner {
    width: 40px;
    height: 40px;
    border: 3px solid var(--md-default-fg-color--lightest);
    border-top: 3px solid var(--md-primary-fg-color);
    border-radius: 50%;
    animation: spin 1s linear infinite;
    margin: 0 auto 1rem;
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

/* 错误状态 */
.waline-error {
    text-align: center;
    padding: 2rem;
    color: var(--md-default-fg-color--light);
}

.error-icon {
    font-size: 2rem;
    margin-bottom: 1rem;
}

.retry-btn {
    background-color: var(--md-primary-fg-color);
    color: var(--md-primary-bg-color);
    border: none;
    padding: 0.5rem 1rem;
    border-radius: 4px;
    cursor: pointer;
    margin-top: 1rem;
    font-size: 0.9rem;
}

.retry-btn:hover {
    background-color: var(--md-primary-fg-color--dark);
}

.details-btn {
    background-color: transparent;
    color: var(--md-default-fg-color--light);
    border: 1px solid var(--md-default-fg-color--lightest);
    padding: 0.5rem 1rem;
    border-radius: 4px;
    cursor: pointer;
    margin-top: 1rem;
    margin-left: 0.5rem;
    font-size: 0.9rem;
}

.details-btn:hover {
    background-color: var(--md-default-fg-color--lightest);
}

.error-details {
    margin-top: 1rem;
    padding: 1rem;
    background-color: var(--md-default-bg-color);
    border: 1px solid var(--md-default-fg-color--lightest);
    border-radius: 4px;
    text-align: left;
    font-size: 0.85rem;
    line-height: 1.5;
    color: var(--md-default-fg-color--light);
}

/* 适配网站主题色彩 */
.waline-comments-container .wl-panel {
    border-radius: 8px;
    border: 1px solid var(--md-default-fg-color--lightest);
    background-color: var(--md-default-bg-color);
}

.waline-comments-container .wl-editor {
    background-color: var(--md-default-bg-color);
    border: 1px solid var(--md-default-fg-color--lightest);
    border-radius: 6px;
}

.waline-comments-container .wl-input {
    background-color: var(--md-default-bg-color);
    border: 1px solid var(--md-default-fg-color--lightest);
    color: var(--md-default-fg-color);
}

.waline-comments-container .wl-input:focus {
    border-color: var(--md-primary-fg-color);
}

.waline-comments-container .wl-btn {
    background-color: var(--md-primary-fg-color);
    border-color: var(--md-primary-fg-color);
    color: var(--md-primary-bg-color);
}

.waline-comments-container .wl-btn:hover {
    background-color: var(--md-primary-fg-color--dark);
    border-color: var(--md-primary-fg-color--dark);
}

/* 响应式设计 */
@media screen and (max-width: 768px) {
    .waline-comments-container {
        padding: 1.5rem 0;
        margin-top: 2rem;
    }
    
    .waline-comments-header h3 {
        font-size: 1.3rem;
    }
}

/* 暗色主题适配 */
[data-md-color-scheme="slate"] .waline-comments-container {
    border-top-color: var(--md-default-fg-color--lightest);
}

[data-md-color-scheme="slate"] .waline-comments-container .wl-panel {
    background-color: var(--md-default-bg-color);
    border-color: var(--md-default-fg-color--lightest);
}

[data-md-color-scheme="slate"] .waline-comments-container .wl-editor {
    background-color: var(--md-default-bg-color);
    border-color: var(--md-default-fg-color--lightest);
}

[data-md-color-scheme="slate"] .waline-comments-container .wl-input {
    background-color: var(--md-default-bg-color);
    border-color: var(--md-default-fg-color--lightest);
    color: var(--md-default-fg-color);
}

[data-md-color-scheme="slate"] .loading-spinner {
    border-color: var(--md-default-fg-color--lightest);
    border-top-color: var(--md-primary-fg-color);
}

[data-md-color-scheme="slate"] .retry-btn {
    background-color: var(--md-primary-fg-color);
    color: var(--md-primary-bg-color);
}

[data-md-color-scheme="slate"] .details-btn {
    background-color: transparent;
    color: var(--md-default-fg-color--light);
    border-color: var(--md-default-fg-color--lightest);
}

[data-md-color-scheme="slate"] .details-btn:hover {
    background-color: var(--md-default-fg-color--lightest);
}

[data-md-color-scheme="slate"] .error-details {
    background-color: var(--md-default-bg-color);
    border-color: var(--md-default-fg-color--lightest);
    color: var(--md-default-fg-color--light);
}
</style> <!-- 阅读进度条 - 直接在HTML中定义 --> <div class=reading-progress></div> <!-- 滚动指示器 - 直接在HTML中定义 --> <div class=scroll-indicator></div> <!-- 评论系统 - 只在文章页面显示，不在首页和索引页显示 --> <!-- Waline 评论系统 --> <div class=waline-comments-container> <div class=waline-comments-header> <h3>评论区</h3> <p>欢迎在这里留下你的想法和建议！</p> </div> <div id=waline></div> </div> <!-- Waline CSS --> <link rel=stylesheet href=https://unpkg.com/@waline/client@v3/dist/waline.css> <!-- Waline JavaScript --> <script type=module>
    import { init } from 'https://unpkg.com/@waline/client@v3/dist/waline.js';
    init({
        el: '#waline',
        serverURL: 'https://waline-g9cd3pdxr-mark-watneys-projects-c5945306.vercel.app/',
    });
</script> <style>
.waline-comments-container {
    margin-top: 3rem;
    padding: 2rem 0;
    border-top: 1px solid var(--md-default-fg-color--lightest);
}

.waline-comments-header {
    margin-bottom: 2rem;
    text-align: center;
}

.waline-comments-header h3 {
    margin: 0 0 0.5rem 0;
    font-size: 1.5rem;
    font-weight: 600;
    color: var(--md-default-fg-color);
}

.waline-comments-header p {
    margin: 0;
    color: var(--md-default-fg-color--light);
    font-size: 0.9rem;
}

/* 加载状态 */
.waline-loading {
    text-align: center;
    padding: 2rem;
    color: var(--md-default-fg-color--light);
}

.loading-spinner {
    width: 40px;
    height: 40px;
    border: 3px solid var(--md-default-fg-color--lightest);
    border-top: 3px solid var(--md-primary-fg-color);
    border-radius: 50%;
    animation: spin 1s linear infinite;
    margin: 0 auto 1rem;
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

/* 错误状态 */
.waline-error {
    text-align: center;
    padding: 2rem;
    color: var(--md-default-fg-color--light);
}

.error-icon {
    font-size: 2rem;
    margin-bottom: 1rem;
}

.retry-btn {
    background-color: var(--md-primary-fg-color);
    color: var(--md-primary-bg-color);
    border: none;
    padding: 0.5rem 1rem;
    border-radius: 4px;
    cursor: pointer;
    margin-top: 1rem;
    font-size: 0.9rem;
}

.retry-btn:hover {
    background-color: var(--md-primary-fg-color--dark);
}

.details-btn {
    background-color: transparent;
    color: var(--md-default-fg-color--light);
    border: 1px solid var(--md-default-fg-color--lightest);
    padding: 0.5rem 1rem;
    border-radius: 4px;
    cursor: pointer;
    margin-top: 1rem;
    margin-left: 0.5rem;
    font-size: 0.9rem;
}

.details-btn:hover {
    background-color: var(--md-default-fg-color--lightest);
}

.error-details {
    margin-top: 1rem;
    padding: 1rem;
    background-color: var(--md-default-bg-color);
    border: 1px solid var(--md-default-fg-color--lightest);
    border-radius: 4px;
    text-align: left;
    font-size: 0.85rem;
    line-height: 1.5;
    color: var(--md-default-fg-color--light);
}

/* 适配网站主题色彩 */
.waline-comments-container .wl-panel {
    border-radius: 8px;
    border: 1px solid var(--md-default-fg-color--lightest);
    background-color: var(--md-default-bg-color);
}

.waline-comments-container .wl-editor {
    background-color: var(--md-default-bg-color);
    border: 1px solid var(--md-default-fg-color--lightest);
    border-radius: 6px;
}

.waline-comments-container .wl-input {
    background-color: var(--md-default-bg-color);
    border: 1px solid var(--md-default-fg-color--lightest);
    color: var(--md-default-fg-color);
}

.waline-comments-container .wl-input:focus {
    border-color: var(--md-primary-fg-color);
}

.waline-comments-container .wl-btn {
    background-color: var(--md-primary-fg-color);
    border-color: var(--md-primary-fg-color);
    color: var(--md-primary-bg-color);
}

.waline-comments-container .wl-btn:hover {
    background-color: var(--md-primary-fg-color--dark);
    border-color: var(--md-primary-fg-color--dark);
}

/* 响应式设计 */
@media screen and (max-width: 768px) {
    .waline-comments-container {
        padding: 1.5rem 0;
        margin-top: 2rem;
    }
    
    .waline-comments-header h3 {
        font-size: 1.3rem;
    }
}

/* 暗色主题适配 */
[data-md-color-scheme="slate"] .waline-comments-container {
    border-top-color: var(--md-default-fg-color--lightest);
}

[data-md-color-scheme="slate"] .waline-comments-container .wl-panel {
    background-color: var(--md-default-bg-color);
    border-color: var(--md-default-fg-color--lightest);
}

[data-md-color-scheme="slate"] .waline-comments-container .wl-editor {
    background-color: var(--md-default-bg-color);
    border-color: var(--md-default-fg-color--lightest);
}

[data-md-color-scheme="slate"] .waline-comments-container .wl-input {
    background-color: var(--md-default-bg-color);
    border-color: var(--md-default-fg-color--lightest);
    color: var(--md-default-fg-color);
}

[data-md-color-scheme="slate"] .loading-spinner {
    border-color: var(--md-default-fg-color--lightest);
    border-top-color: var(--md-primary-fg-color);
}

[data-md-color-scheme="slate"] .retry-btn {
    background-color: var(--md-primary-fg-color);
    color: var(--md-primary-bg-color);
}

[data-md-color-scheme="slate"] .details-btn {
    background-color: transparent;
    color: var(--md-default-fg-color--light);
    border-color: var(--md-default-fg-color--lightest);
}

[data-md-color-scheme="slate"] .details-btn:hover {
    background-color: var(--md-default-fg-color--lightest);
}

[data-md-color-scheme="slate"] .error-details {
    background-color: var(--md-default-bg-color);
    border-color: var(--md-default-fg-color--lightest);
    color: var(--md-default-fg-color--light);
}
</style> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> </main> <!--
  Copyright (c) 2016-2024 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
--> <!-- Footer --> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-footer-copyright__highlight> Copyright &copy; 2024-2025 柯懒不是柯南 </div> </div> <div class="md-footer-love md-typeset"> 一闪一闪亮晶晶，不及<span class=love-highlight>小亮</span><span class=love-heart>♥</span>照我心。To Li Liang </div> <div class=md-social> <a href=https://github.com/H0308 target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> <a href=https://www.help-doc.top/%E4%BD%9C%E8%80%85/%E4%BD%9C%E8%80%85.html target=_blank rel=noopener title=www.help-doc.top class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M433.754 420.445c-11.526 1.393-44.86-52.741-44.86-52.741 0 31.345-16.136 72.247-51.051 101.786 16.842 5.192 54.843 19.167 45.803 34.421-7.316 12.343-125.51 7.881-159.632 4.037-34.122 3.844-152.316 8.306-159.632-4.037-9.045-15.25 28.918-29.214 45.783-34.415-34.92-29.539-51.059-70.445-51.059-101.792 0 0-33.334 54.134-44.859 52.741-5.37-.65-12.424-29.644 9.347-99.704 10.261-33.024 21.995-60.478 40.144-105.779C60.683 98.063 108.982.006 224 0c113.737.006 163.156 96.133 160.264 214.963 18.118 45.223 29.912 72.85 40.144 105.778 21.768 70.06 14.716 99.053 9.346 99.704"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["navigation.indexes", "navigation.prune", "navigation.tabs", "search.highlight", "content.code.copy"], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}, "version": null}</script> <script src=../../assets/javascripts/bundle.c8b220af.min.js></script> <script src=../../javascripts/katex.min.js></script> <script src=../../javascripts/other.min.js></script> <script src=../../javascripts/copyright.min.js></script> <script src=https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/katex.min.js></script> <script src=https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/contrib/auto-render.min.js></script> <script src=../../assets/javascripts/toggle-sidebar.js async></script> <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body> </html>