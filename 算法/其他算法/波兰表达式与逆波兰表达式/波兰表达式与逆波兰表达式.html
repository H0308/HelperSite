<!doctype html><html lang=zh class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=canonical href=https://www.help-doc.top/%E7%AE%97%E6%B3%95/%E5%85%B6%E4%BB%96%E7%AE%97%E6%B3%95/%E6%B3%A2%E5%85%B0%E8%A1%A8%E8%BE%BE%E5%BC%8F%E4%B8%8E%E9%80%86%E6%B3%A2%E5%85%B0%E8%A1%A8%E8%BE%BE%E5%BC%8F/%E6%B3%A2%E5%85%B0%E8%A1%A8%E8%BE%BE%E5%BC%8F%E4%B8%8E%E9%80%86%E6%B3%A2%E5%85%B0%E8%A1%A8%E8%BE%BE%E5%BC%8F.html><link rel=prev href=../KMP%E7%AE%97%E6%B3%95/KMP%E7%AE%97%E6%B3%95.html><link rel=next href=../%E9%9C%8D%E5%B0%94%E6%B3%95%E5%88%99/%E9%9C%8D%E5%B0%94%E6%B3%95%E5%88%99.html><link rel=icon href=../../../images/favicon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.12"><title>波兰表达式与逆波兰表达式 - 柯懒的知识库</title><link rel=stylesheet href=../../../assets/stylesheets/main.2afb09e1.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.06af60db.min.css><link rel=stylesheet href=../../../css/timeline.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/katex.min.css><script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-9XWRGNRRSY"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-9XWRGNRRSY",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-9XWRGNRRSY",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script><link rel=stylesheet href=../../../stylesheets/colors.min.css><!-- 移动端和平板端始终只加载theme2 --><link rel=stylesheet href=../../../stylesheets/theme2.min.css media="screen and (max-width: 1199px)"><!-- 桌面端主题切换：新版主题同时加载theme1和theme2，旧版主题只加载theme2 --><link rel=stylesheet href=../../../stylesheets/theme2.min.css media="screen and (min-width: 1200px)" id=theme2-desktop><link rel=stylesheet href=../../../stylesheets/theme1.min.css media="screen and (min-width: 1200px)" id=theme1-desktop><link rel=stylesheet href=../../../stylesheets/print.min.css><!-- 字体样式表 --><link rel=stylesheet href=../../../stylesheets/font-dongguanti.min.css id=font-dongguanti><link rel=stylesheet href=../../../stylesheets/font-oppoti.min.css id=font-oppoti disabled><link rel=stylesheet href=../../../stylesheets/font-jiangchengti.min.css id=font-jiangchengti disabled><link rel=stylesheet href=../../../stylesheets/font-lxgw.min.css id=font-lxgw disabled><!-- 代码字体样式表 --><link rel=stylesheet href=../../../stylesheets/code-font-dejavu-sans-mono.min.css id=code-font-dejavu-sans-mono><link rel=stylesheet href=../../../stylesheets/code-font-zsft-hk.min.css id=code-font-zsft-hk disabled><script src=https://cdn.jsdelivr.net/npm/mermaid@11.5.0/dist/mermaid.min.js></script><script src=../../../javascripts/start.min.js></script> <link href="../../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../../../assets/javascripts/glightbox.min.js"></script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=white data-md-color-accent=teal> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#_1 class=md-skip> 跳转至 </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=页眉> <a href=../../../index.html title=柯懒的知识库 class="md-header__button md-logo" aria-label=柯懒的知识库 data-md-component=logo> <img src=../../../assets/logo.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> 柯懒的知识库 </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> 波兰表达式与逆波兰表达式 </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary=white data-md-color-accent=teal aria-label type=radio name=__palette id=__palette_1> </form> <!-- 头像元素 - 直接在HTML中定义 --> <div class=header-avatar> <img src=../../../作者/作者.assets/20250206-200653.jpg alt=头像> <div class=avatar-dropdown> <p><strong>柯懒不是柯南</strong></p> <a href=../../../作者/联系作者/作者.html class=avatar-dropdown-item>吵醒柯懒</a> <div class=avatar-dropdown-divider></div> <a href=../../../作者/关于作者/关于作者.html class=avatar-dropdown-item>柯懒自传</a> <div class=avatar-dropdown-divider></div> <a href=https://github.com/H0308 class=avatar-dropdown-item>柯懒的零食库</a> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=搜索 placeholder=搜索 autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=查找> <button type=reset class="md-search__icon md-icon" title=清空当前内容 aria-label=清空当前内容 tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> 正在初始化搜索引擎 </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> </nav> </header> <!-- 独立的切换按钮 --> <div class=toolbar-toggle-btn id=toolbarToggleBtn onclick=toggleToolbar()> <div class=toggle-icon> <svg class=toggle-arrow-icon viewbox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg width=16 height=16> <path d="M346.538667 1024L170.666667 853.333333l341.333333-341.333333-341.333333-341.333333 175.872-170.666667L853.333333 512z" fill=currentColor></path> </svg> </div> </div> <!-- 右侧固定功能条 - 独立于内容区 --> <div class=floating-toolbar id=floatingToolbar> <!-- 字体切换功能 --> <div class="toolbar-item font-switcher"> <div class=toolbar-icon> <svg class=font-icon viewbox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg width=20 height=20> <path d="M913.408 1024l-66.56 0q-29.696 0-51.2-5.12t-36.864-15.872-26.112-27.136-19.968-37.888q-15.36-38.912-28.16-70.656t-22.016-55.296q-11.264-26.624-20.48-49.152l-254.976 0q-7.168 23.552-17.408 51.2-8.192 23.552-21.504 56.832t-30.72 72.192q-20.48 46.08-47.104 63.488t-60.416 17.408l-70.656 0q-45.056 0-60.928-19.968t2.56-68.096q18.432-46.08 43.008-108.544t52.224-132.608 57.344-143.872 57.344-144.384q65.536-164.864 137.216-343.04 7.168-17.408 18.432-31.744 10.24-11.264 27.136-21.504t42.496-10.24q26.624 0 43.52 10.752t28.16 24.064q12.288 15.36 19.456 33.792 72.704 180.224 138.24 345.088 27.648 70.656 57.344 143.872t56.832 142.336 51.2 129.536 41.472 104.448q14.336 34.816 4.096 62.464t-43.008 27.648zM616.448 634.88l-97.28-347.136-1.024 0-108.544 347.136 206.848 0z" fill=currentColor></path> </svg> </div> <div class=toolbar-label>内容字体</div> <div class=font-dropdown-toolbar> <div class=font-current-toolbar onclick=toggleFontDropdownToolbar()> <span class=current-font-name-toolbar>东观体</span> <svg class=dropdown-arrow-icon viewbox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg width=12 height=12> <path d="M878.592 250.88q29.696 0 48.128 11.264t24.576 29.696 0 41.472-26.624 45.568q-82.944 92.16-159.744 180.224t-148.48 164.864q-19.456 20.48-45.568 31.744t-53.76 11.776-53.248-8.704-43.008-28.672q-39.936-44.032-82.944-90.112l-88.064-92.16q-43.008-46.08-85.504-90.624t-79.36-86.528q-17.408-19.456-22.528-40.448t1.024-38.4 23.552-28.672 45.056-11.264q35.84 0 98.816-0.512t137.728-0.512l153.6 0 150.528 0 125.952 0 79.872 0z" fill=currentColor></path> </svg> </div> <div class=font-options-toolbar> <div class=font-option-toolbar data-font=dongguanti onclick="selectFontToolbar('dongguanti')">上图东观体 </div> <div class=font-option-toolbar data-font=oppoti onclick="selectFontToolbar('oppoti')">OPPO Sans </div> <div class=font-option-toolbar data-font=jiangchengti onclick="selectFontToolbar('jiangchengti')"> 江城黑体</div> <div class=font-option-toolbar data-font=lxgw onclick="selectFontToolbar('lxgw')">霞鹜臻楷</div> </div> </div> </div> <!-- 代码字体切换功能 --> <div class="toolbar-item code-font-switcher"> <div class=toolbar-icon> <svg t=1753672111433 class="icon code-font-icon" viewbox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg p-id=5148 width=20 height=20> <path d="M941.709938 0H82.290062A82.290062 82.290062 0 0 0 0 82.290062v859.419876A82.290062 82.290062 0 0 0 82.290062 1022.53923h859.419876A82.290062 82.290062 0 0 0 1022.53923 941.709938V82.290062A82.290062 82.290062 0 0 0 941.709938 0zM188.439372 553.631954a40.901569 40.901569 0 0 1-29.215406-70.116975L292.154066 351.558726 159.223966 218.628626a40.901569 40.901569 0 0 1 58.430813-57.94389l160.197813 162.145507a40.901569 40.901569 0 0 1 0 57.943889l-160.197813 160.684736a40.901569 40.901569 0 0 1-29.215407 12.173086z m443.587257 0H405.120304a40.901569 40.901569 0 0 1 0-82.290061H633.000476a40.901569 40.901569 0 0 1 0 82.290061z" fill=currentColor p-id=5149></path> </svg> </div> <div class=toolbar-label>代码字体</div> <div class=code-font-dropdown-toolbar> <div class=code-font-current-toolbar onclick=toggleCodeFontDropdownToolbar()> <span class=current-code-font-name-toolbar>DejaVu Sans Mono</span> <svg class=dropdown-arrow-icon viewbox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg width=12 height=12> <path d="M878.592 250.88q29.696 0 48.128 11.264t24.576 29.696 0 41.472-26.624 45.568q-82.944 92.16-159.744 180.224t-148.48 164.864q-19.456 20.48-45.568 31.744t-53.76 11.776-53.248-8.704-43.008-28.672q-39.936-44.032-82.944-90.112l-88.064-92.16q-43.008-46.08-85.504-90.624t-79.36-86.528q-17.408-19.456-22.528-40.448t1.024-38.4 23.552-28.672 45.056-11.264q35.84 0 98.816-0.512t137.728-0.512l153.6 0 150.528 0 125.952 0 79.872 0z" fill=currentColor></path> </svg> </div> <div class=code-font-options-toolbar> <div class=code-font-option-toolbar data-code-font=dejavu onclick="selectCodeFontToolbar('dejavu')"> DejaVu Sans Mono</div> <div class=code-font-option-toolbar data-code-font=zsft onclick="selectCodeFontToolbar('zsft')"> JetBrains Mono</div> </div> </div> </div> <!-- 主题切换功能 --> <div class="toolbar-item theme-switcher" onclick=switchTheme()> <div class=toolbar-icon> <svg class=theme-icon viewbox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg width=20 height=20> <path d="M876.572788 522.301623c-1.886977 12.375865-9.657964 30.331819-35.880185 45.48903-56.489572 32.697703-150.21828 83.990926-174.010149 96.958262-13.143345 24.431435-66.067718 122.221646-98.141204 178.503487-16.117073 28.124548-36.055171 34.041304-50.030463 34.041304-0.031722 0-0.031722 0-0.031722 0-14.613836 0-29.1806-6.460132-43.234687-19.218714-47.183626-42.643216-125.994576-117.105115-146.013515-136.083351-27.757181-4.732791-138.338718-23.743774-200.584388-35.752272-17.924231-3.533476-32.649608-14.07046-40.372499-29.084409-5.78782-11.256368-10.281157-30.05962 1.471514-55.658647 26.989701-59.047838 74.126254-157.557432 85.957721-182.196599-3.437286-27.117614-16.996093-135.060045-23.760147-198.905142-1.886977-17.460674 3.901867-35.096333 15.829524-48.351218 12.791327-14.278191 30.667463-21.48943 49.854455-19.426445 63.669088 6.332219 173.259042 19.426445 200.584388 22.705118 24.335245-11.879562 121.085776-58.936297 180.133613-86.34146 9.91379-4.573155 19.85828-6.92369 29.596062-6.92369 28.748764 0 52.172243 20.642133 58.328453 51.421136 12.599969 62.997799 30.93864 166.70272 35.639708 193.484689 18.851347 19.682271 91.953272 96.031147 135.060045 143.07151C872.72004 487.125473 879.307062 504.71406 876.572788 522.301623L876.572788 522.301623zM825.375755 499.085876C776.017604 445.314205 687.245791 352.977193 686.365748 352.017332c-2.942005-3.069919-4.956895-6.971785-5.676279-11.208273-0.207731-1.215688-22.193465-127.001509-36.551474-198.936865-0.799202-3.917216-4.285606-16.836457-16.196891-16.836457-3.453658 0-7.30743 1.006933-11.464099 2.942005-67.282383 31.179117-183.955662 88.180342-185.170327 88.771813-3.693112 1.790786-7.850805 2.558265-11.975752 2.01489-1.295506-0.224104-133.63765-16.165168-205.988468-23.424502-0.079818 0-0.207731 0-0.287549 0-7.30743 0-11.128455 2.89391-13.319353 5.40408-3.677762 4.124947-5.644557 9.91379-5.068436 15.110139 7.674796 72.623018 24.255427 202.934922 24.463158 204.325595 0.511653 4.109598-0.159636 8.266267-1.966795 11.960403-0.591471 1.215688-57.657164 120.04712-88.339977 187.201589-3.565199 7.754614-4.41352 14.214746-2.350534 18.131963 1.935072 3.725858 6.588045 5.820566 10.360975 6.53995 70.719668 13.718443 204.644867 36.519752 206.036563 36.727483 4.189416 0.671289 8.058536 2.686179 11.112082 5.580089 1.006933 0.87902 96.414887 91.281983 150.090367 139.889027 8.314363 7.563256 13.143345 8.106632 14.437827 8.106632 3.485381 0 8.314363-4.621251 12.727882-12.391215 36.343743-63.828724 100.011808-181.988868 100.636025-183.155437 1.983167-3.64604 5.004991-6.667863 8.650007-8.650007 1.134847-0.671289 114.418936-62.373583 178.6314-99.516528 8.698103-5.036713 14.278191-10.568706 14.94948-14.854313C834.681702 511.845481 831.49922 505.800811 825.375755 499.085876L825.375755 499.085876zM935.333076 935.670256c-4.157693 4.157693-9.689686 6.299473-15.141862 6.299473-5.548366 0-11.048637-2.142803-15.238053-6.299473l-171.915441-171.915441c-8.362458-8.394181-8.362458-21.98471 0-30.426987 8.394181-8.394181 21.98471-8.394181 30.379914 0l171.915441 171.915441C943.727257 913.684522 943.727257 927.275052 935.333076 935.670256L935.333076 935.670256z" fill=currentColor></path> </svg> </div> <div class=toolbar-label>主题切换</div> </div> <!-- 返回顶部功能 --> <div class="toolbar-item back-to-top" onclick=scrollToTop()> <div class=toolbar-icon> <svg class=back-to-top-icon viewbox="0 0 1024 1024" xmlns=http://www.w3.org/2000/svg> <path d="M882.688 624.128l-336.896-583.68c-15.872-27.136-54.784-27.136-70.656 0L138.24 624.128c-15.872 27.136 4.096 61.44 35.328 61.44H317.44c22.528 0 40.96 18.432 40.96 40.96v239.616c0 22.528 18.432 40.96 40.96 40.96h223.232c22.528 0 40.96-18.432 40.96-40.96v-239.616c0-22.528 18.432-40.96 40.96-40.96h143.872c30.208 0 50.176-34.304 34.304-61.44z"> </path> </svg> </div> <div class=toolbar-label>返回顶部</div> </div> </div> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=标签 data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../../index.html class=md-tabs__link> 主页 </a> </li> <li class=md-tabs__item> <a href=../../../%E7%BD%91%E7%AB%99%E4%BB%8B%E7%BB%8D/%E7%BD%91%E7%AB%99%E4%BB%8B%E7%BB%8D.html class=md-tabs__link> 网站介绍 </a> </li> <li class=md-tabs__item> <a href=../../../%E7%BD%91%E7%AB%99%E6%97%B6%E9%97%B4%E7%BA%BF/%E7%BD%91%E7%AB%99%E6%97%B6%E9%97%B4%E7%BA%BF.html class=md-tabs__link> 网站时间线 </a> </li> <li class=md-tabs__item> <a href=../../../C%E8%AF%AD%E8%A8%80/index.html class=md-tabs__link> 编程语言 </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../../../%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/1.%20%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%92%8C%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/1.%20%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E4%B8%8E%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6.html class=md-tabs__link> 数据结构与算法 </a> </li> <li class=md-tabs__item> <a href=../../../Linux/1.%20Linux%E5%B8%B8%E7%94%A8%E9%80%89%E9%A1%B9%E5%92%8C%E6%8C%87%E4%BB%A4/1.%20Linux%E5%B8%B8%E7%94%A8%E9%80%89%E9%A1%B9%E5%92%8C%E6%8C%87%E4%BB%A4.html class=md-tabs__link> Linux </a> </li> <li class=md-tabs__item> <a href=../../../HTML%E4%B8%8ECSS/HTML%E7%AC%94%E8%AE%B0/HTML%E7%AC%94%E8%AE%B0.html class=md-tabs__link> 前端 </a> </li> <li class=md-tabs__item> <a href=../../../MySQL/MySQL%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8/MySQL%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8.html class=md-tabs__link> MySQL </a> </li> <li class=md-tabs__item> <a href=../../../JavaEE/Spring/1.%20SpringMVC%E5%9F%BA%E7%A1%80/1.%20SpringMVC%E5%9F%BA%E7%A1%80.html class=md-tabs__link> JavaEE应用开发 </a> </li> <li class=md-tabs__item> <a href=../../../%E5%85%B6%E5%AE%83/Shell%E8%84%9A%E6%9C%AC%E8%AF%AD%E8%A8%80/%E5%85%B3%E4%BA%8EShell.html class=md-tabs__link> 扩展知识 </a> </li> <li class=md-tabs__item> <a href=../../../%E5%B7%A5%E5%85%B7%E5%B8%AE%E5%8A%A9/vscode%E4%B8%AD%E6%B7%BB%E5%8A%A0%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5/vscode%E4%B8%AD%E6%B7%BB%E5%8A%A0%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5.html class=md-tabs__link> 工具帮助 </a> </li> <li class=md-tabs__item> <a href=../../../%E9%A1%B9%E7%9B%AE/1.%20Boost%E5%BA%93%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E/1.%20Boost%E5%BA%93%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E.html class=md-tabs__link> 项目 </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=导航栏 data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../../index.html title=柯懒的知识库 class="md-nav__button md-logo" aria-label=柯懒的知识库 data-md-component=logo> <img src=../../../assets/logo.png alt=logo> </a> 柯懒的知识库 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../index.html class=md-nav__link> <span class=md-ellipsis> 主页 </span> </a> </li> <li class=md-nav__item> <a href=../../../%E7%BD%91%E7%AB%99%E4%BB%8B%E7%BB%8D/%E7%BD%91%E7%AB%99%E4%BB%8B%E7%BB%8D.html class=md-nav__link> <span class=md-ellipsis> 网站介绍 </span> </a> </li> <li class=md-nav__item> <a href=../../../%E7%BD%91%E7%AB%99%E6%97%B6%E9%97%B4%E7%BA%BF/%E7%BD%91%E7%AB%99%E6%97%B6%E9%97%B4%E7%BA%BF.html class=md-nav__link> <span class=md-ellipsis> 网站时间线 </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../C%E8%AF%AD%E8%A8%80/index.html class=md-nav__link> <span class=md-ellipsis> 编程语言 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5 checked> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex> <span class=md-ellipsis> 数据结构与算法 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=true> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> 数据结构与算法 </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/1.%20%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%92%8C%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/1.%20%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E4%B8%8E%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6.html class=md-nav__link> <span class=md-ellipsis> 数据结构 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_2 checked> <label class=md-nav__link for=__nav_5_2 id=__nav_5_2_label tabindex=0> <span class=md-ellipsis> 算法 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_2_label aria-expanded=true> <label class=md-nav__title for=__nav_5_2> <span class="md-nav__icon md-icon"></span> 算法 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../0.%20%E5%B8%B8%E7%94%A8%E5%86%85%E5%AE%B9/0.%20%E5%B8%B8%E7%94%A8%E5%86%85%E5%AE%B9.html class=md-nav__link> <span class=md-ellipsis> 算法比赛常用内容 </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../1.%20%E6%95%B0%E7%BB%84%E5%9F%BA%E7%A1%80%E7%AF%87/1.%20%E6%95%B0%E7%BB%84%E7%90%86%E8%AE%BA%E5%9F%BA%E7%A1%80/1.%20%E6%95%B0%E7%BB%84%E7%90%86%E8%AE%BA%E5%9F%BA%E7%A1%80.html class=md-nav__link> <span class=md-ellipsis> 数组基础篇 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../2.%20%E9%93%BE%E8%A1%A8%E7%AF%87/1.%20%E9%93%BE%E8%A1%A8%E7%90%86%E8%AE%BA%E5%9F%BA%E7%A1%80/1.%20%E9%93%BE%E8%A1%A8%E7%90%86%E8%AE%BA%E5%9F%BA%E7%A1%80.html class=md-nav__link> <span class=md-ellipsis> 链表篇 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../3.%20%E5%93%88%E5%B8%8C%E8%A1%A8%E7%AF%87/1.%20%E5%93%88%E5%B8%8C%E8%A1%A8%E7%90%86%E8%AE%BA%E5%9F%BA%E7%A1%80/1.%20%E5%93%88%E5%B8%8C%E8%A1%A8%E7%90%86%E8%AE%BA%E5%9F%BA%E7%A1%80.html class=md-nav__link> <span class=md-ellipsis> 哈希表篇 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../4.%20%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%AF%87/1.%20%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%9F%BA%E7%A1%80%E7%BB%83%E4%B9%A0/1.%20%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%9F%BA%E7%A1%80%E7%BB%83%E4%B9%A0.html class=md-nav__link> <span class=md-ellipsis> 字符串篇 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class=md-nav__item> <a href=../../5.%20%E5%8F%8C%E6%8C%87%E9%92%88%E7%AF%87/5.%20%E5%8F%8C%E6%8C%87%E9%92%88%E7%AE%97%E6%B3%95.html class=md-nav__link> <span class=md-ellipsis> 双指针 </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../6.%20%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97%E7%AF%87/1.%20%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97%E7%90%86%E8%AE%BA%E5%9F%BA%E7%A1%80/1.%20%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97%E7%90%86%E8%AE%BA%E5%9F%BA%E7%A1%80.html class=md-nav__link> <span class=md-ellipsis> 栈和队列篇 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../7.%20%E9%80%92%E5%BD%92%E4%B8%8E%E4%BA%8C%E5%8F%89%E6%A0%91%E7%AF%87/0.%20%E9%80%92%E5%BD%92%E4%BB%8B%E7%BB%8D/0.%20%E9%80%92%E5%BD%92%E4%BB%8B%E7%BB%8D.html class=md-nav__link> <span class=md-ellipsis> 递归与二叉树篇 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../8.%20%E5%9B%9E%E6%BA%AF%E7%AF%87/1.%20%E5%9B%9E%E6%BA%AF%E7%90%86%E8%AE%BA%E5%9F%BA%E7%A1%80/1.%20%E5%9B%9E%E6%BA%AF%E7%90%86%E8%AE%BA%E5%9F%BA%E7%A1%80.html class=md-nav__link> <span class=md-ellipsis> 回溯篇 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../9.%20%E8%B4%AA%E5%BF%83%E7%AF%87/1.%20%E8%B4%AA%E5%BF%83%E7%90%86%E8%AE%BA%E5%9F%BA%E7%A1%80/1.%20%E8%B4%AA%E5%BF%83%E7%90%86%E8%AE%BA%E5%9F%BA%E7%A1%80.html class=md-nav__link> <span class=md-ellipsis> 贪心篇 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../10.%20%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%E7%AF%87/1.%20%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%E7%90%86%E8%AE%BA%E5%9F%BA%E7%A1%80/1.%20%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%E7%90%86%E8%AE%BA%E5%9F%BA%E7%A1%80.html class=md-nav__link> <span class=md-ellipsis> 动态规划篇 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_2_12 checked> <label class=md-nav__link for=__nav_5_2_12 id=__nav_5_2_12_label tabindex=0> <span class=md-ellipsis> 其他算法 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_5_2_12_label aria-expanded=true> <label class=md-nav__title for=__nav_5_2_12> <span class="md-nav__icon md-icon"></span> 其他算法 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../KMP%E7%AE%97%E6%B3%95/KMP%E7%AE%97%E6%B3%95.html class=md-nav__link> <span class=md-ellipsis> KMP算法 </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> 波兰表达式与逆波兰表达式 </span> <span class="md-nav__icon md-icon"></span> </label> <a href=%E6%B3%A2%E5%85%B0%E8%A1%A8%E8%BE%BE%E5%BC%8F%E4%B8%8E%E9%80%86%E6%B3%A2%E5%85%B0%E8%A1%A8%E8%BE%BE%E5%BC%8F.html class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> 波兰表达式与逆波兰表达式 </span> </a> <nav class="md-nav md-nav--secondary" aria-label=目录> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> 目录 </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#_2 class=md-nav__link> <span class=md-ellipsis> 前缀表示法（波兰表达式） </span> </a> </li> <li class=md-nav__item> <a href=#_3 class=md-nav__link> <span class=md-ellipsis> 中缀表达法 </span> </a> </li> <li class=md-nav__item> <a href=#_4 class=md-nav__link> <span class=md-ellipsis> 后缀表达法（逆波兰表达式） </span> </a> </li> <li class=md-nav__item> <a href=#_5 class=md-nav__link> <span class=md-ellipsis> 后缀表达式转前缀和中缀表达式 </span> </a> </li> <li class=md-nav__item> <a href=#_6 class=md-nav__link> <span class=md-ellipsis> 练习：逆波兰表达式求值 </span> </a> </li> <li class=md-nav__item> <a href=#_7 class=md-nav__link> <span class=md-ellipsis> 中缀表达式转后缀表达式（了解思路） </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../%E9%9C%8D%E5%B0%94%E6%B3%95%E5%88%99/%E9%9C%8D%E5%B0%94%E6%B3%95%E5%88%99.html class=md-nav__link> <span class=md-ellipsis> 霍尔法则 </span> </a> </li> <li class=md-nav__item> <a href=../%E6%95%B0%E5%AD%97%E5%92%8C%E4%B8%8E%E6%95%B0%E5%AD%97%E6%A0%B9/%E6%95%B0%E5%AD%97%E5%92%8C%E4%B8%8E%E6%95%B0%E5%AD%97%E6%A0%B9.html class=md-nav__link> <span class=md-ellipsis> 数字和与数字根 </span> </a> </li> <li class=md-nav__item> <a href=../%E6%9C%80%E5%A4%A7%E5%85%AC%E5%9B%A0%E6%95%B0%E5%92%8C%E6%9C%80%E5%B0%8F%E5%85%AC%E5%80%8D%E6%95%B0/%E6%9C%80%E5%A4%A7%E5%85%AC%E5%9B%A0%E6%95%B0%E5%92%8C%E6%9C%80%E5%B0%8F%E5%85%AC%E5%80%8D%E6%95%B0.html class=md-nav__link> <span class=md-ellipsis> 最大公因数和最小公倍数 </span> </a> </li> <li class=md-nav__item> <a href=../%E5%A4%A7%E6%95%B0%E8%BF%90%E7%AE%97/%E5%A4%A7%E6%95%B0%E8%BF%90%E7%AE%97.html class=md-nav__link> <span class=md-ellipsis> 大数运算 </span> </a> </li> <li class=md-nav__item> <a href=../%E5%8F%96%E6%A8%A1%E4%B8%8E%E5%8F%96%E4%BD%99/%E5%8F%96%E6%A8%A1%E4%B8%8E%E5%8F%96%E4%BD%99.html class=md-nav__link> <span class=md-ellipsis> 取模与取余 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../Linux/1.%20Linux%E5%B8%B8%E7%94%A8%E9%80%89%E9%A1%B9%E5%92%8C%E6%8C%87%E4%BB%A4/1.%20Linux%E5%B8%B8%E7%94%A8%E9%80%89%E9%A1%B9%E5%92%8C%E6%8C%87%E4%BB%A4.html class=md-nav__link> <span class=md-ellipsis> Linux </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../HTML%E4%B8%8ECSS/HTML%E7%AC%94%E8%AE%B0/HTML%E7%AC%94%E8%AE%B0.html class=md-nav__link> <span class=md-ellipsis> 前端 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../MySQL/MySQL%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8/MySQL%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8.html class=md-nav__link> <span class=md-ellipsis> MySQL </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../JavaEE/Spring/1.%20SpringMVC%E5%9F%BA%E7%A1%80/1.%20SpringMVC%E5%9F%BA%E7%A1%80.html class=md-nav__link> <span class=md-ellipsis> JavaEE应用开发 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../%E5%85%B6%E5%AE%83/Shell%E8%84%9A%E6%9C%AC%E8%AF%AD%E8%A8%80/%E5%85%B3%E4%BA%8EShell.html class=md-nav__link> <span class=md-ellipsis> 扩展知识 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../%E5%B7%A5%E5%85%B7%E5%B8%AE%E5%8A%A9/vscode%E4%B8%AD%E6%B7%BB%E5%8A%A0%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5/vscode%E4%B8%AD%E6%B7%BB%E5%8A%A0%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5.html class=md-nav__link> <span class=md-ellipsis> 工具帮助 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../%E9%A1%B9%E7%9B%AE/1.%20Boost%E5%BA%93%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E/1.%20Boost%E5%BA%93%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E.html class=md-nav__link> <span class=md-ellipsis> 项目 </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label=目录> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> 目录 </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#_2 class=md-nav__link> <span class=md-ellipsis> 前缀表示法（波兰表达式） </span> </a> </li> <li class=md-nav__item> <a href=#_3 class=md-nav__link> <span class=md-ellipsis> 中缀表达法 </span> </a> </li> <li class=md-nav__item> <a href=#_4 class=md-nav__link> <span class=md-ellipsis> 后缀表达法（逆波兰表达式） </span> </a> </li> <li class=md-nav__item> <a href=#_5 class=md-nav__link> <span class=md-ellipsis> 后缀表达式转前缀和中缀表达式 </span> </a> </li> <li class=md-nav__item> <a href=#_6 class=md-nav__link> <span class=md-ellipsis> 练习：逆波兰表达式求值 </span> </a> </li> <li class=md-nav__item> <a href=#_7 class=md-nav__link> <span class=md-ellipsis> 中缀表达式转后缀表达式（了解思路） </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=_1>波兰表达式与逆波兰表达式<a class=headerlink href=#_1 title="Permanent link">&para;</a></h1> <div style="margin-top: -30px; font-size: 0.75em; opacity: 0.7;"> <p><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10h-2a8 8 0 0 1-8 8 8 8 0 0 1-8-8 8 8 0 0 1 8-8zm6.78 1a.7.7 0 0 0-.48.2l-1.22 1.21 2.5 2.5L20.8 5.7c.26-.26.26-.7 0-.95L19.25 3.2c-.13-.13-.3-.2-.47-.2m-2.41 2.12L9 12.5V15h2.5l7.37-7.38z"/></svg></span> 约 2681 个字 <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6m80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3l89.3 89.4-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3"/></svg></span> 380 行代码 <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 17H7V3h14m0-2H7a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2M3 5H1v16a2 2 0 0 0 2 2h16v-2H3m12.96-10.71-2.75 3.54-1.96-2.36L8.5 15h11z"/></svg></span> 3 张图片 <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 20c4.42 0 8-3.58 8-8s-3.58-8-8-8-8 3.58-8 8 3.58 8 8 8m0-18c5.5 0 10 4.5 10 10s-4.5 10-10 10C6.47 22 2 17.5 2 12S6.5 2 12 2m.5 11H11V7h1.5v4.26l3.7-2.13.75 1.3z"/></svg></span> 预计阅读时间 14 分钟</p> </div> <h2 id=_2>前缀表示法（波兰表达式）<a class=headerlink href=#_2 title="Permanent link">&para;</a></h2> <p><strong>波兰表示法</strong>（英语：Polish notation，或<strong>波兰记法</strong>）是一种<a href=https://zh.wikipedia.org/wiki/逻辑>逻辑</a>、<a href=https://zh.wikipedia.org/wiki/算术>算术</a>和<a href=https://zh.wikipedia.org/wiki/代数>代数</a>表示方法，其特点是<a href=https://zh.wikipedia.org/wiki/操作符>操作符</a>置于<a href=https://zh.wikipedia.org/wiki/操作数>操作数</a>的前面，因此也称做<strong>前缀表示法</strong>。如果操作符的<a href=https://zh.wikipedia.org/wiki/元数>元数</a>是固定的，则语法上不需要括号仍然能被无歧义地解析。波兰记法是<a href=https://zh.wikipedia.org/wiki/波兰>波兰</a><a href=https://zh.wikipedia.org/wiki/数学家>数学家</a><a href=https://zh.wikipedia.org/wiki/扬·武卡谢维奇>扬·武卡谢维奇</a>于1920年代引入的，用于简化<a href=https://zh.wikipedia.org/wiki/命题逻辑>命题逻辑</a>。</p> <p>表达“三加四”时，前缀记法写作“+ 3 4 ”，而不是“3 + 4”。在复杂的表达式中，操作符仍然在操作数的前面，但操作数可能是包含操作符的平凡表达式。 例如，中缀运算式(5 - 6) * 7 ，在前缀表达式中可以表示为：</p> <div style="background-color: lightgrey">*(− 5 6) 7</div> <p>或省略括号：</p> <div style="background-color: lightgrey">* - 5 6 7</div> <p>由于简单的算术运算符都是<a href=https://zh.wikipedia.org/wiki/二元运算>二元</a>的，该前缀表达式无需括号，且表述是无歧义的。在前面的例子里，中缀形式的括号是必需的，如果将括号移动到：</p> <div style="background-color: lightgrey">5 - (6 * 7)</div> <p>即：</p> <div style="background-color: lightgrey">5 - 6 * 7</div> <p>则会改变整个表达式的值。而其正确的前缀形式是：</p> <div style="background-color: lightgrey">- 5 * 6 7</div> <p>减法运算要等它的两个操作数（5；6和7的乘积）都完成时才会处理。在任何表示法中，最里面的表达式最先运算，而在波兰表达式中，决定“最里面”的是顺序而不是括号。</p> <h2 id=_3>中缀表达法<a class=headerlink href=#_3 title="Permanent link">&para;</a></h2> <p><strong>中缀表示法</strong>（或<strong>中缀记法</strong>）是一个通用的<a href=https://zh.wikipedia.org/wiki/算术>算术</a>或<a href=https://zh.wikipedia.org/wiki/逻辑>逻辑</a>公式表示方法， <a href=https://zh.wikipedia.org/wiki/運算子>操作符</a>是以中缀形式处于<a href=https://zh.wikipedia.org/wiki/操作数>操作数</a>的中间（例：3 + 4）。与<a href=https://zh.wikipedia.org/wiki/前缀表达式>前缀表达式</a>（例：+ 3 4 ）或<a href=https://zh.wikipedia.org/wiki/后缀表达式>后缀表达式</a>（例：3 4 + ）相比，中缀表达式不容易被<a href=https://zh.wikipedia.org/wiki/电脑>电脑</a>解析逻辑优先顺序，但仍被许多<a href=https://zh.wikipedia.org/wiki/程序語言>程序语言</a>使用，因为它符合大多数自然语言的写法。</p> <p>与前缀或后缀记法不同的是，中缀记法中<a href=https://zh.wikipedia.org/wiki/括号>括号</a>是必需的。计算过程中必须用括号将操作符和对应的操作数括起来，用于指示运算的次序。</p> <h2 id=_4>后缀表达法（逆波兰表达式）<a class=headerlink href=#_4 title="Permanent link">&para;</a></h2> <p><strong>逆波兰表示法</strong>（英语：Reverse Polish notation，缩写<strong>RPN</strong>，或<strong>波兰记法</strong>、<strong>逆卢卡西维茨记法</strong>），是一种由<a href=https://zh.wikipedia.org/wiki/波兰>波兰</a>数学家<a href=https://zh.wikipedia.org/wiki/扬·卢卡西维茨>扬·卢卡西维茨</a>于1920年引入的数学<a href=https://zh.wikipedia.org/wiki/表達式>表达式</a>形式，在逆波兰记法中，所有<a href=https://zh.wikipedia.org/wiki/運算子>操作符</a>置于<a href=https://zh.wikipedia.org/wiki/操作数>操作数</a>的后面，因此也被称为<strong>后缀表示法</strong>、<strong>后序表示法</strong>[<a href=https://zh.wikipedia.org/wiki/逆波兰表示法#cite_note-1>1]</a>。逆波兰记法不需要括号来标识操作符的优先级。</p> <p>逆波兰结构由<a href="https://zh.wikipedia.org/w/index.php?title=弗里德里希·L·鲍尔&action=edit&redlink=1">弗里德里希·L·鲍尔</a>和<a href=https://zh.wikipedia.org/wiki/艾兹格·迪科斯彻>艾兹格·迪科斯彻</a>在1960年代早期提议用于表达式求值，以利用<a href=https://zh.wikipedia.org/wiki/堆栈>堆栈结构</a>减少计算机<a href=https://zh.wikipedia.org/wiki/内存>内存</a>访问。逆波兰记法和相应的<a href=https://zh.wikipedia.org/wiki/算法>算法</a>由<a href=https://zh.wikipedia.org/wiki/澳大利亚>澳大利亚</a>哲学家、计算机学家<a href="https://zh.wikipedia.org/w/index.php?title=查尔斯·伦纳德·汉布林&action=edit&redlink=1">查尔斯·伦纳德·汉布尔</a>在1960年代中期扩充[<a href=https://zh.wikipedia.org/wiki/逆波兰表示法#cite_note-2>2]</a>[<a href=https://zh.wikipedia.org/wiki/逆波兰表示法#cite_note-3>3]</a>。</p> <p>在1960和1970年代，逆波兰记法广泛地被用于台式<a href=https://zh.wikipedia.org/wiki/计算器>计算器</a>，因此也在普通公众（如<a href=https://zh.wikipedia.org/wiki/工程>工程</a>、<a href=https://zh.wikipedia.org/wiki/商业>商业</a>和<a href=https://zh.wikipedia.org/wiki/金融>金融</a>等领域）中使用。</p> <p>下面大部分是关于<a href=https://zh.wikipedia.org/wiki/二元运算>二元运算</a>，一个<a href=https://zh.wikipedia.org/wiki/一元运算>一元运算</a>使用逆波兰记法的例子是<a href=https://zh.wikipedia.org/wiki/阶乘>阶乘</a>的记法。</p> <p>逆波兰记法中，操作符置于操作数的后面。例如表达“三加四”时，写作“3 4 + ”，而不是“3 + 4”。如果有多个操作符，操作符置于第二个操作数的后面，所以常规中缀记法的“3 - 4 + 5”在逆波兰记法中写作“3 4 - 5 + ”：先3减去4，再加上5。使用逆波兰记法的一个好处是不需要使用括号。例如中缀记法中“3 - 4 * 5”与“（3 - 4）<em>5”不相同，但后缀记法中前者写做“3 4 5 * - ”，无歧义地表示“3 (4 5 </em>) -”；后者写做“3 4 - 5 * ”。</p> <p>逆波兰表达式的<a href=https://zh.wikipedia.org/wiki/解释器>解释器</a>一般是基于<a href=https://zh.wikipedia.org/wiki/堆栈>堆栈</a>的。解释过程一般是：操作数入栈；遇到操作符时，操作数出栈，求值，将结果入栈；当一遍后，栈顶就是表达式的值。因此逆波兰表达式的求值使用堆栈结构很容易实现，并且能很快求值。</p> <p>注意：逆波兰记法并不是简单的<a href=https://zh.wikipedia.org/wiki/波兰表达式>波兰表达式</a>的反转。因为对于不满足<a href=https://zh.wikipedia.org/wiki/交换律>交换律</a>的操作符，它的操作数写法仍然是常规顺序，如，波兰记法“/ 6 3”的逆波兰记法是“6 3 /”而不是“3 6 /”；数字的数位写法也是常规顺序</p> <h2 id=_5>后缀表达式转前缀和中缀表达式<a class=headerlink href=#_5 title="Permanent link">&para;</a></h2> <p>前缀表达式可以用二叉树的前序遍历得到，中缀表达式可以用二叉树的中序遍历得到，后缀表达式可以用二叉树的后序遍历得到。在转换过程中，始终以操作符作为根节点</p> <p>例如，对于中缀表达式:</p> <div style="background-color: lightgrey">(1 + 2) * (3 + 4)</div> <p>对应的二叉树为</p> <p><a class=glightbox href=波兰表达式与逆波兰表达式.assets\image.png data-type=image data-width=100% data-height=auto data-desc-position=bottom><img src=波兰表达式与逆波兰表达式.assets\image.png></a></p> <p>将其转化为前缀表达式为</p> <div style="background-color: lightgrey">* + 1 2 + 3 4</div> <p>将其转化为后缀表达式为</p> <div style="background-color: lightgrey">1 2 + 3 4 + *</div> <h2 id=_6>练习：逆波兰表达式求值<a class=headerlink href=#_6 title="Permanent link">&para;</a></h2> <p>题目链接：<a href=https://leetcode.cn/problems/evaluate-reverse-polish-notation/ >150. 逆波兰表达式求值 - 力扣（LeetCode）</a></p> <p><strong>问题描述：</strong></p> <div class="admonition quote"> <p class=admonition-title>Quote</p> <p>给你一个字符串数组<code>tokens</code>，表示一个根据逆波兰表示法表示的算术表达式。</p> <p>请你计算该表达式。返回一个表示表达式值的整数。</p> <p>注意：</p> <ul> <li>有效的算符为<code>'+'</code>、<code>'-'</code>、<code>'*'</code>和<code>'/'</code>。</li> <li>每个操作数（运算对象）都可以是一个整数或者另一个表达式。</li> <li>两个整数之间的除法总是向零截断。</li> <li>表达式中不含除零运算。</li> <li>输入是一个根据逆波兰表示法表示的算术表达式。</li> <li>答案及所有中间计算结果可以用32 位整数表示。</li> </ul> <p>示例 1：</p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><span class=n>输入</span><span class=err>：</span><span class=n>tokens</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>[</span><span class=s>&quot;2&quot;</span><span class=p>,</span><span class=s>&quot;1&quot;</span><span class=p>,</span><span class=s>&quot;+&quot;</span><span class=p>,</span><span class=s>&quot;3&quot;</span><span class=p>,</span><span class=s>&quot;*&quot;</span><span class=p>]</span>
</span><span id=__span-0-2><span class=n>输出</span><span class=err>：</span><span class=mi>9</span>
</span><span id=__span-0-3><span class=n>解释</span><span class=err>：</span><span class=n>该算式转化为常见的中缀算术表达式为</span><span class=err>：</span><span class=p>((</span><span class=mi>2</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>1</span><span class=p>)</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=mi>3</span><span class=p>)</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>9</span>
</span></code></pre></div></td></tr></table></div> <p>示例 2：</p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-1-1><span class=n>输入</span><span class=err>：</span><span class=n>tokens</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>[</span><span class=s>&quot;4&quot;</span><span class=p>,</span><span class=s>&quot;13&quot;</span><span class=p>,</span><span class=s>&quot;5&quot;</span><span class=p>,</span><span class=s>&quot;/&quot;</span><span class=p>,</span><span class=s>&quot;+&quot;</span><span class=p>]</span>
</span><span id=__span-1-2><span class=n>输出</span><span class=err>：</span><span class=mi>6</span>
</span><span id=__span-1-3><span class=n>解释</span><span class=err>：</span><span class=n>该算式转化为常见的中缀算术表达式为</span><span class=err>：</span><span class=p>(</span><span class=mi>4</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=p>(</span><span class=mi>13</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=mi>5</span><span class=p>))</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>6</span>
</span></code></pre></div></td></tr></table></div> <p>示例 3：</p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-2-1><span class=n>输入</span><span class=err>：</span><span class=n>tokens</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>[</span><span class=s>&quot;10&quot;</span><span class=p>,</span><span class=s>&quot;6&quot;</span><span class=p>,</span><span class=s>&quot;9&quot;</span><span class=p>,</span><span class=s>&quot;3&quot;</span><span class=p>,</span><span class=s>&quot;+&quot;</span><span class=p>,</span><span class=s>&quot;-11&quot;</span><span class=p>,</span><span class=s>&quot;*&quot;</span><span class=p>,</span><span class=s>&quot;/&quot;</span><span class=p>,</span><span class=s>&quot;*&quot;</span><span class=p>,</span><span class=s>&quot;17&quot;</span><span class=p>,</span><span class=s>&quot;+&quot;</span><span class=p>,</span><span class=s>&quot;5&quot;</span><span class=p>,</span><span class=s>&quot;+&quot;</span><span class=p>]</span>
</span><span id=__span-2-2><span class=n>输出</span><span class=err>：</span><span class=mi>22</span>
</span><span id=__span-2-3><span class=n>解释</span><span class=err>：</span><span class=n>该算式转化为常见的中缀算术表达式为</span><span class=err>：</span>
</span><span id=__span-2-4><span class=p>((</span><span class=mi>10</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=p>(</span><span class=mi>6</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=p>((</span><span class=mi>9</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>3</span><span class=p>)</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=mi>-11</span><span class=p>)))</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>17</span><span class=p>)</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>5</span>
</span><span id=__span-2-5><span class=o>=</span><span class=w> </span><span class=p>((</span><span class=mi>10</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=p>(</span><span class=mi>6</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=p>(</span><span class=mi>12</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=mi>-11</span><span class=p>)))</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>17</span><span class=p>)</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>5</span>
</span><span id=__span-2-6><span class=o>=</span><span class=w> </span><span class=p>((</span><span class=mi>10</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=p>(</span><span class=mi>6</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=mi>-132</span><span class=p>))</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>17</span><span class=p>)</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>5</span>
</span><span id=__span-2-7><span class=o>=</span><span class=w> </span><span class=p>((</span><span class=mi>10</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=mi>0</span><span class=p>)</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>17</span><span class=p>)</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>5</span>
</span><span id=__span-2-8><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=mi>0</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>17</span><span class=p>)</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>5</span>
</span><span id=__span-2-9><span class=o>=</span><span class=w> </span><span class=mi>17</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>5</span>
</span><span id=__span-2-10><span class=o>=</span><span class=w> </span><span class=mi>22</span>
</span></code></pre></div></td></tr></table></div> </div> <p><strong>思路解析：</strong></p> <p>对于逆波兰表达式一般用栈的数据结构解决，当表达式中的字符为操作数时，操作数入栈，当表达式中的字符为操作符时，依次弹出两个操作数进行对应的算术运算。注意弹出的第一个数是操作符右侧的数，第二次弹出的数是操作符左侧的数，对于减法和除法需要注意运算顺序</p> <p>使用C语言及栈来解决时，需要注意下面的问题：</p> <ol> <li>因为题目给的运算式是单个字符串，在比较时需要使用到<code>strcmp</code>函数，而不是直接使用<code>==</code>进行判断</li> <li>因为<code>*</code>的ASCII值小于其余三个运算符，并且数字可能存在负数，所以在处理减号不入栈时需要处理负数的情况</li> <li>设计栈时，可以直接使用实际实现的栈数据结构，也可用一个空数组来模拟栈</li> </ol> <p>使用C++来解决时，需要注意下，C++代码中如果使用<code>atoi</code>函数需要将原始的string字符串转换成C类型的字符串，否则<code>atoi</code>将无法使用</p> <p><strong>参考代码：</strong></p> <div class="tabbed-set tabbed-alternate" data-tabs=1:3><input checked=checked id=__tabbed_1_1 name=__tabbed_1 type=radio><input id=__tabbed_1_2 name=__tabbed_1 type=radio><input id=__tabbed_1_3 name=__tabbed_1 type=radio><div class=tabbed-labels><label for=__tabbed_1_1>C语言版本</label><label for=__tabbed_1_2>C++版本</label><label for=__tabbed_1_3>C++版本（使用包装器）</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class="language-c highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>  1</span>
<span class=normal>  2</span>
<span class=normal>  3</span>
<span class=normal>  4</span>
<span class=normal>  5</span>
<span class=normal>  6</span>
<span class=normal>  7</span>
<span class=normal>  8</span>
<span class=normal>  9</span>
<span class=normal> 10</span>
<span class=normal> 11</span>
<span class=normal> 12</span>
<span class=normal> 13</span>
<span class=normal> 14</span>
<span class=normal> 15</span>
<span class=normal> 16</span>
<span class=normal> 17</span>
<span class=normal> 18</span>
<span class=normal> 19</span>
<span class=normal> 20</span>
<span class=normal> 21</span>
<span class=normal> 22</span>
<span class=normal> 23</span>
<span class=normal> 24</span>
<span class=normal> 25</span>
<span class=normal> 26</span>
<span class=normal> 27</span>
<span class=normal> 28</span>
<span class=normal> 29</span>
<span class=normal> 30</span>
<span class=normal> 31</span>
<span class=normal> 32</span>
<span class=normal> 33</span>
<span class=normal> 34</span>
<span class=normal> 35</span>
<span class=normal> 36</span>
<span class=normal> 37</span>
<span class=normal> 38</span>
<span class=normal> 39</span>
<span class=normal> 40</span>
<span class=normal> 41</span>
<span class=normal> 42</span>
<span class=normal> 43</span>
<span class=normal> 44</span>
<span class=normal> 45</span>
<span class=normal> 46</span>
<span class=normal> 47</span>
<span class=normal> 48</span>
<span class=normal> 49</span>
<span class=normal> 50</span>
<span class=normal> 51</span>
<span class=normal> 52</span>
<span class=normal> 53</span>
<span class=normal> 54</span>
<span class=normal> 55</span>
<span class=normal> 56</span>
<span class=normal> 57</span>
<span class=normal> 58</span>
<span class=normal> 59</span>
<span class=normal> 60</span>
<span class=normal> 61</span>
<span class=normal> 62</span>
<span class=normal> 63</span>
<span class=normal> 64</span>
<span class=normal> 65</span>
<span class=normal> 66</span>
<span class=normal> 67</span>
<span class=normal> 68</span>
<span class=normal> 69</span>
<span class=normal> 70</span>
<span class=normal> 71</span>
<span class=normal> 72</span>
<span class=normal> 73</span>
<span class=normal> 74</span>
<span class=normal> 75</span>
<span class=normal> 76</span>
<span class=normal> 77</span>
<span class=normal> 78</span>
<span class=normal> 79</span>
<span class=normal> 80</span>
<span class=normal> 81</span>
<span class=normal> 82</span>
<span class=normal> 83</span>
<span class=normal> 84</span>
<span class=normal> 85</span>
<span class=normal> 86</span>
<span class=normal> 87</span>
<span class=normal> 88</span>
<span class=normal> 89</span>
<span class=normal> 90</span>
<span class=normal> 91</span>
<span class=normal> 92</span>
<span class=normal> 93</span>
<span class=normal> 94</span>
<span class=normal> 95</span>
<span class=normal> 96</span>
<span class=normal> 97</span>
<span class=normal> 98</span>
<span class=normal> 99</span>
<span class=normal>100</span>
<span class=normal>101</span>
<span class=normal>102</span>
<span class=normal>103</span>
<span class=normal>104</span>
<span class=normal>105</span>
<span class=normal>106</span>
<span class=normal>107</span>
<span class=normal>108</span>
<span class=normal>109</span>
<span class=normal>110</span>
<span class=normal>111</span>
<span class=normal>112</span>
<span class=normal>113</span>
<span class=normal>114</span>
<span class=normal>115</span>
<span class=normal>116</span>
<span class=normal>117</span>
<span class=normal>118</span>
<span class=normal>119</span>
<span class=normal>120</span>
<span class=normal>121</span>
<span class=normal>122</span>
<span class=normal>123</span>
<span class=normal>124</span>
<span class=normal>125</span>
<span class=normal>126</span>
<span class=normal>127</span>
<span class=normal>128</span>
<span class=normal>129</span>
<span class=normal>130</span>
<span class=normal>131</span>
<span class=normal>132</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-3-1><span class=c1>// 使用C语言和栈解决问题</span>
</span><span id=__span-3-2><span class=c1>// 栈的声明</span>
</span><span id=__span-3-3><span class=k>typedef</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>STDataType</span><span class=p>;</span>
</span><span id=__span-3-4><span class=k>typedef</span><span class=w> </span><span class=k>struct</span><span class=w> </span><span class=nc>stack</span>
</span><span id=__span-3-5><span class=p>{</span>
</span><span id=__span-3-6><span class=w>    </span><span class=n>STDataType</span><span class=o>*</span><span class=w> </span><span class=n>data</span><span class=p>;</span>
</span><span id=__span-3-7><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>top</span><span class=p>;</span><span class=w>      </span><span class=c1>// 栈顶位置</span>
</span><span id=__span-3-8><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>capacity</span><span class=p>;</span><span class=w> </span><span class=c1>// 元素个数</span>
</span><span id=__span-3-9><span class=p>}</span><span class=w> </span><span class=n>ST</span><span class=p>;</span>
</span><span id=__span-3-10>
</span><span id=__span-3-11><span class=c1>// 栈的初始化</span>
</span><span id=__span-3-12><span class=kt>void</span><span class=w> </span><span class=nf>STInit</span><span class=p>(</span><span class=n>ST</span><span class=o>*</span><span class=w> </span><span class=n>st</span><span class=p>);</span>
</span><span id=__span-3-13><span class=c1>// 栈的销毁</span>
</span><span id=__span-3-14><span class=kt>void</span><span class=w> </span><span class=nf>STDestroy</span><span class=p>(</span><span class=n>ST</span><span class=o>*</span><span class=w> </span><span class=n>st</span><span class=p>);</span>
</span><span id=__span-3-15><span class=c1>// 数据入栈</span>
</span><span id=__span-3-16><span class=kt>void</span><span class=w> </span><span class=nf>STPush</span><span class=p>(</span><span class=n>ST</span><span class=o>*</span><span class=w> </span><span class=n>st</span><span class=p>,</span><span class=w> </span><span class=n>STDataType</span><span class=w> </span><span class=n>x</span><span class=p>);</span>
</span><span id=__span-3-17><span class=c1>// 数据出栈</span>
</span><span id=__span-3-18><span class=kt>void</span><span class=w> </span><span class=nf>STPop</span><span class=p>(</span><span class=n>ST</span><span class=o>*</span><span class=w> </span><span class=n>st</span><span class=p>);</span>
</span><span id=__span-3-19><span class=c1>// 判断栈是否为空</span>
</span><span id=__span-3-20><span class=kt>bool</span><span class=w> </span><span class=nf>STEmpty</span><span class=p>(</span><span class=n>ST</span><span class=o>*</span><span class=w> </span><span class=n>st</span><span class=p>);</span>
</span><span id=__span-3-21><span class=c1>// 获取栈元素</span>
</span><span id=__span-3-22><span class=n>STDataType</span><span class=w> </span><span class=nf>STTop</span><span class=p>(</span><span class=n>ST</span><span class=o>*</span><span class=w> </span><span class=n>st</span><span class=p>);</span>
</span><span id=__span-3-23>
</span><span id=__span-3-24><span class=c1>// 栈的实现</span>
</span><span id=__span-3-25><span class=c1>// 栈的初始化</span>
</span><span id=__span-3-26><span class=kt>void</span><span class=w> </span><span class=nf>STInit</span><span class=p>(</span><span class=n>ST</span><span class=o>*</span><span class=w> </span><span class=n>st</span><span class=p>)</span>
</span><span id=__span-3-27><span class=p>{</span>
</span><span id=__span-3-28><span class=w>    </span><span class=c1>// 判断是否存在队列</span>
</span><span id=__span-3-29><span class=w>    </span><span class=n>assert</span><span class=p>(</span><span class=n>st</span><span class=p>);</span>
</span><span id=__span-3-30><span class=w>    </span><span class=c1>// 初始化队列</span>
</span><span id=__span-3-31><span class=w>    </span><span class=n>st</span><span class=o>-&gt;</span><span class=n>data</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>NULL</span><span class=p>;</span>
</span><span id=__span-3-32><span class=w>    </span><span class=n>st</span><span class=o>-&gt;</span><span class=n>top</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=c1>// 栈顶指针指向存储数据的下一个位置，代表栈内无数据</span>
</span><span id=__span-3-33><span class=w>    </span><span class=c1>// st-&gt;top = -1;//栈顶指针指向存储数据的位置，代表栈内无数据</span>
</span><span id=__span-3-34><span class=w>    </span><span class=n>st</span><span class=o>-&gt;</span><span class=n>capacity</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-3-35><span class=p>}</span>
</span><span id=__span-3-36>
</span><span id=__span-3-37><span class=c1>// 栈的销毁</span>
</span><span id=__span-3-38><span class=kt>void</span><span class=w> </span><span class=nf>STDestroy</span><span class=p>(</span><span class=n>ST</span><span class=o>*</span><span class=w> </span><span class=n>st</span><span class=p>)</span>
</span><span id=__span-3-39><span class=p>{</span>
</span><span id=__span-3-40><span class=w>    </span><span class=c1>// 确保有栈的存在</span>
</span><span id=__span-3-41><span class=w>    </span><span class=n>assert</span><span class=p>(</span><span class=n>st</span><span class=p>);</span>
</span><span id=__span-3-42><span class=w>    </span><span class=c1>// 销毁栈</span>
</span><span id=__span-3-43><span class=w>    </span><span class=n>free</span><span class=p>(</span><span class=n>st</span><span class=o>-&gt;</span><span class=n>data</span><span class=p>);</span>
</span><span id=__span-3-44><span class=w>    </span><span class=n>st</span><span class=o>-&gt;</span><span class=n>data</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>NULL</span><span class=p>;</span>
</span><span id=__span-3-45><span class=w>    </span><span class=n>st</span><span class=o>-&gt;</span><span class=n>top</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>st</span><span class=o>-&gt;</span><span class=n>capacity</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-3-46><span class=p>}</span>
</span><span id=__span-3-47>
</span><span id=__span-3-48><span class=c1>// 数据入栈</span>
</span><span id=__span-3-49><span class=kt>void</span><span class=w> </span><span class=nf>STPush</span><span class=p>(</span><span class=n>ST</span><span class=o>*</span><span class=w> </span><span class=n>st</span><span class=p>,</span><span class=w> </span><span class=n>STDataType</span><span class=w> </span><span class=n>x</span><span class=p>)</span>
</span><span id=__span-3-50><span class=p>{</span>
</span><span id=__span-3-51><span class=w>    </span><span class=c1>// 确保有栈的存在</span>
</span><span id=__span-3-52><span class=w>    </span><span class=n>assert</span><span class=p>(</span><span class=n>st</span><span class=p>);</span>
</span><span id=__span-3-53><span class=w>    </span><span class=c1>// 向top位置增加数据，并使top向后移动</span>
</span><span id=__span-3-54><span class=w>    </span><span class=c1>// 需要判断栈的容量大小</span>
</span><span id=__span-3-55><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>st</span><span class=o>-&gt;</span><span class=n>top</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>st</span><span class=o>-&gt;</span><span class=n>capacity</span><span class=p>)</span>
</span><span id=__span-3-56><span class=w>    </span><span class=p>{</span>
</span><span id=__span-3-57><span class=w>        </span><span class=c1>// 如果栈的空间为0，则开辟四个空间，如果栈容量不为0，则扩容原来容量的2倍</span>
</span><span id=__span-3-58><span class=w>        </span><span class=kt>int</span><span class=w> </span><span class=n>newCapacity</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>st</span><span class=o>-&gt;</span><span class=n>capacity</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=mi>0</span><span class=w> </span><span class=o>?</span><span class=w> </span><span class=mi>4</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=n>st</span><span class=o>-&gt;</span><span class=n>capacity</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=mi>2</span><span class=p>;</span>
</span><span id=__span-3-59><span class=w>        </span><span class=n>STDataType</span><span class=o>*</span><span class=w> </span><span class=n>tmp</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=n>STDataType</span><span class=o>*</span><span class=p>)</span><span class=n>realloc</span><span class=p>(</span><span class=n>st</span><span class=o>-&gt;</span><span class=n>data</span><span class=p>,</span><span class=w> </span><span class=k>sizeof</span><span class=p>(</span><span class=n>STDataType</span><span class=p>)</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=n>newCapacity</span><span class=p>);</span>
</span><span id=__span-3-60><span class=w>        </span><span class=n>assert</span><span class=p>(</span><span class=n>tmp</span><span class=p>);</span>
</span><span id=__span-3-61><span class=w>        </span><span class=n>st</span><span class=o>-&gt;</span><span class=n>data</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>tmp</span><span class=p>;</span>
</span><span id=__span-3-62><span class=w>        </span><span class=n>st</span><span class=o>-&gt;</span><span class=n>capacity</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>newCapacity</span><span class=p>;</span>
</span><span id=__span-3-63><span class=w>    </span><span class=p>}</span>
</span><span id=__span-3-64>
</span><span id=__span-3-65><span class=w>    </span><span class=c1>// 数据压栈并改变top</span>
</span><span id=__span-3-66><span class=w>    </span><span class=n>st</span><span class=o>-&gt;</span><span class=n>data</span><span class=p>[</span><span class=n>st</span><span class=o>-&gt;</span><span class=n>top</span><span class=o>++</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>x</span><span class=p>;</span>
</span><span id=__span-3-67><span class=p>}</span>
</span><span id=__span-3-68><span class=c1>// 数据出栈</span>
</span><span id=__span-3-69><span class=kt>void</span><span class=w> </span><span class=nf>STPop</span><span class=p>(</span><span class=n>ST</span><span class=o>*</span><span class=w> </span><span class=n>st</span><span class=p>)</span>
</span><span id=__span-3-70><span class=p>{</span>
</span><span id=__span-3-71><span class=w>    </span><span class=c1>// 确保有栈的存在</span>
</span><span id=__span-3-72><span class=w>    </span><span class=n>assert</span><span class=p>(</span><span class=n>st</span><span class=p>);</span>
</span><span id=__span-3-73><span class=w>    </span><span class=c1>// 确保栈不会越界</span>
</span><span id=__span-3-74><span class=w>    </span><span class=n>assert</span><span class=p>(</span><span class=o>!</span><span class=n>STEmpty</span><span class=p>(</span><span class=n>st</span><span class=p>));</span>
</span><span id=__span-3-75>
</span><span id=__span-3-76><span class=w>    </span><span class=c1>// 直接移动top指针，“看不见即删除”</span>
</span><span id=__span-3-77><span class=w>    </span><span class=n>st</span><span class=o>-&gt;</span><span class=n>top</span><span class=o>--</span><span class=p>;</span>
</span><span id=__span-3-78><span class=p>}</span>
</span><span id=__span-3-79><span class=c1>// 判断栈是否为空</span>
</span><span id=__span-3-80><span class=kt>bool</span><span class=w> </span><span class=nf>STEmpty</span><span class=p>(</span><span class=n>ST</span><span class=o>*</span><span class=w> </span><span class=n>st</span><span class=p>)</span>
</span><span id=__span-3-81><span class=p>{</span>
</span><span id=__span-3-82><span class=w>    </span><span class=c1>// 确保有栈的存在</span>
</span><span id=__span-3-83><span class=w>    </span><span class=n>assert</span><span class=p>(</span><span class=n>st</span><span class=p>);</span>
</span><span id=__span-3-84><span class=w>    </span><span class=c1>// 栈为空返回真，栈不为空返回假</span>
</span><span id=__span-3-85><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=n>st</span><span class=o>-&gt;</span><span class=n>top</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=c1>// 判断表达式返回值只有1和0，如果为真返回1(true)，如果为假返回0(false)</span>
</span><span id=__span-3-86><span class=p>}</span>
</span><span id=__span-3-87><span class=c1>// 获取栈元素</span>
</span><span id=__span-3-88><span class=n>STDataType</span><span class=w> </span><span class=nf>STTop</span><span class=p>(</span><span class=n>ST</span><span class=o>*</span><span class=w> </span><span class=n>st</span><span class=p>)</span>
</span><span id=__span-3-89><span class=p>{</span>
</span><span id=__span-3-90><span class=w>    </span><span class=c1>// 确保栈存在</span>
</span><span id=__span-3-91><span class=w>    </span><span class=n>assert</span><span class=p>(</span><span class=n>st</span><span class=p>);</span>
</span><span id=__span-3-92><span class=w>    </span><span class=c1>// 确保栈不为空</span>
</span><span id=__span-3-93><span class=w>    </span><span class=n>assert</span><span class=p>(</span><span class=o>!</span><span class=n>STEmpty</span><span class=p>(</span><span class=n>st</span><span class=p>));</span>
</span><span id=__span-3-94><span class=w>    </span><span class=c1>// top为栈内数据的下一个位置，要获取当前位置的元素需要-1操作</span>
</span><span id=__span-3-95><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=n>st</span><span class=o>-&gt;</span><span class=n>data</span><span class=p>[</span><span class=n>st</span><span class=o>-&gt;</span><span class=n>top</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=mi>1</span><span class=p>];</span>
</span><span id=__span-3-96><span class=p>}</span>
</span><span id=__span-3-97>
</span><span id=__span-3-98><span class=kt>int</span><span class=w> </span><span class=nf>evalRPN</span><span class=p>(</span><span class=kt>char</span><span class=o>**</span><span class=w> </span><span class=n>tokens</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>tokensSize</span><span class=p>)</span><span class=w> </span>
</span><span id=__span-3-99><span class=p>{</span>
</span><span id=__span-3-100><span class=w>    </span><span class=n>ST</span><span class=w> </span><span class=n>st</span><span class=p>;</span>
</span><span id=__span-3-101><span class=w>    </span><span class=n>STInit</span><span class=p>(</span><span class=o>&amp;</span><span class=n>st</span><span class=p>);</span>
</span><span id=__span-3-102>
</span><span id=__span-3-103><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>tokensSize</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=o>++</span><span class=p>)</span>
</span><span id=__span-3-104><span class=w>    </span><span class=p>{</span>
</span><span id=__span-3-105><span class=w>        </span><span class=c1>//当遇到操作数时进栈</span>
</span><span id=__span-3-106><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(((</span><span class=n>strcmp</span><span class=p>(</span><span class=n>tokens</span><span class=p>[</span><span class=n>i</span><span class=p>],</span><span class=w> </span><span class=s>&quot;+&quot;</span><span class=p>)</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=mi>0</span><span class=p>)</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=p>(</span><span class=n>strcmp</span><span class=p>(</span><span class=n>tokens</span><span class=p>[</span><span class=n>i</span><span class=p>],</span><span class=w> </span><span class=s>&quot;-&quot;</span><span class=p>)</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=mi>0</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=n>atoi</span><span class=p>(</span><span class=n>tokens</span><span class=p>[</span><span class=n>i</span><span class=p>])</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=mi>0</span><span class=p>)</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=p>(</span><span class=n>strcmp</span><span class=p>(</span><span class=n>tokens</span><span class=p>[</span><span class=n>i</span><span class=p>],</span><span class=w> </span><span class=s>&quot;*&quot;</span><span class=p>)</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=mi>0</span><span class=p>)</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=p>(</span><span class=n>strcmp</span><span class=p>(</span><span class=n>tokens</span><span class=p>[</span><span class=n>i</span><span class=p>],</span><span class=w> </span><span class=s>&quot;/&quot;</span><span class=p>)</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=mi>0</span><span class=p>))</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=mi>2</span><span class=p>)</span>
</span><span id=__span-3-107><span class=w>            </span><span class=n>STPush</span><span class=p>(</span><span class=o>&amp;</span><span class=n>st</span><span class=p>,</span><span class=w> </span><span class=n>atoi</span><span class=p>(</span><span class=n>tokens</span><span class=p>[</span><span class=n>i</span><span class=p>]));</span>
</span><span id=__span-3-108><span class=w>        </span><span class=k>else</span>
</span><span id=__span-3-109><span class=w>        </span><span class=p>{</span>
</span><span id=__span-3-110><span class=w>            </span><span class=c1>//当遇到操作符时出栈运算</span>
</span><span id=__span-3-111><span class=w>            </span><span class=kt>int</span><span class=w> </span><span class=n>num1</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>STTop</span><span class=p>(</span><span class=o>&amp;</span><span class=n>st</span><span class=p>);</span>
</span><span id=__span-3-112><span class=w>            </span><span class=n>STPop</span><span class=p>(</span><span class=o>&amp;</span><span class=n>st</span><span class=p>);</span>
</span><span id=__span-3-113><span class=w>            </span><span class=kt>int</span><span class=w> </span><span class=n>num2</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>STTop</span><span class=p>(</span><span class=o>&amp;</span><span class=n>st</span><span class=p>);</span>
</span><span id=__span-3-114><span class=w>            </span><span class=n>STPop</span><span class=p>(</span><span class=o>&amp;</span><span class=n>st</span><span class=p>);</span>
</span><span id=__span-3-115>
</span><span id=__span-3-116><span class=w>            </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>strcmp</span><span class=p>(</span><span class=n>tokens</span><span class=p>[</span><span class=n>i</span><span class=p>],</span><span class=w> </span><span class=s>&quot;+&quot;</span><span class=p>)</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=mi>0</span><span class=p>)</span>
</span><span id=__span-3-117><span class=w>                </span><span class=n>STPush</span><span class=p>(</span><span class=o>&amp;</span><span class=n>st</span><span class=p>,</span><span class=w> </span><span class=p>(</span><span class=n>num2</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>num1</span><span class=p>));</span>
</span><span id=__span-3-118>
</span><span id=__span-3-119><span class=w>            </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>strcmp</span><span class=p>(</span><span class=n>tokens</span><span class=p>[</span><span class=n>i</span><span class=p>],</span><span class=w> </span><span class=s>&quot;-&quot;</span><span class=p>)</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=mi>0</span><span class=p>)</span>
</span><span id=__span-3-120><span class=w>                </span><span class=n>STPush</span><span class=p>(</span><span class=o>&amp;</span><span class=n>st</span><span class=p>,</span><span class=w> </span><span class=p>(</span><span class=n>num2</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=n>num1</span><span class=p>));</span>
</span><span id=__span-3-121>
</span><span id=__span-3-122><span class=w>            </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>strcmp</span><span class=p>(</span><span class=n>tokens</span><span class=p>[</span><span class=n>i</span><span class=p>],</span><span class=w> </span><span class=s>&quot;*&quot;</span><span class=p>)</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=mi>0</span><span class=p>)</span>
</span><span id=__span-3-123><span class=w>                </span><span class=n>STPush</span><span class=p>(</span><span class=o>&amp;</span><span class=n>st</span><span class=p>,</span><span class=w> </span><span class=p>(</span><span class=n>num2</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=n>num1</span><span class=p>));</span>
</span><span id=__span-3-124>
</span><span id=__span-3-125><span class=w>            </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>strcmp</span><span class=p>(</span><span class=n>tokens</span><span class=p>[</span><span class=n>i</span><span class=p>],</span><span class=w> </span><span class=s>&quot;/&quot;</span><span class=p>)</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=mi>0</span><span class=p>)</span>
</span><span id=__span-3-126><span class=w>                </span><span class=n>STPush</span><span class=p>(</span><span class=o>&amp;</span><span class=n>st</span><span class=p>,</span><span class=w> </span><span class=p>(</span><span class=n>num2</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=n>num1</span><span class=p>));</span>
</span><span id=__span-3-127><span class=w>        </span><span class=p>}</span>
</span><span id=__span-3-128><span class=w>    </span><span class=p>}</span>
</span><span id=__span-3-129><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>ans</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>STTop</span><span class=p>(</span><span class=o>&amp;</span><span class=n>st</span><span class=p>);</span>
</span><span id=__span-3-130><span class=w>    </span><span class=n>STPop</span><span class=p>(</span><span class=o>&amp;</span><span class=n>st</span><span class=p>);</span>
</span><span id=__span-3-131><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=n>ans</span><span class=p>;</span>
</span><span id=__span-3-132><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> </div> <div class=tabbed-block> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-4-1><span class=k>class</span><span class=w> </span><span class=nc>Solution</span><span class=w> </span>
</span><span id=__span-4-2><span class=p>{</span>
</span><span id=__span-4-3><span class=k>public</span><span class=o>:</span>
</span><span id=__span-4-4><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>evalRPN</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=n>string</span><span class=o>&gt;&amp;</span><span class=w> </span><span class=n>tokens</span><span class=p>)</span><span class=w> </span>
</span><span id=__span-4-5><span class=w>    </span><span class=p>{</span>
</span><span id=__span-4-6><span class=w>        </span><span class=n>stack</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span><span class=w> </span><span class=n>st</span><span class=p>;</span>
</span><span id=__span-4-7><span class=w>        </span><span class=k>for</span><span class=p>(</span><span class=k>auto</span><span class=o>&amp;</span><span class=w> </span><span class=n>val</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=n>tokens</span><span class=p>)</span>
</span><span id=__span-4-8><span class=w>        </span><span class=p>{</span>
</span><span id=__span-4-9><span class=w>            </span><span class=c1>//不是操作符进行入栈操作</span>
</span><span id=__span-4-10><span class=w>            </span><span class=k>if</span><span class=p>(</span><span class=n>val</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=s>&quot;+&quot;</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=n>val</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=s>&quot;-&quot;</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=n>val</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=s>&quot;*&quot;</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=n>val</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=s>&quot;/&quot;</span><span class=p>)</span>
</span><span id=__span-4-11><span class=w>                </span><span class=n>st</span><span class=p>.</span><span class=n>push</span><span class=p>(</span><span class=n>stoi</span><span class=p>(</span><span class=n>val</span><span class=p>));</span>
</span><span id=__span-4-12><span class=w>                </span><span class=c1>//也可以写成下面的方式</span>
</span><span id=__span-4-13><span class=w>                </span><span class=c1>//注意atoi接收的是C类型的字符串</span>
</span><span id=__span-4-14><span class=w>                </span><span class=c1>//st.push(atoi(val.c_str()));</span>
</span><span id=__span-4-15><span class=w>            </span><span class=k>else</span>
</span><span id=__span-4-16><span class=w>            </span><span class=p>{</span>
</span><span id=__span-4-17><span class=w>                </span><span class=c1>//当遇到操作符时取数值</span>
</span><span id=__span-4-18><span class=w>                </span><span class=kt>int</span><span class=w> </span><span class=n>num1</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>st</span><span class=p>.</span><span class=n>top</span><span class=p>();</span>
</span><span id=__span-4-19><span class=w>                </span><span class=n>st</span><span class=p>.</span><span class=n>pop</span><span class=p>();</span>
</span><span id=__span-4-20><span class=w>                </span><span class=kt>int</span><span class=w> </span><span class=n>num2</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>st</span><span class=p>.</span><span class=n>top</span><span class=p>();</span>
</span><span id=__span-4-21><span class=w>                </span><span class=n>st</span><span class=p>.</span><span class=n>pop</span><span class=p>();</span>
</span><span id=__span-4-22>
</span><span id=__span-4-23><span class=w>                </span><span class=c1>//判断计算方式</span>
</span><span id=__span-4-24><span class=w>                </span><span class=k>if</span><span class=p>(</span><span class=n>val</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s>&quot;+&quot;</span><span class=p>)</span>
</span><span id=__span-4-25><span class=w>                    </span><span class=n>st</span><span class=p>.</span><span class=n>push</span><span class=p>(</span><span class=n>num2</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>num1</span><span class=p>);</span>
</span><span id=__span-4-26><span class=w>                </span><span class=k>else</span><span class=w> </span><span class=k>if</span><span class=p>(</span><span class=n>val</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s>&quot;-&quot;</span><span class=p>)</span>
</span><span id=__span-4-27><span class=w>                    </span><span class=n>st</span><span class=p>.</span><span class=n>push</span><span class=p>(</span><span class=n>num2</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=n>num1</span><span class=p>);</span>
</span><span id=__span-4-28><span class=w>                </span><span class=k>else</span><span class=w> </span><span class=k>if</span><span class=p>(</span><span class=n>val</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s>&quot;*&quot;</span><span class=p>)</span>
</span><span id=__span-4-29><span class=w>                    </span><span class=n>st</span><span class=p>.</span><span class=n>push</span><span class=p>(</span><span class=n>num2</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=n>num1</span><span class=p>);</span>
</span><span id=__span-4-30><span class=w>                </span><span class=k>else</span>
</span><span id=__span-4-31><span class=w>                    </span><span class=n>st</span><span class=p>.</span><span class=n>push</span><span class=p>(</span><span class=n>num2</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=n>num1</span><span class=p>);</span>
</span><span id=__span-4-32><span class=w>            </span><span class=p>}</span>
</span><span id=__span-4-33><span class=w>        </span><span class=p>}</span>
</span><span id=__span-4-34><span class=w>        </span><span class=kt>int</span><span class=w> </span><span class=n>ret</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>st</span><span class=p>.</span><span class=n>top</span><span class=p>();</span>
</span><span id=__span-4-35><span class=w>        </span><span class=n>st</span><span class=p>.</span><span class=n>pop</span><span class=p>();</span>
</span><span id=__span-4-36><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>ret</span><span class=p>;</span>
</span><span id=__span-4-37><span class=w>    </span><span class=p>}</span>
</span><span id=__span-4-38><span class=p>};</span>
</span></code></pre></div></td></tr></table></div> </div> <div class=tabbed-block> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-5-1><span class=k>class</span><span class=w> </span><span class=nc>Solution</span><span class=w> </span>
</span><span id=__span-5-2><span class=p>{</span>
</span><span id=__span-5-3><span class=k>public</span><span class=o>:</span>
</span><span id=__span-5-4><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>evalRPN</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=n>string</span><span class=o>&gt;&amp;</span><span class=w> </span><span class=n>tokens</span><span class=p>)</span><span class=w> </span>
</span><span id=__span-5-5><span class=w>    </span><span class=p>{</span>
</span><span id=__span-5-6><span class=w>        </span><span class=n>stack</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span><span class=w> </span><span class=n>st</span><span class=p>;</span>
</span><span id=__span-5-7><span class=w>        </span><span class=c1>// 使用map和Lambda表达式对操作符和运算进行映射</span>
</span><span id=__span-5-8><span class=w>        </span><span class=n>map</span><span class=o>&lt;</span><span class=n>string</span><span class=p>,</span><span class=w> </span><span class=n>function</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>(</span><span class=kt>int</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=p>)</span><span class=o>&gt;&gt;</span><span class=w> </span><span class=n>m</span>
</span><span id=__span-5-9><span class=w>        </span><span class=p>{</span>
</span><span id=__span-5-10><span class=w>            </span><span class=p>{</span><span class=s>&quot;+&quot;</span><span class=p>,</span><span class=w> </span><span class=p>[](</span><span class=kt>int</span><span class=w> </span><span class=n>a</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>b</span><span class=p>){</span><span class=k>return</span><span class=w> </span><span class=n>a</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>b</span><span class=p>;}},</span>
</span><span id=__span-5-11><span class=w>            </span><span class=p>{</span><span class=s>&quot;-&quot;</span><span class=p>,</span><span class=w> </span><span class=p>[](</span><span class=kt>int</span><span class=w> </span><span class=n>a</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>b</span><span class=p>){</span><span class=k>return</span><span class=w> </span><span class=n>a</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=n>b</span><span class=p>;}},</span>
</span><span id=__span-5-12><span class=w>            </span><span class=p>{</span><span class=s>&quot;/&quot;</span><span class=p>,</span><span class=w> </span><span class=p>[](</span><span class=kt>int</span><span class=w> </span><span class=n>a</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>b</span><span class=p>){</span><span class=k>return</span><span class=w> </span><span class=n>a</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=n>b</span><span class=p>;}},</span>
</span><span id=__span-5-13><span class=w>            </span><span class=p>{</span><span class=s>&quot;*&quot;</span><span class=p>,</span><span class=w> </span><span class=p>[](</span><span class=kt>int</span><span class=w> </span><span class=n>a</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>b</span><span class=p>){</span><span class=k>return</span><span class=w> </span><span class=n>a</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=n>b</span><span class=p>;}}</span>
</span><span id=__span-5-14><span class=w>        </span><span class=p>};</span>
</span><span id=__span-5-15>
</span><span id=__span-5-16><span class=w>        </span><span class=k>for</span><span class=p>(</span><span class=k>auto</span><span class=o>&amp;</span><span class=w> </span><span class=n>str</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=n>tokens</span><span class=p>)</span>
</span><span id=__span-5-17><span class=w>        </span><span class=p>{</span>
</span><span id=__span-5-18><span class=w>            </span><span class=k>if</span><span class=p>(</span><span class=n>m</span><span class=p>.</span><span class=n>count</span><span class=p>(</span><span class=n>str</span><span class=p>))</span>
</span><span id=__span-5-19><span class=w>            </span><span class=p>{</span>
</span><span id=__span-5-20><span class=w>                </span><span class=c1>// 操作符取出操作数计算</span>
</span><span id=__span-5-21><span class=w>                </span><span class=kt>int</span><span class=w> </span><span class=n>right</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>st</span><span class=p>.</span><span class=n>top</span><span class=p>();</span>
</span><span id=__span-5-22><span class=w>                </span><span class=n>st</span><span class=p>.</span><span class=n>pop</span><span class=p>();</span>
</span><span id=__span-5-23><span class=w>                </span><span class=kt>int</span><span class=w> </span><span class=n>left</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>st</span><span class=p>.</span><span class=n>top</span><span class=p>();</span>
</span><span id=__span-5-24><span class=w>                </span><span class=n>st</span><span class=p>.</span><span class=n>pop</span><span class=p>();</span>
</span><span id=__span-5-25><span class=w>                </span><span class=c1>// 使用包装器计算</span>
</span><span id=__span-5-26><span class=w>                </span><span class=kt>int</span><span class=w> </span><span class=n>ans</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>m</span><span class=p>[</span><span class=n>str</span><span class=p>](</span><span class=n>left</span><span class=p>,</span><span class=w> </span><span class=n>right</span><span class=p>);</span>
</span><span id=__span-5-27><span class=w>                </span><span class=n>st</span><span class=p>.</span><span class=n>push</span><span class=p>(</span><span class=n>ans</span><span class=p>);</span>
</span><span id=__span-5-28><span class=w>            </span><span class=p>}</span>
</span><span id=__span-5-29><span class=w>            </span><span class=k>else</span>
</span><span id=__span-5-30><span class=w>                </span><span class=n>st</span><span class=p>.</span><span class=n>push</span><span class=p>(</span><span class=n>stoi</span><span class=p>(</span><span class=n>str</span><span class=p>));</span>
</span><span id=__span-5-31><span class=w>        </span><span class=p>}</span>
</span><span id=__span-5-32>
</span><span id=__span-5-33><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>st</span><span class=p>.</span><span class=n>top</span><span class=p>();</span>
</span><span id=__span-5-34><span class=w>    </span><span class=p>}</span>
</span><span id=__span-5-35><span class=p>};</span>
</span></code></pre></div></td></tr></table></div> </div> </div> </div> <h2 id=_7>中缀表达式转后缀表达式（了解思路）<a class=headerlink href=#_7 title="Permanent link">&para;</a></h2> <p>前面介绍了后缀表达式如何转中缀表达式，那么思考一下中缀表达式如何转后缀表达式</p> <p>以下面的两个中缀表达式为例</p> <ol> <li> <p>不带括号的中缀表达式</p> <p><div style="background-color: lightgrey">2 + 3 * 4 - 5 / 6</div></p> </li> <li> <p>带括号的中缀表达式</p> <p><div style="background-color: lightgrey">2 + 3 * (3 + 4 - 5) / 6</div></p> </li> </ol> <p>转后缀表达式基本思路与后缀表达式大体思路相反：</p> <ol> <li>当遇到操作符时，操作符进栈</li> <li>当遇到操作数时取操作符进行运算</li> </ol> <p>但是需要考虑到下面的问题：</p> <ol> <li>运算符优先级，什么时候该取操作符进行计算（不是单单遇到操作数就取操作符进行计算）</li> <li>遇到括号需要提升优先级时应该如何处理</li> </ol> <p>对于上面的两个问题提出两种解决方案：</p> <ol> <li>处理运算符优先级时遵循两个原则<ol> <li>栈为空时，直接进操作符</li> <li>栈不为空时，如果即将进入的操作符比当前栈内的操作符优先级高，那么就让该操作符进栈，而不是取操作符进行计算；如果即将进入的操作符比当前栈内的操作符优先级低或者相等，那么就可以让栈内当前操作符出栈进行计算，再让遇到的操作符进栈</li> </ol> </li> <li>遇到括号需要提升优先级可以采用递归子问题的方式解决，第一个原因是因为再递归中可以重现开辟一个栈，这个栈只需要存储当前括号内的操作符即可，第二个原因是因为括号内的表达式可以看作一个新的计算式，这个新的计算式也包括对应的运算符优先级，所以本质还是走第一个方案</li> </ol> <p>具体分析如下图所示</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>进行分析前的前置知识：</p> <p>一个操作符的优先级不是由该操作符本身决定的，而应该是由相邻的操作符彼此直接优先级等级决定的。例如对于等式<code>2+3*4</code>，当计算时根据从左往右计算的规则，第一个看到的操作符是<code>+</code>，但是此时并不能进行计算，需要确定后面紧接的操作符是否比当前的<code>+</code>优先级高，很明显，<code>*</code>的优先级会高于<code>+</code>号，但是现在也不可以进行计算，因为<code>*</code>的操作符优先级的确比<code>+</code>高，但是并不确定紧挨着<code>*</code>的操作符的优先级是否比<code>*</code>高，接下来看<code>*</code>后面的操作符优先级，但是由于此时走到了算式结尾，所以现在可以确定<code>*</code>可以开始计算，当<code>*</code>计算完毕后则开始计算<code>+</code></p> </div> <ul> <li>考虑不带括号的计算式</li> </ul> <p><a class=glightbox href=波兰表达式与逆波兰表达式.assets\image1.png data-type=image data-width=100% data-height=auto data-desc-position=bottom><img src=波兰表达式与逆波兰表达式.assets\image1.png></a></p> <p>基本思路实现代码：</p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span>
<span class=normal>39</span>
<span class=normal>40</span>
<span class=normal>41</span>
<span class=normal>42</span>
<span class=normal>43</span>
<span class=normal>44</span>
<span class=normal>45</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-6-1><span class=k>class</span><span class=w> </span><span class=nc>solution</span>
</span><span id=__span-6-2><span class=p>{</span>
</span><span id=__span-6-3><span class=k>public</span><span class=o>:</span>
</span><span id=__span-6-4><span class=w>    </span><span class=c1>//获取当前运算符优先级</span>
</span><span id=__span-6-5><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>getPriority</span><span class=p>(</span><span class=n>string</span><span class=o>&amp;</span><span class=w> </span><span class=n>s1</span><span class=p>,</span><span class=w> </span><span class=n>string</span><span class=o>&amp;</span><span class=w> </span><span class=n>top</span><span class=p>)</span>
</span><span id=__span-6-6><span class=w>    </span><span class=p>{</span>
</span><span id=__span-6-7><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>((</span><span class=n>s1</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s>&quot;*&quot;</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>s1</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s>&quot;/&quot;</span><span class=p>)</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=p>(</span><span class=n>top</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s>&quot;+&quot;</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>top</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s>&quot;-&quot;</span><span class=p>))</span>
</span><span id=__span-6-8><span class=w>            </span><span class=k>return</span><span class=w> </span><span class=mi>1</span><span class=p>;</span>
</span><span id=__span-6-9>
</span><span id=__span-6-10><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-6-11><span class=w>    </span><span class=p>}</span>
</span><span id=__span-6-12>
</span><span id=__span-6-13><span class=w>    </span><span class=c1>//不带括号的中缀表达式转后缀表达式_直接打印后序遍历</span>
</span><span id=__span-6-14><span class=w>    </span><span class=kt>void</span><span class=w> </span><span class=n>MiddleExpreToRpnNonbraces</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=n>string</span><span class=o>&gt;&amp;</span><span class=w> </span><span class=n>v</span><span class=p>)</span>
</span><span id=__span-6-15><span class=w>    </span><span class=p>{</span>
</span><span id=__span-6-16><span class=w>        </span><span class=n>stack</span><span class=o>&lt;</span><span class=n>string</span><span class=o>&gt;</span><span class=w> </span><span class=n>s</span><span class=p>;</span>
</span><span id=__span-6-17><span class=w>        </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=k>auto</span><span class=o>&amp;</span><span class=w> </span><span class=n>str</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=n>v</span><span class=p>)</span>
</span><span id=__span-6-18><span class=w>        </span><span class=p>{</span>
</span><span id=__span-6-19><span class=w>            </span><span class=c1>//操作符处理</span>
</span><span id=__span-6-20><span class=w>            </span><span class=k>if</span><span class=w> </span><span class=p>((</span><span class=n>str</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s>&quot;/&quot;</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>str</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s>&quot;*&quot;</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>str</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s>&quot;-&quot;</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>str</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s>&quot;+&quot;</span><span class=p>)</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=p>(</span><span class=n>s</span><span class=p>.</span><span class=n>empty</span><span class=p>()</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>getPriority</span><span class=p>(</span><span class=n>str</span><span class=p>,</span><span class=w> </span><span class=n>s</span><span class=p>.</span><span class=n>top</span><span class=p>())))</span>
</span><span id=__span-6-21><span class=w>                </span><span class=n>s</span><span class=p>.</span><span class=n>push</span><span class=p>(</span><span class=n>str</span><span class=p>);</span>
</span><span id=__span-6-22><span class=w>            </span><span class=k>else</span>
</span><span id=__span-6-23><span class=w>            </span><span class=p>{</span>
</span><span id=__span-6-24><span class=w>                </span><span class=c1>//可能存在当前操作符优先级小于栈顶操作符，出一次操作符后的栈顶操作符可能和当前操作符优先级相同，判断不止一次不能用if</span>
</span><span id=__span-6-25><span class=w>                </span><span class=k>while</span><span class=w> </span><span class=p>(</span><span class=o>!</span><span class=n>s</span><span class=p>.</span><span class=n>empty</span><span class=p>()</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=p>(</span><span class=n>str</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s>&quot;/&quot;</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>str</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s>&quot;*&quot;</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>str</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s>&quot;-&quot;</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>str</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s>&quot;+&quot;</span><span class=p>)</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=o>!</span><span class=n>getPriority</span><span class=p>(</span><span class=n>str</span><span class=p>,</span><span class=w> </span><span class=n>s</span><span class=p>.</span><span class=n>top</span><span class=p>()))</span>
</span><span id=__span-6-26><span class=w>                </span><span class=p>{</span>
</span><span id=__span-6-27><span class=w>                    </span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>s</span><span class=p>.</span><span class=n>top</span><span class=p>()</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot; &quot;</span><span class=p>;</span>
</span><span id=__span-6-28><span class=w>                    </span><span class=n>s</span><span class=p>.</span><span class=n>pop</span><span class=p>();</span>
</span><span id=__span-6-29><span class=w>                </span><span class=p>}</span>
</span><span id=__span-6-30><span class=w>                </span><span class=c1>//如果出现优先级相同的时候可能栈内数据全部出完，此时需要重新进一次数据</span>
</span><span id=__span-6-31><span class=w>                </span><span class=k>if</span><span class=p>((</span><span class=n>str</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s>&quot;/&quot;</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>str</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s>&quot;*&quot;</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>str</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s>&quot;-&quot;</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>str</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s>&quot;+&quot;</span><span class=p>)</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=n>s</span><span class=p>.</span><span class=n>empty</span><span class=p>())</span>
</span><span id=__span-6-32><span class=w>                    </span><span class=n>s</span><span class=p>.</span><span class=n>push</span><span class=p>(</span><span class=n>str</span><span class=p>);</span>
</span><span id=__span-6-33><span class=w>                </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=o>!</span><span class=p>(</span><span class=n>str</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s>&quot;/&quot;</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>str</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s>&quot;*&quot;</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>str</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s>&quot;-&quot;</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>str</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s>&quot;+&quot;</span><span class=p>))</span>
</span><span id=__span-6-34><span class=w>                    </span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>str</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot; &quot;</span><span class=p>;</span>
</span><span id=__span-6-35><span class=w>            </span><span class=p>}</span>
</span><span id=__span-6-36><span class=w>        </span><span class=p>}</span>
</span><span id=__span-6-37>
</span><span id=__span-6-38><span class=w>        </span><span class=c1>//栈内此时肯定还有操作符，所以需要依次弹出</span>
</span><span id=__span-6-39><span class=w>        </span><span class=k>while</span><span class=w> </span><span class=p>(</span><span class=o>!</span><span class=n>s</span><span class=p>.</span><span class=n>empty</span><span class=p>())</span>
</span><span id=__span-6-40><span class=w>        </span><span class=p>{</span>
</span><span id=__span-6-41><span class=w>            </span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>s</span><span class=p>.</span><span class=n>top</span><span class=p>()</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot; &quot;</span><span class=p>;</span>
</span><span id=__span-6-42><span class=w>            </span><span class=n>s</span><span class=p>.</span><span class=n>pop</span><span class=p>();</span>
</span><span id=__span-6-43><span class=w>        </span><span class=p>}</span>
</span><span id=__span-6-44><span class=w>    </span><span class=p>}</span>
</span><span id=__span-6-45><span class=p>};</span>
</span></code></pre></div></td></tr></table></div> <div class="admonition tip"> <p class=admonition-title>Tip</p> <p>上面的思路为基本的思路，但是存在一种优化思路，因为不考虑括号时，一共就4个操作符，而这四个操作符只存在<code>*</code>和<code>/</code>比<code>+</code>和<code>-</code>优先级高，所以当前元素为<code>*</code>或<code>/</code>时即可取出进行计算</p> </div> <p>优化后的代码：</p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span>
<span class=normal>39</span>
<span class=normal>40</span>
<span class=normal>41</span>
<span class=normal>42</span>
<span class=normal>43</span>
<span class=normal>44</span>
<span class=normal>45</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-7-1><span class=k>class</span><span class=w> </span><span class=nc>solution</span>
</span><span id=__span-7-2><span class=p>{</span>
</span><span id=__span-7-3><span class=k>public</span><span class=o>:</span>
</span><span id=__span-7-4><span class=w>    </span><span class=c1>//获取当前运算符优先级</span>
</span><span id=__span-7-5><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>getPriority</span><span class=p>(</span><span class=n>string</span><span class=o>&amp;</span><span class=w> </span><span class=n>s1</span><span class=p>)</span>
</span><span id=__span-7-6><span class=w>    </span><span class=p>{</span>
</span><span id=__span-7-7><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>s1</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s>&quot;*&quot;</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>s1</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s>&quot;/&quot;</span><span class=p>)</span>
</span><span id=__span-7-8><span class=w>            </span><span class=k>return</span><span class=w> </span><span class=mi>1</span><span class=p>;</span>
</span><span id=__span-7-9>
</span><span id=__span-7-10><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-7-11><span class=w>    </span><span class=p>}</span>
</span><span id=__span-7-12>
</span><span id=__span-7-13><span class=w>    </span><span class=c1>//不带括号的中缀表达式转后缀表达式_直接打印后序遍历</span>
</span><span id=__span-7-14><span class=w>    </span><span class=kt>void</span><span class=w> </span><span class=n>MiddleExpreToRpnNonbraces</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=n>string</span><span class=o>&gt;&amp;</span><span class=w> </span><span class=n>v</span><span class=p>)</span>
</span><span id=__span-7-15><span class=w>    </span><span class=p>{</span>
</span><span id=__span-7-16><span class=w>        </span><span class=n>stack</span><span class=o>&lt;</span><span class=n>string</span><span class=o>&gt;</span><span class=w> </span><span class=n>s</span><span class=p>;</span>
</span><span id=__span-7-17><span class=w>        </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=k>auto</span><span class=o>&amp;</span><span class=w> </span><span class=n>str</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=n>v</span><span class=p>)</span>
</span><span id=__span-7-18><span class=w>        </span><span class=p>{</span>
</span><span id=__span-7-19><span class=w>            </span><span class=c1>//操作符处理</span>
</span><span id=__span-7-20><span class=w>            </span><span class=k>if</span><span class=w> </span><span class=p>((</span><span class=n>str</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s>&quot;/&quot;</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>str</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s>&quot;*&quot;</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>str</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s>&quot;-&quot;</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>str</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s>&quot;+&quot;</span><span class=p>)</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=p>(</span><span class=n>s</span><span class=p>.</span><span class=n>empty</span><span class=p>()</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>getPriority</span><span class=p>(</span><span class=n>str</span><span class=p>)))</span>
</span><span id=__span-7-21><span class=w>                </span><span class=n>s</span><span class=p>.</span><span class=n>push</span><span class=p>(</span><span class=n>str</span><span class=p>);</span>
</span><span id=__span-7-22><span class=w>            </span><span class=k>else</span>
</span><span id=__span-7-23><span class=w>            </span><span class=p>{</span>
</span><span id=__span-7-24><span class=w>                </span><span class=c1>//可能存在当前操作符优先级小于栈顶操作符，出一次操作符后的栈顶操作符可能和当前操作符优先级相同，判断不止一次不能用if</span>
</span><span id=__span-7-25><span class=w>                </span><span class=k>while</span><span class=w> </span><span class=p>(</span><span class=o>!</span><span class=n>s</span><span class=p>.</span><span class=n>empty</span><span class=p>()</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=p>(</span><span class=n>str</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s>&quot;/&quot;</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>str</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s>&quot;*&quot;</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>str</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s>&quot;-&quot;</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>str</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s>&quot;+&quot;</span><span class=p>)</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=o>!</span><span class=n>getPriority</span><span class=p>(</span><span class=n>str</span><span class=p>))</span>
</span><span id=__span-7-26><span class=w>                </span><span class=p>{</span>
</span><span id=__span-7-27><span class=w>                    </span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>s</span><span class=p>.</span><span class=n>top</span><span class=p>()</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot; &quot;</span><span class=p>;</span>
</span><span id=__span-7-28><span class=w>                    </span><span class=n>s</span><span class=p>.</span><span class=n>pop</span><span class=p>();</span>
</span><span id=__span-7-29><span class=w>                </span><span class=p>}</span>
</span><span id=__span-7-30><span class=w>                </span><span class=c1>//如果出现优先级相同的时候可能栈内数据全部出完，此时需要重新进一次数据</span>
</span><span id=__span-7-31><span class=w>                </span><span class=k>if</span><span class=p>((</span><span class=n>str</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s>&quot;/&quot;</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>str</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s>&quot;*&quot;</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>str</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s>&quot;-&quot;</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>str</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s>&quot;+&quot;</span><span class=p>)</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=n>s</span><span class=p>.</span><span class=n>empty</span><span class=p>())</span>
</span><span id=__span-7-32><span class=w>                    </span><span class=n>s</span><span class=p>.</span><span class=n>push</span><span class=p>(</span><span class=n>str</span><span class=p>);</span>
</span><span id=__span-7-33><span class=w>                </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=o>!</span><span class=p>(</span><span class=n>str</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s>&quot;/&quot;</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>str</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s>&quot;*&quot;</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>str</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s>&quot;-&quot;</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>str</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s>&quot;+&quot;</span><span class=p>))</span>
</span><span id=__span-7-34><span class=w>                    </span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>str</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot; &quot;</span><span class=p>;</span>
</span><span id=__span-7-35><span class=w>            </span><span class=p>}</span>
</span><span id=__span-7-36><span class=w>        </span><span class=p>}</span>
</span><span id=__span-7-37>
</span><span id=__span-7-38><span class=w>        </span><span class=c1>//栈内此时肯定还有操作符，所以需要依次弹出</span>
</span><span id=__span-7-39><span class=w>        </span><span class=k>while</span><span class=w> </span><span class=p>(</span><span class=o>!</span><span class=n>s</span><span class=p>.</span><span class=n>empty</span><span class=p>())</span>
</span><span id=__span-7-40><span class=w>        </span><span class=p>{</span>
</span><span id=__span-7-41><span class=w>            </span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>s</span><span class=p>.</span><span class=n>top</span><span class=p>()</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot; &quot;</span><span class=p>;</span>
</span><span id=__span-7-42><span class=w>            </span><span class=n>s</span><span class=p>.</span><span class=n>pop</span><span class=p>();</span>
</span><span id=__span-7-43><span class=w>        </span><span class=p>}</span>
</span><span id=__span-7-44><span class=w>    </span><span class=p>}</span>
</span><span id=__span-7-45><span class=p>};</span>
</span></code></pre></div></td></tr></table></div> <ul> <li>考虑带括号的计算式</li> </ul> <p><a class=glightbox href=波兰表达式与逆波兰表达式.assets\image2.png data-type=image data-width=100% data-height=auto data-desc-position=bottom><img src=波兰表达式与逆波兰表达式.assets\image2.png></a></p> <div class="language-c++ highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>C++</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span>
<span class=normal>39</span>
<span class=normal>40</span>
<span class=normal>41</span>
<span class=normal>42</span>
<span class=normal>43</span>
<span class=normal>44</span>
<span class=normal>45</span>
<span class=normal>46</span>
<span class=normal>47</span>
<span class=normal>48</span>
<span class=normal>49</span>
<span class=normal>50</span>
<span class=normal>51</span>
<span class=normal>52</span>
<span class=normal>53</span>
<span class=normal>54</span>
<span class=normal>55</span>
<span class=normal>56</span>
<span class=normal>57</span>
<span class=normal>58</span>
<span class=normal>59</span>
<span class=normal>60</span>
<span class=normal>61</span>
<span class=normal>62</span>
<span class=normal>63</span>
<span class=normal>64</span>
<span class=normal>65</span>
<span class=normal>66</span>
<span class=normal>67</span>
<span class=normal>68</span>
<span class=normal>69</span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-8-1><span class=k>class</span><span class=w> </span><span class=nc>solution</span>
</span><span id=__span-8-2><span class=p>{</span>
</span><span id=__span-8-3><span class=k>public</span><span class=o>:</span>
</span><span id=__span-8-4><span class=w>    </span><span class=c1>//获取当前运算符优先级</span>
</span><span id=__span-8-5><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>getPriority</span><span class=p>(</span><span class=k>const</span><span class=w> </span><span class=n>string</span><span class=o>&amp;</span><span class=w> </span><span class=n>s1</span><span class=p>,</span><span class=w> </span><span class=k>const</span><span class=w> </span><span class=n>string</span><span class=o>&amp;</span><span class=w> </span><span class=n>top</span><span class=p>)</span>
</span><span id=__span-8-6><span class=w>    </span><span class=p>{</span>
</span><span id=__span-8-7><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(((</span><span class=n>s1</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s>&quot;(&quot;</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=p>(</span><span class=n>top</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s>&quot;*&quot;</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>top</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s>&quot;/&quot;</span><span class=p>)</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=p>(</span><span class=n>top</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=s>&quot;+&quot;</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>top</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=s>&quot;-&quot;</span><span class=p>)))</span>
</span><span id=__span-8-8><span class=w>            </span><span class=o>||</span><span class=w> </span><span class=p>((</span><span class=n>s1</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s>&quot;(&quot;</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=p>(</span><span class=n>top</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=s>&quot;*&quot;</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>top</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=s>&quot;/&quot;</span><span class=p>)</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=p>(</span><span class=n>top</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s>&quot;+&quot;</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>top</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s>&quot;-&quot;</span><span class=p>)))</span>
</span><span id=__span-8-9><span class=w>            </span><span class=o>||</span><span class=w> </span><span class=p>(</span><span class=n>s1</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=s>&quot;(&quot;</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=p>(</span><span class=n>s1</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s>&quot;*&quot;</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>s1</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s>&quot;/&quot;</span><span class=p>)</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=p>(</span><span class=n>top</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s>&quot;+&quot;</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>top</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s>&quot;-&quot;</span><span class=p>)))</span>
</span><span id=__span-8-10><span class=w>            </span><span class=k>return</span><span class=w> </span><span class=mi>1</span><span class=p>;</span>
</span><span id=__span-8-11>
</span><span id=__span-8-12><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-8-13><span class=w>    </span><span class=p>}</span>
</span><span id=__span-8-14>
</span><span id=__span-8-15><span class=w>    </span><span class=c1>//带括号的中缀表达式转后缀表达式_直接打印后序遍历</span>
</span><span id=__span-8-16><span class=w>    </span><span class=kt>void</span><span class=w> </span><span class=n>MiddleExpreToRpn</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=n>string</span><span class=o>&gt;&amp;</span><span class=w> </span><span class=n>v</span><span class=p>,</span><span class=w> </span><span class=kt>size_t</span><span class=o>&amp;</span><span class=w> </span><span class=n>i</span><span class=p>)</span>
</span><span id=__span-8-17><span class=w>    </span><span class=p>{</span>
</span><span id=__span-8-18><span class=w>        </span><span class=n>stack</span><span class=o>&lt;</span><span class=n>string</span><span class=o>&gt;</span><span class=w> </span><span class=n>s</span><span class=p>;</span>
</span><span id=__span-8-19><span class=w>        </span><span class=k>for</span><span class=w> </span><span class=p>(;</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>v</span><span class=p>.</span><span class=n>size</span><span class=p>();</span><span class=w> </span><span class=n>i</span><span class=o>++</span><span class=p>)</span>
</span><span id=__span-8-20><span class=w>        </span><span class=p>{</span>
</span><span id=__span-8-21><span class=w>            </span><span class=c1>//处理操作符</span>
</span><span id=__span-8-22><span class=w>            </span><span class=k>if</span><span class=w> </span><span class=p>((</span><span class=n>v</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s>&quot;/&quot;</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>v</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s>&quot;*&quot;</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>v</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s>&quot;-&quot;</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>v</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s>&quot;+&quot;</span><span class=p>)</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=p>(</span><span class=n>s</span><span class=p>.</span><span class=n>empty</span><span class=p>()</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>getPriority</span><span class=p>(</span><span class=n>v</span><span class=p>[</span><span class=n>i</span><span class=p>],</span><span class=w> </span><span class=n>s</span><span class=p>.</span><span class=n>top</span><span class=p>())))</span>
</span><span id=__span-8-23><span class=w>                </span><span class=n>s</span><span class=p>.</span><span class=n>push</span><span class=p>(</span><span class=n>v</span><span class=p>[</span><span class=n>i</span><span class=p>]);</span>
</span><span id=__span-8-24><span class=w>            </span><span class=c1>//当遇到左括号时</span>
</span><span id=__span-8-25><span class=w>            </span><span class=k>else</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>v</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s>&quot;(&quot;</span><span class=p>)</span><span class=c1>//左括号进入递归操作符栈</span>
</span><span id=__span-8-26><span class=w>            </span><span class=p>{</span>
</span><span id=__span-8-27><span class=w>                </span><span class=n>i</span><span class=o>++</span><span class=p>;</span>
</span><span id=__span-8-28><span class=w>                </span><span class=c1>//需要在递归中同时改变i的值</span>
</span><span id=__span-8-29><span class=w>                </span><span class=n>MiddleExpreToRpn</span><span class=p>(</span><span class=n>v</span><span class=p>,</span><span class=w> </span><span class=n>i</span><span class=p>);</span>
</span><span id=__span-8-30><span class=w>            </span><span class=p>}</span>
</span><span id=__span-8-31><span class=w>            </span><span class=c1>//当遇到右括号时结束递归</span>
</span><span id=__span-8-32><span class=w>            </span><span class=k>else</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>v</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s>&quot;)&quot;</span><span class=p>)</span>
</span><span id=__span-8-33><span class=w>            </span><span class=p>{</span>
</span><span id=__span-8-34><span class=w>                </span><span class=c1>//结束递归前需要对栈内操作符进行处理</span>
</span><span id=__span-8-35><span class=w>                </span><span class=k>while</span><span class=w> </span><span class=p>(</span><span class=o>!</span><span class=n>s</span><span class=p>.</span><span class=n>empty</span><span class=p>())</span>
</span><span id=__span-8-36><span class=w>                </span><span class=p>{</span>
</span><span id=__span-8-37><span class=w>                    </span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>s</span><span class=p>.</span><span class=n>top</span><span class=p>()</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot; &quot;</span><span class=p>;</span>
</span><span id=__span-8-38><span class=w>                    </span><span class=n>s</span><span class=p>.</span><span class=n>pop</span><span class=p>();</span>
</span><span id=__span-8-39><span class=w>                </span><span class=p>}</span>
</span><span id=__span-8-40>
</span><span id=__span-8-41><span class=w>                </span><span class=k>return</span><span class=p>;</span>
</span><span id=__span-8-42><span class=w>            </span><span class=p>}</span>
</span><span id=__span-8-43><span class=w>            </span><span class=k>else</span>
</span><span id=__span-8-44><span class=w>            </span><span class=p>{</span>
</span><span id=__span-8-45><span class=w>                </span><span class=c1>//可能存在当前操作符优先级小于栈顶操作符，出一次操作符后的栈顶操作符可能和当前操作符优先级相同，判断不止一次不能用if</span>
</span><span id=__span-8-46><span class=w>                </span><span class=k>while</span><span class=w> </span><span class=p>(</span><span class=o>!</span><span class=n>s</span><span class=p>.</span><span class=n>empty</span><span class=p>()</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=p>(</span><span class=n>v</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s>&quot;/&quot;</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>v</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s>&quot;*&quot;</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>v</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s>&quot;-&quot;</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>v</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s>&quot;+&quot;</span><span class=p>)</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=o>!</span><span class=n>getPriority</span><span class=p>(</span><span class=n>v</span><span class=p>[</span><span class=n>i</span><span class=p>],</span><span class=w> </span><span class=n>s</span><span class=p>.</span><span class=n>top</span><span class=p>()))</span>
</span><span id=__span-8-47><span class=w>                </span><span class=p>{</span>
</span><span id=__span-8-48><span class=w>                    </span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>s</span><span class=p>.</span><span class=n>top</span><span class=p>()</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot; &quot;</span><span class=p>;</span>
</span><span id=__span-8-49><span class=w>                    </span><span class=n>s</span><span class=p>.</span><span class=n>pop</span><span class=p>();</span>
</span><span id=__span-8-50><span class=w>                </span><span class=p>}</span>
</span><span id=__span-8-51><span class=w>                </span><span class=c1>//如果出现优先级相同的时候可能栈内数据全部出完，此时需要重新进一次数据</span>
</span><span id=__span-8-52><span class=w>                </span><span class=k>if</span><span class=w> </span><span class=p>((</span><span class=n>v</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s>&quot;/&quot;</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>v</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s>&quot;*&quot;</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>v</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s>&quot;-&quot;</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>v</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s>&quot;+&quot;</span><span class=p>)</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=n>s</span><span class=p>.</span><span class=n>empty</span><span class=p>())</span>
</span><span id=__span-8-53><span class=w>                    </span><span class=n>s</span><span class=p>.</span><span class=n>push</span><span class=p>(</span><span class=n>v</span><span class=p>[</span><span class=n>i</span><span class=p>]);</span>
</span><span id=__span-8-54><span class=w>                </span><span class=c1>//可能存在一个操作符优先级高于当前栈顶的操作符</span>
</span><span id=__span-8-55><span class=w>                </span><span class=k>if</span><span class=w> </span><span class=p>((</span><span class=n>v</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s>&quot;/&quot;</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>v</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s>&quot;*&quot;</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>v</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s>&quot;-&quot;</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>v</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s>&quot;+&quot;</span><span class=p>)</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=p>(</span><span class=n>s</span><span class=p>.</span><span class=n>empty</span><span class=p>()</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>getPriority</span><span class=p>(</span><span class=n>v</span><span class=p>[</span><span class=n>i</span><span class=p>],</span><span class=w> </span><span class=n>s</span><span class=p>.</span><span class=n>top</span><span class=p>())))</span>
</span><span id=__span-8-56><span class=w>                    </span><span class=n>s</span><span class=p>.</span><span class=n>push</span><span class=p>(</span><span class=n>v</span><span class=p>[</span><span class=n>i</span><span class=p>]);</span>
</span><span id=__span-8-57><span class=w>                </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=o>!</span><span class=p>(</span><span class=n>v</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s>&quot;/&quot;</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>v</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s>&quot;*&quot;</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>v</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s>&quot;-&quot;</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>v</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s>&quot;+&quot;</span><span class=p>))</span>
</span><span id=__span-8-58><span class=w>                    </span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>v</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot; &quot;</span><span class=p>;</span>
</span><span id=__span-8-59><span class=w>            </span><span class=p>}</span>
</span><span id=__span-8-60><span class=w>        </span><span class=p>}</span>
</span><span id=__span-8-61>
</span><span id=__span-8-62><span class=w>        </span><span class=c1>//栈内此时肯定还有操作符，所以需要依次弹出</span>
</span><span id=__span-8-63><span class=w>        </span><span class=k>while</span><span class=w> </span><span class=p>(</span><span class=o>!</span><span class=n>s</span><span class=p>.</span><span class=n>empty</span><span class=p>())</span>
</span><span id=__span-8-64><span class=w>        </span><span class=p>{</span>
</span><span id=__span-8-65><span class=w>            </span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>s</span><span class=p>.</span><span class=n>top</span><span class=p>()</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot; &quot;</span><span class=p>;</span>
</span><span id=__span-8-66><span class=w>            </span><span class=n>s</span><span class=p>.</span><span class=n>pop</span><span class=p>();</span>
</span><span id=__span-8-67><span class=w>        </span><span class=p>}</span>
</span><span id=__span-8-68><span class=w>    </span><span class=p>}</span>
</span><span id=__span-8-69><span class=p>};</span>
</span></code></pre></div></td></tr></table></div> <aside class=md-source-file> <span class=md-source-file__fact> <span class=md-icon title=最后更新> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">2024年12月6日</span> </span> <span class=md-source-file__fact> <span class=md-icon title=创建日期> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">2024年8月10日</span> </span> </aside> <form class=md-feedback name=feedback hidden> <fieldset> <legend class=md-feedback__title> 页面有帮助吗？ </legend> <div class=md-feedback__inner> <div class=md-feedback__list> <button class="md-feedback__icon md-icon" type=submit title=页面对我有帮助 data-md-value=1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M5 9v12H1V9zm4 12a2 2 0 0 1-2-2V9c0-.55.22-1.05.59-1.41L14.17 1l1.06 1.06c.27.27.44.64.44 1.05l-.03.32L14.69 8H21a2 2 0 0 1 2 2v2c0 .26-.05.5-.14.73l-3.02 7.05C19.54 20.5 18.83 21 18 21zm0-2h9.03L21 12v-2h-8.79l1.13-5.32L9 9.03z"/></svg> </button> <button class="md-feedback__icon md-icon" type=submit title=页面没有帮助到我 data-md-value=0> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 15V3h4v12zM15 3a2 2 0 0 1 2 2v10c0 .55-.22 1.05-.59 1.41L9.83 23l-1.06-1.06c-.27-.27-.44-.64-.44-1.06l.03-.31.95-4.57H3a2 2 0 0 1-2-2v-2c0-.26.05-.5.14-.73l3.02-7.05C4.46 3.5 5.17 3 6 3zm0 2H5.97L3 12v2h8.78l-1.13 5.32L15 14.97z"/></svg> </button> </div> <div class=md-feedback__note> <div data-md-value=1 hidden> 谢谢你的反馈！ </div> <div data-md-value=0 hidden> 谢谢你的反馈！联系<a href=https://www.help-doc.top/%E4%BD%9C%E8%80%85/%E4%BD%9C%E8%80%85.html>作者</a>提供更详细的信息 </div> </div> </div> </fieldset> </form> <!-- Waline 评论系统 --> <div class=waline-comments-container> <div class=waline-comments-header> <h3>评论区</h3> <p>欢迎在这里留下你的想法和建议！</p> </div> <div id=waline></div> </div> <!-- Waline CSS --> <link rel=stylesheet href=https://unpkg.com/@waline/client@v3/dist/waline.css> <!-- Waline JavaScript --> <script type=module>
    import { init } from 'https://unpkg.com/@waline/client@v3/dist/waline.js';
    init({
        el: '#waline',
        serverURL: 'https://waline-g9cd3pdxr-mark-watneys-projects-c5945306.vercel.app/',
    });
</script> <style>
.waline-comments-container {
    margin-top: 3rem;
    padding: 2rem 0;
    border-top: 1px solid var(--md-default-fg-color--lightest);
}

.waline-comments-header {
    margin-bottom: 2rem;
    text-align: center;
}

.waline-comments-header h3 {
    margin: 0 0 0.5rem 0;
    font-size: 1.5rem;
    font-weight: 600;
    color: var(--md-default-fg-color);
}

.waline-comments-header p {
    margin: 0;
    color: var(--md-default-fg-color--light);
    font-size: 0.9rem;
}

/* 加载状态 */
.waline-loading {
    text-align: center;
    padding: 2rem;
    color: var(--md-default-fg-color--light);
}

.loading-spinner {
    width: 40px;
    height: 40px;
    border: 3px solid var(--md-default-fg-color--lightest);
    border-top: 3px solid var(--md-primary-fg-color);
    border-radius: 50%;
    animation: spin 1s linear infinite;
    margin: 0 auto 1rem;
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

/* 错误状态 */
.waline-error {
    text-align: center;
    padding: 2rem;
    color: var(--md-default-fg-color--light);
}

.error-icon {
    font-size: 2rem;
    margin-bottom: 1rem;
}

.retry-btn {
    background-color: var(--md-primary-fg-color);
    color: var(--md-primary-bg-color);
    border: none;
    padding: 0.5rem 1rem;
    border-radius: 4px;
    cursor: pointer;
    margin-top: 1rem;
    font-size: 0.9rem;
}

.retry-btn:hover {
    background-color: var(--md-primary-fg-color--dark);
}

.details-btn {
    background-color: transparent;
    color: var(--md-default-fg-color--light);
    border: 1px solid var(--md-default-fg-color--lightest);
    padding: 0.5rem 1rem;
    border-radius: 4px;
    cursor: pointer;
    margin-top: 1rem;
    margin-left: 0.5rem;
    font-size: 0.9rem;
}

.details-btn:hover {
    background-color: var(--md-default-fg-color--lightest);
}

.error-details {
    margin-top: 1rem;
    padding: 1rem;
    background-color: var(--md-default-bg-color);
    border: 1px solid var(--md-default-fg-color--lightest);
    border-radius: 4px;
    text-align: left;
    font-size: 0.85rem;
    line-height: 1.5;
    color: var(--md-default-fg-color--light);
}

/* 适配网站主题色彩 */
.waline-comments-container .wl-panel {
    border-radius: 8px;
    border: 1px solid var(--md-default-fg-color--lightest);
    background-color: var(--md-default-bg-color);
}

.waline-comments-container .wl-editor {
    background-color: var(--md-default-bg-color);
    border: 1px solid var(--md-default-fg-color--lightest);
    border-radius: 6px;
}

.waline-comments-container .wl-input {
    background-color: var(--md-default-bg-color);
    border: 1px solid var(--md-default-fg-color--lightest);
    color: var(--md-default-fg-color);
}

.waline-comments-container .wl-input:focus {
    border-color: var(--md-primary-fg-color);
}

.waline-comments-container .wl-btn {
    background-color: var(--md-primary-fg-color);
    border-color: var(--md-primary-fg-color);
    color: var(--md-primary-bg-color);
}

.waline-comments-container .wl-btn:hover {
    background-color: var(--md-primary-fg-color--dark);
    border-color: var(--md-primary-fg-color--dark);
}

/* 响应式设计 */
@media screen and (max-width: 768px) {
    .waline-comments-container {
        padding: 1.5rem 0;
        margin-top: 2rem;
    }
    
    .waline-comments-header h3 {
        font-size: 1.3rem;
    }
}

/* 暗色主题适配 */
[data-md-color-scheme="slate"] .waline-comments-container {
    border-top-color: var(--md-default-fg-color--lightest);
}

[data-md-color-scheme="slate"] .waline-comments-container .wl-panel {
    background-color: var(--md-default-bg-color);
    border-color: var(--md-default-fg-color--lightest);
}

[data-md-color-scheme="slate"] .waline-comments-container .wl-editor {
    background-color: var(--md-default-bg-color);
    border-color: var(--md-default-fg-color--lightest);
}

[data-md-color-scheme="slate"] .waline-comments-container .wl-input {
    background-color: var(--md-default-bg-color);
    border-color: var(--md-default-fg-color--lightest);
    color: var(--md-default-fg-color);
}

[data-md-color-scheme="slate"] .loading-spinner {
    border-color: var(--md-default-fg-color--lightest);
    border-top-color: var(--md-primary-fg-color);
}

[data-md-color-scheme="slate"] .retry-btn {
    background-color: var(--md-primary-fg-color);
    color: var(--md-primary-bg-color);
}

[data-md-color-scheme="slate"] .details-btn {
    background-color: transparent;
    color: var(--md-default-fg-color--light);
    border-color: var(--md-default-fg-color--lightest);
}

[data-md-color-scheme="slate"] .details-btn:hover {
    background-color: var(--md-default-fg-color--lightest);
}

[data-md-color-scheme="slate"] .error-details {
    background-color: var(--md-default-bg-color);
    border-color: var(--md-default-fg-color--lightest);
    color: var(--md-default-fg-color--light);
}
</style> <!-- 阅读进度条 - 直接在HTML中定义 --> <div class=reading-progress></div> <!-- 滚动指示器 - 直接在HTML中定义 --> <div class=scroll-indicator></div> <!-- 评论系统 - 只在文章页面显示，不在首页和索引页显示 --> <!-- Waline 评论系统 --> <div class=waline-comments-container> <div class=waline-comments-header> <h3>评论区</h3> <p>欢迎在这里留下你的想法和建议！</p> </div> <div id=waline></div> </div> <!-- Waline CSS --> <link rel=stylesheet href=https://unpkg.com/@waline/client@v3/dist/waline.css> <!-- Waline JavaScript --> <script type=module>
    import { init } from 'https://unpkg.com/@waline/client@v3/dist/waline.js';
    init({
        el: '#waline',
        serverURL: 'https://waline-g9cd3pdxr-mark-watneys-projects-c5945306.vercel.app/',
    });
</script> <style>
.waline-comments-container {
    margin-top: 3rem;
    padding: 2rem 0;
    border-top: 1px solid var(--md-default-fg-color--lightest);
}

.waline-comments-header {
    margin-bottom: 2rem;
    text-align: center;
}

.waline-comments-header h3 {
    margin: 0 0 0.5rem 0;
    font-size: 1.5rem;
    font-weight: 600;
    color: var(--md-default-fg-color);
}

.waline-comments-header p {
    margin: 0;
    color: var(--md-default-fg-color--light);
    font-size: 0.9rem;
}

/* 加载状态 */
.waline-loading {
    text-align: center;
    padding: 2rem;
    color: var(--md-default-fg-color--light);
}

.loading-spinner {
    width: 40px;
    height: 40px;
    border: 3px solid var(--md-default-fg-color--lightest);
    border-top: 3px solid var(--md-primary-fg-color);
    border-radius: 50%;
    animation: spin 1s linear infinite;
    margin: 0 auto 1rem;
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

/* 错误状态 */
.waline-error {
    text-align: center;
    padding: 2rem;
    color: var(--md-default-fg-color--light);
}

.error-icon {
    font-size: 2rem;
    margin-bottom: 1rem;
}

.retry-btn {
    background-color: var(--md-primary-fg-color);
    color: var(--md-primary-bg-color);
    border: none;
    padding: 0.5rem 1rem;
    border-radius: 4px;
    cursor: pointer;
    margin-top: 1rem;
    font-size: 0.9rem;
}

.retry-btn:hover {
    background-color: var(--md-primary-fg-color--dark);
}

.details-btn {
    background-color: transparent;
    color: var(--md-default-fg-color--light);
    border: 1px solid var(--md-default-fg-color--lightest);
    padding: 0.5rem 1rem;
    border-radius: 4px;
    cursor: pointer;
    margin-top: 1rem;
    margin-left: 0.5rem;
    font-size: 0.9rem;
}

.details-btn:hover {
    background-color: var(--md-default-fg-color--lightest);
}

.error-details {
    margin-top: 1rem;
    padding: 1rem;
    background-color: var(--md-default-bg-color);
    border: 1px solid var(--md-default-fg-color--lightest);
    border-radius: 4px;
    text-align: left;
    font-size: 0.85rem;
    line-height: 1.5;
    color: var(--md-default-fg-color--light);
}

/* 适配网站主题色彩 */
.waline-comments-container .wl-panel {
    border-radius: 8px;
    border: 1px solid var(--md-default-fg-color--lightest);
    background-color: var(--md-default-bg-color);
}

.waline-comments-container .wl-editor {
    background-color: var(--md-default-bg-color);
    border: 1px solid var(--md-default-fg-color--lightest);
    border-radius: 6px;
}

.waline-comments-container .wl-input {
    background-color: var(--md-default-bg-color);
    border: 1px solid var(--md-default-fg-color--lightest);
    color: var(--md-default-fg-color);
}

.waline-comments-container .wl-input:focus {
    border-color: var(--md-primary-fg-color);
}

.waline-comments-container .wl-btn {
    background-color: var(--md-primary-fg-color);
    border-color: var(--md-primary-fg-color);
    color: var(--md-primary-bg-color);
}

.waline-comments-container .wl-btn:hover {
    background-color: var(--md-primary-fg-color--dark);
    border-color: var(--md-primary-fg-color--dark);
}

/* 响应式设计 */
@media screen and (max-width: 768px) {
    .waline-comments-container {
        padding: 1.5rem 0;
        margin-top: 2rem;
    }
    
    .waline-comments-header h3 {
        font-size: 1.3rem;
    }
}

/* 暗色主题适配 */
[data-md-color-scheme="slate"] .waline-comments-container {
    border-top-color: var(--md-default-fg-color--lightest);
}

[data-md-color-scheme="slate"] .waline-comments-container .wl-panel {
    background-color: var(--md-default-bg-color);
    border-color: var(--md-default-fg-color--lightest);
}

[data-md-color-scheme="slate"] .waline-comments-container .wl-editor {
    background-color: var(--md-default-bg-color);
    border-color: var(--md-default-fg-color--lightest);
}

[data-md-color-scheme="slate"] .waline-comments-container .wl-input {
    background-color: var(--md-default-bg-color);
    border-color: var(--md-default-fg-color--lightest);
    color: var(--md-default-fg-color);
}

[data-md-color-scheme="slate"] .loading-spinner {
    border-color: var(--md-default-fg-color--lightest);
    border-top-color: var(--md-primary-fg-color);
}

[data-md-color-scheme="slate"] .retry-btn {
    background-color: var(--md-primary-fg-color);
    color: var(--md-primary-bg-color);
}

[data-md-color-scheme="slate"] .details-btn {
    background-color: transparent;
    color: var(--md-default-fg-color--light);
    border-color: var(--md-default-fg-color--lightest);
}

[data-md-color-scheme="slate"] .details-btn:hover {
    background-color: var(--md-default-fg-color--lightest);
}

[data-md-color-scheme="slate"] .error-details {
    background-color: var(--md-default-bg-color);
    border-color: var(--md-default-fg-color--lightest);
    color: var(--md-default-fg-color--light);
}
</style> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> </main> <!--
  Copyright (c) 2016-2024 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
--> <!-- Footer --> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-footer-copyright__highlight> Copyright &copy; 2024-2025 柯懒不是柯南 </div> </div> <div class="md-footer-love md-typeset"> 一闪一闪亮晶晶，不及<span class=love-highlight>小亮</span><span class=love-heart>♥</span>照我心。To Li Liang </div> <div class=md-social> <a href=https://github.com/H0308 target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> <a href=https://www.help-doc.top/%E4%BD%9C%E8%80%85/%E4%BD%9C%E8%80%85.html target=_blank rel=noopener title=www.help-doc.top class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M433.754 420.445c-11.526 1.393-44.86-52.741-44.86-52.741 0 31.345-16.136 72.247-51.051 101.786 16.842 5.192 54.843 19.167 45.803 34.421-7.316 12.343-125.51 7.881-159.632 4.037-34.122 3.844-152.316 8.306-159.632-4.037-9.045-15.25 28.918-29.214 45.783-34.415-34.92-29.539-51.059-70.445-51.059-101.792 0 0-33.334 54.134-44.859 52.741-5.37-.65-12.424-29.644 9.347-99.704 10.261-33.024 21.995-60.478 40.144-105.779C60.683 98.063 108.982.006 224 0c113.737.006 163.156 96.133 160.264 214.963 18.118 45.223 29.912 72.85 40.144 105.778 21.768 70.06 14.716 99.053 9.346 99.704"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../..", "features": ["navigation.indexes", "navigation.prune", "navigation.tabs", "search.highlight", "content.code.copy"], "search": "../../../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}, "version": null}</script> <script src=../../../assets/javascripts/bundle.c8b220af.min.js></script> <script src=../../../javascripts/katex.min.js></script> <script src=../../../javascripts/other.min.js></script> <script src=../../../javascripts/copyright.min.js></script> <script src=https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/katex.min.js></script> <script src=https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/contrib/auto-render.min.js></script> <script src=../../../assets/javascripts/toggle-sidebar.js async></script> <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body> </html>